/*
LENS UI
8.0.4
Fri 02 Jul 2021 01:56:15 AM UTC
*/
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=274)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(283),n(33),n(305),n(307);var i=c(n(178)),a=c(n(38)),r=c(n(308)),o=c(n(309)),s=n(70),l=c(n(310));function c(e){return e&&e.__esModule?e:{default:e}}var u=n(2),d=n(32),p=window.angular.module("lens-ui",["ui.router","ngResource","ui.sortable","lens-coins","lens-patent-family"]);p.config([].concat(["$compileProvider","$sceDelegateProvider","$locationProvider"],[function(e,t,n){n.hashPrefix(""),!window.UI_CONFIG.hashRouting&&window.history.pushState&&n.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1),t.resourceUrlWhitelist(["self","https://www.lens.org/images/patent/**",window.UI_CONFIG.assetLocation+"/templates/**",window.UI_CONFIG.institutionDataLocation+"/**",window.UI_CONFIG.assetLocation+"/fonts/**"])}]));p.run([].concat(["$state","$q","$rootScope","$templateCache","SettingsService","PatentService","ScholarService","LinkedIdentityResource","SavedQueryResource","$transitions","$http","$cacheFactory"],[function(e,t,n,c,p,f,m,h,y,g,v,b){n.isAnon=window.UI_CONFIG.isAnon,n.user=window.UI_CONFIG.user,n.assetLocation=window.UI_CONFIG.assetLocation,n.institutionDataLocation=window.UI_CONFIG.institutionDataLocation,n.structuredSearchTips="ss-tips",n.stringify=function(e){return JSON.stringify(e)};new Date;var S=window.location.hostname.includes(".lens.org")?"https://static.lens.org/":"https://s3-us-west-2.amazonaws.com/tmp.lens.org/";if(n.imageUploadUrl=function(e){return S+e},n.userProfilePictureUrl=n.imageUploadUrl,window.templates.forEach((function(e){c.put(e.name,e.content)})),n.assetLocation.includes&&(n.assetLocation.includes("LENSUI-DEVELOP")||n.assetLocation.includes("LENSUI-FEAT"))){var C=n.assetLocation.split(/LENSUI\-[A-Z0-9]+\//);n.buildNumber="Build "+C[1]}n.template=function(e){return n.assetLocation+"/templates/"+e+".html"},n.message=function(e){return window.messages.prop(e)},v({url:"/lens/service/user",method:"GET",cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){n.user=_.extend(n.user,e.data)})),n.hasPermission=function(e){return n.user.authorities&&n.user.authorities.includes(e)},"www.lens.org"!==window.location.hostname&&"staging.lens.org"!==window.location.hostname&&"/lens/patcite"===window.location.pathname&&$("#main-content").html('\n            <h1>PatCite is not supported in this environment</h1>\n            <p>To use PatCite <a href="https://www.lens.org/lens/patcite">please visit our production website</a></p>\n        ').css("padding","1em"),p.fetch().then((function(e){n.settings=e}));var k=new u;n.releaseNotesModalVersion="6.1.0",n.hideTip=k.get("hideTip")||{},n.ignoreTip=function(e){n.hideTip=k.get("hideTip")||{},n.hideTip[e]=!0,k.set("hideTip",n.hideTip)},n.closeReleaseNotesModal=function(){n.ignoreTip(n.releaseNotesModalVersion)},n.editNote=function(e){n.noteExplorer.note=e},n.addNote=function(e){n.noteExplorer.note=e},n.resetNoteExplorer=function(){return n.noteExplorer={}},n.resetNoteExplorer(),n.dismissRegistrationWidget=function(){k.set("ignoreRegistrationWidget",!0),n.ignoreRegistrationWidget=!0},n.ignoreRegistrationWidget=k.get("ignoreRegistrationWidget"),n.keys=_.keys,n.isEmpty=_.isEmpty,n.isObject=_.isObject,n.max=Math.max,n.round=Math.round;var A=window.innerWidth<768;n.docPreviewCollapsed=A,n.sideTabsView=$.cookie("SIDE_TAB_VIEW")||(A?"st-collapse":"st-filters"),n.setSideTabsView=function(e){if("st-collapse"===e){if("st-collapse"===n.sideTabsView){e="st-filters";var t=$.cookie("PREVIOUS_SIDE_TAB_VIEW")||"st-filters";n.sideTabsView="st-collapse"===t?"st-filters":t,n.tempClassName="transition",setTimeout((function(){n.tempClassName=!1,n.$apply()}),500)}else n.sideTabsView=e,n.tempClassName="transition",setTimeout((function(){n.tempClassName=!1,n.$apply()}),500);setTimeout((function(){n.$broadcast("SIDE_TAB_LAYOUT_CHANGED"),n.$apply()}),10)}else"st-collapse"===n.sideTabsView&&setTimeout((function(){n.$broadcast("SIDE_TAB_LAYOUT_CHANGED"),n.$apply()}),10),$.cookie("PREVIOUS_SIDE_TAB_VIEW",e,{path:"/"}),n.sideTabsView=e,n.tempClassName="transition",setTimeout((function(){n.tempClassName=!1,n.$apply()}),500);$.cookie("SIDE_TAB_VIEW",e,{path:"/"}),n.$broadcast("SIDE_TAB_CHANGED")},setTimeout((function(){n.$broadcast("focus:landingFormInput")}),100);var w=function(){var e=$(document.getElementsByTagName("body")),t=[];return function e(n){n.data().hasOwnProperty("$scope")&&angular.forEach(n.data().$scope.$$watchers,(function(e){t.push(e)})),angular.forEach(n.children(),(function(t){e($(t))}))}(e),t.length};window.countWatchers=function(){alert(w())},n.countWatchers=function(){return localStorage.getItem("countWatchers")?w():null},window.searchTour=function(){if(window.scrollTo(0,0),(0,s.setParam)("preview",!0),0===window.location.pathname.indexOf("/lens/user"))return n.setSideTabsView("st-overview"),n.$apply(),void(0,l.default)();n.setSideTabsView("st-filters"),n.$apply(),setTimeout(r.default,200)},n.newSearchTour=function(){setTimeout(o.default,200)},window.addEventListener("setSideTabsView",(function(e){n.setSideTabsView(e),n.$apply()})),window.trySearchTour=function(){var e=window.location.pathname,t=k.get("oneTimeTour"),n=$.deparam(window.location.search)||{};t||n.dashboardId||!(e.indexOf("/lens/search")>=0||e.indexOf("/lens/scholar/search")>=0)||setTimeout((function(){window.searchTour(),k.set("oneTimeTour",!0)}),1e3)},n.resetSearchTour=function(){k.set("oneTimeTour",!1)},n.pinTab=k.get("pinTab")||{},n.togglePinTab=function(e){(n.pinTab[e]=!n.pinTab[e],k.set("pinTab",n.pinTab),n.pinTab[e])&&(new Notification).success("Tab Pinned. This will always appear in your sidebar tabs")},n.filterMapEmpty=function(e){return _.keys(e).filter((function(t){return void 0!==e[t]})).length>0},n.theme={dark:document.body.classList.contains("theme-high-contrast")};var P=_.debounce((function(){var e=window.innerWidth;n.breakpoints={isMobile:e<768,isTablet:e>768&&e<992,isDesktop:e>1200,isLowResDeskTop:e>1200&&e<1320,isHighResDesktop:e>1600},n.$digest()}),50);$(window).resize(P),P();var T=function(){localStorage.clear(),sessionStorage.clear(),alert("All local cache and settings cleared"),window.location.reload()};n.reset=T,window.reset=T,n.hideQueryDetails=k.get("hideQueryDetails"),n.toggleQueryDetails=function(){n.hideQueryDetails=!n.hideQueryDetails,k.set("hideQueryDetails",n.hideQueryDetails)},n.scrollToTop=function(){var e=document.getElementById("menu");(0,a.default)(e)},n.embedSort="+_score",n.embedUrl=function(e){var t=new URLSearchParams(window.location.search.slice(1));return t.set("orderBy",n.embedSort),t.set("preview",!1),window.location.origin+"/lens/embed/collection/"+e+"?"+t.toString()},n.currentPathAndSearch=function(){return window.location.pathname+window.location.search},n.facebookShareUrl=function(){return"https://www.facebook.com/sharer/sharer.php?u="+window.encodeURIComponent(n.shareUrl())},n.twitterShareUrl=function(){return"http://twitter.com/share?text=&url="+window.encodeURIComponent(n.shareUrl())},n.linkedInShareUrl=function(){return"https://www.linkedin.com/shareArticle?"+$.param({mini:!0,url:n.shareUrl(),title:"Lens.org",summary:""})},n.emailShareUrl=function(){return"mailto:?&subject=Lens.org&body="+window.encodeURIComponent(n.shareUrl())},n.shareUrl=function(){return n.shortUrl||window.location.href},n.copyShareUrl=function(){i.default.writeText(n.shareUrl()),n.shareUrlCopied=!0},n.shortUrl="",n.getShortUrl=function(){n.fetchingShortUrl=!0,fetch("https://link.lens.org",{method:"POST",body:window.location.href}).then((function(e){return e.text()})).then((function(e){console.log(e),n.fetchingShortUrl=!1,n.shortUrl=e,n.$digest()})).catch((function(e){console.warn(e),n.fetchingShortUrl=!1,n.$digest()}))},n.shareModal=function(){n.getShortUrl(),n.showSharingModal=!0},n.featurePane=1,n.version=d,n.collaborationPane=1,n.testimonialPane=1,n.usecasePane=2,n.mediaTab="library",n.sortMediaLibraryReverse=!1,n.institutionRequestForm={plan:"basic",institutionType:"public"},n.submitInstitutionRequestForm=function(){n.institutionRequestForm.invalid=!1;var e=n.institutionRequestForm,t=e.name,i=e.email,a=e.website,r=e.message,o=e.institutionName,s=e.plan,l=e.institutionType;if(e.agree){var c=fetch("/lens/feedback?returnTo=/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"type="+"subscription:institutional"+"&subject="+"Institution Information Request"+"&message="+("\n                Name: "+t+"\n                Email: "+i+"\n                Institution: "+o+"\n                Type: "+l+"\n                Website: "+a+"\n                Package: "+s+"\n                Message: "+r)+"&client=institution-form"});return n.institutionRequestSubmitting=!0,c.then((function(e){if(n.institutionRequestSubmitting=!1,200!==e.status)throw new Error("Request Failed"+e.data);n.showRequestModal=!1,n.institutionRequestSuccess=!0,n.$digest(),(new Notification).success("Request Received. Thank you, we will be in touch!",{life:8e3})})).catch((function(e){console.log(e),(new Notification).error(e)}))}n.institutionRequestForm.invalid=!0},n.submitRegistration=function(e){if(!n.termsAndConditions)return e.preventDefault(),n.showTermsWarning=!0,!1},n.claimAuthorship=function(t){var i=t||n.authorship,a=i.lensId,r=i.author;n.claimingAuthorship=!0,console.log(t),fetch("/lens/service/scholar/"+a+"/authorship",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.display_name})}).then((function(t){(n.authorship=null,n.claimingAuthorship=!1,200===t.status)?((new Notification).notify("Authorship Recorded"),n.$broadcast("REFRESH_WORK_AREA_SUMMARY"),m.clearCache(),e.reload()):t.json().then((function(e){console.log(e),(new Notification).error(e.message||"Could not record Authorship"),n.$digest()}))})).catch((function(e){console.error(e),n.claimingAuthorship=!1,(new Notification).error("Could not record Authorship")}))},n.removeAuthorship=function(t){t||(t=n.authorship.id);var i=new Notification;console.log(n.authorship);var a=fetch("/lens/service/authorship/"+t,{method:"DELETE"});return n.removingAuthorship=!0,a.then((function(t){console.log(t),200===t.status&&(i.notify("Authorship Removed"),m.clearCache()),n.removingAuthorship=!1,n.authorship=null,n.$broadcast("REFRESH_WORK_AREA_SUMMARY"),n.$broadcast("HIDE_PROMPT_DELETE_AUTHORSHIP",!0),e.reload()})).catch((function(e){n.removingAuthorship=!1,console.error(e),i.error("Could not remove Authorship"),m.clearCache()}))},n.claimInventorship=function(e){n.claimingInventorship=!0;var t=e||n.inventorship,i=t.lensId,a=t.inventor;return fetch("/lens/service/patent-entity/"+i+"/inventorship",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"lensId="+i+"&name="+a.name.value}).then((function(e){return e.json()})).then((function(e){return console.log(e),n.claimingInventorship=!1,n.inventorship=null,n.$digest(),(new Notification).notify("Inventorship Recorded"),n.$broadcast("REFRESH_WORK_AREA_SUMMARY"),f.clearCache(),setTimeout((function(){window.location.reload()}),300),e})).catch((function(e){console.error(e),n.claimingInventorship=!1,(new Notification).error("Could not record Inventorship")}))},n.removeInventorship=function(e){return e||(e=n.inventorship.id),console.log(n.inventorship),n.removingInventorship=!0,fetch("/lens/service/patent-entity/inventorship/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return console.log(e),n.removingInventorship=!1,n.inventorship=null,n.$digest(),(new Notification).notify("Inventorship Removed"),n.$broadcast("REFRESH_WORK_AREA_SUMMARY"),f.clearCache(),setTimeout((function(){window.location.reload()}),300),e})).catch((function(e){n.removingInventorship=!1,console.error(e),(new Notification).notify("Inventorship Removed"),f.clearCache(),setTimeout((function(){window.location.reload()}),300)}))},n.inventorshipOrcidSync=function(){var e=new Notification;n.inventorshipSyncing=!0;var i=fetch("/lens/service/patent-entity/inventorship/orcid-sync");t.when(i).then((function(t){if(n.inventorshipSyncing=!1,200!==t.status&&202!==t.status)return t.json().then((function(t){e.error(t.message||"Inventorship Sync Failed")}));e.notify("Inventorship Sync Successful")})).catch((function(t){n.inventorshipSyncing=!1,console.error(t),e.error("Inventorship Sync Failed")}))},n.authorshipOrcidSync=function(){var e=new Notification;n.authorshipSyncing=!0;var i=fetch("/lens/service/authorship/orcid-sync");t.when(i).then((function(t){if(n.authorshipSyncing=!1,200!==t.status&&202!==t.status)return t.json().then((function(t){e.error(t.message||"Authorship Sync Failed")}));e.notify("Authorship Sync Successful")})).catch((function(t){n.authorshipSyncing=!1,console.error(t),e.error("Authorship Sync Failed")}))},$("body").on("click",".login-link",(function(e){e.preventDefault(),n.showLoginModal=!0,n.$apply()})),n.login=function(){var e=new URLSearchParams,t=document.getElementById("loginForm"),i=!0,a=!1,r=void 0;try{for(var o,s=new FormData(t)[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;e.append(l[0],l[1])}}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}n.loginSubmitting=!0,fetch("/lens/user/login",{method:"POST",body:e}).then((function(e){if(console.log(e),e.redirected&&e.url.endsWith("?e=invalid"))throw new Error("invalid");return e.text()})).then((function(e){console.log(e),n.showLoginModal=!1,n.isAnon=!1,n.loginSubmitting=!1,$("#menu .user-reg").text("Logged In"),n.$digest()})).catch((function(e){console.error(e),n.loginError=e.message,n.loginSubmitting=!1,n.$digest()}))},n.$on("REFRESH_WORK_AREA_SUMMARY",(function(){b.get("$http").remove("/lens/api/user/work-area/summary")})),window.UI_CONFIG.isAnon||v.get("/lens/service/user").then((function(e){var t=e.data;if(t.id!==window.UI_CONFIG.user.id){n.loggedOutWarning=!0,n.user=t,n.isAnon=!0;var i=$('<a href="/lens/user/login">Sign in</a>');$('#menu a[href="/lens/user/profile"]').closest("li").html(i)}else{var a=h.query();a.$promise.then((function(){var e=a.filter((function(e){return"ORCID"===e.provider&&e.active}));n.user.hasLinkedOrcid=e.length>0}))}})),g.onStart({from:"searchEmbed"},(function(t){t.abort();var n=e.href(t.to().name,t.params(),{absolute:!0});window.open(n,"_parent")}));var x=new Date;g.onSuccess({},(function(e){var t=e.from().name,i=e.to().name;!t&&window.moment(x).diff()<-5e3&&_.defer((function(){window.location.reload()})),e.to().title&&(window.document.title=e.to().title),n.currentState=e.to(),_.defer((function(){$("input[name=redirectTarget]").val(window.location.href)})),_.defer((function(){$("#q").trigger("keyup")}));var a=/article\.citations|viewReport|editReport|orcidProfile|userProfile/;_.isArray(t.match(a))&&_.isArray(i.match(a))||window.scrollTo(0,0),n.shortUrl="",window.initSticky();var r=window.location.href;_.defer((function(){var e=window._paq;e&&(e.push(["setReferrerUrl",r]),e.push(["setCustomUrl",window.location.href]),e.push(["trackPageView"]))}))})),n.releaseStats=window.releaseStats,n.copyToClipboard=function(e){i.default.writeText(e)},n.getCurrentUrl=function(){return window.encodeURIComponent(window.location.href)},n.hoverAuthor=function(e){var t=e.affiliationIndices.split(",").map((function(e){return e.trim()}));n.highlightedInstitutions=t.map((function(e){return"highlight-institution-"+e})).join(" ")},n.institutionClasses=function(e){var t={};return e.affiliationIndices.split(",").map((function(e){return e.trim()})).forEach((function(e){t["institution-"+e]=!0})),t},n.searchSupport=function(){if(n.noSupportItems=!1,n.supportSearchInput){var e="https://cambia.org/help/wp-json/wp/v2/ht_kb/?search="+n.supportSearchInput;n.searchingSupport=!0,fetch(e).then((function(e){return e.json()})).then((function(e){n.supportSearchItems=e.filter((function(e){return!e["ht-kb-category"].includes(54)})),(n.isAnon||"INSTITUTIONAL"!==n.user.accountType)&&(n.supportSearchItems=e.filter((function(e){return!e["ht-kb-category"].includes(56)}))),n.noSupportItems=0===n.supportSearchItems.length,n.$digest()})).catch((function(e){console.error(e)})).finally((function(){n.searchingSupport=!1}))}else n.supportSearchItems=[]},n.getSupportPreview=function(e){if(!e.preview){var t=$("<div>");t.html(e.content.rendered);var n=t.find("video"),i=n.attr("src"),a=n.attr("poster"),r=t.html();i&&(e.preview={src:i,poster:a,html:r})}},$(document).on("keydown",(function(e){var t=$(document.activeElement),i="textarea"===t.get(0).tagName.toLowerCase()||"input"===t.get(0).tagName.toLowerCase(),a=document.querySelector(".search-bar-input #q");!i&&191===e.keyCode&&a?(e.preventDefault(),a.focus()):!i&&"`"===e.key&&e.ctrlKey?(e.preventDefault(),n.devMenu=!n.devMenu,n.$apply()):!i&&"b"===e.key&&e.ctrlKey&&(e.preventDefault(),n.setSideTabsView("st-collapse"===n.sideTabsView?"st-overview":"st-collapse"))})),n.searchBarPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(e.collectionId)return"Search within Collection";if((e.userId||e.orcid)&&t.getName&&t.getName()&&("scholar"===e.type||"patent"===e.type)){var i="scholar"===e.type?"Works":"Patents";return"Search "+i+" of "+t.getName()}return e.q||n.totalFilterCount?"Refine your search":"Explore Science, Technology & Innovation..."},n.linkToOrcid=function(){$.oauthpopup({path:"/lens/oauth/orcid",tryResize:!1,callback:function(){window.location.reload()}})},n.patentTsunamiQuery={q:'"covid-19" OR "sars-cov2"',sat:["N","P"]},n.receivePatentTsunamiAlerts=function(){var e=new Notification;n.patentTsunamiLoading=!0,n.patentTsunamiError=!1;f.search(n.patentTsunamiQuery,{size:0}).then((function(t){var i=new y;i.queryId=t.queryId,i.title="COVID Patent Tsunami",i.published=!1,i.notificationsEnabled=!0,i.description="Patents relevant to COVID vaccines. This saved query has been created because you requested updates from our home page. If you no longer want to receive notifications simply delete this query.",i.queryType="PATENT",i.$save().then((function(){e.notify("Thanks! You will be notified when new patents are added"),n.patentTsunamiSuccess=!0,n.patentTsunamiLoading=!1})).catch((function(t){console.error(t),e.error("Could not save Query. Please try again"),n.patentTsunamiLoading=!1,n.patentTsunamiError=!0}))})).catch((function(t){console.error(t),e.error("Could not save Query. Please try again"),n.patentTsunamiLoading=!1,n.patentTsunamiError=!0,n.$digest()}))}}])),t.default=p},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(4),r=n(7);t.root="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;var o=t.root.angular||{};function s(e,t){return-1!==e.indexOf(t)}function l(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}function c(e,t){return e.push(t),t}function u(e,t){var n={};for(var i in e)-1!==t.indexOf(i)&&(n[i]=e[i]);return n}function d(e,n,a){return a=a||(i.isArray(e)?[]:{}),t.forEach(e,(function(e,t){return a[t]=n(e,t)})),a}function p(e,t){return e.push(t),e}function f(e,t){return void 0===t&&(t="assert failure"),function(n){var a=e(n);if(!a)throw new Error(i.isFunction(t)?t(n):t);return a}}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce((function(e,t){return Math.min(t.length,e)}),9007199254740991),i=[],a=function(t){switch(e.length){case 1:i.push([e[0][t]]);break;case 2:i.push([e[0][t],e[1][t]]);break;case 3:i.push([e[0][t],e[1][t],e[2][t]]);break;case 4:i.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:i.push(e.map((function(e){return e[t]})))}},r=0;r<n;r++)a(r);return i}function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i=Object.keys(n),a=0;a<i.length;a++)e[i[a]]=n[i[a]]}return e}function y(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var r,o,s=[e,t];if(a.all(i.isArray)(s))return o=t,(r=e).length===o.length&&m(r,o).reduce((function(e,t){return e&&y(t[0],t[1])}),!0);if(a.all(i.isDate)(s))return e.getTime()===t.getTime();if(a.all(i.isRegExp)(s))return e.toString()===t.toString();if(a.all(i.isFunction)(s))return!0;if([i.isFunction,i.isArray,i.isDate,i.isRegExp].map(a.any).reduce((function(e,t){return e||!!t(s)}),!1))return!1;var l={};for(var c in e){if(!y(e[c],t[c]))return!1;l[c]=!0}for(var c in t)if(!l[c])return!1;return!0}t.fromJson=o.fromJson||JSON.parse.bind(JSON),t.toJson=o.toJson||JSON.stringify.bind(JSON),t.forEach=o.forEach||function(e,t,n){if(i.isArray(e))return e.forEach(t,n);Object.keys(e).forEach((function(n){return t(e[n],n)}))},t.extend=Object.assign||h,t.equals=o.equals||y,t.identity=function(e){return e},t.noop=function(){},t.createProxyFunctions=function(e,t,n,i,a){void 0===a&&(a=!1);var r=function(t){return e()[t].bind(n())};return(i=i||Object.keys(e())).reduce((function(e,n){var i;return e[n]=a?(i=n,function(){return t[i]=r(i),t[i].apply(null,arguments)}):r(n),e}),t)},t.inherit=function(e,n){return t.extend(Object.create(e),n)},t.inArray=a.curry(s),t._inArray=s,t.removeFrom=a.curry(l),t._removeFrom=l,t.pushTo=a.curry(c),t._pushTo=c,t.deregAll=function(e){return e.slice().forEach((function(n){"function"==typeof n&&n(),t.removeFrom(e,n)}))},t.defaults=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=n.concat({}).reverse(),r=t.extend.apply(null,a);return t.extend({},r,u(e||{},Object.keys(r)))},t.mergeR=function(e,n){return t.extend(e,n)},t.ancestors=function(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n},t.pick=u,t.omit=function(e,n){return Object.keys(e).filter(a.not(t.inArray(n))).reduce((function(t,n){return t[n]=e[n],t}),{})},t.pluck=function(e,t){return d(e,a.prop(t))},t.filter=function(e,n){var a=i.isArray(e),r=a?[]:{},o=a?function(e){return r.push(e)}:function(e,t){return r[t]=e};return t.forEach(e,(function(e,t){n(e,t)&&o(e,t)})),r},t.find=function(e,n){var i;return t.forEach(e,(function(e,t){i||n(e,t)&&(i=e)})),i},t.mapObj=d,t.map=d,t.values=function(e){return Object.keys(e).map((function(t){return e[t]}))},t.allTrueR=function(e,t){return e&&t},t.anyTrueR=function(e,t){return e||t},t.unnestR=function(e,t){return e.concat(t)},t.flattenR=function(e,n){return i.isArray(n)?e.concat(n.reduce(t.flattenR,[])):p(e,n)},t.pushR=p,t.uniqR=function(e,n){return t.inArray(e,n)?e:p(e,n)},t.unnest=function(e){return e.reduce(t.unnestR,[])},t.flatten=function(e){return e.reduce(t.flattenR,[])},t.assertPredicate=f,t.assertMap=f,t.assertFn=f,t.pairs=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.arrayTuples=m,t.applyPairs=function(e,t){var n,a;if(i.isArray(t)&&(n=t[0],a=t[1]),!i.isString(n))throw new Error("invalid parameters to applyPairs");return e[n]=a,e},t.tail=function(e){return e.length&&e[e.length-1]||void 0},t.copy=function(e,n){return n&&Object.keys(n).forEach((function(e){return delete n[e]})),n||(n={}),t.extend(n,e)},t._extend=h,t.silenceUncaughtInPromise=function(e){return e.catch((function(e){return 0}))&&e},t.silentRejection=function(e){return t.silenceUncaughtInPromise(r.services.$q.reject(e))}}).call(this,n(48))},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=n(32).trim(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&(t=a+":"+t),this.prefix=t,this.store={},this.withPrefix=function(e){return this.prefix&&(e=this.prefix+"."+e),e}}return i(e,[{key:"get",value:function(e){e=this.withPrefix(e);try{return localStorage.getItem("IGNORE_LENS_CACHE")?this.store[e]:JSON.parse(window.localStorage.getItem(e))}catch(t){return this.store[e]}}},{key:"set",value:function(e,t){e=this.withPrefix(e);try{return window.localStorage.setItem(e,JSON.stringify(t))}catch(n){this.store[e]=t}}},{key:"remove",value:function(e){e=this.withPrefix(e);try{return window.localStorage.removeItem(e)}catch(t){delete this.store[e]}}}]),e}();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(92),r=Object.prototype.toString,o=function(e){return function(t){return typeof t===e}};t.isUndefined=o("undefined"),t.isDefined=i.not(t.isUndefined),t.isNull=function(e){return null===e},t.isNullOrUndefined=i.or(t.isNull,t.isUndefined),t.isFunction=o("function"),t.isNumber=o("number"),t.isString=o("string"),t.isObject=function(e){return null!==e&&"object"==typeof e},t.isArray=Array.isArray,t.isDate=function(e){return"[object Date]"===r.call(e)},t.isRegExp=function(e){return"[object RegExp]"===r.call(e)},t.isState=a.StateObject.isState,t.isInjectable=function(e){if(t.isArray(e)&&e.length){var n=e.slice(0,-1),a=e.slice(-1);return!(n.filter(i.not(t.isString)).length||a.filter(i.not(t.isFunction)).length)}return t.isFunction(e)},t.isPromise=i.and(t.isObject,i.pipe(i.prop("then"),t.isFunction))},function(e,t,n){"use strict";function i(e){var t=[].slice.apply(arguments,[1]),n=e.length;function i(t){return t.length>=n?e.apply(null,t):function(){return i(t.concat([].slice.apply(arguments)))}}return i(t)}function a(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(null,[].slice.call(arguments).reverse())}Object.defineProperty(t,"__esModule",{value:!0}),t.curry=i,t.compose=a,t.pipe=r,t.prop=function(e){return function(t){return t&&t[e]}},t.propEq=i((function(e,t,n){return n&&n[e]===t})),t.parse=function(e){return r.apply(null,e.split(".").map(t.prop))},t.not=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},t.and=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)&&t.apply(null,n)}},t.or=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.apply(null,n)||t.apply(null,n)}},t.all=function(e){return function(t){return t.reduce((function(t,n){return t&&!!e(n)}),!0)}},t.any=function(e){return function(t){return t.reduce((function(t,n){return t||!!e(n)}),!1)}},t.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},t.eq=function(e){return function(t){return e===t}},t.val=function(e){return function(){return e}},t.invoke=function(e,t){return function(n){return n[e].apply(n,t)}},t.pattern=function(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=null,r={position:"bottom-left",appendTo:".jgrowl-container",theme:"jGrowl-notification",life:3500,closeDuration:0,openDuration:0},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(".jgrowl-container").length||$("body").prepend($('<div class="jgrowl-container"></div>'))}return i(e,[{key:"notify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=_.extend(_.clone(r),t),$.jGrowl(e,t),$(".jGrowl").addClass("animated slideInUp"),$(".jGrowl").removeClass("slideOutDown"),clearTimeout(a),a=setTimeout((function(){$(".jGrowl").removeClass("slideInUp"),$(".jGrowl").addClass("animated slideOutDown")}),t.life)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(e,_.extend(t,{themeState:"info"}))}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(e,_.extend(t,{themeState:"success"}))}},{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(e,_.extend(t,{themeState:"warning"}))}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.notify(e,_.extend(t,{themeState:"error"}))}}]),e}();window.Notification=o,e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}};var i={$q:void 0,$injector:void 0};t.services=i},function(e,t,n){var i=n(54);e.exports=function(e,t,n){var a=null==e?void 0:i(e,t);return void 0===a?n:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jurisdictionMap=t.patentMetricAggTooltips=t.defaultListView=t.defaultTableColumns=t.authorFields=t.sequenceTypeLabels=t._searchParamKeys=t.patseqFilters=t.scholarAnalysisViews=t.dateFilterKeys=t.openAccessFilterKeys=t.subjectMatterFilterKeys=t.filterKeys=t.flags=t.patentClassificationKeys=t.patentAnalysisViews=t.patentFacetKeys=t.presetDashboards=t.fieldsList=t.fieldsMapByType=t.fieldsMap=t.fieldGroups=t.fieldsByFilterName=t.Fields=t.CountryGroupingsLabels=t.CountryGroupings=void 0;var i=s(n(100)),a=s(n(26)),r=n(207),o=n(316);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CountryGroupings={OECD:o.OECD,BRICS:o.BRICS,EUROPEAN_UNION:o.EUROPEAN_UNION,G20:o.G20,G7:o.G7};_.keys(l).forEach((function(e){l[e]=l[e].map((function(e){return a.default.codes[e]}))}));t.CountryGroupingsLabels={OECD:"Organisation for Economic Co-operation and Development (OECD)",BRICS:"BRICS (Brazil, Russia, India, China and South Africa)",EUROPEAN_UNION:"European Union (EU)",G20:"Group of Twenty (G20)",G7:"Group of Seven (G7)"};var c=t.Fields=n(51),u=t.fieldsByFilterName={patent:{},scholar:{}},d=t.fieldGroups={patent:{},scholar:{}},p=t.fieldsMap={},f=t.fieldsMapByType={patent:{},scholar:{}},m=t.fieldsList={patent:[{key:"",label:"All Fields",fieldOrder:-1,excludedSearch:!1,excludedAnalysis:!0}],scholar:[{key:"",label:"All Fields",fieldOrder:-1,excludedSearch:!1,excludedAnalysis:!0}]};_.keys(r.multiFields.PATENT).forEach((function(e){m.patent.push({label:e,key:e,fieldOrder:0,excludedSearch:!1})})),_.keys(r.multiFields.SCHOLAR).forEach((function(e){m.scholar.push({label:e,key:e,fieldOrder:0,excludedSearch:!1})})),c.sort((function(e,t){return e.fieldOrder-t.fieldOrder})).forEach((function(e){var t=e.type.toLowerCase();p[e.key]=e,f[t][e.key]=e,e.excludedSearch||m[t].push(e),e.filterName&&(u[t][e.filterName]=e),d[t][e.group]||(d[t][e.group]=[]),d[t][e.group].push(e)}));t.presetDashboards=_.uniqBy(c.filter((function(e){return e.quickAnalysisDashboardId})),(function(e){return e.quickAnalysisDashboardId})),t.patentFacetKeys=["jurisdiction","applicant.name.exact","inventor.name.exact","owner_all.name.exact","agent.name.exact","legal_status.patent_status","publication_type","reference_cited.npl.record_lens_id","sequence.organism.name.exact"],t.patentAnalysisViews={"applicant.name.exact":"logo-grid",dates:"line","legal_status.patent_status":"bar",jurisdiction:"map","inventor.name.exact":"bar",publication_type:"bar"},t.patentClassificationKeys=["class_cpc.symbol","class_ipcr.symbol","class_national.symbol"],t.flags=["is_open_access","has_abstract","has_fulltext","has_chemical","has_funding","has_clinical_trial","has_affiliation","has_orcid","is_referenced_by_patent","is_referenced_by_scholarly","in_analytics_set"],t.filterKeys=["author.display_name.keyword","author.affiliation.name.keyword","author.affiliation.grid.address.country_code","citation_id_type","funding.organisation.keyword","source.title.keyword","conference.name.keyword","publication_type","source.publisher.keyword"],t.subjectMatterFilterKeys=["source.asjc_subject.keyword","mesh_term.mesh_heading","field_of_study","chemical.substance_name.keyword","keyword"],t.openAccessFilterKeys=["open_access.colour","open_access.license"],t.dateFilterKeys=["publishedYear.from","publishedYear.to","publishedDate.from","publishedDate.to","filingDate.from","filingDate.to","earliestPriorityDate.from","earliestPriorityDate.to"],t.scholarAnalysisViews={"author.affiliation.name.keyword":"logo-grid",dates:"line","author.display_name_orcid":"profiles","author.affiliation.grid.address.country_code":"map","author.display_name.keyword":"bar",field_of_study:"bar"};var h=t.patseqFilters=["pse.species","pse.assemblyVersion","pse.ref","pse.d","pse.start","pse.end","pse.doctype","pse.inclaims","pse.similarity","pse.coverage"];t._searchParamKeys=_.concat(["p","n","s","d","f","e","l","authorCount.gte","authorCount.lte","authorField","authorship","bioc","biof","collectionEventId","collectionId","collectionIntersectionIds","dashboardId","dateFilterField","expandByExtendedFamily","familyId","extendedFamilyOf","groupByExtendedFamily","inventorship","inventorshipId","joinCollectionId","lensIdCreated.from","lensIdCreated.to","lensIdCreatedAfter","newDashboard","newMatchDate.from","newMatchDate.to","orcids","orderBy","patentQueryId","presentation","preview","profile.orcidId","profile.userId","queryId","regex","sat","scholarQueryId","seqFingerprint","stemmed","structuredView","tags","useAuthorId"],h),t.sequenceTypeLabels={N:"Nucleotide",P:"Amino Acids"},t.authorFields=["author.display_name_id","author_first.display_name_id","author_last.display_name_id","author.display_name.keyword","author_first.display_name.keyword","author_last.display_name.keyword"],t.defaultTableColumns={identifiers:!0,title:!0,journal:!0,author:!0,published:!0,applicants:!0,filed:!0,family:!0},t.defaultListView={dockey:!0,doctype:!0,family:!0,legal:!0,application:!0,published:!0,priority:!0,granted:!0,filed:!0,applicants:!0,inventors:!0,owners:!0,citations:!0,flags:!0,snippet:!0,pubtype:!0,openaccess:!0,authors:!0,journal:!0,lensid:!0,identifiers:!0},t.patentMetricAggTooltips={"Cites Patents":"Number of patent documents that cite other patents","Cited By Patents":"The number of patent documents in the result set that are cited by other patent documents.","Patent Citations":"Sum of cited by patent count for all cited documents in the result set","Cites NPL":"The number of patent documents in the result set that cite non-patent literature","NPL Citations":"The sum of cited NPL count for all patent documents in the result set that cite non-patent literature","Resolved NPL Citations":"The sum of cites resolved scholarly works count for all patent documents in the result set that cite non-patent literature that have been resolved to a scholarly work Lens Id"},t.jurisdictionMap={counts:i.default.jurisdiction.buckets.reduce((function(e,t){var n,i,r,o=a.default.country(t.key),s=o?o.name:t.key;return _.extend(e,(n={},i=s,r=t.doc_count,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n))}),{})}},function(e,t,n){var i=n(74),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();e.exports=r},,function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(1)),i(n(7)),i(n(93)),i(n(4)),i(n(3)),i(n(94)),i(n(13)),i(n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(39),r=n(1),o=n(4),s=n(65),l=n(50);function c(e){var t=u(e),n=t.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:t,a=e.name||"";return a&&i.match(/function \(/)?"function "+a+i.substr(9):i}function u(e){var t=i.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}t.maxLength=function(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."},t.padString=function(e,t){for(;t.length<e;)t+=" ";return t},t.kebobString=function(e){return e.replace(/^([A-Z])/,(function(e){return e.toLowerCase()})).replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},t.functionToString=c,t.fnToString=u;var d=null;t.stringify=function(e){var t=[];function n(e){if(i.isObject(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return function(e){var t=a.Rejection.isRejectionPromise;return(d=d||o.pattern([[o.not(i.isDefined),o.val("undefined")],[i.isNull,o.val("null")],[i.isPromise,o.val("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[o.is(a.Rejection),o.invoke("toString")],[o.is(s.Transition),o.invoke("toString")],[o.is(l.Resolvable),o.invoke("toString")],[i.isInjectable,c],[o.val(!0),r.identity]]))(e)}(e)}return JSON.stringify(e,(function(e,t){return n(t)})).replace(/\\"/g,'"')},t.beforeAfterSubstr=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}},t.hostRegex=new RegExp("^(?:[a-z]+:)?//[^/]+/"),t.stripLastPathElement=function(e){return e.replace(/\/[^/]*$/,"")},t.splitHash=t.beforeAfterSubstr("#"),t.splitQuery=t.beforeAfterSubstr("?"),t.splitEqual=t.beforeAfterSubstr("="),t.trimHashVal=function(e){return e?e.replace(/^#/,""):""},t.splitOnDelim=function(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(r.identity)}},t.joinNeighborsR=function(e,t){return i.isString(r.tail(e))&&i.isString(t)?e.slice(0,-1).concat(r.tail(e)+t):r.pushR(e,t)}},function(e,t,n){var i=n(113),a=n(116);e.exports=function(e,t){var n=a(e,t);return i(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return o})),n.d(t,"creator",(function(){return i.a})),n.d(t,"local",(function(){return l})),n.d(t,"matcher",(function(){return u.a})),n.d(t,"mouse",(function(){return m})),n.d(t,"namespace",(function(){return h.a})),n.d(t,"namespaces",(function(){return y.a})),n.d(t,"clientPoint",(function(){return f})),n.d(t,"select",(function(){return r})),n.d(t,"selectAll",(function(){return g})),n.d(t,"selection",(function(){return a.b})),n.d(t,"selector",(function(){return v.a})),n.d(t,"selectorAll",(function(){return b.a})),n.d(t,"style",(function(){return S.b})),n.d(t,"touch",(function(){return _})),n.d(t,"touches",(function(){return C})),n.d(t,"window",(function(){return k.a})),n.d(t,"event",(function(){return d.c})),n.d(t,"customEvent",(function(){return d.a}));var i=n(30),a=n(17),r=function(e){return"string"==typeof e?new a.a([[document.querySelector(e)]],[document.documentElement]):new a.a([[e]],a.c)},o=function(e){return r(Object(i.a)(e).call(document.documentElement))},s=0;function l(){return new c}function c(){this._="@"+(++s).toString(36)}c.prototype=l.prototype={constructor:c,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var u=n(90),d=n(37),p=function(){for(var e,t=d.c;e=t.sourceEvent;)t=e;return t},f=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]},m=function(e){var t=p();return t.changedTouches&&(t=t.changedTouches[0]),f(e,t)},h=n(46),y=n(31),g=function(e){return"string"==typeof e?new a.a([document.querySelectorAll(e)],[document.documentElement]):new a.a([null==e?[]:e],a.c)},v=n(45),b=n(89),S=n(91),_=function(e,t,n){arguments.length<3&&(n=t,t=p().changedTouches);for(var i,a=0,r=t?t.length:0;a<r;++a)if((i=t[a]).identifier===n)return f(e,i);return null},C=function(e,t){null==t&&(t=p().touches);for(var n=0,i=t?t.length:0,a=new Array(i);n<i;++n)a[n]=f(e,t[n]);return a},k=n(47)},function(e,t,n){"use strict";n.d(t,"c",(function(){return W})),n.d(t,"a",(function(){return J}));var i=n(45),a=n(89),r=n(90),o=function(e){return new Array(e.length)};function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function l(e,t,n,i,a,r){for(var o,l=0,c=t.length,u=r.length;l<u;++l)(o=t[l])?(o.__data__=r[l],i[l]=o):n[l]=new s(e,r[l]);for(;l<c;++l)(o=t[l])&&(a[l]=o)}function c(e,t,n,i,a,r,o){var l,c,u,d={},p=t.length,f=r.length,m=new Array(p);for(l=0;l<p;++l)(c=t[l])&&(m[l]=u="$"+o.call(c,c.__data__,l,t),u in d?a[l]=c:d[u]=c);for(l=0;l<f;++l)(c=d[u="$"+o.call(e,r[l],l,r)])?(i[l]=c,c.__data__=r[l],d[u]=null):n[l]=new s(e,r[l]);for(l=0;l<p;++l)(c=t[l])&&d[m[l]]===c&&(a[l]=c)}function u(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var d=n(46);function p(e){return function(){this.removeAttribute(e)}}function f(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m(e,t){return function(){this.setAttribute(e,t)}}function h(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function y(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function g(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var v=n(91);function b(e){return function(){delete this[e]}}function S(e,t){return function(){this[e]=t}}function _(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function C(e){return e.trim().split(/^|\s+/)}function k(e){return e.classList||new A(e)}function A(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function w(e,t){for(var n=k(e),i=-1,a=t.length;++i<a;)n.add(t[i])}function P(e,t){for(var n=k(e),i=-1,a=t.length;++i<a;)n.remove(t[i])}function T(e){return function(){w(this,e)}}function x(e){return function(){P(this,e)}}function M(e,t){return function(){(t.apply(this,arguments)?w:P)(this,e)}}A.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function I(){this.textContent=""}function R(e){return function(){this.textContent=e}}function E(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function D(){this.innerHTML=""}function L(e){return function(){this.innerHTML=e}}function N(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function O(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var B=n(30);function F(){return null}function G(){var e=this.parentNode;e&&e.removeChild(this)}function H(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var K=n(37),$=n(47);function q(e,t,n){var i=Object($.a)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function z(e,t){return function(){return q(this,e,t)}}function V(e,t){return function(){return q(this,e,t.apply(this,arguments))}}var W=[null];function J(e,t){this._groups=e,this._parents=t}function Z(){return new J([[document.documentElement]],W)}J.prototype=Z.prototype={constructor:J,select:function(e){"function"!=typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var o,s,l=t[r],c=l.length,u=a[r]=new Array(c),d=0;d<c;++d)(o=l[d])&&(s=e.call(o,o.__data__,d,l))&&("__data__"in o&&(s.__data__=o.__data__),u[d]=s);return new J(a,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Object(a.a)(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s,l=t[o],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(e.call(s,s.__data__,u,l)),r.push(s));return new J(i,r)},filter:function(e){"function"!=typeof e&&(e=Object(r.a)(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=i[a]=[],u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&c.push(o);return new J(i,this._parents)},data:function(e,t){if(!e)return y=new Array(this.size()),p=-1,this.each((function(e){y[++p]=e})),y;var n,i=t?c:l,a=this._parents,r=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=r.length,s=new Array(o),u=new Array(o),d=new Array(o),p=0;p<o;++p){var f=a[p],m=r[p],h=m.length,y=e.call(f,f&&f.__data__,p,a),g=y.length,v=u[p]=new Array(g),b=s[p]=new Array(g);i(f,m,v,b,d[p]=new Array(h),y,t);for(var S,_,C=0,k=0;C<g;++C)if(S=v[C]){for(C>=k&&(k=C+1);!(_=b[k])&&++k<g;);S._next=_||null}}return(s=new J(s,a))._enter=u,s._exit=d,s},enter:function(){return new J(this._enter||this._groups.map(o),this._parents)},exit:function(){return new J(this._exit||this._groups.map(o),this._parents)},join:function(e,t,n){var i=this.enter(),a=this,r=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(a=t(a)),null==n?r.remove():n(r),i&&a?i.merge(a).order():a},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,a=n.length,r=Math.min(i,a),o=new Array(i),s=0;s<r;++s)for(var l,c=t[s],u=n[s],d=c.length,p=o[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<i;++s)o[s]=t[s];return new J(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,a=e[t],r=a.length-1,o=a[r];--r>=0;)(i=a[r])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=u);for(var n=this._groups,i=n.length,a=new Array(i),r=0;r<i;++r){for(var o,s=n[r],l=s.length,c=a[r]=new Array(l),d=0;d<l;++d)(o=s[d])&&(c[d]=o);c.sort(t)}return new J(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,r=i.length;a<r;++a){var o=i[a];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var a,r=t[n],o=0,s=r.length;o<s;++o)(a=r[o])&&e.call(a,a.__data__,o,r);return this},attr:function(e,t){var n=Object(d.a)(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?f:p:"function"==typeof t?n.local?g:y:n.local?h:m)(n,t))},style:v.a,property:function(e,t){return arguments.length>1?this.each((null==t?b:"function"==typeof t?_:S)(e,t)):this.node()[e]},classed:function(e,t){var n=C(e+"");if(arguments.length<2){for(var i=k(this.node()),a=-1,r=n.length;++a<r;)if(!i.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?M:t?T:x)(n,t))},text:function(e){return arguments.length?this.each(null==e?I:("function"==typeof e?E:R)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?D:("function"==typeof e?N:L)(e)):this.node().innerHTML},raise:function(){return this.each(O)},lower:function(){return this.each(U)},append:function(e){var t="function"==typeof e?e:Object(B.a)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Object(B.a)(e),a=null==t?F:"function"==typeof t?t:Object(i.a)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each(G)},clone:function(e){return this.select(e?j:H)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:K.b,dispatch:function(e,t){return this.each(("function"==typeof t?V:z)(e,t))}};t.b=Z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=n(32).trim();t.SessionStorageService=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&(t=a+":"+t),this.prefix=t,this.store={},this.withPrefix=function(e){return this.prefix&&(e=this.prefix+"."+e),e}}return i(e,[{key:"get",value:function(e){e=this.withPrefix(e);try{return localStorage.getItem("IGNORE_LENS_CACHE")?this.store[e]:JSON.parse(window.sessionStorage.getItem(e))}catch(t){return this.store[e]}}},{key:"set",value:function(e,t){e=this.withPrefix(e);try{return window.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){this.store[e]=t}}},{key:"remove",value:function(e){e=this.withPrefix(e);try{return window.sessionStorage.removeItem(e)}catch(t){delete this.store[e]}}}]),e}()},function(e,t,n){var i=n(10).Symbol;e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var i=n(14)(Object,"create");e.exports=i},function(e,t,n){var i=n(58);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(127);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(3),r=n(13);function o(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function s(e){return a.isNumber(e)?l[e]:l[l[e]]}var l,c=Function.prototype.bind.call(console.log,console),u=a.isFunction(console.table)?console.table.bind(console):c.bind(console);!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(l||(l={})),t.Category=l;var d=i.parse("$id"),p=i.parse("router.$id"),f=function(e){return"Transition #"+d(e)+"-"+p(e)},m=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,t){var n=this;t.length||(t=Object.keys(l).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)})).map((function(e){return l[e]}))),t.map(s).forEach((function(t){return n._enabled[t]=e}))},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[s(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(l.TRANSITION)&&console.log(f(e)+": Started  -> "+r.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(l.TRANSITION)&&console.log(f(e)+": Ignored  <> "+r.stringify(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(l.HOOK)){var a=i.parse("traceData.hookType")(n)||"internal",o=i.parse("traceData.context.state.name")(n)||i.parse("traceData.context")(n)||"unknown",s=r.functionToString(e.registeredHook.callback);console.log(f(t)+":   Hook -> "+a+" context: "+o+", "+r.maxLength(200,s))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(l.HOOK)&&console.log(f(t)+":   <- Hook returned: "+r.maxLength(200,r.stringify(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(l.RESOLVE)&&console.log(f(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(l.RESOLVE)&&console.log(f(t)+":               <- Resolved  "+e+" to: "+r.maxLength(200,r.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(l.TRANSITION)&&console.log(f(t)+": <- Rejected "+r.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(l.TRANSITION)&&console.log(f(t)+": <- Success  "+r.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(l.UIVIEW)&&console.log("ui-view: "+r.padString(30,e)+" "+o(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(l.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(l.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+r.maxLength(200,t))},e.prototype.traceViewSync=function(e){if(this.enabled(l.VIEWCONFIG)){var t="uiview component fqn",n=e.map((function(e){var n,i=e.uiView,a=e.viewConfig,r=i&&i.fqn,o=a&&a.viewDecl.$context.name+": ("+a.viewDecl.$name+")";return(n={})[t]=r,n["view config state (view name)"]=o,n})).sort((function(e,n){return(e[t]||"").localeCompare(n[t]||"")}));u(n)}},e.prototype.traceViewServiceEvent=function(e,t){this.enabled(l.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+function(e){var t=e.viewDecl,n=t.$context.name||"(root)";return"[View#"+e.$id+" from '"+n+"' state]: target ui-view: '"+t.$uiViewName+"@"+t.$uiViewContextAnchor+"'"}(t))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(l.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+o(t))},e}();t.Trace=m;var h=new m;t.trace=h},function(e,t,n){"use strict";function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===u(e)}n.r(t);function a(e){return"string"==typeof e}function r(e){return"number"==typeof e}function o(e){return!0===e||!1===e||function(e){return s(e)&&null!==e}(e)&&"[object Boolean]"==u(e)}function s(e){return"object"==typeof e}function l(e){return null!=e}function c(e){return!e.trim().length}function u(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const d=Object.prototype.hasOwnProperty;class p{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=f(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function f(e){let t=null,n=null,r=null,o=1;if(a(e)||i(e))r=e,t=m(e),n=h(e);else{if(!d.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const i=e.name;if(r=i,d.call(e,"weight")&&(o=e.weight,o<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(i));t=m(i),n=h(i)}return{path:t,id:n,weight:o,src:r}}function m(e){return i(e)?e:e.split(".")}function h(e){return i(e)?e.join("."):e}var y={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],s=!1;const c=(e,t,u)=>{if(l(e))if(t[u]){const d=e[t[u]];if(!l(d))return;if(u===t.length-1&&(a(d)||r(d)||o(d)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(d));else if(i(d)){s=!0;for(let e=0,n=d.length;e<n;e+=1)c(d[e],t,u+1)}else t.length&&c(d,t,u+1)}else n.push(e)};return c(e,a(t)?t.split("."):t,0),s?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}};const g=/[^ ]+/g;class v{constructor({getFn:e=y.getFn}={}){this.norm=function(e=3){const t=new Map,n=Math.pow(10,e);return{get(e){const i=e.match(g).length;if(t.has(i))return t.get(i);const a=1/Math.sqrt(i),r=parseFloat(Math.round(a*n)/n);return t.set(i,r),r},clear(){t.clear()}}}(3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||c(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let o=this.getFn(e,t.path);if(l(o))if(i(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(l(r))if(a(r)&&!c(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else i(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(!c(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function b(e,t,{getFn:n=y.getFn}={}){const i=new v({getFn:n});return i.setKeys(e.map(f)),i.setSources(t),i.create(),i}function S(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:a=y.distance,ignoreLocation:r=y.ignoreLocation}={}){const o=t/e.length;if(r)return o;const s=Math.abs(i-n);return a?o+s/a:s?1:o}function _(e,t,n,{location:i=y.location,distance:a=y.distance,threshold:r=y.threshold,findAllMatches:o=y.findAllMatches,minMatchCharLength:s=y.minMatchCharLength,includeMatches:l=y.includeMatches,ignoreLocation:c=y.ignoreLocation}={}){if(t.length>32)throw new Error(`Pattern length exceeds max of ${32}.`);const u=t.length,d=e.length,p=Math.max(0,Math.min(i,d));let f=r,m=p;const h=s>1||l,g=h?Array(d):[];let v;for(;(v=e.indexOf(t,m))>-1;){let e=S(t,{currentLocation:v,expectedLocation:p,distance:a,ignoreLocation:c});if(f=Math.min(e,f),m=v+u,h){let e=0;for(;e<u;)g[v+e]=1,e+=1}}m=-1;let b=[],_=1,C=u+d;const k=1<<u-1;for(let i=0;i<u;i+=1){let r=0,s=C;for(;r<s;){S(t,{errors:i,currentLocation:p+s,expectedLocation:p,distance:a,ignoreLocation:c})<=f?r=s:C=s,s=Math.floor((C-r)/2+r)}C=s;let l=Math.max(1,p-s+1),y=o?d:Math.min(p+s,d)+u,v=Array(y+2);v[y+1]=(1<<i)-1;for(let r=y;r>=l;r-=1){let o=r-1,s=n[e.charAt(o)];if(h&&(g[o]=+!!s),v[r]=(v[r+1]<<1|1)&s,i&&(v[r]|=(b[r+1]|b[r])<<1|1|b[r+1]),v[r]&k&&(_=S(t,{errors:i,currentLocation:o,expectedLocation:p,distance:a,ignoreLocation:c}),_<=f)){if(f=_,m=o,m<=p)break;l=Math.max(1,2*p-m)}}if(S(t,{errors:i+1,currentLocation:p,expectedLocation:p,distance:a,ignoreLocation:c})>f)break;b=v}const A={isMatch:m>=0,score:Math.max(.001,_)};if(h){const e=function(e=[],t=y.minMatchCharLength){let n=[],i=-1,a=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===i?i=r:o||-1===i||(a=r-1,a-i+1>=t&&n.push([i,a]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(g,s);e.length?l&&(A.indices=e):A.isMatch=!1}return A}function C(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<i-n-1}return t}class k{constructor(e,{location:t=y.location,threshold:n=y.threshold,distance:i=y.distance,includeMatches:a=y.includeMatches,findAllMatches:r=y.findAllMatches,minMatchCharLength:o=y.minMatchCharLength,isCaseSensitive:s=y.isCaseSensitive,ignoreLocation:l=y.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:a,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:C(e),startIndex:t})},u=this.pattern.length;if(u>32){let e=0;const t=u%32,n=u-t;for(;e<n;)c(this.pattern.substr(e,32),e),e+=32;if(t){const e=u-32;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:a,threshold:r,findAllMatches:o,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:f})=>{const{isMatch:m,score:h,indices:y}=_(e,t,p,{location:i+f,distance:a,threshold:r,findAllMatches:o,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});m&&(d=!0),u+=h,m&&y&&(c=[...c,...y])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=c),p}}class A{constructor(e){this.pattern=e}static isMultiMatch(e){return w(e,this.multiRegex)}static isSingleMatch(e){return w(e,this.singleRegex)}search(){}}function w(e,t){const n=e.match(t);return n?n[1]:null}class P extends A{constructor(e,{location:t=y.location,threshold:n=y.threshold,distance:i=y.distance,includeMatches:a=y.includeMatches,findAllMatches:r=y.findAllMatches,minMatchCharLength:o=y.minMatchCharLength,isCaseSensitive:s=y.isCaseSensitive,ignoreLocation:l=y.ignoreLocation}={}){super(e),this._bitapSearch=new k(e,{location:t,threshold:n,distance:i,includeMatches:a,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class T extends A{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],a=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+a,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const x=[class extends A{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},T,class extends A{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends A{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends A{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends A{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends A{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},P],M=x.length,I=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const R=new Set([P.type,T.type]);class E{constructor(e,{isCaseSensitive:t=y.isCaseSensitive,includeMatches:n=y.includeMatches,minMatchCharLength:i=y.minMatchCharLength,ignoreLocation:a=y.ignoreLocation,findAllMatches:r=y.findAllMatches,location:o=y.location,threshold:s=y.threshold,distance:l=y.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:a,location:o,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(I).filter((e=>e&&!!e.trim())),i=[];for(let e=0,a=n.length;e<a;e+=1){const a=n[e];let r=!1,o=-1;for(;!r&&++o<M;){const e=x[o];let n=e.isMultiMatch(a);n&&(i.push(new e(n,t)),r=!0)}if(!r)for(o=-1;++o<M;){const e=x[o];let n=e.isSingleMatch(a);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let a=0,r=[],o=0;for(let i=0,s=t.length;i<s;i+=1){const s=t[i];r.length=0,a=0;for(let t=0,i=s.length;t<i;t+=1){const i=s[t],{isMatch:l,indices:c,score:u}=i.search(e);if(!l){o=0,a=0,r.length=0;break}if(a+=1,o+=u,n){const e=i.constructor.type;R.has(e)?r=[...r,...c]:r.push(c)}}if(a){let e={isMatch:!0,score:o/a};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}}const D=[];function L(e,t){for(let n=0,i=D.length;n<i;n+=1){let i=D[n];if(i.condition(e,t))return new i(e,t)}return new k(e,t)}const N="$and",O="$or",U="$path",B="$val",F=e=>!(!e[N]&&!e[O]),G=e=>({[N]:Object.keys(e).map((t=>({[t]:e[t]})))});function H(e,t,{auto:n=!0}={}){const r=e=>{let o=Object.keys(e);const l=(e=>!!e[U])(e);if(!l&&o.length>1&&!F(e))return r(G(e));if((e=>!i(e)&&s(e)&&!F(e))(e)){const i=l?e[U]:o[0],r=l?e[B]:e[i];if(!a(r))throw new Error((e=>"Invalid value for key "+e)(i));const s={keyId:h(i),pattern:r};return n&&(s.searcher=L(r,t)),s}let c={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];i(n)&&n.forEach((e=>{c.children.push(r(e))}))})),c};return F(e)||(e=G(e)),r(e)}function j(e,t){const n=e.matches;t.matches=[],l(n)&&n.forEach((e=>{if(!l(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let a={indices:n,value:i};e.key&&(a.key=e.key.src),e.idx>-1&&(a.refIndex=e.idx),t.matches.push(a)}))}function K(e,t){t.score=e.score}class ${constructor(e,t={},n){this.options={...y,...t},this.options.useExtendedSearch,this._keyStore=new p(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||b(this.options.keys,this._docs,{getFn:this.options.getFn})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,i-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:l}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=y.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:a})=>{const r=e?e.weight:null;n*=Math.pow(0===a&&r?Number.EPSILON:a,(r||1)*(t?1:i))})),e.score=n}))}(c,{ignoreFieldNorm:l}),o&&c.sort(s),r(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=y.includeMatches,includeScore:i=y.includeScore}={}){const a=[];return n&&a.push(j),i&&a.push(K),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return a.length&&a.forEach((t=>{t(e,i)})),i}))}(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=L(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:a})=>{if(!l(e))return;const{isMatch:r,score:o,indices:s}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:o,value:e,norm:a,indices:s}]})})),i}_searchLogical(e){const t=H(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:a}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:a});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}switch(e.operator){case N:{const a=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],s=n(o,t,i);if(!s.length)return[];a.push(...s)}return a}case O:{const a=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],s=n(o,t,i);if(s.length){a.push(...s);break}}return a}}},i=this._myIndex.records,a={},r=[];return i.forEach((({$:e,i:i})=>{if(l(e)){let o=n(t,e,i);o.length&&(a[i]||(a[i]={idx:i,item:e,matches:[]},r.push(a[i])),o.forEach((({matches:e})=>{a[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=L(e,this.options),{keys:n,records:i}=this._myIndex,a=[];return i.forEach((({$:e,i:i})=>{if(!l(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&a.push({idx:i,item:e,matches:r})})),a}_findMatches({key:e,value:t,searcher:n}){if(!l(t))return[];let a=[];if(i(t))t.forEach((({v:t,i:i,n:r})=>{if(!l(t))return;const{isMatch:o,score:s,indices:c}=n.searchIn(t);o&&a.push({score:s,key:e,value:t,idx:i,norm:r,indices:c})}));else{const{v:i,n:r}=t,{isMatch:o,score:s,indices:l}=n.searchIn(i);o&&a.push({score:s,key:e,value:i,norm:r,indices:l})}return a}}$.version="6.4.6",$.createIndex=b,$.parseIndex=function(e,{getFn:t=y.getFn}={}){const{keys:n,records:i}=e,a=new v({getFn:t});return a.setKeys(n),a.setIndexRecords(i),a},$.config=y,$.parseQuery=H,function(...e){D.push(...e)}(E),t.default=$},function(e,t,n){var i,a,r,o;o={subdivision:function(e,t){if(void 0===t){var n=(t=e.trim().toUpperCase()).split("-");if(2!==n.length)return{};e=n[0],t=n[1]}3===e.length&&(e=r[e]);var i=e+"-"+t;if(!(e in a))return null;var o=a[e].sub,s=o[i];if(void 0===s){for(var l in o)if(o.hasOwnProperty(l)&&o[l].name.toUpperCase()===t.toUpperCase()){s=o[l],i=l;break}if(void 0===s)return null}return s.countryName=a[e].name,s.countryCode=e,s.code=i,s.regionCode=2===i.split("-").length?i.split("-")[1]:"",s},country:function(e){if(3===(e=e.trim().toUpperCase()).length&&(e=r[e]),e in a){var t=a[e];return t.code=e,t}for(var n in a)if(a.hasOwnProperty(n)&&a[n].name.toUpperCase()===e.toUpperCase()){(t=a[n]).code=n;break}return void 0===t?null:t},data:a={BD:{name:"Bangladesh",sub:{"BD-E":{type:"Division",name:"Rajshahi"},"BD-41":{type:"District",name:"Netrakona"},"BD-G":{type:"Division",name:"Sylhet"},"BD-38":{type:"District",name:"Moulvibazar"},"BD-A":{type:"Division",name:"Barisal"},"BD-C":{type:"Division",name:"Dhaka"},"BD-B":{type:"Division",name:"Chittagong"},"BD-D":{type:"Division",name:"Khulna"},"BD-46":{type:"District",name:"Nilphamari"},"BD-59":{type:"District",name:"Sirajganj"},"BD-55":{type:"District",name:"Rangpur"},"BD-47":{type:"District",name:"Noakhali"},"BD-60":{type:"District",name:"Sylhet"},"BD-49":{type:"District",name:"Pabna"},"BD-62":{type:"District",name:"Shariatpur"},"BD-63":{type:"District",name:"Tangail"},"BD-64":{type:"District",name:"Thakurgaon"},"BD-22":{type:"District",name:"Jessore"},"BD-36":{type:"District",name:"Madaripur"},"BD-61":{type:"District",name:"Sunamganj"},"BD-23":{type:"District",name:"Jhenaidah"},"BD-06":{type:"District",name:"Barisal"},"BD-07":{type:"District",name:"Bhola"},"BD-04":{type:"District",name:"Brahmanbaria"},"BD-05":{type:"District",name:"Bagerhat"},"BD-02":{type:"District",name:"Barguna"},"BD-03":{type:"District",name:"Bogra"},"BD-01":{type:"District",name:"Bandarban"},"BD-24":{type:"District",name:"Jaipurhat"},"BD-25":{type:"District",name:"Jhalakati"},"BD-26":{type:"District",name:"Kishoreganj"},"BD-27":{type:"District",name:"Khulna"},"BD-20":{type:"District",name:"Habiganj"},"BD-21":{type:"District",name:"Jamalpur"},"BD-08":{type:"District",name:"Comilla"},"BD-09":{type:"District",name:"Chandpur"},"BD-35":{type:"District",name:"Munshiganj"},"BD-54":{type:"District",name:"Rajshahi"},"BD-33":{type:"District",name:"Manikganj"},"BD-58":{type:"District",name:"Satkhira"},"BD-F":{type:"Division",name:"Rangpur"},"BD-32":{type:"District",name:"Lalmonirhat"},"BD-31":{type:"District",name:"Lakshmipur"},"BD-53":{type:"District",name:"Rajbari"},"BD-30":{type:"District",name:"Kushtia"},"BD-28":{type:"District",name:"Kurigram"},"BD-44":{type:"District",name:"Natore"},"BD-48":{type:"District",name:"Naogaon"},"BD-29":{type:"District",name:"Khagrachari"},"BD-15":{type:"District",name:"Faridpur"},"BD-14":{type:"District",name:"Dinajpur"},"BD-17":{type:"District",name:"Gopalganj"},"BD-16":{type:"District",name:"Feni"},"BD-11":{type:"District",name:"Cox's Bazar"},"BD-10":{type:"District",name:"Chittagong"},"BD-13":{type:"District",name:"Dhaka"},"BD-12":{type:"District",name:"Chuadanga"},"BD-51":{type:"District",name:"Patuakhali"},"BD-50":{type:"District",name:"Pirojpur"},"BD-39":{type:"District",name:"Meherpur"},"BD-34":{type:"District",name:"Mymensingh"},"BD-19":{type:"District",name:"Gaibandha"},"BD-18":{type:"District",name:"Gazipur"},"BD-57":{type:"District",name:"Sherpur"},"BD-52":{type:"District",name:"Panchagarh"},"BD-42":{type:"District",name:"Narsingdi"},"BD-45":{type:"District",name:"Nawabganj"},"BD-43":{type:"District",name:"Narail"},"BD-37":{type:"District",name:"Magura"},"BD-40":{type:"District",name:"Narayanganj"},"BD-56":{type:"District",name:"Rangamati"}}},BE:{name:"Belgium",sub:{"BE-VWV":{type:"Province",name:"West-Vlaanderen"},"BE-VAN":{type:"Province",name:"Antwerpen"},"BE-VLG":{type:"Region",name:"Vlaams Gewest"},"BE-VLI":{type:"Province",name:"Limburg"},"BE-WBR":{type:"Province",name:"Brabant wallon"},"BE-VBR":{type:"Province",name:"Vlaams-Brabant"},"BE-VOV":{type:"Province",name:"Oost-Vlaanderen"},"BE-WLG":{type:"Province",name:"Liège"},"BE-WLX":{type:"Province",name:"Luxembourg"},"BE-WHT":{type:"Province",name:"Hainaut"},"BE-WAL":{type:"Region",name:"wallonne, Région"},"BE-BRU":{type:"Region",name:"Brussels Hoofdstedelijk Gewest"},"BE-WNA":{type:"Province",name:"Namur"}}},BF:{name:"Burkina Faso",sub:{"BF-SEN":{type:"Province",name:"Séno"},"BF-KEN":{type:"Province",name:"Kénédougou"},"BF-BLK":{type:"Province",name:"Boulkiemdé"},"BF-NAM":{type:"Province",name:"Namentenga"},"BF-NAO":{type:"Province",name:"Nahouri"},"BF-BLG":{type:"Province",name:"Boulgou"},"BF-KOP":{type:"Province",name:"Koulpélogo"},"BF-KAD":{type:"Province",name:"Kadiogo"},"BF-01":{type:"Region",name:"Boucle du Mouhoun"},"BF-02":{type:"Region",name:"Cascades"},"BF-03":{type:"Region",name:"Centre"},"BF-04":{type:"Region",name:"Centre-Est"},"BF-05":{type:"Region",name:"Centre-Nord"},"BF-06":{type:"Region",name:"Centre-Ouest"},"BF-07":{type:"Region",name:"Centre-Sud"},"BF-08":{type:"Region",name:"Est"},"BF-09":{type:"Region",name:"Hauts-Bassins"},"BF-YAT":{type:"Province",name:"Yatenga"},"BF-PAS":{type:"Province",name:"Passoré"},"BF-YAG":{type:"Province",name:"Yagha"},"BF-IOB":{type:"Province",name:"Ioba"},"BF-GNA":{type:"Province",name:"Gnagna"},"BF-PON":{type:"Province",name:"Poni"},"BF-HOU":{type:"Province",name:"Houet"},"BF-LER":{type:"Province",name:"Léraba"},"BF-KMD":{type:"Province",name:"Komondjari"},"BF-SMT":{type:"Province",name:"Sanmatenga"},"BF-ZON":{type:"Province",name:"Zondoma"},"BF-MOU":{type:"Province",name:"Mouhoun"},"BF-COM":{type:"Province",name:"Comoé"},"BF-TUI":{type:"Province",name:"Tui"},"BF-SIS":{type:"Province",name:"Sissili"},"BF-GAN":{type:"Province",name:"Ganzourgou"},"BF-BGR":{type:"Province",name:"Bougouriba"},"BF-SOR":{type:"Province",name:"Sourou"},"BF-ZIR":{type:"Province",name:"Ziro"},"BF-KOW":{type:"Province",name:"Kourwéogo"},"BF-SOM":{type:"Province",name:"Soum"},"BF-KOT":{type:"Province",name:"Kouritenga"},"BF-13":{type:"Region",name:"Sud-Ouest"},"BF-12":{type:"Region",name:"Sahel"},"BF-11":{type:"Region",name:"Plateau-Central"},"BF-10":{type:"Region",name:"Nord"},"BF-ZOU":{type:"Province",name:"Zoundwéogo"},"BF-LOR":{type:"Province",name:"Loroum"},"BF-BAL":{type:"Province",name:"Balé"},"BF-BAM":{type:"Province",name:"Bam"},"BF-BAN":{type:"Province",name:"Banwa"},"BF-OUB":{type:"Province",name:"Oubritenga"},"BF-OUD":{type:"Province",name:"Oudalan"},"BF-NAY":{type:"Province",name:"Nayala"},"BF-NOU":{type:"Province",name:"Noumbiel"},"BF-KOS":{type:"Province",name:"Kossi"},"BF-TAP":{type:"Province",name:"Tapoa"},"BF-BAZ":{type:"Province",name:"Bazèga"},"BF-SNG":{type:"Province",name:"Sanguié"},"BF-KMP":{type:"Province",name:"Kompienga"},"BF-GOU":{type:"Province",name:"Gourma"}}},BG:{name:"Bulgaria",sub:{"BG-14":{type:"Region",name:"Pernik"},"BG-15":{type:"Region",name:"Pleven"},"BG-16":{type:"Region",name:"Plovdiv"},"BG-17":{type:"Region",name:"Razgrad"},"BG-10":{type:"Region",name:"Kyustendil"},"BG-11":{type:"Region",name:"Lovech"},"BG-12":{type:"Region",name:"Montana"},"BG-13":{type:"Region",name:"Pazardzhik"},"BG-18":{type:"Region",name:"Ruse"},"BG-19":{type:"Region",name:"Silistra"},"BG-25":{type:"Region",name:"Targovishte"},"BG-24":{type:"Region",name:"Stara Zagora"},"BG-27":{type:"Region",name:"Shumen"},"BG-07":{type:"Region",name:"Gabrovo"},"BG-06":{type:"Region",name:"Vratsa"},"BG-23":{type:"Region",name:"Sofia"},"BG-04":{type:"Region",name:"Veliko Tarnovo"},"BG-09":{type:"Region",name:"Kardzhali"},"BG-08":{type:"Region",name:"Dobrich"},"BG-28":{type:"Region",name:"Yambol"},"BG-03":{type:"Region",name:"Varna"},"BG-02":{type:"Region",name:"Burgas"},"BG-01":{type:"Region",name:"Blagoevgrad"},"BG-26":{type:"Region",name:"Haskovo"},"BG-21":{type:"Region",name:"Smolyan"},"BG-20":{type:"Region",name:"Sliven"},"BG-05":{type:"Region",name:"Vidin"},"BG-22":{type:"Region",name:"Sofia"}}},BA:{name:"Bosnia and Herzegovina",sub:{"BA-BRC":{type:"District with special status",name:"Brčko distrikt"},"BA-10":{type:"Canton",name:"Kanton br. 10"},"BA-BIH":{type:"Entity",name:"Federacija Bosne i Hercegovine"},"BA-09":{type:"Canton",name:"Kanton Sarajevo"},"BA-08":{type:"Canton",name:"Zapadnohercegovačka županija"},"BA-SRP":{type:"Entity",name:"Republika Srpska"},"BA-05":{type:"Canton",name:"Bosansko-podrinjska županija"},"BA-04":{type:"Canton",name:"Zeničko-dobojska županija"},"BA-07":{type:"Canton",name:"Hercegovačko-neretvanska županija"},"BA-06":{type:"Canton",name:"Srednjobosanska županija"},"BA-01":{type:"Canton",name:"Unsko-sanska županija"},"BA-03":{type:"Canton",name:"Tuzlanska županija"},"BA-02":{type:"Canton",name:"Posavska županija"}}},BB:{name:"Barbados",sub:{"BB-11":{type:"Parish",name:"Saint Thomas"},"BB-10":{type:"Parish",name:"Saint Philip"},"BB-08":{type:"Parish",name:"Saint Michael"},"BB-09":{type:"Parish",name:"Saint Peter"},"BB-04":{type:"Parish",name:"Saint James"},"BB-05":{type:"Parish",name:"Saint John"},"BB-06":{type:"Parish",name:"Saint Joseph"},"BB-07":{type:"Parish",name:"Saint Lucy"},"BB-01":{type:"Parish",name:"Christ Church"},"BB-02":{type:"Parish",name:"Saint Andrew"},"BB-03":{type:"Parish",name:"Saint George"}}},WF:{name:"Wallis & Futuna Islands",sub:{"WF-WF":{type:"Country",name:"Wallis & Futuna Islands"}}},BL:{name:"St. Barthélemy",sub:{"BL-BL":{type:"Country",name:"St. Barthélemy"}}},BM:{name:"Bermuda",sub:{"BM-BM":{type:"Country",name:"Bermuda"}}},BN:{name:"Brunei Darussalam",sub:{"BN-TE":{type:"District",name:"Temburong"},"BN-BM":{type:"District",name:"Brunei-Muara"},"BN-TU":{type:"District",name:"Tutong"},"BN-BE":{type:"District",name:"Belait"}}},BO:{name:"Bolivia",sub:{"BO-B":{type:"Department",name:"El Beni"},"BO-C":{type:"Department",name:"Cochabamba"},"BO-N":{type:"Department",name:"Pando"},"BO-O":{type:"Department",name:"Oruro"},"BO-L":{type:"Department",name:"La Paz"},"BO-H":{type:"Department",name:"Chuquisaca"},"BO-T":{type:"Department",name:"Tarija"},"BO-S":{type:"Department",name:"Santa Cruz"},"BO-P":{type:"Department",name:"Potosí"}}},BH:{name:"Bahrain",sub:{"BH-13":{type:"Governorate",name:"Al Manāmah"},"BH-15":{type:"Governorate",name:"Al Muḩarraq"},"BH-14":{type:"Governorate",name:"Al Janūbīyah"},"BH-17":{type:"Governorate",name:"Ash Shamālīyah"},"BH-16":{type:"Governorate",name:"Al Wusţá"}}},BI:{name:"Burundi",sub:{"BI-BB":{type:"Province",name:"Bubanza"},"BI-MA":{type:"Province",name:"Makamba"},"BI-CI":{type:"Province",name:"Cibitoke"},"BI-KR":{type:"Province",name:"Karuzi"},"BI-NG":{type:"Province",name:"Ngozi"},"BI-RY":{type:"Province",name:"Ruyigi"},"BI-RT":{type:"Province",name:"Rutana"},"BI-CA":{type:"Province",name:"Cankuzo"},"BI-BM":{type:"Province",name:"Bujumbura Mairie"},"BI-BL":{type:"Province",name:"Bujumbura Rural"},"BI-BR":{type:"Province",name:"Bururi"},"BI-MW":{type:"Province",name:"Mwaro"},"BI-KI":{type:"Province",name:"Kirundo"},"BI-MU":{type:"Province",name:"Muramvya"},"BI-GI":{type:"Province",name:"Gitega"},"BI-MY":{type:"Province",name:"Muyinga"},"BI-KY":{type:"Province",name:"Kayanza"}}},BJ:{name:"Benin",sub:{"BJ-AK":{type:"Department",name:"Atakora"},"BJ-BO":{type:"Department",name:"Borgou"},"BJ-CO":{type:"Department",name:"Collines"},"BJ-AL":{type:"Department",name:"Alibori"},"BJ-MO":{type:"Department",name:"Mono"},"BJ-LI":{type:"Department",name:"Littoral"},"BJ-ZO":{type:"Department",name:"Zou"},"BJ-OU":{type:"Department",name:"Ouémé"},"BJ-PL":{type:"Department",name:"Plateau"},"BJ-DO":{type:"Department",name:"Donga"},"BJ-AQ":{type:"Department",name:"Atlantique"},"BJ-KO":{type:"Department",name:"Kouffo"}}},BT:{name:"Bhutan",sub:{"BT-33":{type:"District",name:"Bumthang"},"BT-42":{type:"District",name:"Monggar"},"BT-GA":{type:"District",name:"Gasa"},"BT-32":{type:"District",name:"Trongsa"},"BT-34":{type:"District",name:"Zhemgang"},"BT-45":{type:"District",name:"Samdrup Jongkha"},"BT-15":{type:"District",name:"Thimphu"},"BT-14":{type:"District",name:"Samtse"},"BT-31":{type:"District",name:"Sarpang"},"BT-TY":{type:"District",name:"Trashi Yangtse"},"BT-11":{type:"District",name:"Paro"},"BT-44":{type:"District",name:"Lhuentse"},"BT-13":{type:"District",name:"Ha"},"BT-12":{type:"District",name:"Chhukha"},"BT-24":{type:"District",name:"Wangdue Phodrang"},"BT-43":{type:"District",name:"Pemagatshel"},"BT-41":{type:"District",name:"Trashigang"},"BT-21":{type:"District",name:"Tsirang"},"BT-22":{type:"District",name:"Dagana"},"BT-23":{type:"District",name:"Punakha"}}},JM:{name:"Jamaica",sub:{"JM-12":{type:"Parish",name:"Manchester"},"JM-14":{type:"Parish",name:"Saint Catherine"},"JM-11":{type:"Parish",name:"Saint Elizabeth"},"JM-10":{type:"Parish",name:"Westmoreland"},"JM-01":{type:"Parish",name:"Kingston"},"JM-13":{type:"Parish",name:"Clarendon"},"JM-03":{type:"Parish",name:"Saint Thomas"},"JM-02":{type:"Parish",name:"Saint Andrew"},"JM-05":{type:"Parish",name:"Saint Mary"},"JM-04":{type:"Parish",name:"Portland"},"JM-07":{type:"Parish",name:"Trelawny"},"JM-06":{type:"Parish",name:"Saint Ann"},"JM-09":{type:"Parish",name:"Hanover"},"JM-08":{type:"Parish",name:"Saint James"}}},BV:{name:"Bouvet Island",sub:{"BV-BV":{type:"Country",name:"Bouvet Island"}}},BW:{name:"Botswana",sub:{"BW-KW":{type:"District",name:"Kweneng"},"BW-JW":{type:"Town",name:"Jwaneng"},"BW-FR":{type:"City",name:"Francistown"},"BW-CH":{type:"District",name:"Chobe"},"BW-SO":{type:"District",name:"Southern"},"BW-LO":{type:"Town",name:"Lobatse"},"BW-ST":{type:"Town",name:"Sowa Town"},"BW-CE":{type:"District",name:"Central"},"BW-NW":{type:"District",name:"North West"},"BW-KG":{type:"District",name:"Kgalagadi"},"BW-GA":{type:"City",name:"Gaborone"},"BW-SP":{type:"Town",name:"Selibe Phikwe"},"BW-GH":{type:"District",name:"Ghanzi"},"BW-SE":{type:"District",name:"South East"},"BW-NE":{type:"District",name:"North East"},"BW-KL":{type:"District",name:"Kgatleng"}}},WS:{name:"Samoa",sub:{"WS-AA":{type:"District",name:"A'ana"},"WS-VF":{type:"District",name:"Va'a-o-Fonoti"},"WS-SA":{type:"District",name:"Satupa'itea"},"WS-FA":{type:"District",name:"Fa'asaleleaga"},"WS-VS":{type:"District",name:"Vaisigano"},"WS-AL":{type:"District",name:"Aiga-i-le-Tai"},"WS-GI":{type:"District",name:"Gagaifomauga"},"WS-PA":{type:"District",name:"Palauli"},"WS-AT":{type:"District",name:"Atua"},"WS-TU":{type:"District",name:"Tuamasaga"},"WS-GE":{type:"District",name:"Gaga'emauga"}}},BQ:{name:"Bonaire, Sint Eustatius and Saba",sub:{"BQ-SE":{type:"Special municipality",name:"Sint Eustatius"},"BQ-BO":{type:"Special municipality",name:"Bonaire"},"BQ-SA":{type:"Special municipality",name:"Saba"}}},BR:{name:"Brazil",sub:{"BR-RJ":{type:"State",name:"Rio de Janeiro"},"BR-BA":{type:"State",name:"Bahia"},"BR-SE":{type:"State",name:"Sergipe"},"BR-DF":{type:"Federal district",name:"Distrito Federal"},"BR-SP":{type:"State",name:"São Paulo"},"BR-SC":{type:"State",name:"Santa Catarina"},"BR-RR":{type:"State",name:"Roraima"},"BR-RS":{type:"State",name:"Rio Grande do Sul"},"BR-AP":{type:"State",name:"Amapá"},"BR-CE":{type:"State",name:"Ceará"},"BR-GO":{type:"State",name:"Goiás"},"BR-AM":{type:"State",name:"Amazonas"},"BR-AL":{type:"State",name:"Alagoas"},"BR-AC":{type:"State",name:"Acre"},"BR-PI":{type:"State",name:"Piauí"},"BR-RN":{type:"State",name:"Rio Grande do Norte"},"BR-RO":{type:"State",name:"Rondônia"},"BR-MT":{type:"State",name:"Mato Grosso"},"BR-MS":{type:"State",name:"Mato Grosso do Sul"},"BR-PA":{type:"State",name:"Pará"},"BR-PB":{type:"State",name:"Paraíba"},"BR-ES":{type:"State",name:"Espírito Santo"},"BR-PR":{type:"State",name:"Paraná"},"BR-PE":{type:"State",name:"Pernambuco"},"BR-MG":{type:"State",name:"Minas Gerais"},"BR-MA":{type:"State",name:"Maranhão"},"BR-TO":{type:"State",name:"Tocantins"}}},BS:{name:"Bahamas",sub:{"BS-SA":{type:"District",name:"South Andros"},"BS-EX":{type:"District",name:"Exuma"},"BS-CS":{type:"District",name:"Central Andros"},"BS-CK":{type:"District",name:"Crooked Island and Long Cay"},"BS-CI":{type:"District",name:"Cat Island"},"BS-GC":{type:"District",name:"Grand Cay"},"BS-EG":{type:"District",name:"East Grand Bahama"},"BS-CE":{type:"District",name:"Central Eleuthera"},"BS-RI":{type:"District",name:"Ragged Island"},"BS-RC":{type:"District",name:"Rum Cay"},"BS-AK":{type:"District",name:"Acklins"},"BS-MG":{type:"District",name:"Mayaguana"},"BS-IN":{type:"District",name:"Inagua"},"BS-MC":{type:"District",name:"Mangrove Cay"},"BS-MI":{type:"District",name:"Moore's Island"},"BS-BY":{type:"District",name:"Berry Islands"},"BS-FP":{type:"District",name:"City of Freeport"},"BS-BP":{type:"District",name:"Black Point"},"BS-LI":{type:"District",name:"Long Island"},"BS-BI":{type:"District",name:"Bimini"},"BS-WG":{type:"District",name:"West Grand Bahama"},"BS-NO":{type:"District",name:"North Abaco"},"BS-SO":{type:"District",name:"South Abaco"},"BS-NE":{type:"District",name:"North Eleuthera"},"BS-HT":{type:"District",name:"Hope Town"},"BS-SE":{type:"District",name:"South Eleuthera"},"BS-HI":{type:"District",name:"Harbour Island"},"BS-SS":{type:"District",name:"San Salvador"},"BS-SW":{type:"District",name:"Spanish Wells"},"BS-NS":{type:"District",name:"North Andros"},"BS-CO":{type:"District",name:"Central Abaco"}}},JE:{name:"Jersey",sub:{"JE-JE":{type:"Country",name:"Jersey"}}},BY:{name:"Belarus",sub:{"BY-HM":{type:"City",name:"Gorod Minsk"},"BY-BR":{type:"Oblast",name:"Bresckaja voblasć"},"BY-HO":{type:"Oblast",name:"Gomel'skaja oblast'"},"BY-MA":{type:"Oblast",name:"Mahilioŭskaja voblasć"},"BY-MI":{type:"Oblast",name:"Minskaja oblast'"},"BY-VI":{type:"Oblast",name:"Viciebskaja voblasć"},"BY-HR":{type:"Oblast",name:"Grodnenskaja oblast'"}}},BZ:{name:"Belize",sub:{"BZ-CY":{type:"District",name:"Cayo"},"BZ-CZL":{type:"District",name:"Corozal"},"BZ-SC":{type:"District",name:"Stann Creek"},"BZ-BZ":{type:"District",name:"Belize"},"BZ-TOL":{type:"District",name:"Toledo"},"BZ-OW":{type:"District",name:"Orange Walk"}}},RU:{name:"Russia",sub:{"RU-PNZ":{type:"Administrative region",name:"Penzenskaja oblast'"},"RU-KRS":{type:"Administrative region",name:"Kurskaja oblast'"},"RU-ULY":{type:"Administrative region",name:"Ul'janovskaja oblast'"},"RU-BEL":{type:"Administrative region",name:"Belgorodskaja oblast'"},"RU-SAK":{type:"Administrative region",name:"Sahalinskaja oblast'"},"RU-KYA":{type:"Administrative territory",name:"Krasnojarskij kraj"},"RU-STA":{type:"Administrative territory",name:"Stavropol'skij kraj"},"RU-IVA":{type:"Administrative region",name:"Ivanovskaja oblast'"},"RU-LIP":{type:"Administrative region",name:"Lipeckaja oblast'"},"RU-AST":{type:"Administrative region",name:"Astrahanskaja oblast'"},"RU-CE":{type:"Republic",name:"Čečenskaja Respublika"},"RU-KHA":{type:"Administrative territory",name:"Habarovskij kraj"},"RU-ORE":{type:"Administrative region",name:"Orenburgskaja oblast'"},"RU-VLG":{type:"Administrative region",name:"Vologodskaja oblast'"},"RU-YAR":{type:"Administrative region",name:"Jaroslavskaja oblast'"},"RU-NGR":{type:"Administrative region",name:"Novgorodskaja oblast'"},"RU-KLU":{type:"Administrative region",name:"Kaluzhskaya oblast'"},"RU-OMS":{type:"Administrative region",name:"Omskaja oblast'"},"RU-IRK":{type:"Administrative region",name:"Irkutskaja oblast'"},"RU-ORL":{type:"Administrative region",name:"Orlovskaja oblast'"},"RU-DA":{type:"Republic",name:"Dagestan, Respublika"},"RU-PRI":{type:"Administrative territory",name:"Primorskij kraj"},"RU-SAM":{type:"Administrative region",name:"Samarskaja oblast'"},"RU-SAR":{type:"Administrative region",name:"Saratovskaja oblast'"},"RU-KOS":{type:"Administrative region",name:"Kostromskaja oblast'"},"RU-SPE":{type:"Autonomous city",name:"Sankt-Peterburg"},"RU-NIZ":{type:"Administrative region",name:"Nižegorodskaja oblast'"},"RU-SA":{type:"Republic",name:"Saha, Respublika"},"RU-KHM":{type:"Autonomous district",name:"Hanty-Mansijskij avtonomnyj okrug"},"RU-LEN":{type:"Administrative region",name:"Leningradskaja oblast'"},"RU-CHE":{type:"Administrative region",name:"Čeljabinskaja oblast'"},"RU-BA":{type:"Republic",name:"Bashkortostan, Respublika"},"RU-SE":{type:"Republic",name:"Severnaja Osetija, Respublika"},"RU-MOS":{type:"Administrative region",name:"Moskovskaja oblast'"},"RU-YAN":{type:"Autonomous district",name:"Jamalo-Neneckij avtonomnyj okrug"},"RU-KGD":{type:"Administrative region",name:"Kaliningradskaja oblast'"},"RU-MOW":{type:"Autonomous city",name:"Moskva"},"RU-KAM":{type:"Administrative territory",name:"Kamčatskij kraj"},"RU-ARK":{type:"Administrative region",name:"Arhangel'skaja oblast'"},"RU-BU":{type:"Republic",name:"Burjatija, Respublika"},"RU-KEM":{type:"Administrative region",name:"Kemerovskaja oblast'"},"RU-CHU":{type:"Autonomous district",name:"Chukotskiy avtonomnyy okrug"},"RU-UD":{type:"Republic",name:"Udmurtskaja Respublika"},"RU-KGN":{type:"Administrative region",name:"Kurganskaja oblast'"},"RU-TUL":{type:"Administrative region",name:"Tul'skaja oblast'"},"RU-KIR":{type:"Administrative region",name:"Kirovskaja oblast'"},"RU-KR":{type:"Republic",name:"Karelija, Respublika"},"RU-ME":{type:"Republic",name:"Marij Èl, Respublika"},"RU-IN":{type:"Republic",name:"Ingušetija, Respublika"},"RU-MAG":{type:"Administrative region",name:"Magadanskaja oblast'"},"RU-MO":{type:"Republic",name:"Mordovija, Respublika"},"RU-TA":{type:"Republic",name:"Tatarstan, Respublika"},"RU-SVE":{type:"Administrative region",name:"Sverdlovskaja oblast'"},"RU-RYA":{type:"Administrative region",name:"Rjazanskaja oblast'"},"RU-ZAB":{type:"Administrative territory",name:"Zabajkal'skij kraj"},"RU-NEN":{type:"Autonomous district",name:"Neneckij avtonomnyj okrug"},"RU-KB":{type:"Republic",name:"Kabardino-Balkarskaja Respublika"},"RU-ALT":{type:"Administrative territory",name:"Altajskij kraj"},"RU-TY":{type:"Republic",name:"Tyva, Respublika"},"RU-MUR":{type:"Administrative region",name:"Murmanskaja oblast'"},"RU-VOR":{type:"Administrative region",name:"Voronezhskaya oblast'"},"RU-PSK":{type:"Administrative region",name:"Pskovskaja oblast'"},"RU-TVE":{type:"Administrative region",name:"Tverskaja oblast'"},"RU-VGG":{type:"Administrative region",name:"Volgogradskaja oblast'"},"RU-KK":{type:"Republic",name:"Hakasija, Respublika"},"RU-KL":{type:"Republic",name:"Kalmykija, Respublika"},"RU-TOM":{type:"Administrative region",name:"Tomskaja oblast'"},"RU-KO":{type:"Republic",name:"Komi, Respublika"},"RU-TYU":{type:"Administrative region",name:"Tjumenskaja oblast'"},"RU-TAM":{type:"Administrative region",name:"Tambovskaja oblast'"},"RU-NVS":{type:"Administrative region",name:"Novosibirskaja oblast'"},"RU-AD":{type:"Republic",name:"Adygeja, Respublika"},"RU-PER":{type:"Administrative territory",name:"Permskij kraj"},"RU-ROS":{type:"Administrative region",name:"Rostovskaja oblast'"},"RU-AMU":{type:"Administrative region",name:"Amurskaja oblast'"},"RU-AL":{type:"Republic",name:"Altaj, Respublika"},"RU-KC":{type:"Republic",name:"Karačaevo-Čerkesskaja Respublika"},"RU-KDA":{type:"Administrative territory",name:"Krasnodarskij kraj"},"RU-YEV":{type:"Autonomous region",name:"Evrejskaja avtonomnaja oblast'"},"RU-VLA":{type:"Administrative region",name:"Vladimirskaja oblast'"},"RU-BRY":{type:"Administrative region",name:"Brjanskaja oblast'"},"RU-SMO":{type:"Administrative region",name:"Smolenskaja oblast'"},"RU-CU":{type:"Republic",name:"Chuvashskaya Respublika"}}},RW:{name:"Rwanda",sub:{"RW-03":{type:"Province",name:"Nord"},"RW-02":{type:"Province",name:"Est"},"RW-01":{type:"Town council",name:"Ville de Kigal"},"RW-05":{type:"Province",name:"Sud"},"RW-04":{type:"Province",name:"Ouest"}}},RS:{name:"Serbia",sub:{"RS-07":{type:"District",name:"Sremski okrug"},"RS-06":{type:"District",name:"Južnobački okrug"},"RS-05":{type:"District",name:"Zapadnobački okrug"},"RS-04":{type:"District",name:"Južnobanatski okrug"},"RS-03":{type:"District",name:"Severnobanatski okrug"},"RS-02":{type:"District",name:"Srednjebanatski okrug"},"RS-01":{type:"District",name:"Severnobački okrug"},"RS-00":{type:"City",name:"Beograd"},"RS-09":{type:"District",name:"Kolubarski okrug"},"RS-08":{type:"District",name:"Mačvanski okrug"},"RS-29":{type:"District",name:"Kosovsko-Pomoravski okrug"},"RS-28":{type:"District",name:"Kosovsko-Mitrovački okrug"},"RS-21":{type:"District",name:"Toplički okrug"},"RS-20":{type:"District",name:"Nišavski okrug"},"RS-23":{type:"District",name:"Jablanički okrug"},"RS-22":{type:"District",name:"Pirotski okrug"},"RS-25":{type:"District",name:"Kosovski okrug"},"RS-24":{type:"District",name:"Pčinjski okrug"},"RS-27":{type:"District",name:"Prizrenski okrug"},"RS-26":{type:"District",name:"Pećki okrug"},"RS-VO":{type:"Autonomous province",name:"Vojvodina"},"RS-10":{type:"District",name:"Podunavski okrug"},"RS-11":{type:"District",name:"Braničevski okrug"},"RS-12":{type:"District",name:"Šumadijski okrug"},"RS-13":{type:"District",name:"Pomoravski okrug"},"RS-14":{type:"District",name:"Borski okrug"},"RS-15":{type:"District",name:"Zaječarski okrug"},"RS-16":{type:"District",name:"Zlatiborski okrug"},"RS-17":{type:"District",name:"Moravički okrug"},"RS-18":{type:"District",name:"Raški okrug"},"RS-19":{type:"District",name:"Rasinski okrug"},"RS-KM":{type:"Autonomous province",name:"Kosovo-Metohija"}}},TL:{name:"East Timor",sub:{"TL-ER":{type:"District",name:"Ermera"},"TL-LA":{type:"District",name:"Lautém"},"TL-OE":{type:"District",name:"Oecussi"},"TL-AN":{type:"District",name:"Ainaro"},"TL-AL":{type:"District",name:"Aileu"},"TL-MF":{type:"District",name:"Manufahi"},"TL-MT":{type:"District",name:"Manatuto"},"TL-VI":{type:"District",name:"Vikeke"},"TL-BO":{type:"District",name:"Bobonaro"},"TL-CO":{type:"District",name:"Cova Lima"},"TL-BA":{type:"District",name:"Baucau"},"TL-LI":{type:"District",name:"Likisá"},"TL-DI":{type:"District",name:"Díli"}}},RE:{name:"Reunion",sub:{"RE-RE":{type:"Country",name:"Reunion"}}},TM:{name:"Turkmenistan",sub:{"TM-S":{type:"City",name:"Aşgabat"},"TM-L":{type:"Region",name:"Lebap"},"TM-M":{type:"Region",name:"Mary"},"TM-D":{type:"Region",name:"Daşoguz"},"TM-B":{type:"Region",name:"Balkan"},"TM-A":{type:"Region",name:"Ahal"}}},TJ:{name:"Tajikistan",sub:{"TJ-GB":{type:"Autonomous region",name:"Kŭhistoni Badakhshon"},"TJ-SU":{type:"Region",name:"Sughd"},"TJ-DU":{type:"Capital territory",name:"Dushanbe"},"TJ-KT":{type:"Region",name:"Khatlon"}}},RO:{name:"Romania",sub:{"RO-SB":{type:"Department",name:"Sibiu"},"RO-DB":{type:"Department",name:"Dâmboviţa"},"RO-SM":{type:"Department",name:"Satu Mare"},"RO-SJ":{type:"Department",name:"Sălaj"},"RO-DJ":{type:"Department",name:"Dolj"},"RO-HD":{type:"Department",name:"Hunedoara"},"RO-SV":{type:"Department",name:"Suceava"},"RO-B":{type:"Municipality",name:"Bucureşti"},"RO-HR":{type:"Department",name:"Harghita"},"RO-VS":{type:"Department",name:"Vaslui"},"RO-NT":{type:"Department",name:"Neamţ"},"RO-CV":{type:"Department",name:"Covasna"},"RO-CT":{type:"Department",name:"Constanţa"},"RO-CS":{type:"Department",name:"Caraş-Severin"},"RO-GR":{type:"Department",name:"Giurgiu"},"RO-VN":{type:"Department",name:"Vrancea"},"RO-AR":{type:"Department",name:"Arad"},"RO-GJ":{type:"Department",name:"Gorj"},"RO-GL":{type:"Department",name:"Galaţi"},"RO-CL":{type:"Department",name:"Călăraşi"},"RO-AG":{type:"Department",name:"Argeş"},"RO-CJ":{type:"Department",name:"Cluj"},"RO-AB":{type:"Department",name:"Alba"},"RO-PH":{type:"Department",name:"Prahova"},"RO-TR":{type:"Department",name:"Teleorman"},"RO-OT":{type:"Department",name:"Olt"},"RO-IS":{type:"Department",name:"Iaşi"},"RO-VL":{type:"Department",name:"Vâlcea"},"RO-MS":{type:"Department",name:"Mureş"},"RO-MH":{type:"Department",name:"Mehedinţi"},"RO-IF":{type:"Department",name:"Ilfov"},"RO-MM":{type:"Department",name:"Maramureş"},"RO-IL":{type:"Department",name:"Ialomiţa"},"RO-TM":{type:"Department",name:"Timiş"},"RO-TL":{type:"Department",name:"Tulcea"},"RO-BT":{type:"Department",name:"Botoşani"},"RO-BV":{type:"Department",name:"Braşov"},"RO-BR":{type:"Department",name:"Brăila"},"RO-BZ":{type:"Department",name:"Buzău"},"RO-BC":{type:"Department",name:"Bacău"},"RO-BN":{type:"Department",name:"Bistriţa-Năsăud"},"RO-BH":{type:"Department",name:"Bihor"}}},TK:{name:"Tokelau",sub:{"TK-TK":{type:"Country",name:"Tokelau"}}},GW:{name:"Guinea-Bissau",sub:{"GW-BL":{type:"Region",name:"Bolama"},"GW-BM":{type:"Region",name:"Biombo"},"GW-CA":{type:"Region",name:"Cacheu"},"GW-QU":{type:"Region",name:"Quinara"},"GW-S":{type:"Province",name:"Sul"},"GW-OI":{type:"Region",name:"Oio"},"GW-L":{type:"Province",name:"Leste"},"GW-N":{type:"Province",name:"Norte"},"GW-BA":{type:"Region",name:"Bafatá"},"GW-TO":{type:"Region",name:"Tombali"},"GW-GA":{type:"Region",name:"Gabú"},"GW-BS":{type:"Autonomous sector",name:"Bissau"}}},GU:{name:"Guam",sub:{"GU-GU":{type:"Country",name:"Guam"}}},GT:{name:"Guatemala",sub:{"GT-SO":{type:"Department",name:"Sololá"},"GT-SM":{type:"Department",name:"San Marcos"},"GT-JA":{type:"Department",name:"Jalapa"},"GT-BV":{type:"Department",name:"Baja Verapaz"},"GT-QZ":{type:"Department",name:"Quetzaltenango"},"GT-SA":{type:"Department",name:"Sacatepéquez"},"GT-JU":{type:"Department",name:"Jutiapa"},"GT-HU":{type:"Department",name:"Huehuetenango"},"GT-QC":{type:"Department",name:"Quiché"},"GT-SU":{type:"Department",name:"Suchitepéquez"},"GT-SR":{type:"Department",name:"Santa Rosa"},"GT-ZA":{type:"Department",name:"Zacapa"},"GT-RE":{type:"Department",name:"Retalhuleu"},"GT-PE":{type:"Department",name:"Petén"},"GT-CQ":{type:"Department",name:"Chiquimula"},"GT-TO":{type:"Department",name:"Totonicapán"},"GT-CM":{type:"Department",name:"Chimaltenango"},"GT-IZ":{type:"Department",name:"Izabal"},"GT-PR":{type:"Department",name:"El Progreso"},"GT-AV":{type:"Department",name:"Alta Verapaz"},"GT-GU":{type:"Department",name:"Guatemala"},"GT-ES":{type:"Department",name:"Escuintla"}}},GS:{name:"S.Georgia & S.Sandwich Islands",sub:{"GS-GS":{type:"Country",name:"S.Georgia & S.Sandwich Islands"}}},GR:{name:"Greece",sub:{"GR-85":{type:"Department",name:"Chíos"},"GR-84":{type:"Department",name:"Sámos"},"GR-64":{type:"Department",name:"Chalkidikí"},"GR-81":{type:"Department",name:"Dodekánisa"},"GR-83":{type:"Department",name:"Lésvos"},"GR-54":{type:"Department",name:"Thessaloníki"},"GR-A":{type:"Administrative region",name:"Anatolikí Makedonía kai Thráki"},"GR-G":{type:"Administrative region",name:"Dytikí Elláda"},"GR-B":{type:"Administrative region",name:"Kentrikí Makedonía"},"GR-73":{type:"Department",name:"Rodópi"},"GR-J":{type:"Administrative region",name:"Peloponnísos"},"GR-I":{type:"Administrative region",name:"Attikí"},"GR-34":{type:"Department",name:"Préveza"},"GR-53":{type:"Department",name:"Imathía"},"GR-51":{type:"Department",name:"Grevená"},"GR-56":{type:"Department",name:"Kastoriá"},"GR-31":{type:"Department",name:"Árta"},"GR-32":{type:"Department",name:"Thesprotía"},"GR-33":{type:"Department",name:"Ioánnina"},"GR-71":{type:"Department",name:"Évros"},"GR-58":{type:"Department",name:"Kozáni"},"GR-59":{type:"Department",name:"Pélla"},"GR-16":{type:"Department",name:"Lakonía"},"GR-17":{type:"Department",name:"Messinía"},"GR-14":{type:"Department",name:"Ileía"},"GR-15":{type:"Department",name:"Korinthía"},"GR-12":{type:"Department",name:"Arkadía"},"GR-13":{type:"Department",name:"Achaḯa"},"GR-11":{type:"Department",name:"Argolída"},"GR-52":{type:"Department",name:"Dráma"},"GR-94":{type:"Department",name:"Chaniá"},"GR-92":{type:"Department",name:"Lasíthi"},"GR-93":{type:"Department",name:"Rethýmnis"},"GR-91":{type:"Department",name:"Irakleío"},"GR-L":{type:"Administrative region",name:"Notío Aigaío"},"GR-A1":{type:"Department",name:"Attikí"},"GR-05":{type:"Department",name:"Evrytanía"},"GR-04":{type:"Department",name:"Évvoia"},"GR-82":{type:"Department",name:"Kykládes"},"GR-07":{type:"Department",name:"Fokída"},"GR-57":{type:"Department",name:"Kilkís"},"GR-41":{type:"Department",name:"Kardítsa"},"GR-M":{type:"Administrative region",name:"Krítí"},"GR-43":{type:"Department",name:"Magnisía"},"GR-42":{type:"Department",name:"Lárisa"},"GR-H":{type:"Administrative region",name:"Stereá Elláda"},"GR-44":{type:"Department",name:"Tríkala"},"GR-69":{type:"Self-governed part",name:"Ágion Óros"},"GR-K":{type:"Administrative region",name:"Voreío Aigaío"},"GR-D":{type:"Administrative region",name:"Ípeiros"},"GR-E":{type:"Administrative region",name:"Thessalía"},"GR-F":{type:"Administrative region",name:"Ionía Nísia"},"GR-55":{type:"Department",name:"Kavála"},"GR-63":{type:"Department",name:"Flórina"},"GR-62":{type:"Department",name:"Sérres"},"GR-61":{type:"Department",name:"Piería"},"GR-C":{type:"Administrative region",name:"Dytikí Makedonía"},"GR-23":{type:"Department",name:"Kefallinía"},"GR-22":{type:"Department",name:"Kérkyra"},"GR-21":{type:"Department",name:"Zákynthos"},"GR-06":{type:"Department",name:"Fthiótida"},"GR-01":{type:"Department",name:"Aitoloakarnanía"},"GR-72":{type:"Department",name:"Xánthi"},"GR-03":{type:"Department",name:"Voiotía"},"GR-24":{type:"Department",name:"Lefkáda"}}},GQ:{name:"Equatorial Guinea",sub:{"GQ-LI":{type:"Province",name:"Litoral"},"GQ-C":{type:"Region",name:"Região Continental"},"GQ-BN":{type:"Province",name:"Bioko Nord"},"GQ-AN":{type:"Province",name:"Annobón"},"GQ-I":{type:"Region",name:"Região Insular"},"GQ-KN":{type:"Province",name:"Kié-Ntem"},"GQ-BS":{type:"Province",name:"Bioko Sud"},"GQ-CS":{type:"Province",name:"Centro Sud"},"GQ-WN":{type:"Province",name:"Wele-Nzas"}}},GP:{name:"Guadeloupe",sub:{"GP-GP":{type:"Country",name:"Guadeloupe"}}},JP:{name:"Japan",sub:{"JP-37":{type:"Prefecture",name:"Kagawa"},"JP-36":{type:"Prefecture",name:"Tokushima"},"JP-35":{type:"Prefecture",name:"Yamaguchi"},"JP-34":{type:"Prefecture",name:"Hiroshima"},"JP-33":{type:"Prefecture",name:"Okayama"},"JP-32":{type:"Prefecture",name:"Shimane"},"JP-31":{type:"Prefecture",name:"Tottori"},"JP-30":{type:"Prefecture",name:"Wakayama"},"JP-39":{type:"Prefecture",name:"Kochi"},"JP-38":{type:"Prefecture",name:"Ehime"},"JP-19":{type:"Prefecture",name:"Yamanashi"},"JP-18":{type:"Prefecture",name:"Fukui"},"JP-11":{type:"Prefecture",name:"Saitama"},"JP-10":{type:"Prefecture",name:"Gunma"},"JP-13":{type:"Prefecture",name:"Tôkyô"},"JP-12":{type:"Prefecture",name:"Chiba"},"JP-15":{type:"Prefecture",name:"Niigata"},"JP-14":{type:"Prefecture",name:"Kanagawa"},"JP-17":{type:"Prefecture",name:"Ishikawa"},"JP-16":{type:"Prefecture",name:"Toyama"},"JP-20":{type:"Prefecture",name:"Nagano"},"JP-21":{type:"Prefecture",name:"Gifu"},"JP-22":{type:"Prefecture",name:"Shizuoka"},"JP-23":{type:"Prefecture",name:"Aichi"},"JP-24":{type:"Prefecture",name:"Mie"},"JP-25":{type:"Prefecture",name:"Shiga"},"JP-26":{type:"Prefecture",name:"Kyoto"},"JP-27":{type:"Prefecture",name:"Osaka"},"JP-28":{type:"Prefecture",name:"Hyogo"},"JP-29":{type:"Prefecture",name:"Nara"},"JP-46":{type:"Prefecture",name:"Kagoshima"},"JP-47":{type:"Prefecture",name:"Okinawa"},"JP-08":{type:"Prefecture",name:"Ibaraki"},"JP-09":{type:"Prefecture",name:"Tochigi"},"JP-42":{type:"Prefecture",name:"Nagasaki"},"JP-43":{type:"Prefecture",name:"Kumamoto"},"JP-40":{type:"Prefecture",name:"Fukuoka"},"JP-41":{type:"Prefecture",name:"Saga"},"JP-02":{type:"Prefecture",name:"Aomori"},"JP-03":{type:"Prefecture",name:"Iwate"},"JP-01":{type:"Prefecture",name:"Hokkaido"},"JP-06":{type:"Prefecture",name:"Yamagata"},"JP-07":{type:"Prefecture",name:"Fukushima"},"JP-04":{type:"Prefecture",name:"Miyagi"},"JP-05":{type:"Prefecture",name:"Akita"},"JP-44":{type:"Prefecture",name:"Oita"},"JP-45":{type:"Prefecture",name:"Miyazaki"}}},GY:{name:"Guyana",sub:{"GY-UT":{type:"Region",name:"Upper Takutu-Upper Essequibo"},"GY-MA":{type:"Region",name:"Mahaica-Berbice"},"GY-PM":{type:"Region",name:"Pomeroon-Supenaam"},"GY-UD":{type:"Region",name:"Upper Demerara-Berbice"},"GY-ES":{type:"Region",name:"Essequibo Islands-West Demerara"},"GY-EB":{type:"Region",name:"East Berbice-Corentyne"},"GY-PT":{type:"Region",name:"Potaro-Siparuni"},"GY-CU":{type:"Region",name:"Cuyuni-Mazaruni"},"GY-BA":{type:"Region",name:"Barima-Waini"},"GY-DE":{type:"Region",name:"Demerara-Mahaica"}}},GG:{name:"Guernsey",sub:{"GG-GG":{type:"Country",name:"Guernsey"}}},GF:{name:"French Guiana",sub:{"GF-GF":{type:"Country",name:"French Guiana"}}},GE:{name:"Georgia",sub:{"GE-GU":{type:"Region",name:"Guria"},"GE-SK":{type:"Region",name:"Shida Kartli"},"GE-SJ":{type:"Region",name:"Samtskhe-Javakheti"},"GE-AB":{type:"Autonomous republic",name:"Abkhazia"},"GE-MM":{type:"Region",name:"Mtskheta-Mtianeti"},"GE-AJ":{type:"Autonomous republic",name:"Ajaria"},"GE-TB":{type:"City",name:"Tbilisi"},"GE-KA":{type:"Region",name:"K'akheti"},"GE-IM":{type:"Region",name:"Imereti"},"GE-SZ":{type:"Region",name:"Samegrelo-Zemo Svaneti"},"GE-KK":{type:"Region",name:"Kvemo Kartli"},"GE-RL":{type:"Region",name:"Rach'a-Lechkhumi-Kvemo Svaneti"}}},GD:{name:"Grenada",sub:{"GD-03":{type:"Parish",name:"Saint George"},"GD-02":{type:"Parish",name:"Saint David"},"GD-01":{type:"Parish",name:"Saint Andrew"},"GD-06":{type:"Parish",name:"Saint Patrick"},"GD-05":{type:"Parish",name:"Saint Mark"},"GD-04":{type:"Parish",name:"Saint John"},"GD-10":{type:"Dependency",name:"Southern Grenadine Islands"}}},GB:{name:"United Kingdom",sub:{"GB-TRF":{type:"Metropolitan district",name:"Trafford"},"GB-WRX":{type:"Unitary authority",name:"Wrexham"},"GB-BEN":{type:"London borough",name:"Brent"},"GB-HRW":{type:"London borough",name:"Harrow"},"GB-WRT":{type:"Unitary authority",name:"Warrington"},"GB-LBH":{type:"London borough",name:"Lambeth"},"GB-DAL":{type:"Unitary authority",name:"Darlington"},"GB-WRL":{type:"Metropolitan district",name:"Wirral"},"GB-MYL":{type:"District council area",name:"Moyle"},"GB-UKM":{type:"Nation",name:"United Kingdom"},"GB-BEX":{type:"London borough",name:"Bexley"},"GB-BUR":{type:"Metropolitan district",name:"Bury"},"GB-KIR":{type:"Metropolitan district",name:"Kirklees"},"GB-FER":{type:"District council area",name:"Fermanagh"},"GB-NBL":{type:"Unitary authority",name:"Northumberland"},"GB-DRY":{type:"District council area",name:"Derry"},"GB-CKF":{type:"District council area",name:"Carrickfergus"},"GB-ERY":{type:"Unitary authority",name:"East Riding of Yorkshire"},"GB-CMA":{type:"Two-tier county",name:"Cumbria"},"GB-HCK":{type:"London borough",name:"Hackney"},"GB-CRY":{type:"London borough",name:"Croydon"},"GB-ABE":{type:"Council area",name:"Aberdeen City"},"GB-ABD":{type:"Council area",name:"Aberdeenshire"},"GB-CKT":{type:"District council area",name:"Cookstown"},"GB-ERW":{type:"Council area",name:"East Renfrewshire"},"GB-HIL":{type:"London borough",name:"Hillingdon"},"GB-NLN":{type:"Unitary authority",name:"North Lincolnshire"},"GB-WSX":{type:"Two-tier county",name:"West Sussex"},"GB-BIR":{type:"Metropolitan district",name:"Birmingham"},"GB-WBK":{type:"Unitary authority",name:"West Berkshire"},"GB-EDU":{type:"Council area",name:"East Dunbartonshire"},"GB-WSM":{type:"London borough",name:"Westminster"},"GB-STS":{type:"Two-tier county",name:"Staffordshire"},"GB-HRT":{type:"Two-tier county",name:"Hertfordshire"},"GB-LSB":{type:"District council area",name:"Lisburn"},"GB-EDH":{type:"Council area",name:"Edinburgh, City of"},"GB-HRY":{type:"London borough",name:"Haringey"},"GB-LAN":{type:"Two-tier county",name:"Lancashire"},"GB-RIC":{type:"London borough",name:"Richmond upon Thames"},"GB-LRN":{type:"District council area",name:"Larne"},"GB-ZET":{type:"Council area",name:"Shetland Islands"},"GB-ELS":{type:"Council area",name:"Eilean Siar"},"GB-NTA":{type:"District council area",name:"Newtownabbey"},"GB-SRY":{type:"Two-tier county",name:"Surrey"},"GB-BMH":{type:"Unitary authority",name:"Bournemouth"},"GB-CHE":{type:"Unitary authority",name:"Cheshire East"},"GB-FLN":{type:"Unitary authority",name:"Flintshire"},"GB-NET":{type:"Metropolitan district",name:"Newcastle upon Tyne"},"GB-NTH":{type:"Two-tier county",name:"Northamptonshire"},"GB-NTT":{type:"Two-tier county",name:"Nottinghamshire"},"GB-NTL":{type:"Unitary authority",name:"Neath Port Talbot"},"GB-ESX":{type:"Two-tier county",name:"East Sussex"},"GB-KTT":{type:"London borough",name:"Kingston upon Thames"},"GB-MRT":{type:"London borough",name:"Merton"},"GB-OXF":{type:"Two-tier county",name:"Oxfordshire"},"GB-MRY":{type:"Council area",name:"Moray"},"GB-ESS":{type:"Two-tier county",name:"Essex"},"GB-CHW":{type:"Unitary authority",name:"Cheshire West and Chester"},"GB-SOS":{type:"Unitary authority",name:"Southend-on-Sea"},"GB-PEM":{type:"Unitary authority",name:"Pembrokeshire"},"GB-NTY":{type:"Metropolitan district",name:"North Tyneside"},"GB-NEL":{type:"Unitary authority",name:"North East Lincolnshire"},"GB-HAL":{type:"Unitary authority",name:"Halton"},"GB-RFW":{type:"Council area",name:"Renfrewshire"},"GB-LUT":{type:"Unitary authority",name:"Luton"},"GB-WOK":{type:"Unitary authority",name:"Wokingham"},"GB-WOR":{type:"Two-tier county",name:"Worcestershire"},"GB-HLD":{type:"Council area",name:"Highland"},"GB-MFT":{type:"District council area",name:"Magherafelt"},"GB-NSM":{type:"Unitary authority",name:"North Somerset"},"GB-LDS":{type:"Metropolitan district",name:"Leeds"},"GB-KWL":{type:"Metropolitan district",name:"Knowsley"},"GB-SOM":{type:"Two-tier county",name:"Somerset"},"GB-DEN":{type:"Unitary authority",name:"Denbighshire"},"GB-BST":{type:"Unitary authority",name:"Bristol, City of"},"GB-EAL":{type:"London borough",name:"Ealing"},"GB-RDB":{type:"London borough",name:"Redbridge"},"GB-CSR":{type:"District council area",name:"Castlereagh"},"GB-RDG":{type:"Unitary authority",name:"Reading"},"GB-EAW":{type:"Nation",name:"England and Wales"},"GB-CMD":{type:"London borough",name:"Camden"},"GB-MON":{type:"Unitary authority",name:"Monmouthshire"},"GB-OLD":{type:"Metropolitan district",name:"Oldham"},"GB-CON":{type:"Unitary authority",name:"Cornwall"},"GB-CMN":{type:"Unitary authority",name:"Carmarthenshire"},"GB-EAY":{type:"Council area",name:"East Ayrshire"},"GB-HEF":{type:"Unitary authority",name:"Herefordshire"},"GB-ROT":{type:"Metropolitan district",name:"Rotherham"},"GB-NAY":{type:"Council area",name:"North Ayrshire"},"GB-BBD":{type:"Unitary authority",name:"Blackburn with Darwen"},"GB-TOF":{type:"Unitary authority",name:"Torfaen"},"GB-WDU":{type:"Council area",name:"West Dunbartonshire"},"GB-WLL":{type:"Metropolitan district",name:"Walsall"},"GB-WLN":{type:"Council area",name:"West Lothian"},"GB-GRE":{type:"London borough",name:"Greenwich"},"GB-MIK":{type:"Unitary authority",name:"Milton Keynes"},"GB-KEC":{type:"London borough",name:"Kensington and Chelsea"},"GB-MAN":{type:"Metropolitan district",name:"Manchester"},"GB-WLV":{type:"Metropolitan district",name:"Wolverhampton"},"GB-WLS":{type:"Country",name:"Wales"},"GB-ELN":{type:"Council area",name:"East Lothian"},"GB-CBF":{type:"Unitary authority",name:"Central Bedfordshire"},"GB-STH":{type:"Unitary authority",name:"Southampton"},"GB-KEN":{type:"Two-tier county",name:"Kent"},"GB-STY":{type:"Metropolitan district",name:"South Tyneside"},"GB-LCE":{type:"Unitary authority",name:"Leicester"},"GB-ARM":{type:"District council area",name:"Armagh"},"GB-BKM":{type:"Two-tier county",name:"Buckinghamshire"},"GB-SLG":{type:"Unitary authority",name:"Slough"},"GB-SLF":{type:"Metropolitan district",name:"Salford"},"GB-ORK":{type:"Council area",name:"Orkney Islands"},"GB-ARD":{type:"District council area",name:"Ards"},"GB-SLK":{type:"Council area",name:"South Lanarkshire"},"GB-BRY":{type:"London borough",name:"Bromley"},"GB-STT":{type:"Unitary authority",name:"Stockton-on-Tees"},"GB-POL":{type:"Unitary authority",name:"Poole"},"GB-BRC":{type:"Unitary authority",name:"Bracknell Forest"},"GB-SHN":{type:"Metropolitan district",name:"St. Helens"},"GB-POW":{type:"Unitary authority",name:"Powys"},"GB-GBN":{type:"Nation",name:"Great Britain"},"GB-BRD":{type:"Metropolitan district",name:"Bradford"},"GB-CRF":{type:"Unitary authority",name:"Cardiff"},"GB-STB":{type:"District council area",name:"Strabane"},"GB-STE":{type:"Unitary authority",name:"Stoke-on-Trent"},"GB-DBY":{type:"Two-tier county",name:"Derbyshire"},"GB-STG":{type:"Council area",name:"Stirling"},"GB-AGB":{type:"Council area",name:"Argyll and Bute"},"GB-DEV":{type:"Two-tier county",name:"Devon"},"GB-WIL":{type:"Unitary authority",name:"Wiltshire"},"GB-DER":{type:"Unitary authority",name:"Derby"},"GB-HNS":{type:"London borough",name:"Hounslow"},"GB-SAW":{type:"Metropolitan district",name:"Sandwell"},"GB-PLY":{type:"Unitary authority",name:"Plymouth"},"GB-NIR":{type:"Province",name:"Northern Ireland"},"GB-THR":{type:"Unitary authority",name:"Thurrock"},"GB-BAS":{type:"Unitary authority",name:"Bath and North East Somerset"},"GB-FIF":{type:"Council area",name:"Fife"},"GB-AGY":{type:"Unitary authority",name:"Isle of Anglesey"},"GB-SAY":{type:"Council area",name:"South Ayrshire"},"GB-NFK":{type:"Two-tier county",name:"Norfolk"},"GB-TFW":{type:"Unitary authority",name:"Telford and Wrekin"},"GB-BNE":{type:"London borough",name:"Barnet"},"GB-BNB":{type:"District council area",name:"Banbridge"},"GB-TOB":{type:"Unitary authority",name:"Torbay"},"GB-CGN":{type:"Unitary authority",name:"Ceredigion"},"GB-BFS":{type:"District council area",name:"Belfast"},"GB-BNH":{type:"Unitary authority",name:"Brighton and Hove"},"GB-WAR":{type:"Two-tier county",name:"Warwickshire"},"GB-CGV":{type:"District council area",name:"Craigavon"},"GB-BNS":{type:"Metropolitan district",name:"Barnsley"},"GB-TWH":{type:"London borough",name:"Tower Hamlets"},"GB-ANS":{type:"Council area",name:"Angus"},"GB-FAL":{type:"Council area",name:"Falkirk"},"GB-NYK":{type:"Two-tier county",name:"North Yorkshire"},"GB-ANT":{type:"District council area",name:"Antrim"},"GB-SWD":{type:"Unitary authority",name:"Swindon"},"GB-IOS":{type:"Unitary authority",name:"Isles of Scilly"},"GB-WNM":{type:"Unitary authority",name:"Windsor and Maidenhead"},"GB-IOW":{type:"Unitary authority",name:"Isle of Wight"},"GB-GLS":{type:"Two-tier county",name:"Gloucestershire"},"GB-SFT":{type:"Metropolitan district",name:"Sefton"},"GB-IVC":{type:"Council area",name:"Inverclyde"},"GB-WND":{type:"London borough",name:"Wandsworth"},"GB-LEC":{type:"Two-tier county",name:"Leicestershire"},"GB-SWK":{type:"London borough",name:"Southwark"},"GB-YOR":{type:"Unitary authority",name:"York"},"GB-GLG":{type:"Council area",name:"Glasgow City"},"GB-RUT":{type:"Unitary authority",name:"Rutland"},"GB-HMF":{type:"London borough",name:"Hammersmith and Fulham"},"GB-SFK":{type:"Two-tier county",name:"Suffolk"},"GB-LEW":{type:"London borough",name:"Lewisham"},"GB-NYM":{type:"District council area",name:"Newry and Mourne"},"GB-DUD":{type:"Metropolitan district",name:"Dudley"},"GB-CLR":{type:"District council area",name:"Coleraine"},"GB-CWY":{type:"Unitary authority",name:"Conwy"},"GB-SND":{type:"Metropolitan district",name:"Sunderland"},"GB-BPL":{type:"Unitary authority",name:"Blackpool"},"GB-VGL":{type:"Unitary authority",name:"Vale of Glamorgan, The"},"GB-WFT":{type:"London borough",name:"Waltham Forest"},"GB-LND":{type:"City corporation",name:"London, City of"},"GB-CLD":{type:"Metropolitan district",name:"Calderdale"},"GB-GWN":{type:"Unitary authority",name:"Gwynedd"},"GB-DUR":{type:"Unitary authority",name:"Durham County"},"GB-SCT":{type:"Country",name:"Scotland"},"GB-CLK":{type:"Council area",name:"Clackmannanshire"},"GB-ENG":{type:"Country",name:"England"},"GB-MDW":{type:"Unitary authority",name:"Medway"},"GB-SCB":{type:"Council area",name:"Scottish Borders, The"},"GB-DNC":{type:"Metropolitan district",name:"Doncaster"},"GB-TAM":{type:"Metropolitan district",name:"Tameside"},"GB-WGN":{type:"Metropolitan district",name:"Wigan"},"GB-DGY":{type:"Council area",name:"Dumfries and Galloway"},"GB-PTE":{type:"Unitary authority",name:"Peterborough"},"GB-SKP":{type:"Metropolitan district",name:"Stockport"},"GB-NWP":{type:"Unitary authority",name:"Newport"},"GB-ISL":{type:"London borough",name:"Islington"},"GB-SGC":{type:"Unitary authority",name:"South Gloucestershire"},"GB-CAY":{type:"Unitary authority",name:"Caerphilly"},"GB-DGN":{type:"District council area",name:"Dungannon and South Tyrone"},"GB-WKF":{type:"Metropolitan district",name:"Wakefield"},"GB-NWM":{type:"London borough",name:"Newham"},"GB-MDB":{type:"Unitary authority",name:"Middlesbrough"},"GB-CAM":{type:"Two-tier county",name:"Cambridgeshire"},"GB-SWA":{type:"Unitary authority",name:"Swansea"},"GB-DOW":{type:"District council area",name:"Down"},"GB-BLA":{type:"District council area",name:"Ballymena"},"GB-HAV":{type:"London borough",name:"Havering"},"GB-DOR":{type:"Two-tier county",name:"Dorset"},"GB-GAT":{type:"Metropolitan district",name:"Gateshead"},"GB-POR":{type:"Unitary authority",name:"Portsmouth"},"GB-NLK":{type:"Council area",name:"North Lanarkshire"},"GB-LIV":{type:"Metropolitan district",name:"Liverpool"},"GB-LIN":{type:"Two-tier county",name:"Lincolnshire"},"GB-HAM":{type:"Two-tier county",name:"Hampshire"},"GB-BLY":{type:"District council area",name:"Ballymoney"},"GB-NDN":{type:"District council area",name:"North Down"},"GB-BDF":{type:"Unitary authority",name:"Bedford"},"GB-BDG":{type:"London borough",name:"Barking and Dagenham"},"GB-SOL":{type:"Metropolitan district",name:"Solihull"},"GB-OMH":{type:"District council area",name:"Omagh"},"GB-HPL":{type:"Unitary authority",name:"Hartlepool"},"GB-COV":{type:"Metropolitan district",name:"Coventry"},"GB-SHR":{type:"Unitary authority",name:"Shropshire"},"GB-PKN":{type:"Council area",name:"Perth and Kinross"},"GB-LMV":{type:"District council area",name:"Limavady"},"GB-RCH":{type:"Metropolitan district",name:"Rochdale"},"GB-SHF":{type:"Metropolitan district",name:"Sheffield"},"GB-NGM":{type:"Unitary authority",name:"Nottingham"},"GB-RCT":{type:"Unitary authority",name:"Rhondda, Cynon, Taff"},"GB-BOL":{type:"Metropolitan district",name:"Bolton"},"GB-BGW":{type:"Unitary authority",name:"Blaenau Gwent"},"GB-ENF":{type:"London borough",name:"Enfield"},"GB-DND":{type:"Council area",name:"Dundee City"},"GB-STN":{type:"London borough",name:"Sutton"},"GB-MLN":{type:"Council area",name:"Midlothian"},"GB-RCC":{type:"Unitary authority",name:"Redcar and Cleveland"},"GB-BGE":{type:"Unitary authority",name:"Bridgend"},"GB-KHL":{type:"Unitary authority",name:"Kingston upon Hull"},"GB-MTY":{type:"Unitary authority",name:"Merthyr Tydfil"}}},GA:{name:"Gabon",sub:{"GA-7":{type:"Province",name:"Ogooué-Lolo"},"GA-6":{type:"Province",name:"Ogooué-Ivindo"},"GA-5":{type:"Province",name:"Nyanga"},"GA-4":{type:"Province",name:"Ngounié"},"GA-3":{type:"Province",name:"Moyen-Ogooué"},"GA-2":{type:"Province",name:"Haut-Ogooué"},"GA-1":{type:"Province",name:"Estuaire"},"GA-9":{type:"Province",name:"Woleu-Ntem"},"GA-8":{type:"Province",name:"Ogooué-Maritime"}}},GN:{name:"Guinea",sub:{"GN-GU":{type:"Prefecture",name:"Guékédou"},"GN-YO":{type:"Prefecture",name:"Yomou"},"GN-TE":{type:"Prefecture",name:"Télimélé"},"GN-GA":{type:"Prefecture",name:"Gaoual"},"GN-PI":{type:"Prefecture",name:"Pita"},"GN-ML":{type:"Prefecture",name:"Mali"},"GN-MM":{type:"Prefecture",name:"Mamou"},"GN-DI":{type:"Prefecture",name:"Dinguiraye"},"GN-MD":{type:"Prefecture",name:"Mandiana"},"GN-KS":{type:"Prefecture",name:"Kissidougou"},"GN-MC":{type:"Prefecture",name:"Macenta"},"GN-CO":{type:"Prefecture",name:"Coyah"},"GN-LA":{type:"Prefecture",name:"Labé"},"GN-B":{type:"Administrative region",name:"Boké"},"GN-C":{type:"Governorate",name:"Conakry"},"GN-D":{type:"Administrative region",name:"Kindia"},"GN-F":{type:"Administrative region",name:"Faranah"},"GN-KO":{type:"Prefecture",name:"Kouroussa"},"GN-KA":{type:"Prefecture",name:"Kankan"},"GN-KB":{type:"Prefecture",name:"Koubia"},"GN-K":{type:"Administrative region",name:"Kankan"},"GN-KD":{type:"Prefecture",name:"Kindia"},"GN-KE":{type:"Prefecture",name:"Kérouané"},"GN-N":{type:"Administrative region",name:"Nzérékoré"},"GN-DU":{type:"Prefecture",name:"Dubréka"},"GN-FR":{type:"Prefecture",name:"Fria"},"GN-KN":{type:"Prefecture",name:"Koundara"},"GN-LO":{type:"Prefecture",name:"Lola"},"GN-FA":{type:"Prefecture",name:"Faranah"},"GN-DB":{type:"Prefecture",name:"Dabola"},"GN-DL":{type:"Prefecture",name:"Dalaba"},"GN-FO":{type:"Prefecture",name:"Forécariah"},"GN-BF":{type:"Prefecture",name:"Boffa"},"GN-BE":{type:"Prefecture",name:"Beyla"},"GN-LE":{type:"Prefecture",name:"Lélouma"},"GN-L":{type:"Administrative region",name:"Labé"},"GN-BK":{type:"Prefecture",name:"Boké"},"GN-M":{type:"Administrative region",name:"Mamou"},"GN-NZ":{type:"Prefecture",name:"Nzérékoré"},"GN-SI":{type:"Prefecture",name:"Siguiri"},"GN-TO":{type:"Prefecture",name:"Tougué"}}},GM:{name:"Gambia",sub:{"GM-N":{type:"Division",name:"North Bank"},"GM-M":{type:"Division",name:"Central River"},"GM-L":{type:"Division",name:"Lower River"},"GM-B":{type:"City",name:"Banjul"},"GM-W":{type:"Division",name:"Western"},"GM-U":{type:"Division",name:"Upper River"}}},GL:{name:"Greenland",sub:{"GL-QE":{type:"Municipality",name:"Qeqqata Kommunia"},"GL-KU":{type:"Municipality",name:"Kommune Kujalleq"},"GL-QA":{type:"Municipality",name:"Qaasuitsup Kommunia"},"GL-SM":{type:"Municipality",name:"Kommuneqarfik Sermersooq"}}},GI:{name:"Gibraltar",sub:{"GI-GI":{type:"Country",name:"Gibraltar"}}},GH:{name:"Ghana",sub:{"GH-AH":{type:"Region",name:"Ashanti"},"GH-BA":{type:"Region",name:"Brong-Ahafo"},"GH-UW":{type:"Region",name:"Upper West"},"GH-AA":{type:"Region",name:"Greater Accra"},"GH-UE":{type:"Region",name:"Upper East"},"GH-CP":{type:"Region",name:"Central"},"GH-EP":{type:"Region",name:"Eastern"},"GH-NP":{type:"Region",name:"Northern"},"GH-TV":{type:"Region",name:"Volta"},"GH-WP":{type:"Region",name:"Western"}}},OM:{name:"Oman",sub:{"OM-WU":{type:"Region",name:"Al Wusţá"},"OM-ZU":{type:"Governorate",name:"Z̧ufār"},"OM-BA":{type:"Region",name:"Al Bāţinah"},"OM-DA":{type:"Region",name:"Ad Dākhilīyah"},"OM-MU":{type:"Governorate",name:"Musandam"},"OM-SH":{type:"Region",name:"Ash Sharqīyah"},"OM-ZA":{type:"Region",name:"Az̧ Z̧āhirah"},"OM-MA":{type:"Governorate",name:"Masqaţ"},"OM-BU":{type:"Governorate",name:"Al Buraymī"}}},TN:{name:"Tunisia",sub:{"TN-61":{type:"Governorate",name:"Sfax"},"TN-14":{type:"Governorate",name:"La Manouba"},"TN-82":{type:"Governorate",name:"Medenine"},"TN-83":{type:"Governorate",name:"Tataouine"},"TN-81":{type:"Governorate",name:"Gabès"},"TN-42":{type:"Governorate",name:"Kasserine"},"TN-43":{type:"Governorate",name:"Sidi Bouzid"},"TN-41":{type:"Governorate",name:"Kairouan"},"TN-21":{type:"Governorate",name:"Nabeul"},"TN-22":{type:"Governorate",name:"Zaghouan"},"TN-23":{type:"Governorate",name:"Bizerte"},"TN-12":{type:"Governorate",name:"Ariana"},"TN-73":{type:"Governorate",name:"Kebili"},"TN-72":{type:"Governorate",name:"Tozeur"},"TN-71":{type:"Governorate",name:"Gafsa"},"TN-33":{type:"Governorate",name:"Le Kef"},"TN-32":{type:"Governorate",name:"Jendouba"},"TN-31":{type:"Governorate",name:"Béja"},"TN-11":{type:"Governorate",name:"Tunis"},"TN-13":{type:"Governorate",name:"Ben Arous"},"TN-34":{type:"Governorate",name:"Siliana"},"TN-51":{type:"Governorate",name:"Sousse"},"TN-53":{type:"Governorate",name:"Mahdia"},"TN-52":{type:"Governorate",name:"Monastir"}}},JO:{name:"Jordan",sub:{"JO-AT":{type:"Governorate",name:"Aţ Ţafīlah"},"JO-MA":{type:"Governorate",name:"Al Mafraq"},"JO-MD":{type:"Governorate",name:"Mādabā"},"JO-AQ":{type:"Governorate",name:"Al ʽAqabah"},"JO-MN":{type:"Governorate",name:"Ma'ān"},"JO-BA":{type:"Governorate",name:"Al Balqā'"},"JO-AZ":{type:"Governorate",name:"Az Zarqā'"},"JO-JA":{type:"Governorate",name:"Jarash"},"JO-IR":{type:"Governorate",name:"Irbid"},"JO-KA":{type:"Governorate",name:"Al Karak"},"JO-AM":{type:"Governorate",name:"‘Ammān"},"JO-AJ":{type:"Governorate",name:"ʽAjlūn"}}},HR:{name:"Croatia",sub:{"HR-16":{type:"County",name:"Vukovarsko-srijemska županija"},"HR-19":{type:"County",name:"Dubrovačko-neretvanska županija"},"HR-18":{type:"County",name:"Istarska županija"},"HR-08":{type:"County",name:"Primorsko-goranska županija"},"HR-09":{type:"County",name:"Ličko-senjska županija"},"HR-06":{type:"County",name:"Koprivničko-križevačka županija"},"HR-07":{type:"County",name:"Bjelovarsko-bilogorska županija"},"HR-04":{type:"County",name:"Karlovačka županija"},"HR-05":{type:"County",name:"Varaždinska županija"},"HR-02":{type:"County",name:"Krapinsko-zagorska županija"},"HR-03":{type:"County",name:"Sisačko-moslavačka županija"},"HR-13":{type:"County",name:"Zadarska županija"},"HR-01":{type:"County",name:"Zagrebačka županija"},"HR-15":{type:"County",name:"Šibensko-kninska županija"},"HR-20":{type:"County",name:"Međimurska županija"},"HR-21":{type:"City",name:"Grad Zagreb"},"HR-14":{type:"County",name:"Osječko-baranjska županija"},"HR-12":{type:"County",name:"Brodsko-posavska županija"},"HR-10":{type:"County",name:"Virovitičko-podravska županija"},"HR-17":{type:"County",name:"Splitsko-dalmatinska županija"},"HR-11":{type:"County",name:"Požeško-slavonska županija"}}},HT:{name:"Haiti",sub:{"HT-CE":{type:"Department",name:"Centre"},"HT-OU":{type:"Department",name:"Lwès"},"HT-GA":{type:"Department",name:"Grandans"},"HT-NI":{type:"Department",name:"Nip"},"HT-NO":{type:"Department",name:"Nòdwès"},"HT-SD":{type:"Department",name:"Sid"},"HT-SE":{type:"Department",name:"Sidès"},"HT-AR":{type:"Department",name:"Artibonite"},"HT-ND":{type:"Department",name:"Nò"},"HT-NE":{type:"Department",name:"Nòdès"}}},HU:{name:"Hungary",sub:{"HU-HE":{type:"County",name:"Heves"},"HU-BU":{type:"Capital city",name:"Budapest"},"HU-HB":{type:"County",name:"Hajdú-Bihar"},"HU-FE":{type:"County",name:"Fejér"},"HU-SN":{type:"City of county right",name:"Sopron"},"HU-BZ":{type:"County",name:"Borsod-Abaúj-Zemplén"},"HU-DE":{type:"City of county right",name:"Debrecen"},"HU-BA":{type:"County",name:"Baranya"},"HU-HV":{type:"City of county right",name:"Hódmezővásárhely"},"HU-BC":{type:"City of county right",name:"Békéscsaba"},"HU-BE":{type:"County",name:"Békés"},"HU-BK":{type:"County",name:"Bács-Kiskun"},"HU-DU":{type:"City of county right",name:"Dunaújváros"},"HU-SF":{type:"City of county right",name:"Székesfehérvár"},"HU-SD":{type:"City of county right",name:"Szeged"},"HU-SK":{type:"City of county right",name:"Szolnok"},"HU-SH":{type:"City of county right",name:"Szombathely"},"HU-KV":{type:"City of county right",name:"Kaposvár"},"HU-SO":{type:"County",name:"Somogy"},"HU-SS":{type:"City of county right",name:"Szekszárd"},"HU-MI":{type:"City of county right",name:"Miskolc"},"HU-ST":{type:"City of county right",name:"Salgótarján"},"HU-KM":{type:"City of county right",name:"Kecskemét"},"HU-SZ":{type:"County",name:"Szabolcs-Szatmár-Bereg"},"HU-KE":{type:"County",name:"Komárom-Esztergom"},"HU-CS":{type:"County",name:"Csongrád"},"HU-ER":{type:"City of county right",name:"Érd"},"HU-ZA":{type:"County",name:"Zala"},"HU-ZE":{type:"City of county right",name:"Zalaegerszeg"},"HU-VM":{type:"City of county right",name:"Veszprém"},"HU-EG":{type:"City of county right",name:"Eger"},"HU-TO":{type:"County",name:"Tolna"},"HU-GY":{type:"City of county right",name:"Győr"},"HU-VE":{type:"County",name:"Veszprém"},"HU-TB":{type:"City of county right",name:"Tatabánya"},"HU-VA":{type:"County",name:"Vas"},"HU-GS":{type:"County",name:"Győr-Moson-Sopron"},"HU-PE":{type:"County",name:"Pest"},"HU-NY":{type:"City of county right",name:"Nyíregyháza"},"HU-JN":{type:"County",name:"Jász-Nagykun-Szolnok"},"HU-NO":{type:"County",name:"Nógrád"},"HU-PS":{type:"City of county right",name:"Pécs"},"HU-NK":{type:"City of county right",name:"Nagykanizsa"}}},HK:{name:"Hong Kong",sub:{"HK-HK":{type:"Country",name:"Hong Kong"}}},HN:{name:"Honduras",sub:{"HN-OC":{type:"Department",name:"Ocotepeque"},"HN-CM":{type:"Department",name:"Comayagua"},"HN-CL":{type:"Department",name:"Colón"},"HN-YO":{type:"Department",name:"Yoro"},"HN-CH":{type:"Department",name:"Choluteca"},"HN-FM":{type:"Department",name:"Francisco Morazán"},"HN-IB":{type:"Department",name:"Islas de la Bahía"},"HN-EP":{type:"Department",name:"El Paraíso"},"HN-OL":{type:"Department",name:"Olancho"},"HN-LE":{type:"Department",name:"Lempira"},"HN-IN":{type:"Department",name:"Intibucá"},"HN-AT":{type:"Department",name:"Atlántida"},"HN-LP":{type:"Department",name:"La Paz"},"HN-VA":{type:"Department",name:"Valle"},"HN-SB":{type:"Department",name:"Santa Bárbara"},"HN-GD":{type:"Department",name:"Gracias a Dios"},"HN-CR":{type:"Department",name:"Cortés"},"HN-CP":{type:"Department",name:"Copán"}}},HM:{name:"Heard & McDonald Islands",sub:{"HM-HM":{type:"Country",name:"Heard & McDonald Islands"}}},VE:{name:"Venezuela",sub:{"VE-L":{type:"State",name:"Mérida"},"VE-M":{type:"State",name:"Miranda"},"VE-N":{type:"State",name:"Monagas"},"VE-O":{type:"State",name:"Nueva Esparta"},"VE-H":{type:"State",name:"Cojedes"},"VE-I":{type:"State",name:"Falcón"},"VE-J":{type:"State",name:"Guárico"},"VE-K":{type:"State",name:"Lara"},"VE-D":{type:"State",name:"Aragua"},"VE-E":{type:"State",name:"Barinas"},"VE-F":{type:"State",name:"Bolívar"},"VE-G":{type:"State",name:"Carabobo"},"VE-A":{type:"Capital district",name:"Distrito Capital"},"VE-B":{type:"State",name:"Anzoátegui"},"VE-C":{type:"State",name:"Apure"},"VE-X":{type:"State",name:"Vargas"},"VE-Y":{type:"State",name:"Delta Amacuro"},"VE-Z":{type:"State",name:"Amazonas"},"VE-T":{type:"State",name:"Trujillo"},"VE-U":{type:"State",name:"Yaracuy"},"VE-V":{type:"State",name:"Zulia"},"VE-W":{type:"Federal dependency",name:"Dependencias Federales"},"VE-P":{type:"State",name:"Portuguesa"},"VE-R":{type:"State",name:"Sucre"},"VE-S":{type:"State",name:"Táchira"}}},PR:{name:"Puerto Rico",sub:{"PR-PR":{type:"Country",name:"Puerto Rico"}}},PS:{name:"Palestine",sub:{"PS-SLT":{type:"Governorate",name:"Salfit"},"PS-HBN":{type:"Governorate",name:"Al Khalīl"},"PS-RBH":{type:"Governorate",name:"Ramallah"},"PS-QQA":{type:"Governorate",name:"Qalqilya"},"PS-TBS":{type:"Governorate",name:"Tubas"},"PS-JEN":{type:"Governorate",name:"Janīn"},"PS-JEM":{type:"Governorate",name:"Al Quds"},"PS-KYS":{type:"Governorate",name:"Khan Yunis"},"PS-DEB":{type:"Governorate",name:"Dayr al Balaḩ"},"PS-BTH":{type:"Governorate",name:"Bayt Laḩm"},"PS-JRH":{type:"Governorate",name:"Arīḩā wa al Aghwār"},"PS-GZA":{type:"Governorate",name:"Gaza"},"PS-NBS":{type:"Governorate",name:"Nablus"},"PS-RFH":{type:"Governorate",name:"Rafah"},"PS-TKM":{type:"Governorate",name:"Tulkarm"},"PS-NGZ":{type:"Governorate",name:"North Gaza"}}},PW:{name:"Palau",sub:{"PW-222":{type:"State",name:"Ngardmau"},"PW-050":{type:"State",name:"Hatobohei"},"PW-218":{type:"State",name:"Ngarchelong"},"PW-226":{type:"State",name:"Ngchesar"},"PW-227":{type:"State",name:"Ngeremlengui"},"PW-224":{type:"State",name:"Ngatpang"},"PW-100":{type:"State",name:"Kayangel"},"PW-212":{type:"State",name:"Melekeok"},"PW-228":{type:"State",name:"Ngiwal"},"PW-150":{type:"State",name:"Koror"},"PW-214":{type:"State",name:"Ngaraard"},"PW-370":{type:"State",name:"Sonsorol"},"PW-004":{type:"State",name:"Airai"},"PW-002":{type:"State",name:"Aimeliik"},"PW-010":{type:"State",name:"Angaur"},"PW-350":{type:"State",name:"Peleliu"}}},PT:{name:"Portugal",sub:{"PT-13":{type:"District",name:"Porto"},"PT-12":{type:"District",name:"Portalegre"},"PT-11":{type:"District",name:"Lisboa"},"PT-10":{type:"District",name:"Leiria"},"PT-08":{type:"District",name:"Faro"},"PT-09":{type:"District",name:"Guarda"},"PT-15":{type:"District",name:"Setúbal"},"PT-14":{type:"District",name:"Santarém"},"PT-04":{type:"District",name:"Bragança"},"PT-05":{type:"District",name:"Castelo Branco"},"PT-06":{type:"District",name:"Coimbra"},"PT-07":{type:"District",name:"Évora"},"PT-01":{type:"District",name:"Aveiro"},"PT-02":{type:"District",name:"Beja"},"PT-03":{type:"District",name:"Braga"},"PT-20":{type:"Autonomous region",name:"Região Autónoma dos Açores"},"PT-18":{type:"District",name:"Viseu"},"PT-17":{type:"District",name:"Vila Real"},"PT-30":{type:"Autonomous region",name:"Região Autónoma da Madeira"},"PT-16":{type:"District",name:"Viana do Castelo"}}},KN:{name:"Saint Kitts And Nevis",sub:{"KN-05":{type:"Parish",name:"Saint James Windward"},"KN-04":{type:"Parish",name:"Saint George Gingerland"},"KN-07":{type:"Parish",name:"Saint John Figtree"},"KN-06":{type:"Parish",name:"Saint John Capisterre"},"KN-01":{type:"Parish",name:"Christ Church Nichola Town"},"KN-10":{type:"Parish",name:"Saint Paul Charlestown"},"KN-03":{type:"Parish",name:"Saint George Basseterre"},"KN-02":{type:"Parish",name:"Saint Anne Sandy Point"},"KN-N":{type:"State",name:"Nevis"},"KN-11":{type:"Parish",name:"Saint Peter Basseterre"},"KN-09":{type:"Parish",name:"Saint Paul Capisterre"},"KN-08":{type:"Parish",name:"Saint Mary Cayon"},"KN-K":{type:"State",name:"Saint Kitts"},"KN-15":{type:"Parish",name:"Trinity Palmetto Point"},"KN-12":{type:"Parish",name:"Saint Thomas Lowland"},"KN-13":{type:"Parish",name:"Saint Thomas Middle Island"}}},PY:{name:"Paraguay",sub:{"PY-19":{type:"Department",name:"Boquerón"},"PY-14":{type:"Department",name:"Canindeyú"},"PY-15":{type:"Department",name:"Presidente Hayes"},"PY-16":{type:"Department",name:"Alto Paraguay"},"PY-10":{type:"Department",name:"Alto Paraná"},"PY-11":{type:"Department",name:"Central"},"PY-12":{type:"Department",name:"Ñeembucú"},"PY-13":{type:"Department",name:"Amambay"},"PY-6":{type:"Department",name:"Caazapá"},"PY-7":{type:"Department",name:"Itapúa"},"PY-4":{type:"Department",name:"Guairá"},"PY-5":{type:"Department",name:"Caaguazú"},"PY-2":{type:"Department",name:"San Pedro"},"PY-3":{type:"Department",name:"Cordillera"},"PY-1":{type:"Department",name:"Concepción"},"PY-ASU":{type:"Capital",name:"Asunción"},"PY-8":{type:"Department",name:"Misiones"},"PY-9":{type:"Department",name:"Paraguarí"}}},IQ:{name:"Iraq",sub:{"IQ-NA":{type:"Governorate",name:"An Najaf"},"IQ-AN":{type:"Governorate",name:"Al Anbār"},"IQ-WA":{type:"Governorate",name:"Wāsiţ"},"IQ-SD":{type:"Governorate",name:"Şalāḩ ad Dīn"},"IQ-MU":{type:"Governorate",name:"Al Muthanná"},"IQ-DA":{type:"Governorate",name:"Dahūk"},"IQ-SU":{type:"Governorate",name:"As Sulaymānīyah"},"IQ-KA":{type:"Governorate",name:"Karbalā'"},"IQ-BG":{type:"Governorate",name:"Baghdād"},"IQ-NI":{type:"Governorate",name:"Nīnawá"},"IQ-BA":{type:"Governorate",name:"Al Başrah"},"IQ-BB":{type:"Governorate",name:"Bābil"},"IQ-DQ":{type:"Governorate",name:"Dhī Qār"},"IQ-MA":{type:"Governorate",name:"Maysān"},"IQ-KI":{type:"Governorate",name:"Kirkūk"},"IQ-DI":{type:"Governorate",name:"Diyālá"},"IQ-QA":{type:"Governorate",name:"Al Qādisīyah"},"IQ-AR":{type:"Governorate",name:"Arbīl"}}},PA:{name:"Panama",sub:{"PA-NB":{type:"Indigenous region",name:"Ngöbe-Buglé"},"PA-8":{type:"Province",name:"Panamá"},"PA-9":{type:"Province",name:"Veraguas"},"PA-6":{type:"Province",name:"Herrera"},"PA-7":{type:"Province",name:"Los Santos"},"PA-4":{type:"Province",name:"Chiriquí"},"PA-5":{type:"Province",name:"Darién"},"PA-2":{type:"Province",name:"Coclé"},"PA-3":{type:"Province",name:"Colón"},"PA-1":{type:"Province",name:"Bocas del Toro"},"PA-10":{type:"Province",name:"Panamá Oeste"},"PA-EM":{type:"Indigenous region",name:"Emberá"},"PA-KY":{type:"Indigenous region",name:"Kuna Yala"}}},PF:{name:"French Polynesia",sub:{"PF-PF":{type:"Country",name:"French Polynesia"}}},PG:{name:"Papua New Guinea",sub:{"PG-WBK":{type:"Province",name:"West New Britain"},"PG-NCD":{type:"District",name:"National Capital District"},"PG-MPM":{type:"Province",name:"Madang"},"PG-MPL":{type:"Province",name:"Morobe"},"PG-MRL":{type:"Province",name:"Manus"},"PG-EHG":{type:"Province",name:"Eastern Highlands"},"PG-ESW":{type:"Province",name:"East Sepik"},"PG-SAN":{type:"Province",name:"West Sepik"},"PG-NIK":{type:"Province",name:"New Ireland"},"PG-JWK":{type:"Province",name:"Jiwaka"},"PG-MBA":{type:"Province",name:"Milne Bay"},"PG-HLA":{type:"Province",name:"Hela"},"PG-WPD":{type:"Province",name:"Western"},"PG-NSB":{type:"Autonomous region",name:"Bougainville"},"PG-EPW":{type:"Province",name:"Enga"},"PG-CPM":{type:"Province",name:"Central"},"PG-CPK":{type:"Province",name:"Chimbu"},"PG-NPP":{type:"Province",name:"Northern"},"PG-WHM":{type:"Province",name:"Western Highlands"},"PG-GPK":{type:"Province",name:"Gulf"},"PG-EBR":{type:"Province",name:"East New Britain"},"PG-SHM":{type:"Province",name:"Southern Highlands"}}},PE:{name:"Peru",sub:{"PE-PIU":{type:"Region",name:"Piura"},"PE-ARE":{type:"Region",name:"Arequipa"},"PE-APU":{type:"Region",name:"Apurímac"},"PE-JUN":{type:"Region",name:"Hunin"},"PE-LMA":{type:"Municipality",name:"Lima hatun llaqta"},"PE-LOR":{type:"Region",name:"Loreto"},"PE-LIM":{type:"Region",name:"Lima"},"PE-AMA":{type:"Region",name:"Amarumayu"},"PE-LAM":{type:"Region",name:"Lambayeque"},"PE-LAL":{type:"Region",name:"La Libertad"},"PE-HUC":{type:"Region",name:"Huánuco"},"PE-CUS":{type:"Region",name:"Cusco"},"PE-PUN":{type:"Region",name:"Puno"},"PE-HUV":{type:"Region",name:"Huancavelica"},"PE-MOQ":{type:"Region",name:"Moquegua"},"PE-TAC":{type:"Region",name:"Tacna"},"PE-AYA":{type:"Region",name:"Ayacucho"},"PE-UCA":{type:"Region",name:"Ucayali"},"PE-ICA":{type:"Region",name:"Ica"},"PE-SAM":{type:"Region",name:"San Martin"},"PE-ANC":{type:"Region",name:"Ancash"},"PE-PAS":{type:"Region",name:"Pasco"},"PE-CAL":{type:"Region",name:"El Callao"},"PE-TUM":{type:"Region",name:"Tumbes"},"PE-CAJ":{type:"Region",name:"Cajamarca"},"PE-MDD":{type:"Region",name:"Madre de Dios"}}},PK:{name:"Pakistan",sub:{"PK-IS":{type:"Federal capital territory",name:"Islāmābād"},"PK-TA":{type:"Territory",name:"Federally Administered Tribal Areas"},"PK-BA":{type:"Province",name:"Balochistan"},"PK-KP":{type:"Province",name:"Khaībar Pakhtūnkhwā"},"PK-PB":{type:"Province",name:"Panjāb"},"PK-JK":{type:"Pakistan administered area",name:"Azad Kashmir"},"PK-SD":{type:"Province",name:"Sindh"},"PK-GB":{type:"Pakistan administered area",name:"Gilgit-Baltistān"}}},PH:{name:"Philippines",sub:{"PH-08":{type:"Region",name:"Eastern Visayas"},"PH-09":{type:"Region",name:"Rehiyon ng Tangway ng Sambuwangga"},"PH-00":{type:"Region",name:"National Capital Region"},"PH-01":{type:"Region",name:"Ilocos"},"PH-02":{type:"Region",name:"Cagayan Valley"},"PH-03":{type:"Region",name:"Central Luzon"},"PH-05":{type:"Region",name:"Bicol"},"PH-06":{type:"Region",name:"Rehiyon ng Kanlurang Bisaya"},"PH-07":{type:"Region",name:"Central Visayas"},"PH-SUR":{type:"Province",name:"Surigao del Sur"},"PH-SLU":{type:"Province",name:"Sulu"},"PH-DAV":{type:"Province",name:"Davao del Norte"},"PH-CAM":{type:"Province",name:"Camiguin"},"PH-CAN":{type:"Province",name:"Camarines Norte"},"PH-BUL":{type:"Province",name:"Bulacan"},"PH-CAG":{type:"Province",name:"Cagayan"},"PH-BOH":{type:"Province",name:"Bohol"},"PH-CAP":{type:"Province",name:"Capiz"},"PH-CAS":{type:"Province",name:"Camarines Sur"},"PH-CAT":{type:"Province",name:"Catanduanes"},"PH-CAV":{type:"Province",name:"Cavite"},"PH-BIL":{type:"Province",name:"Biliran"},"PH-SLE":{type:"Province",name:"Katimogang Leyte"},"PH-RIZ":{type:"Province",name:"Risal"},"PH-COM":{type:"Province",name:"Compostela Valley"},"PH-SCO":{type:"Province",name:"South Cotabato"},"PH-ZSI":{type:"Province",name:"Sambuwangga Sibugay"},"PH-ILS":{type:"Province",name:"Ilocos Sur"},"PH-AGS":{type:"Province",name:"Agusan del Sur"},"PH-ILI":{type:"Province",name:"Iloilo"},"PH-WSA":{type:"Province",name:"Samar"},"PH-PLW":{type:"Province",name:"Palawan"},"PH-KAL":{type:"Province",name:"Kalinga"},"PH-ZAS":{type:"Province",name:"Timog Sambuwangga"},"PH-ZAN":{type:"Province",name:"Hilagang Sambuwangga"},"PH-ALB":{type:"Province",name:"Albay"},"PH-NUE":{type:"Province",name:"Nueva Ecija"},"PH-NUV":{type:"Province",name:"Nueva Vizcaya"},"PH-SUK":{type:"Province",name:"Sultan Kudarat"},"PH-TAW":{type:"Province",name:"Tawi-Tawi"},"PH-TAR":{type:"Province",name:"Tarlac"},"PH-AKL":{type:"Province",name:"Aklan"},"PH-BEN":{type:"Province",name:"Benget"},"PH-DIN":{type:"Province",name:"Dinagat Islands"},"PH-DAS":{type:"Province",name:"Davao del Sur"},"PH-ROM":{type:"Province",name:"Romblon"},"PH-ISA":{type:"Province",name:"Isabela"},"PH-NER":{type:"Province",name:"Negros Oriental"},"PH-LAS":{type:"Province",name:"Lanao del Sur"},"PH-LAN":{type:"Province",name:"Hilagang Lanaw"},"PH-NEC":{type:"Province",name:"Kanlurang Negros"},"PH-LAG":{type:"Province",name:"Laguna"},"PH-SUN":{type:"Province",name:"Hilagang Surigaw"},"PH-AUR":{type:"Province",name:"Aurora"},"PH-MSR":{type:"Province",name:"Misamis Oriental"},"PH-ABR":{type:"Province",name:"Abra"},"PH-MSC":{type:"Province",name:"Kanlurang Misamis"},"PH-40":{type:"Region",name:"Calabarzon"},"PH-41":{type:"Region",name:"Mimaropa"},"PH-EAS":{type:"Province",name:"Eastern Samar"},"PH-BTN":{type:"Province",name:"Batanes"},"PH-BTG":{type:"Province",name:"Batangas"},"PH-QUI":{type:"Province",name:"Kirino"},"PH-CEB":{type:"Province",name:"Cebu"},"PH-APA":{type:"Province",name:"Apayao"},"PH-SAR":{type:"Province",name:"Sarangani"},"PH-QUE":{type:"Province",name:"Keson"},"PH-IFU":{type:"Province",name:"Ifugao"},"PH-MAS":{type:"Province",name:"Masbate"},"PH-SOR":{type:"Province",name:"Sorsogon"},"PH-NCO":{type:"Province",name:"Cotabato"},"PH-ZMB":{type:"Province",name:"Sambales"},"PH-MAG":{type:"Province",name:"Magindanaw"},"PH-MAD":{type:"Province",name:"Marinduke"},"PH-BUK":{type:"Province",name:"Bukidnon"},"PH-PAN":{type:"Province",name:"Pangasinan"},"PH-PAM":{type:"Province",name:"Pampanga"},"PH-GUI":{type:"Province",name:"Gimaras"},"PH-NSA":{type:"Province",name:"Hilagang Samar"},"PH-MDC":{type:"Province",name:"Kanlurang Mindoro"},"PH-MDR":{type:"Province",name:"Mindoro Oriental"},"PH-LUN":{type:"Province",name:"La Union"},"PH-BAS":{type:"Province",name:"Basilan"},"PH-BAN":{type:"Province",name:"Bataan"},"PH-MOU":{type:"Province",name:"Lalawigang Bulubundukin"},"PH-15":{type:"Region",name:"Cordillera Administrative Region"},"PH-14":{type:"Region",name:"Autonomous Region in Muslim Mindanao"},"PH-13":{type:"Region",name:"Caraga"},"PH-12":{type:"Region",name:"Rehiyon ng Soccsksargen"},"PH-11":{type:"Region",name:"Davao"},"PH-10":{type:"Region",name:"Northern Mindanao"},"PH-SIG":{type:"Province",name:"Sikihor"},"PH-AGN":{type:"Province",name:"Agusan del Norte"},"PH-ILN":{type:"Province",name:"Hilagang Iloko"},"PH-DAO":{type:"Province",name:"Davao Oriental"},"PH-LEY":{type:"Province",name:"Leyte"},"PH-ANT":{type:"Province",name:"Antike"}}},PN:{name:"Pitcairn",sub:{"PN-PN":{type:"Country",name:"Pitcairn"}}},PL:{name:"Poland",sub:{"PL-SL":{type:"Province",name:"Śląskie"},"PL-LU":{type:"Province",name:"Lubelskie"},"PL-SK":{type:"Province",name:"Świętokrzyskie"},"PL-WP":{type:"Province",name:"Wielkopolskie"},"PL-ZP":{type:"Province",name:"Zachodniopomorskie"},"PL-MZ":{type:"Province",name:"Mazowieckie"},"PL-PD":{type:"Province",name:"Podlaskie"},"PL-LB":{type:"Province",name:"Lubuskie"},"PL-LD":{type:"Province",name:"Łódzkie"},"PL-KP":{type:"Province",name:"Kujawsko-pomorskie"},"PL-MA":{type:"Province",name:"Małopolskie"},"PL-PM":{type:"Province",name:"Pomorskie"},"PL-OP":{type:"Province",name:"Opolskie"},"PL-DS":{type:"Province",name:"Dolnośląskie"},"PL-WN":{type:"Province",name:"Warmińsko-mazurskie"},"PL-PK":{type:"Province",name:"Podkarpackie"}}},PM:{name:"St. Pierre & Miquelon",sub:{"PM-PM":{type:"Country",name:"St. Pierre & Miquelon"}}},ZM:{name:"Zambia",sub:{"ZM-01":{type:"Province",name:"Western"},"ZM-03":{type:"Province",name:"Eastern"},"ZM-02":{type:"Province",name:"Central"},"ZM-05":{type:"Province",name:"Northern"},"ZM-04":{type:"Province",name:"Luapula"},"ZM-07":{type:"Province",name:"Southern"},"ZM-06":{type:"Province",name:"North-Western"},"ZM-09":{type:"Province",name:"Lusaka"},"ZM-08":{type:"Province",name:"Copperbelt"},"ZM-10":{type:"Province",name:"Muchinga"}}},EH:{name:"Western Sahara",sub:{"EH-EH":{type:"Country",name:"Western Sahara"}}},EE:{name:"Estonia",sub:{"EE-86":{type:"County",name:"Võrumaa"},"EE-39":{type:"County",name:"Hiiumaa"},"EE-74":{type:"County",name:"Saaremaa"},"EE-44":{type:"County",name:"Ida-Virumaa"},"EE-70":{type:"County",name:"Raplamaa"},"EE-37":{type:"County",name:"Harjumaa"},"EE-51":{type:"County",name:"Järvamaa"},"EE-84":{type:"County",name:"Viljandimaa"},"EE-82":{type:"County",name:"Valgamaa"},"EE-57":{type:"County",name:"Läänemaa"},"EE-78":{type:"County",name:"Tartumaa"},"EE-59":{type:"County",name:"Lääne-Virumaa"},"EE-49":{type:"County",name:"Jõgevamaa"},"EE-65":{type:"County",name:"Põlvamaa"},"EE-67":{type:"County",name:"Pärnumaa"}}},EG:{name:"Egypt",sub:{"EG-DT":{type:"Governorate",name:"Dumyāţ"},"EG-SIN":{type:"Governorate",name:"Shamāl Sīnā'"},"EG-BA":{type:"Governorate",name:"Al Baḩr al Aḩmar"},"EG-BH":{type:"Governorate",name:"Al Buḩayrah"},"EG-DK":{type:"Governorate",name:"Ad Daqahlīyah"},"EG-SHG":{type:"Governorate",name:"Sūhāj"},"EG-MT":{type:"Governorate",name:"Maţrūḩ"},"EG-KN":{type:"Governorate",name:"Qinā"},"EG-KB":{type:"Governorate",name:"Al Qalyūbīyah"},"EG-MN":{type:"Governorate",name:"Al Minyā"},"EG-GH":{type:"Governorate",name:"Al Gharbīyah"},"EG-AST":{type:"Governorate",name:"Asyūţ"},"EG-SHR":{type:"Governorate",name:"Ash Sharqīyah"},"EG-ASN":{type:"Governorate",name:"Aswān"},"EG-IS":{type:"Governorate",name:"Al Ismā'īlīyah"},"EG-GZ":{type:"Governorate",name:"Al Jīzah"},"EG-C":{type:"Governorate",name:"Al Qāhirah"},"EG-SUZ":{type:"Governorate",name:"As Suways"},"EG-ALX":{type:"Governorate",name:"Al Iskandarīyah"},"EG-BNS":{type:"Governorate",name:"Banī Suwayf"},"EG-LX":{type:"Governorate",name:"Al Uqşur"},"EG-MNF":{type:"Governorate",name:"Al Minūfīyah"},"EG-JS":{type:"Governorate",name:"Janūb Sīnā'"},"EG-WAD":{type:"Governorate",name:"Al Wādī al Jadīd"},"EG-KFS":{type:"Governorate",name:"Kafr ash Shaykh"},"EG-FYM":{type:"Governorate",name:"Al Fayyūm"},"EG-PTS":{type:"Governorate",name:"Būr Sa‘īd"}}},ZA:{name:"South Africa",sub:{"ZA-NL":{type:"Province",name:"GaZulu-Natala"},"ZA-GT":{type:"Province",name:"Gauteng"},"ZA-EC":{type:"Province",name:"Eastern Cape"},"ZA-NC":{type:"Province",name:"iTlhagwini-Kapa"},"ZA-LP":{type:"Province",name:"Limpopo"},"ZA-MP":{type:"Province",name:"iMpumalanga"},"ZA-WC":{type:"Province",name:"iTjhingalanga-Kapa"},"ZA-NW":{type:"Province",name:"Bokone Bophirima"},"ZA-FS":{type:"Province",name:"Foreisetata"}}},EC:{name:"Ecuador",sub:{"EC-SE":{type:"Province",name:"Santa Elena"},"EC-SD":{type:"Province",name:"Santo Domingo de los Tsáchilas"},"EC-Z":{type:"Province",name:"Zamora-Chinchipe"},"EC-Y":{type:"Province",name:"Pastaza"},"EC-X":{type:"Province",name:"Cotopaxi"},"EC-W":{type:"Province",name:"Galápagos"},"EC-U":{type:"Province",name:"Sucumbíos"},"EC-T":{type:"Province",name:"Tungurahua"},"EC-S":{type:"Province",name:"Morona-Santiago"},"EC-R":{type:"Province",name:"Los Ríos"},"EC-P":{type:"Province",name:"Pichincha"},"EC-O":{type:"Province",name:"El Oro"},"EC-N":{type:"Province",name:"Napo"},"EC-M":{type:"Province",name:"Manabí"},"EC-L":{type:"Province",name:"Loja"},"EC-I":{type:"Province",name:"Imbabura"},"EC-H":{type:"Province",name:"Chimborazo"},"EC-G":{type:"Province",name:"Guayas"},"EC-F":{type:"Province",name:"Cañar"},"EC-E":{type:"Province",name:"Esmeraldas"},"EC-D":{type:"Province",name:"Orellana"},"EC-C":{type:"Province",name:"Carchi"},"EC-B":{type:"Province",name:"Bolívar"},"EC-A":{type:"Province",name:"Azuay"}}},IT:{name:"Italy",sub:{"IT-BA":{type:"Province",name:"Bari"},"IT-TR":{type:"Province",name:"Terni"},"IT-BG":{type:"Province",name:"Bergamo"},"IT-BI":{type:"Province",name:"Biella"},"IT-BO":{type:"Province",name:"Bologna"},"IT-BN":{type:"Province",name:"Benevento"},"IT-BL":{type:"Province",name:"Belluno"},"IT-BS":{type:"Province",name:"Brescia"},"IT-BR":{type:"Province",name:"Brindisi"},"IT-BT":{type:"Province",name:"Barletta-Andria-Trani"},"IT-BZ":{type:"Province",name:"Bolzano"},"IT-23":{type:"Region",name:"Val d'Aoste"},"IT-21":{type:"Region",name:"Piemonte"},"IT-25":{type:"Region",name:"Lombardia"},"IT-RC":{type:"Province",name:"Reggio Calabria"},"IT-RA":{type:"Province",name:"Ravenna"},"IT-RG":{type:"Province",name:"Ragusa"},"IT-RE":{type:"Province",name:"Reggio Emilia"},"IT-RI":{type:"Province",name:"Rieti"},"IT-RO":{type:"Province",name:"Rovigo"},"IT-RN":{type:"Province",name:"Rimini"},"IT-RM":{type:"Province",name:"Roma"},"IT-AG":{type:"Province",name:"Agrigento"},"IT-AN":{type:"Province",name:"Ancona"},"IT-AO":{type:"Province",name:"Aosta"},"IT-AL":{type:"Province",name:"Alessandria"},"IT-IS":{type:"Province",name:"Isernia"},"IT-AV":{type:"Province",name:"Avellino"},"IT-AT":{type:"Province",name:"Asti"},"IT-IM":{type:"Province",name:"Imperia"},"IT-AR":{type:"Province",name:"Arezzo"},"IT-AP":{type:"Province",name:"Ascoli Piceno"},"IT-AQ":{type:"Province",name:"L'Aquila"},"IT-FG":{type:"Province",name:"Foggia"},"IT-34":{type:"Region",name:"Veneto"},"IT-36":{type:"Region",name:"Friuli-Venezia Giulia"},"IT-FE":{type:"Province",name:"Ferrara"},"IT-32":{type:"Region",name:"Trentino-Alto Adige"},"IT-VE":{type:"Province",name:"Venezia"},"IT-LC":{type:"Province",name:"Lecco"},"IT-LE":{type:"Province",name:"Lecce"},"IT-LI":{type:"Province",name:"Livorno"},"IT-TP":{type:"Province",name:"Trapani"},"IT-TS":{type:"Province",name:"Trieste"},"IT-42":{type:"Region",name:"Liguria"},"IT-45":{type:"Region",name:"Emilia-Romagna"},"IT-LO":{type:"Province",name:"Lodi"},"IT-TV":{type:"Province",name:"Treviso"},"IT-LU":{type:"Province",name:"Lucca"},"IT-LT":{type:"Province",name:"Latina"},"IT-TO":{type:"Province",name:"Torino"},"IT-TN":{type:"Province",name:"Trento"},"IT-TA":{type:"Province",name:"Taranto"},"IT-TE":{type:"Province",name:"Teramo"},"IT-CL":{type:"Province",name:"Caltanissetta"},"IT-CN":{type:"Province",name:"Cuneo"},"IT-CO":{type:"Province",name:"Como"},"IT-CH":{type:"Province",name:"Chieti"},"IT-CI":{type:"Province",name:"Carbonia-Iglesias"},"IT-CE":{type:"Province",name:"Caserta"},"IT-CA":{type:"Province",name:"Cagliari"},"IT-CB":{type:"Province",name:"Campobasso"},"IT-CZ":{type:"Province",name:"Catanzaro"},"IT-CT":{type:"Province",name:"Catania"},"IT-CR":{type:"Province",name:"Cremona"},"IT-CS":{type:"Province",name:"Cosenza"},"IT-52":{type:"Region",name:"Toscana"},"IT-SV":{type:"Province",name:"Savona"},"IT-SP":{type:"Province",name:"La Spezia"},"IT-57":{type:"Region",name:"Marche"},"IT-SR":{type:"Province",name:"Siracusa"},"IT-55":{type:"Region",name:"Umbria"},"IT-SO":{type:"Province",name:"Sondrio"},"IT-SI":{type:"Province",name:"Siena"},"IT-KR":{type:"Province",name:"Crotone"},"IT-SA":{type:"Province",name:"Salerno"},"IT-VR":{type:"Province",name:"Verona"},"IT-FR":{type:"Province",name:"Frosinone"},"IT-67":{type:"Region",name:"Molise"},"IT-65":{type:"Region",name:"Abruzzo"},"IT-FC":{type:"Province",name:"Forlì-Cesena"},"IT-62":{type:"Region",name:"Lazio"},"IT-FM":{type:"Province",name:"Fermo"},"IT-FI":{type:"Province",name:"Firenze"},"IT-NO":{type:"Province",name:"Novara"},"IT-NA":{type:"Province",name:"Napoli"},"IT-NU":{type:"Province",name:"Nuoro"},"IT-EN":{type:"Province",name:"Enna"},"IT-72":{type:"Region",name:"Campania"},"IT-75":{type:"Region",name:"Puglia"},"IT-77":{type:"Region",name:"Basilicata"},"IT-78":{type:"Region",name:"Calabria"},"IT-MB":{type:"Province",name:"Monza e Brianza"},"IT-MC":{type:"Province",name:"Macerata"},"IT-ME":{type:"Province",name:"Messina"},"IT-MI":{type:"Province",name:"Milano"},"IT-MN":{type:"Province",name:"Mantova"},"IT-MO":{type:"Province",name:"Modena"},"IT-MS":{type:"Province",name:"Massa-Carrara"},"IT-MT":{type:"Province",name:"Matera"},"IT-UD":{type:"Province",name:"Udine"},"IT-88":{type:"Region",name:"Sardegna"},"IT-SS":{type:"Province",name:"Sassari"},"IT-82":{type:"Region",name:"Sicilia"},"IT-PU":{type:"Province",name:"Pesaro e Urbino"},"IT-PT":{type:"Province",name:"Pistoia"},"IT-PV":{type:"Province",name:"Pavia"},"IT-PR":{type:"Province",name:"Parma"},"IT-PZ":{type:"Province",name:"Potenza"},"IT-PE":{type:"Province",name:"Pescara"},"IT-PD":{type:"Province",name:"Padova"},"IT-PG":{type:"Province",name:"Perugia"},"IT-PA":{type:"Province",name:"Palermo"},"IT-PC":{type:"Province",name:"Piacenza"},"IT-PO":{type:"Province",name:"Prato"},"IT-PN":{type:"Province",name:"Pordenone"},"IT-PI":{type:"Province",name:"Pisa"},"IT-GR":{type:"Province",name:"Grosseto"},"IT-VC":{type:"Province",name:"Vercelli"},"IT-VB":{type:"Province",name:"Verbano-Cusio-Ossola"},"IT-VA":{type:"Province",name:"Varese"},"IT-VI":{type:"Province",name:"Vicenza"},"IT-VV":{type:"Province",name:"Vibo Valentia"},"IT-VT":{type:"Province",name:"Viterbo"},"IT-VS":{type:"Province",name:"Medio Campidano"},"IT-GE":{type:"Province",name:"Genova"},"IT-GO":{type:"Province",name:"Gorizia"},"IT-OG":{type:"Province",name:"Ogliastra"},"IT-OR":{type:"Province",name:"Oristano"},"IT-OT":{type:"Province",name:"Olbia-Tempio"}}},VN:{name:"Viet Nam",sub:{"VN-28":{type:"Province",name:"Kon Tum"},"VN-29":{type:"Province",name:"Quảng Ngãi"},"VN-26":{type:"Province",name:"Thừa Thiên-Huế"},"VN-27":{type:"Province",name:"Quảng Nam"},"VN-24":{type:"Province",name:"Quảng Bình"},"VN-25":{type:"Province",name:"Quảng Trị"},"VN-22":{type:"Province",name:"Nghệ An"},"VN-23":{type:"Province",name:"Hà Tĩnh"},"VN-20":{type:"Province",name:"Thái Bình"},"VN-21":{type:"Province",name:"Thanh Hóa"},"VN-72":{type:"Province",name:"Đắk Nông"},"VN-DN":{type:"Municipality",name:"Da Nang"},"VN-SG":{type:"Municipality",name:"Ho Chi Minh"},"VN-70":{type:"Province",name:"Vĩnh Phúc"},"VN-67":{type:"Province",name:"Nam Ðịnh"},"VN-49":{type:"Province",name:"Vĩnh Long"},"VN-63":{type:"Province",name:"Hà Nam"},"VN-HN":{type:"Municipality",name:"Ha Noi"},"VN-71":{type:"Province",name:"Điện Biên"},"VN-35":{type:"Province",name:"Lâm Ðồng"},"VN-73":{type:"Province",name:"Hậu Giang"},"VN-61":{type:"Province",name:"Hải Dương"},"VN-59":{type:"Province",name:"Cà Mau"},"VN-58":{type:"Province",name:"Bình Phước"},"VN-57":{type:"Province",name:"Bình Dương"},"VN-56":{type:"Province",name:"Bắc Ninh"},"VN-55":{type:"Province",name:"Bạc Liêu"},"VN-54":{type:"Province",name:"Bắc Giang"},"VN-53":{type:"Province",name:"Bắc Kạn"},"VN-52":{type:"Province",name:"Sóc Trăng"},"VN-51":{type:"Province",name:"Trà Vinh"},"VN-50":{type:"Province",name:"Bến Tre"},"VN-18":{type:"Province",name:"Ninh Bình"},"VN-39":{type:"Province",name:"Ðồng Nai"},"VN-13":{type:"Province",name:"Quảng Ninh"},"VN-34":{type:"Province",name:"Khánh Hòa"},"VN-37":{type:"Province",name:"Tây Ninh"},"VN-36":{type:"Province",name:"Ninh Thuận"},"VN-31":{type:"Province",name:"Bình Định"},"VN-30":{type:"Province",name:"Gia Lai"},"VN-33":{type:"Province",name:"Đắk Lắk"},"VN-14":{type:"Province",name:"Hòa Bình"},"VN-CT":{type:"Municipality",name:"Can Tho"},"VN-32":{type:"Province",name:"Phú Yên"},"VN-69":{type:"Province",name:"Thái Nguyên"},"VN-HP":{type:"Municipality",name:"Hai Phong"},"VN-45":{type:"Province",name:"Ðồng Tháp"},"VN-04":{type:"Province",name:"Cao Bằng"},"VN-05":{type:"Province",name:"Sơn La"},"VN-06":{type:"Province",name:"Yên Bái"},"VN-07":{type:"Province",name:"Tuyên Quang"},"VN-66":{type:"Province",name:"Hưng Yên"},"VN-01":{type:"Province",name:"Lai Châu"},"VN-02":{type:"Province",name:"Lào Cai"},"VN-03":{type:"Province",name:"Hà Giang"},"VN-40":{type:"Province",name:"Bình Thuận"},"VN-41":{type:"Province",name:"Long An"},"VN-68":{type:"Province",name:"Phú Thọ"},"VN-43":{type:"Province",name:"Bà Rịa - Vũng Tàu"},"VN-44":{type:"Province",name:"An Giang"},"VN-09":{type:"Province",name:"Lạng Sơn"},"VN-46":{type:"Province",name:"Tiền Giang"},"VN-47":{type:"Province",name:"Kiến Giang"}}},SB:{name:"Solomon Islands",sub:{"SB-TE":{type:"Province",name:"Temotu"},"SB-IS":{type:"Province",name:"Isabel"},"SB-ML":{type:"Province",name:"Malaita"},"SB-MK":{type:"Province",name:"Makira-Ulawa"},"SB-CH":{type:"Province",name:"Choiseul"},"SB-GU":{type:"Province",name:"Guadalcanal"},"SB-CT":{type:"Capital territory",name:"Capital Territory"},"SB-RB":{type:"Province",name:"Rennell and Bellona"},"SB-WE":{type:"Province",name:"Western"},"SB-CE":{type:"Province",name:"Central"}}},ET:{name:"Ethiopia",sub:{"ET-BE":{type:"State",name:"Benshangul-Gumaz"},"ET-OR":{type:"State",name:"Oromia"},"ET-TI":{type:"State",name:"Tigrai"},"ET-HA":{type:"State",name:"Harari People"},"ET-DD":{type:"Administration",name:"Dire Dawa"},"ET-AM":{type:"State",name:"Amara"},"ET-AA":{type:"Administration",name:"Addis Ababa"},"ET-AF":{type:"State",name:"Afar"},"ET-GA":{type:"State",name:"Gambēla Hizboch"},"ET-SN":{type:"State",name:"Southern Nations, Nationalities and Peoples"},"ET-SO":{type:"State",name:"Somali"}}},SO:{name:"Somalia",sub:{"SO-SO":{type:"Region",name:"Sool"},"SO-BK":{type:"Region",name:"Bakool"},"SO-WO":{type:"Region",name:"Woqooyi Galbeed"},"SO-BN":{type:"Region",name:"Banaadir"},"SO-TO":{type:"Region",name:"Togdheer"},"SO-MU":{type:"Region",name:"Mudug"},"SO-BY":{type:"Region",name:"Bay"},"SO-HI":{type:"Region",name:"Hiiraan"},"SO-JD":{type:"Region",name:"Jubbada Dhexe"},"SO-SA":{type:"Region",name:"Sanaag"},"SO-AW":{type:"Region",name:"Awdal"},"SO-SH":{type:"Region",name:"Shabeellaha Hoose"},"SO-JH":{type:"Region",name:"Jubbada Hoose"},"SO-NU":{type:"Region",name:"Nugaal"},"SO-GA":{type:"Region",name:"Galguduud"},"SO-SD":{type:"Region",name:"Shabeellaha Dhexe"},"SO-BR":{type:"Region",name:"Bari"},"SO-GE":{type:"Region",name:"Gedo"}}},ZW:{name:"Zimbabwe",sub:{"ZW-BU":{type:"Province",name:"Bulawayo"},"ZW-HA":{type:"Province",name:"Harare"},"ZW-MS":{type:"Province",name:"Matabeleland South"},"ZW-MV":{type:"Province",name:"Masvingo"},"ZW-MW":{type:"Province",name:"Mashonaland West"},"ZW-MI":{type:"Province",name:"Midlands"},"ZW-MN":{type:"Province",name:"Matabeleland North"},"ZW-MA":{type:"Province",name:"Manicaland"},"ZW-MC":{type:"Province",name:"Mashonaland Central"},"ZW-ME":{type:"Province",name:"Mashonaland East"}}},SA:{name:"Saudi Arabia",sub:{"SA-08":{type:"Province",name:"Al Ḩudūd ash Shamālīyah"},"SA-09":{type:"Province",name:"Jāzān"},"SA-14":{type:"Province",name:"'Asīr"},"SA-01":{type:"Province",name:"Ar Riyāḑ"},"SA-02":{type:"Province",name:"Makkah al Mukarramah"},"SA-03":{type:"Province",name:"Al Madīnah al Munawwarah"},"SA-04":{type:"Province",name:"Ash Sharqīyah"},"SA-05":{type:"Province",name:"Al Qaşīm"},"SA-06":{type:"Province",name:"Ḩā'il"},"SA-07":{type:"Province",name:"Tabūk"},"SA-11":{type:"Province",name:"Al Bāḩah"},"SA-10":{type:"Province",name:"Najrān"},"SA-12":{type:"Province",name:"Al Jawf"}}},ES:{name:"Spain",sub:{"ES-NA":{type:"Province",name:"Nafarroa*"},"ES-PM":{type:"Province",name:"Balears"},"ES-TF":{type:"Province",name:"Santa Cruz de Tenerife"},"ES-B":{type:"Province",name:"Barcelona"},"ES-A":{type:"Province",name:"Alacant*"},"ES-ZA":{type:"Province",name:"Zamora"},"ES-MU":{type:"Province",name:"Murcia"},"ES-VI":{type:"Province",name:"Álava"},"ES-Z":{type:"Province",name:"Zaragoza"},"ES-O":{type:"Province",name:"Asturias"},"ES-IB":{type:"Autonomous community",name:"Illes Balears"},"ES-M":{type:"Province",name:"Madrid"},"ES-L":{type:"Province",name:"Lleida"},"ES-J":{type:"Province",name:"Jaén"},"ES-H":{type:"Province",name:"Huelva"},"ES-AS":{type:"Autonomous community",name:"Asturias, Principado de"},"ES-AR":{type:"Autonomous community",name:"Aragón"},"ES-C":{type:"Province",name:"A Coruña"},"ES-AV":{type:"Province",name:"Ávila"},"ES-CS":{type:"Province",name:"Castelló*"},"ES-CR":{type:"Province",name:"Ciudad Real"},"ES-CM":{type:"Autonomous community",name:"Castilla-La Mancha"},"ES-CL":{type:"Autonomous community",name:"Castilla y León"},"ES-CO":{type:"Province",name:"Córdoba"},"ES-CN":{type:"Autonomous community",name:"Canarias"},"ES-MC":{type:"Autonomous community",name:"Murcia, Región de"},"ES-AN":{type:"Autonomous community",name:"Andalucía"},"ES-MA":{type:"Province",name:"Málaga"},"ES-AL":{type:"Province",name:"Almería"},"ES-CE":{type:"Autonomous city in north africa",name:"Ceuta"},"ES-AB":{type:"Province",name:"Albacete"},"ES-T":{type:"Province",name:"Tarragona"},"ES-ML":{type:"Autonomous city in north africa",name:"Melilla"},"ES-CA":{type:"Province",name:"Cádiz"},"ES-TE":{type:"Province",name:"Teruel"},"ES-CC":{type:"Province",name:"Cáceres"},"ES-CB":{type:"Autonomous community",name:"Cantabria"},"ES-GA":{type:"Autonomous community",name:"Galicia"},"ES-PO":{type:"Province",name:"Pontevedra"},"ES-GC":{type:"Province",name:"Las Palmas"},"ES-RI":{type:"Autonomous community",name:"La Rioja"},"ES-S":{type:"Province",name:"Cantabria"},"ES-GI":{type:"Province",name:"Girona"},"ES-TO":{type:"Province",name:"Toledo"},"ES-CT":{type:"Autonomous community",name:"Catalunya"},"ES-GR":{type:"Province",name:"Granada"},"ES-GU":{type:"Province",name:"Guadalajara"},"ES-MD":{type:"Autonomous community",name:"Madrid, Comunidad de"},"ES-EX":{type:"Autonomous community",name:"Extremadura"},"ES-PV":{type:"Autonomous community",name:"Euskal Herria"},"ES-V":{type:"Province",name:"Valencia"},"ES-VC":{type:"Autonomous community",name:"Valenciana, Comunidad"},"ES-SO":{type:"Province",name:"Soria"},"ES-OR":{type:"Province",name:"Ourense"},"ES-LU":{type:"Province",name:"Lugo"},"ES-SE":{type:"Province",name:"Sevilla"},"ES-NC":{type:"Autonomous community",name:"Nafarroako Foru Komunitatea*"},"ES-SG":{type:"Province",name:"Segovia"},"ES-BU":{type:"Province",name:"Burgos"},"ES-SA":{type:"Province",name:"Salamanca"},"ES-VA":{type:"Province",name:"Valladolid"},"ES-CU":{type:"Province",name:"Cuenca"},"ES-P":{type:"Province",name:"Palencia"},"ES-LE":{type:"Province",name:"León"},"ES-BI":{type:"Province",name:"Bizkaia*"},"ES-HU":{type:"Province",name:"Huesca"},"ES-LO":{type:"Province",name:"La Rioja"},"ES-SS":{type:"Province",name:"Gipuzkoa*"},"ES-BA":{type:"Province",name:"Badajoz"}}},ER:{name:"Eritrea",sub:{"ER-AN":{type:"Region",name:"Ansabā"},"ER-MA":{type:"Region",name:"Al Awsaţ"},"ER-DU":{type:"Region",name:"Al Janūbī"},"ER-DK":{type:"Region",name:"Debubawi K’eyyĭḥ Baḥri"},"ER-SK":{type:"Region",name:"Semienawi K’eyyĭḥ Baḥri"},"ER-GB":{type:"Region",name:"Gash-Barka"}}},ME:{name:"Montenegro",sub:{"ME-06":{type:"Municipality",name:"Cetinje"},"ME-07":{type:"Municipality",name:"Danilovgrad"},"ME-04":{type:"Municipality",name:"Bijelo Polje"},"ME-05":{type:"Municipality",name:"Budva"},"ME-02":{type:"Municipality",name:"Bar"},"ME-03":{type:"Municipality",name:"Berane"},"ME-01":{type:"Municipality",name:"Andrijevica"},"ME-20":{type:"Municipality",name:"Ulcinj"},"ME-21":{type:"Municipality",name:"Žabljak"},"ME-08":{type:"Municipality",name:"Herceg-Novi"},"ME-09":{type:"Municipality",name:"Kolašin"},"ME-15":{type:"Municipality",name:"Plužine"},"ME-14":{type:"Municipality",name:"Pljevlja"},"ME-17":{type:"Municipality",name:"Rožaje"},"ME-16":{type:"Municipality",name:"Podgorica"},"ME-11":{type:"Municipality",name:"Mojkovac"},"ME-10":{type:"Municipality",name:"Kotor"},"ME-13":{type:"Municipality",name:"Plav"},"ME-12":{type:"Municipality",name:"Nikšić"},"ME-19":{type:"Municipality",name:"Tivat"},"ME-18":{type:"Municipality",name:"Šavnik"},"ME-22":{type:"Municipality",name:"Gusinje"},"ME-23":{type:"Municipality",name:"Petnjica"}}},MD:{name:"Moldova",sub:{"MD-LE":{type:"District",name:"Leova"},"MD-SO":{type:"District",name:"Soroca"},"MD-TE":{type:"District",name:"Teleneşti"},"MD-IA":{type:"District",name:"Ialoveni"},"MD-TA":{type:"District",name:"Taraclia"},"MD-OC":{type:"District",name:"Ocniţa"},"MD-RI":{type:"District",name:"Rîşcani"},"MD-ED":{type:"District",name:"Edineţ"},"MD-RE":{type:"District",name:"Rezina"},"MD-OR":{type:"District",name:"Orhei"},"MD-CL":{type:"District",name:"Călăraşi"},"MD-CM":{type:"District",name:"Cimişlia"},"MD-GL":{type:"District",name:"Glodeni"},"MD-CA":{type:"District",name:"Cahul"},"MD-AN":{type:"District",name:"Anenii Noi"},"MD-UN":{type:"District",name:"Ungheni"},"MD-CR":{type:"District",name:"Criuleni"},"MD-CS":{type:"District",name:"Căuşeni"},"MD-CT":{type:"District",name:"Cantemir"},"MD-CU":{type:"City",name:"Chişinău"},"MD-HI":{type:"District",name:"Hînceşti"},"MD-DU":{type:"District",name:"Dubăsari"},"MD-NI":{type:"District",name:"Nisporeni"},"MD-ST":{type:"District",name:"Străşeni"},"MD-SV":{type:"District",name:"Ştefan Vodă"},"MD-DR":{type:"District",name:"Drochia"},"MD-SI":{type:"District",name:"Sîngerei"},"MD-DO":{type:"District",name:"Donduşeni"},"MD-SN":{type:"Territorial unit",name:"Stînga Nistrului, unitatea teritorială din"},"MD-FL":{type:"District",name:"Floreşti"},"MD-FA":{type:"District",name:"Făleşti"},"MD-SD":{type:"District",name:"Şoldăneşti"},"MD-GA":{type:"Autonomous territorial unit",name:"Găgăuzia, Unitatea teritorială autonomă"},"MD-BD":{type:"City",name:"Bender"},"MD-BA":{type:"City",name:"Bălţi"},"MD-BS":{type:"District",name:"Basarabeasca"},"MD-BR":{type:"District",name:"Briceni"}}},MG:{name:"Madagascar",sub:{"MG-A":{type:"Province",name:"Toamasina"},"MG-F":{type:"Province",name:"Fianarantsoa"},"MG-D":{type:"Province",name:"Antsiranana"},"MG-M":{type:"Province",name:"Mahajanga"},"MG-U":{type:"Province",name:"Toliara"},"MG-T":{type:"Province",name:"Antananarivo"}}},MF:{name:"St. Martin",sub:{"MF-MF":{type:"Country",name:"St. Martin"}}},MA:{name:"Morocco",sub:{"MA-RAB":{type:"Prefecture",name:"Rabat"},"MA-MMD":{type:"Prefecture",name:"Marrakech-Medina"},"MA-AOU":{type:"Prefecture",name:"Aousserd"},"MA-BEM":{type:"Province",name:"Beni Mellal"},"MA-CAS":{type:"Prefecture",name:"Casablanca"},"MA-TIZ":{type:"Province",name:"Tiznit"},"MA-SAF":{type:"Province",name:"Safi"},"MA-FIG":{type:"Province",name:"Figuig"},"MA-SAL":{type:"Prefecture",name:"Salé"},"MA-JDI":{type:"Province",name:"El Jadida"},"MA-LAR":{type:"Province",name:"Larache"},"MA-SKH":{type:"Prefecture",name:"Skhirate-Témara"},"MA-KHE":{type:"Province",name:"Khemisset"},"MA-LAA":{type:"Province",name:"Laâyoune"},"MA-GUE":{type:"Province",name:"Guelmim"},"MA-HAO":{type:"Province",name:"Al Haouz"},"MA-KHN":{type:"Province",name:"Khenifra"},"MA-KHO":{type:"Province",name:"Khouribga"},"MA-TAR":{type:"Province",name:"Taroudant"},"MA-ESM":{type:"Province",name:"Es Smara"},"MA-BER":{type:"Province",name:"Berkane"},"MA-BES":{type:"Province",name:"Ben Slimane"},"MA-ESI":{type:"Province",name:"Essaouira"},"MA-SET":{type:"Province",name:"Settat"},"MA-CHT":{type:"Province",name:"Chtouka-Ait Baha"},"MA-AZI":{type:"Province",name:"Azilal"},"MA-NOU":{type:"Province",name:"Nouaceur"},"MA-MOH":{type:"Prefecture",name:"Mohammadia"},"MA-MOU":{type:"Province",name:"Moulay Yacoub"},"MA-KEN":{type:"Province",name:"Kénitra"},"MA-11":{type:"Region",name:"Marrakech-Tensift-Al Haouz"},"MA-10":{type:"Region",name:"Doukkala-Abda"},"MA-13":{type:"Region",name:"Sous-Massa-Draa"},"MA-12":{type:"Region",name:"Tadla-Azilal"},"MA-15":{type:"Region",name:"Laâyoune-Boujdour-Sakia el Hamra"},"MA-14":{type:"Region",name:"Guelmim-Es Semara"},"MA-HAJ":{type:"Province",name:"El Hajeb"},"MA-16":{type:"Region",name:"Oued ed Dahab-Lagouira"},"MA-BOD":{type:"Province",name:"Boujdour"},"MA-SYB":{type:"Prefecture",name:"Sidi Youssef Ben Ali"},"MA-ZAG":{type:"Province",name:"Zagora"},"MA-CHE":{type:"Province",name:"Chefchaouen"},"MA-KES":{type:"Province",name:"Kelaat es Sraghna"},"MA-TAI":{type:"Province",name:"Taourirt"},"MA-JRA":{type:"Province",name:"Jrada"},"MA-MED":{type:"Province",name:"Médiouna"},"MA-TAO":{type:"Province",name:"Taounate"},"MA-TET":{type:"Prefecture",name:"Tétouan"},"MA-ASZ":{type:"Province",name:"Assa-Zag"},"MA-TNG":{type:"Prefecture",name:"Tanger-Assilah"},"MA-SEF":{type:"Province",name:"Sefrou"},"MA-MMN":{type:"Prefecture",name:"Marrakech-Menara"},"MA-TAZ":{type:"Province",name:"Taza"},"MA-INE":{type:"Prefecture",name:"Inezgane-Ait Melloul"},"MA-NAD":{type:"Province",name:"Nador"},"MA-CHI":{type:"Province",name:"Chichaoua"},"MA-ERR":{type:"Province",name:"Errachidia"},"MA-TNT":{type:"Province",name:"Tan-Tan"},"MA-TAT":{type:"Province",name:"Tata"},"MA-IFR":{type:"Province",name:"Ifrane"},"MA-09":{type:"Region",name:"Chaouia-Ouardigha"},"MA-SIK":{type:"Province",name:"Sidi Kacem"},"MA-OUJ":{type:"Prefecture",name:"Oujda-Angad"},"MA-FES":{type:"Prefecture",name:"Fès-Dar-Dbibegh"},"MA-OUD":{type:"Province",name:"Oued ed Dahab"},"MA-MEK":{type:"Prefecture",name:"Meknès"},"MA-OUA":{type:"Province",name:"Ouarzazate"},"MA-02":{type:"Region",name:"Gharb-Chrarda-Beni Hssen"},"MA-03":{type:"Region",name:"Taza-Al Hoceima-Taounate"},"MA-01":{type:"Region",name:"Tanger-Tétouan"},"MA-06":{type:"Region",name:"Meknès-Tafilalet"},"MA-07":{type:"Region",name:"Rabat-Salé-Zemmour-Zaer"},"MA-04":{type:"Region",name:"L'Oriental"},"MA-05":{type:"Region",name:"Fès-Boulemane"},"MA-08":{type:"Region",name:"Grand Casablanca"},"MA-AGD":{type:"Prefecture",name:"Agadir-Ida-Outanane"},"MA-BOM":{type:"Province",name:"Boulemane"},"MA-FAH":{type:"Prefecture",name:"Fahs-Beni Makada"},"MA-HOC":{type:"Province",name:"Al Hoceïma"}}},MC:{name:"Monaco",sub:{"MC-MO":{type:"Quarter",name:"Monaco-Ville"},"MC-VR":{type:"Quarter",name:"Vallon de la Rousse"},"MC-FO":{type:"Quarter",name:"Fontvieille"},"MC-SD":{type:"Quarter",name:"Sainte-Dévote"},"MC-GA":{type:"Quarter",name:"La Gare"},"MC-CL":{type:"Quarter",name:"La Colle"},"MC-CO":{type:"Quarter",name:"La Condamine"},"MC-SR":{type:"Quarter",name:"Saint-Roman"},"MC-MC":{type:"Quarter",name:"Monte-Carlo"},"MC-MA":{type:"Quarter",name:"Malbousquet"},"MC-MG":{type:"Quarter",name:"Moneghetti"},"MC-PH":{type:"Quarter",name:"Port-Hercule"},"MC-LA":{type:"Quarter",name:"Larvotto"},"MC-MU":{type:"Quarter",name:"Moulins"},"MC-JE":{type:"Quarter",name:"Jardin Exotique"},"MC-SO":{type:"Quarter",name:"La Source"},"MC-SP":{type:"Quarter",name:"Spélugues"}}},UZ:{name:"Uzbekistan",sub:{"UZ-QA":{type:"Region",name:"Qashqadaryo"},"UZ-FA":{type:"Region",name:"Farg‘ona"},"UZ-JI":{type:"Region",name:"Jizzax"},"UZ-TO":{type:"Region",name:"Toshkent"},"UZ-NW":{type:"Region",name:"Navoiy"},"UZ-SU":{type:"Region",name:"Surxondaryo"},"UZ-XO":{type:"Region",name:"Xorazm"},"UZ-QR":{type:"Republic",name:"Qoraqalpog‘iston Respublikasi"},"UZ-SI":{type:"Region",name:"Sirdaryo"},"UZ-TK":{type:"City",name:"Toshkent"},"UZ-NG":{type:"Region",name:"Namangan"},"UZ-SA":{type:"Region",name:"Samarqand"},"UZ-BU":{type:"Region",name:"Buxoro"},"UZ-AN":{type:"Region",name:"Andijon"}}},MM:{name:"Myanmar",sub:{"MM-16":{type:"State",name:"Rakhine"},"MM-18":{type:"Union territory",name:"Nay Pyi Taw"},"MM-06":{type:"Region",name:"Yangon"},"MM-07":{type:"Region",name:"Ayeyawady"},"MM-04":{type:"Region",name:"Mandalay"},"MM-05":{type:"Region",name:"Taninthayi"},"MM-02":{type:"Region",name:"Bago"},"MM-03":{type:"Region",name:"Magway"},"MM-13":{type:"State",name:"Kayin"},"MM-01":{type:"Region",name:"Sagaing"},"MM-15":{type:"State",name:"Mon"},"MM-14":{type:"State",name:"Chin"},"MM-11":{type:"State",name:"Kachin"},"MM-12":{type:"State",name:"Kayah"},"MM-17":{type:"State",name:"Shan"}}},ML:{name:"Mali",sub:{"ML-BKO":{type:"District",name:"Bamako"},"ML-1":{type:"Region",name:"Kayes"},"ML-2":{type:"Region",name:"Koulikoro"},"ML-3":{type:"Region",name:"Sikasso"},"ML-4":{type:"Region",name:"Ségou"},"ML-5":{type:"Region",name:"Mopti"},"ML-6":{type:"Region",name:"Tombouctou"},"ML-7":{type:"Region",name:"Gao"},"ML-8":{type:"Region",name:"Kidal"}}},MO:{name:"Macau",sub:{"MO-MO":{type:"Country",name:"Macau"}}},MN:{name:"Mongolia",sub:{"MN-073":{type:"Province",name:"Arhangay"},"MN-047":{type:"Province",name:"Töv"},"MN-039":{type:"Province",name:"Hentiy"},"MN-071":{type:"Province",name:"Bayan-Ölgiy"},"MN-059":{type:"Province",name:"Dundgovĭ"},"MN-057":{type:"Province",name:"Dzavhan"},"MN-055":{type:"Province",name:"Övörhangay"},"MN-053":{type:"Province",name:"Ömnögovĭ"},"MN-051":{type:"Province",name:"Sühbaatar"},"MN-035":{type:"Province",name:"Orhon"},"MN-037":{type:"Province",name:"Darhan uul"},"MN-1":{type:"Capital city",name:"Ulaanbaatar"},"MN-067":{type:"Province",name:"Bulgan"},"MN-064":{type:"Province",name:"Govĭ-Sümber"},"MN-065":{type:"Province",name:"Govĭ-Altay"},"MN-063":{type:"Province",name:"Dornogovĭ"},"MN-046":{type:"Province",name:"Uvs"},"MN-061":{type:"Province",name:"Dornod"},"MN-049":{type:"Province",name:"Selenge"},"MN-069":{type:"Province",name:"Bayanhongor"},"MN-041":{type:"Province",name:"Hövsgöl"},"MN-043":{type:"Province",name:"Hovd"}}},MH:{name:"Marshall Islands",sub:{"MH-RON":{type:"Municipality",name:"Rongelap"},"MH-KWA":{type:"Municipality",name:"Kwajalein"},"MH-MAL":{type:"Municipality",name:"Maloelap"},"MH-WTH":{type:"Municipality",name:"Wotho"},"MH-WTJ":{type:"Municipality",name:"Wotje"},"MH-L":{type:"Chain",name:"Ralik chain"},"MH-ENI":{type:"Municipality",name:"Enewetak and Ujelang"},"MH-UTI":{type:"Municipality",name:"Utrik"},"MH-T":{type:"Chain",name:"Ratak chain"},"MH-AUR":{type:"Municipality",name:"Aur"},"MH-JAL":{type:"Municipality",name:"Jaluit"},"MH-UJA":{type:"Municipality",name:"Ujae"},"MH-JAB":{type:"Municipality",name:"Jabat"},"MH-ALK":{type:"Municipality",name:"Ailuk"},"MH-NMU":{type:"Municipality",name:"Namu"},"MH-ALL":{type:"Municipality",name:"Ailinglaplap"},"MH-MEJ":{type:"Municipality",name:"Mejit"},"MH-LAE":{type:"Municipality",name:"Lae"},"MH-EBO":{type:"Municipality",name:"Ebon"},"MH-KIL":{type:"Municipality",name:"Bikini and Kili"},"MH-NMK":{type:"Municipality",name:"Namdrik"},"MH-ARN":{type:"Municipality",name:"Arno"},"MH-MAJ":{type:"Municipality",name:"Majuro"},"MH-MIL":{type:"Municipality",name:"Mili"},"MH-LIB":{type:"Municipality",name:"Lib"},"MH-LIK":{type:"Municipality",name:"Likiep"}}},MK:{name:"Macedonia, the Former Yugoslav Republic Of",sub:{"MK-36":{type:"Municipality",name:"Kavadarci"},"MK-45":{type:"Municipality",name:"Krivogaštani"},"MK-33":{type:"Municipality",name:"Zrnovci"},"MK-68":{type:"Municipality",name:"Saraj †"},"MK-31":{type:"Municipality",name:"Zajas"},"MK-65":{type:"Municipality",name:"Rankovce"},"MK-64":{type:"Municipality",name:"Radoviš"},"MK-30":{type:"Municipality",name:"Želino"},"MK-04":{type:"Municipality",name:"Bitola"},"MK-05":{type:"Municipality",name:"Bogdanci"},"MK-06":{type:"Municipality",name:"Bogovinje"},"MK-07":{type:"Municipality",name:"Bosilovo"},"MK-66":{type:"Municipality",name:"Resen"},"MK-01":{type:"Municipality",name:"Aerodrom †"},"MK-02":{type:"Municipality",name:"Aračinovo"},"MK-03":{type:"Municipality",name:"Berovo"},"MK-40":{type:"Municipality",name:"Kičevo"},"MK-41":{type:"Municipality",name:"Konče"},"MK-42":{type:"Municipality",name:"Kočani"},"MK-32":{type:"Municipality",name:"Zelenikovo"},"MK-08":{type:"Municipality",name:"Brvenica"},"MK-09":{type:"Municipality",name:"Butel †"},"MK-46":{type:"Municipality",name:"Kruševo"},"MK-47":{type:"Municipality",name:"Kumanovo"},"MK-43":{type:"Municipality",name:"Kratovo"},"MK-69":{type:"Municipality",name:"Sveti Nikole"},"MK-28":{type:"Municipality",name:"Drugovo"},"MK-29":{type:"Municipality",name:"Gjorče Petrov †"},"MK-26":{type:"Municipality",name:"Dojran"},"MK-27":{type:"Municipality",name:"Dolneni"},"MK-24":{type:"Municipality",name:"Demir Kapija"},"MK-25":{type:"Municipality",name:"Demir Hisar"},"MK-22":{type:"Municipality",name:"Debarca"},"MK-23":{type:"Municipality",name:"Delčevo"},"MK-20":{type:"Municipality",name:"Gradsko"},"MK-21":{type:"Municipality",name:"Debar"},"MK-62":{type:"Municipality",name:"Prilep"},"MK-74":{type:"Municipality",name:"Studeničani"},"MK-80":{type:"Municipality",name:"Čaška"},"MK-81":{type:"Municipality",name:"Češinovo-Obleševo"},"MK-82":{type:"Municipality",name:"Čučer Sandevo"},"MK-83":{type:"Municipality",name:"Štip"},"MK-78":{type:"Municipality",name:"Centar Župa"},"MK-71":{type:"Municipality",name:"Staro Nagoričane"},"MK-70":{type:"Municipality",name:"Sopište"},"MK-60":{type:"Municipality",name:"Pehčevo"},"MK-72":{type:"Municipality",name:"Struga"},"MK-75":{type:"Municipality",name:"Tearce"},"MK-73":{type:"Municipality",name:"Strumica"},"MK-59":{type:"Municipality",name:"Petrovec"},"MK-58":{type:"Municipality",name:"Ohrid"},"MK-57":{type:"Municipality",name:"Oslomej"},"MK-56":{type:"Municipality",name:"Novo Selo"},"MK-55":{type:"Municipality",name:"Novaci"},"MK-54":{type:"Municipality",name:"Negotino"},"MK-53":{type:"Municipality",name:"Mogila"},"MK-52":{type:"Municipality",name:"Makedonski Brod"},"MK-51":{type:"Municipality",name:"Makedonska Kamenica"},"MK-50":{type:"Municipality",name:"Mavrovo i Rostuša"},"MK-48":{type:"Municipality",name:"Lipkovo"},"MK-19":{type:"Municipality",name:"Gostivar"},"MK-18":{type:"Municipality",name:"Gevgelija"},"MK-39":{type:"Municipality",name:"Kisela Voda †"},"MK-38":{type:"Municipality",name:"Karpoš †"},"MK-44":{type:"Municipality",name:"Kriva Palanka"},"MK-49":{type:"Municipality",name:"Lozovo"},"MK-13":{type:"Municipality",name:"Veles"},"MK-12":{type:"Municipality",name:"Vevčani"},"MK-11":{type:"Municipality",name:"Vasilevo"},"MK-10":{type:"Municipality",name:"Valandovo"},"MK-17":{type:"Municipality",name:"Gazi Baba †"},"MK-16":{type:"Municipality",name:"Vrapčište"},"MK-15":{type:"Municipality",name:"Vraneštica"},"MK-14":{type:"Municipality",name:"Vinica"},"MK-35":{type:"Municipality",name:"Jegunovce"},"MK-84":{type:"Municipality",name:"Šuto Orizari †"},"MK-61":{type:"Municipality",name:"Plasnica"},"MK-79":{type:"Municipality",name:"Čair †"},"MK-34":{type:"Municipality",name:"Ilinden"},"MK-63":{type:"Municipality",name:"Probištip"},"MK-76":{type:"Municipality",name:"Tetovo"},"MK-77":{type:"Municipality",name:"Centar †"},"MK-37":{type:"Municipality",name:"Karbinci"},"MK-67":{type:"Municipality",name:"Rosoman"}}},MU:{name:"Mauritius",sub:{"MU-VP":{type:"City",name:"Vacoas-Phoenix"},"MU-CC":{type:"Dependency",name:"Cargados Carajos Shoals"},"MU-SA":{type:"District",name:"Savanne"},"MU-RO":{type:"Dependency",name:"Rodrigues Island"},"MU-CU":{type:"City",name:"Curepipe"},"MU-PA":{type:"District",name:"Pamplemousses"},"MU-PL":{type:"District",name:"Port Louis"},"MU-QB":{type:"City",name:"Quatre Bornes"},"MU-FL":{type:"District",name:"Flacq"},"MU-BR":{type:"City",name:"Beau Bassin-Rose Hill"},"MU-BL":{type:"District",name:"Black River"},"MU-PW":{type:"District",name:"Plaines Wilhems"},"MU-AG":{type:"Dependency",name:"Agalega Islands"},"MU-PU":{type:"City",name:"Port Louis"},"MU-RR":{type:"District",name:"Rivière du Rempart"},"MU-GP":{type:"District",name:"Grand Port"},"MU-MO":{type:"District",name:"Moka"}}},MT:{name:"Malta",sub:{"MT-58":{type:"Local council",name:"Ta’ Xbiex"},"MT-59":{type:"Local council",name:"Tarxien"},"MT-56":{type:"Local council",name:"Sliema"},"MT-57":{type:"Local council",name:"Swieqi"},"MT-54":{type:"Local council",name:"Santa Venera"},"MT-55":{type:"Local council",name:"Siġġiewi"},"MT-52":{type:"Local council",name:"Sannat"},"MT-53":{type:"Local council",name:"Saint Lucia’s"},"MT-50":{type:"Local council",name:"Saint Lawrence"},"MT-51":{type:"Local council",name:"Saint Paul’s Bay"},"MT-68":{type:"Local council",name:"Żurrieq"},"MT-60":{type:"Local council",name:"Valletta"},"MT-48":{type:"Local council",name:"Saint Julian’s"},"MT-38":{type:"Local council",name:"Naxxar"},"MT-67":{type:"Local council",name:"Żejtun"},"MT-39":{type:"Local council",name:"Paola"},"MT-01":{type:"Local council",name:"Attard"},"MT-63":{type:"Local council",name:"Xgħajra"},"MT-03":{type:"Local council",name:"Birgu"},"MT-02":{type:"Local council",name:"Balzan"},"MT-05":{type:"Local council",name:"Birżebbuġa"},"MT-04":{type:"Local council",name:"Birkirkara"},"MT-07":{type:"Local council",name:"Dingli"},"MT-06":{type:"Local council",name:"Bormla"},"MT-09":{type:"Local council",name:"Floriana"},"MT-08":{type:"Local council",name:"Fgura"},"MT-25":{type:"Local council",name:"Luqa"},"MT-24":{type:"Local council",name:"Lija"},"MT-23":{type:"Local council",name:"Kirkop"},"MT-22":{type:"Local council",name:"Kerċem"},"MT-21":{type:"Local council",name:"Kalkara"},"MT-20":{type:"Local council",name:"Isla"},"MT-46":{type:"Local council",name:"Rabat Malta"},"MT-49":{type:"Local council",name:"Saint John"},"MT-29":{type:"Local council",name:"Mdina"},"MT-45":{type:"Local council",name:"Rabat Gozo"},"MT-44":{type:"Local council",name:"Qrendi"},"MT-47":{type:"Local council",name:"Safi"},"MT-28":{type:"Local council",name:"Marsaxlokk"},"MT-41":{type:"Local council",name:"Pietà"},"MT-40":{type:"Local council",name:"Pembroke"},"MT-43":{type:"Local council",name:"Qormi"},"MT-42":{type:"Local council",name:"Qala"},"MT-27":{type:"Local council",name:"Marsaskala"},"MT-66":{type:"Local council",name:"Żebbuġ Malta"},"MT-65":{type:"Local council",name:"Żebbuġ Gozo"},"MT-26":{type:"Local council",name:"Marsa"},"MT-61":{type:"Local council",name:"Xagħra"},"MT-62":{type:"Local council",name:"Xewkija"},"MT-64":{type:"Local council",name:"Żabbar"},"MT-32":{type:"Local council",name:"Mosta"},"MT-33":{type:"Local council",name:"Mqabba"},"MT-12":{type:"Local council",name:"Gżira"},"MT-13":{type:"Local council",name:"Għajnsielem"},"MT-10":{type:"Local council",name:"Fontana"},"MT-11":{type:"Local council",name:"Gudja"},"MT-16":{type:"Local council",name:"Għasri"},"MT-17":{type:"Local council",name:"Għaxaq"},"MT-14":{type:"Local council",name:"Għarb"},"MT-15":{type:"Local council",name:"Għargħur"},"MT-30":{type:"Local council",name:"Mellieħa"},"MT-31":{type:"Local council",name:"Mġarr"},"MT-18":{type:"Local council",name:"Ħamrun"},"MT-19":{type:"Local council",name:"Iklin"},"MT-34":{type:"Local council",name:"Msida"},"MT-35":{type:"Local council",name:"Mtarfa"},"MT-36":{type:"Local council",name:"Munxar"},"MT-37":{type:"Local council",name:"Nadur"}}},MW:{name:"Malawi",sub:{"MW-CR":{type:"District",name:"Chiradzulu"},"MW-CT":{type:"District",name:"Chitipa"},"MW-CK":{type:"District",name:"Chikwawa"},"MW-KS":{type:"District",name:"Kasungu"},"MW-KR":{type:"District",name:"Karonga"},"MW-TH":{type:"District",name:"Thyolo"},"MW-NS":{type:"District",name:"Nsanje"},"MW-MC":{type:"District",name:"Mchinji"},"MW-MG":{type:"District",name:"Mangochi"},"MW-MZ":{type:"District",name:"Mzimba"},"MW-PH":{type:"District",name:"Phalombe"},"MW-MW":{type:"District",name:"Mwanza"},"MW-MU":{type:"District",name:"Mulanje"},"MW-RU":{type:"District",name:"Rumphi"},"MW-ZO":{type:"District",name:"Zomba"},"MW-DO":{type:"District",name:"Dowa"},"MW-BL":{type:"District",name:"Blantyre"},"MW-DE":{type:"District",name:"Dedza"},"MW-BA":{type:"District",name:"Balaka"},"MW-S":{type:"Region",name:"Chakumwera"},"MW-NK":{type:"District",name:"Nkhotakota"},"MW-NI":{type:"District",name:"Ntchisi"},"MW-SA":{type:"District",name:"Salima"},"MW-NE":{type:"District",name:"Neno"},"MW-NB":{type:"District",name:"Nkhata Bay"},"MW-LI":{type:"District",name:"Lilongwe"},"MW-C":{type:"Region",name:"Central Region"},"MW-MH":{type:"District",name:"Machinga"},"MW-NU":{type:"District",name:"Ntcheu"},"MW-N":{type:"Region",name:"Chakumpoto"},"MW-LK":{type:"District",name:"Likoma"}}},MV:{name:"Maldives",sub:{"MV-00":{type:"Administrative atoll",name:"Alifu Dhaalu"},"MV-23":{type:"Administrative atoll",name:"Haa Dhaalu"},"MV-NO":{type:"Province",name:"North"},"MV-NC":{type:"Province",name:"Medhu-Uthuru"},"MV-SU":{type:"Province",name:"Dhekunu"},"MV-08":{type:"Administrative atoll",name:"Kolhumadulu"},"MV-29":{type:"Administrative atoll",name:"Fuvammulah"},"MV-28":{type:"Administrative atoll",name:"Gaafu Dhaalu"},"MV-03":{type:"Administrative atoll",name:"Faadhippolhu"},"MV-02":{type:"Administrative atoll",name:"Alifu Alifu"},"MV-01":{type:"Administrative atoll",name:"Addu Atholhu"},"MV-26":{type:"Administrative atoll",name:"Kaafu"},"MV-07":{type:"Administrative atoll",name:"Haa Alifu"},"MV-20":{type:"Administrative atoll",name:"Baa"},"MV-05":{type:"Administrative atoll",name:"Hadhdhunmathi"},"MV-04":{type:"Administrative atoll",name:"Felidhu Atholhu"},"MV-MLE":{type:"Capital",name:"Maale"},"MV-SC":{type:"Province",name:"Medhu-Dhekunu"},"MV-UN":{type:"Province",name:"Mathi-Uthuru"},"MV-14":{type:"Administrative atoll",name:"Faafu"},"MV-17":{type:"Administrative atoll",name:"Dhaalu"},"MV-12":{type:"Administrative atoll",name:"Meemu"},"MV-13":{type:"Administrative atoll",name:"Maalhosmadulu Uthuruburi"},"MV-US":{type:"Province",name:"Mathi-Dhekunu"},"MV-CE":{type:"Province",name:"Central"},"MV-25":{type:"Administrative atoll",name:"Miladhunmadulu Dhekunuburi"},"MV-24":{type:"Administrative atoll",name:"Miladhunmadulu Uthuruburi"},"MV-27":{type:"Administrative atoll",name:"Gaafu Alifu"}}},MQ:{name:"Martinique",sub:{"MQ-MQ":{type:"Country",name:"Martinique"}}},MP:{name:"Northern Mariana Islands",sub:{"MP-MP":{type:"Country",name:"Northern Mariana Islands"}}},MS:{name:"Montserrat",sub:{"MS-MS":{type:"Country",name:"Montserrat"}}},MR:{name:"Mauritania",sub:{"MR-07":{type:"Region",name:"Adrar"},"MR-06":{type:"Region",name:"Trarza"},"MR-05":{type:"Region",name:"Brakna"},"MR-04":{type:"Region",name:"Gorgol"},"MR-03":{type:"Region",name:"Assaba"},"MR-02":{type:"Region",name:"Hodh el Gharbi"},"MR-01":{type:"Region",name:"Hodh ech Chargui"},"MR-11":{type:"Region",name:"Tiris Zemmour"},"MR-NKC":{type:"District",name:"Nouakchott"},"MR-12":{type:"Region",name:"Inchiri"},"MR-09":{type:"Region",name:"Tagant"},"MR-08":{type:"Region",name:"Dakhlet Nouâdhibou"},"MR-10":{type:"Region",name:"Guidimaka"}}},IM:{name:"Isle of Man",sub:{"IM-IM":{type:"Country",name:"Isle of Main"}}},UG:{name:"Uganda",sub:{"UG-328":{type:"District",name:"Napak"},"UG-329":{type:"District",name:"Nwoya"},"UG-108":{type:"District",name:"Mukono"},"UG-109":{type:"District",name:"Nakasongola"},"UG-101":{type:"District",name:"Kalangala"},"UG-102":{type:"City",name:"Kampala"},"UG-103":{type:"District",name:"Kiboga"},"UG-104":{type:"District",name:"Luwero"},"UG-105":{type:"District",name:"Masaka"},"UG-106":{type:"District",name:"Mpigi"},"UG-107":{type:"District",name:"Mubende"},"UG-229":{type:"District",name:"Luuka"},"UG-228":{type:"District",name:"Kween"},"UG-221":{type:"District",name:"Manafwa"},"UG-220":{type:"District",name:"Kaliro"},"UG-223":{type:"District",name:"Bududa"},"UG-222":{type:"District",name:"Namutumba"},"UG-225":{type:"District",name:"Bulambuli"},"UG-224":{type:"District",name:"Bukedea"},"UG-227":{type:"District",name:"Kibuku"},"UG-226":{type:"District",name:"Buyende"},"UG-117":{type:"District",name:"Buikwe"},"UG-116":{type:"District",name:"Lyantonde"},"UG-115":{type:"District",name:"Nakaseke"},"UG-114":{type:"District",name:"Mityana"},"UG-113":{type:"District",name:"Wakiso"},"UG-112":{type:"District",name:"Kayunga"},"UG-111":{type:"District",name:"Sembabule"},"UG-110":{type:"District",name:"Rakai"},"UG-119":{type:"District",name:"Butambala"},"UG-118":{type:"District",name:"Bukomansibi"},"UG-214":{type:"District",name:"Mayuge"},"UG-215":{type:"District",name:"Sironko"},"UG-216":{type:"District",name:"Amuria"},"UG-217":{type:"District",name:"Budaka"},"UG-210":{type:"District",name:"Pallisa"},"UG-211":{type:"District",name:"Soroti"},"UG-212":{type:"District",name:"Tororo"},"UG-213":{type:"District",name:"Kaberamaido"},"UG-218":{type:"District",name:"Bukwa"},"UG-219":{type:"District",name:"Butaleja"},"UG-421":{type:"District",name:"Kyegegwa"},"UG-203":{type:"District",name:"Iganga"},"UG-202":{type:"District",name:"Busia"},"UG-201":{type:"District",name:"Bugiri"},"UG-207":{type:"District",name:"Katakwi"},"UG-206":{type:"District",name:"Kapchorwa"},"UG-205":{type:"District",name:"Kamuli"},"UG-204":{type:"District",name:"Jinja"},"UG-209":{type:"District",name:"Mbale"},"UG-208":{type:"District",name:"Kumi"},"UG-416":{type:"District",name:"Ibanda"},"UG-418":{type:"District",name:"Kiruhura"},"UG-419":{type:"District",name:"Buliisa"},"UG-417":{type:"District",name:"Isingiro"},"UG-308":{type:"District",name:"Moroto"},"UG-309":{type:"District",name:"Moyo"},"UG-302":{type:"District",name:"Apac"},"UG-303":{type:"District",name:"Arua"},"UG-301":{type:"District",name:"Adjumani"},"UG-306":{type:"District",name:"Kotido"},"UG-307":{type:"District",name:"Lira"},"UG-304":{type:"District",name:"Gulu"},"UG-305":{type:"District",name:"Kitgum"},"UG-420":{type:"District",name:"Kiryandongo"},"UG-425":{type:"District",name:"Sheema"},"UG-424":{type:"District",name:"Rubirizi"},"UG-423":{type:"District",name:"Ntoroko"},"UG-422":{type:"District",name:"Mitooma"},"UG-319":{type:"District",name:"Amuru"},"UG-318":{type:"District",name:"Dokolo"},"UG-414":{type:"District",name:"Kanungu"},"UG-415":{type:"District",name:"Kyenjojo"},"UG-412":{type:"District",name:"Rukungiri"},"UG-413":{type:"District",name:"Kamwenge"},"UG-410":{type:"District",name:"Mbarara"},"UG-411":{type:"District",name:"Ntungamo"},"UG-311":{type:"District",name:"Nakapiripirit"},"UG-310":{type:"District",name:"Nebbi"},"UG-313":{type:"District",name:"Yumbe"},"UG-312":{type:"District",name:"Pader"},"UG-315":{type:"District",name:"Kaabong"},"UG-314":{type:"District",name:"Amolatar"},"UG-317":{type:"District",name:"Abim"},"UG-316":{type:"District",name:"Koboko"},"UG-324":{type:"District",name:"Amudat"},"UG-325":{type:"District",name:"Buhweju"},"UG-326":{type:"District",name:"Kole"},"UG-327":{type:"District",name:"Lamwo"},"UG-320":{type:"District",name:"Maracha"},"UG-321":{type:"District",name:"Oyam"},"UG-322":{type:"District",name:"Agago"},"UG-323":{type:"District",name:"Alebtong"},"UG-124":{type:"District",name:"Lwengo"},"UG-122":{type:"District",name:"Kalungu"},"UG-123":{type:"District",name:"Kyankwanzi"},"UG-120":{type:"District",name:"Buvuma"},"UG-121":{type:"District",name:"Gomba"},"UG-405":{type:"District",name:"Kabarole"},"UG-404":{type:"District",name:"Kabale"},"UG-407":{type:"District",name:"Kibaale"},"UG-406":{type:"District",name:"Kasese"},"UG-401":{type:"District",name:"Bundibugyo"},"UG-403":{type:"District",name:"Hoima"},"UG-402":{type:"District",name:"Bushenyi"},"UG-409":{type:"District",name:"Masindi"},"UG-408":{type:"District",name:"Kisoro"},"UG-N":{type:"Geographical region",name:"Northern"},"UG-C":{type:"Geographical region",name:"Central"},"UG-E":{type:"Geographical region",name:"Eastern"},"UG-W":{type:"Geographical region",name:"Western"},"UG-331":{type:"District",name:"Zombo"},"UG-330":{type:"District",name:"Otuke"},"UG-232":{type:"District",name:"Serere"},"UG-230":{type:"District",name:"Namayingo"},"UG-231":{type:"District",name:"Ngora"}}},TZ:{name:"Tanzania",sub:{"TZ-28":{type:"Region",name:"Katavi"},"TZ-29":{type:"Region",name:"Njombe"},"TZ-02":{type:"Region",name:"Dar es Salaam"},"TZ-03":{type:"Region",name:"Dodoma"},"TZ-01":{type:"Region",name:"Arusha"},"TZ-06":{type:"Region",name:"Kaskazini Pemba"},"TZ-07":{type:"Region",name:"Kaskazini Unguja"},"TZ-04":{type:"Region",name:"Iringa"},"TZ-05":{type:"Region",name:"Kagera"},"TZ-20":{type:"Region",name:"Rukwa"},"TZ-21":{type:"Region",name:"Ruvuma"},"TZ-08":{type:"Region",name:"Kigoma"},"TZ-09":{type:"Region",name:"Kilimanjaro"},"TZ-24":{type:"Region",name:"Tabora"},"TZ-25":{type:"Region",name:"Tanga"},"TZ-26":{type:"Region",name:"Manyara"},"TZ-27":{type:"Region",name:"Geita"},"TZ-22":{type:"Region",name:"Shinyanga"},"TZ-23":{type:"Region",name:"Singida"},"TZ-11":{type:"Region",name:"Kusini Unguja"},"TZ-10":{type:"Region",name:"Kusini Pemba"},"TZ-13":{type:"Region",name:"Mara"},"TZ-12":{type:"Region",name:"Lindi"},"TZ-15":{type:"Region",name:"Mjini Magharibi"},"TZ-14":{type:"Region",name:"Mbeya"},"TZ-17":{type:"Region",name:"Mtwara"},"TZ-16":{type:"Region",name:"Morogoro"},"TZ-19":{type:"Region",name:"Coast"},"TZ-18":{type:"Region",name:"Mwanza"},"TZ-30":{type:"Region",name:"Simiyu"}}},MY:{name:"Malaysia",sub:{"MY-08":{type:"State",name:"Perak"},"MY-09":{type:"State",name:"Perlis"},"MY-16":{type:"Federal territory",name:"Wilayah Persekutuan Putrajaya"},"MY-02":{type:"State",name:"Kedah"},"MY-03":{type:"State",name:"Kelantan"},"MY-13":{type:"State",name:"Sarawak"},"MY-01":{type:"State",name:"Johor"},"MY-06":{type:"State",name:"Pahang"},"MY-07":{type:"State",name:"Pulau Pinang"},"MY-04":{type:"State",name:"Melaka"},"MY-05":{type:"State",name:"Negeri Sembilan"},"MY-11":{type:"State",name:"Terengganu"},"MY-10":{type:"State",name:"Selangor"},"MY-14":{type:"Federal territory",name:"Wilayah Persekutuan Kuala Lumpur"},"MY-15":{type:"Federal territory",name:"Wilayah Persekutuan Labuan"},"MY-12":{type:"State",name:"Sabah"}}},MX:{name:"Mexico",sub:{"MX-JAL":{type:"State",name:"Jalisco"},"MX-MEX":{type:"State",name:"México"},"MX-DUR":{type:"State",name:"Durango"},"MX-TAB":{type:"State",name:"Tabasco"},"MX-GUA":{type:"State",name:"Guanajuato"},"MX-CMX":{type:"Federal District",name:"Ciudad de México"},"MX-SIN":{type:"State",name:"Sinaloa"},"MX-BCS":{type:"State",name:"Baja California Sur"},"MX-NAY":{type:"State",name:"Nayarit"},"MX-AGU":{type:"State",name:"Aguascalientes"},"MX-ROO":{type:"State",name:"Quintana Roo"},"MX-NLE":{type:"State",name:"Nuevo León"},"MX-BCN":{type:"State",name:"Baja California"},"MX-SON":{type:"State",name:"Sonora"},"MX-MOR":{type:"State",name:"Morelos"},"MX-MIC":{type:"State",name:"Michoacán de Ocampo"},"MX-CAM":{type:"State",name:"Campeche"},"MX-COA":{type:"State",name:"Coahuila de Zaragoza"},"MX-QUE":{type:"State",name:"Querétaro"},"MX-COL":{type:"State",name:"Colima"},"MX-TAM":{type:"State",name:"Tamaulipas"},"MX-YUC":{type:"State",name:"Yucatán"},"MX-PUE":{type:"State",name:"Puebla"},"MX-HID":{type:"State",name:"Hidalgo"},"MX-CHP":{type:"State",name:"Chiapas"},"MX-TLA":{type:"State",name:"Tlaxcala"},"MX-GRO":{type:"State",name:"Guerrero"},"MX-CHH":{type:"State",name:"Chihuahua"},"MX-VER":{type:"State",name:"Veracruz de Ignacio de la Llave"},"MX-ZAC":{type:"State",name:"Zacatecas"},"MX-SLP":{type:"State",name:"San Luis Potosí"},"MX-OAX":{type:"State",name:"Oaxaca"}}},IL:{name:"Israel",sub:{"IL-TA":{type:"District",name:"Tel Aviv"},"IL-Z":{type:"District",name:"Northern District"},"IL-M":{type:"District",name:"Central District"},"IL-HA":{type:"District",name:"Haifa"},"IL-D":{type:"District",name:"Southern District"},"IL-JM":{type:"District",name:"Jerusalem"}}},FR:{name:"France",sub:{"FR-28":{type:"Metropolitan department",name:"Eure-et-Loir"},"FR-29":{type:"Metropolitan department",name:"Finistère"},"FR-22":{type:"Metropolitan department",name:"Côtes-d'Armor"},"FR-23":{type:"Metropolitan department",name:"Creuse"},"FR-21":{type:"Metropolitan department",name:"Côte-d'Or"},"FR-26":{type:"Metropolitan department",name:"Drôme"},"FR-27":{type:"Metropolitan department",name:"Eure"},"FR-24":{type:"Metropolitan department",name:"Dordogne"},"FR-25":{type:"Metropolitan department",name:"Doubs"},"FR-TF":{type:"Overseas territorial collectivity",name:"Terres australes françaises"},"FR-95":{type:"Metropolitan department",name:"Val-d'Oise"},"FR-94":{type:"Metropolitan department",name:"Val-de-Marne"},"FR-93":{type:"Metropolitan department",name:"Seine-Saint-Denis"},"FR-92":{type:"Metropolitan department",name:"Hauts-de-Seine"},"FR-91":{type:"Metropolitan department",name:"Essonne"},"FR-90":{type:"Metropolitan department",name:"Territoire de Belfort"},"FR-17":{type:"Metropolitan department",name:"Charente-Maritime"},"FR-16":{type:"Metropolitan department",name:"Charente"},"FR-15":{type:"Metropolitan department",name:"Cantal"},"FR-14":{type:"Metropolitan department",name:"Calvados"},"FR-13":{type:"Metropolitan department",name:"Bouches-du-Rhône"},"FR-12":{type:"Metropolitan department",name:"Aveyron"},"FR-11":{type:"Metropolitan department",name:"Aude"},"FR-10":{type:"Metropolitan department",name:"Aube"},"FR-2B":{type:"Metropolitan department",name:"Haute-Corse"},"FR-2A":{type:"Metropolitan department",name:"Corse-du-Sud"},"FR-MF":{type:"Overseas territorial collectivity",name:"Saint-Martin"},"FR-19":{type:"Metropolitan department",name:"Corrèze"},"FR-18":{type:"Metropolitan department",name:"Cher"},"FR-88":{type:"Metropolitan department",name:"Vosges"},"FR-89":{type:"Metropolitan department",name:"Yonne"},"FR-A":{type:"Metropolitan region",name:"Alsace"},"FR-G":{type:"Metropolitan region",name:"Champagne-Ardenne"},"FR-F":{type:"Metropolitan region",name:"Centre"},"FR-BL":{type:"Overseas territorial collectivity",name:"Saint-Barthélemy"},"FR-D":{type:"Metropolitan region",name:"Bourgogne"},"FR-80":{type:"Metropolitan department",name:"Somme"},"FR-81":{type:"Metropolitan department",name:"Tarn"},"FR-82":{type:"Metropolitan department",name:"Tarn-et-Garonne"},"FR-83":{type:"Metropolitan department",name:"Var"},"FR-84":{type:"Metropolitan department",name:"Vaucluse"},"FR-85":{type:"Metropolitan department",name:"Vendée"},"FR-86":{type:"Metropolitan department",name:"Vienne"},"FR-87":{type:"Metropolitan department",name:"Haute-Vienne"},"FR-S":{type:"Metropolitan region",name:"Picardie"},"FR-01":{type:"Metropolitan department",name:"Ain"},"FR-02":{type:"Metropolitan department",name:"Aisne"},"FR-03":{type:"Metropolitan department",name:"Allier"},"FR-04":{type:"Metropolitan department",name:"Alpes-de-Haute-Provence"},"FR-05":{type:"Metropolitan department",name:"Hautes-Alpes"},"FR-06":{type:"Metropolitan department",name:"Alpes-Maritimes"},"FR-07":{type:"Metropolitan department",name:"Ardèche"},"FR-08":{type:"Metropolitan department",name:"Ardennes"},"FR-09":{type:"Metropolitan department",name:"Ariège"},"FR-RE":{type:"Overseas department",name:"La Réunion"},"FR-E":{type:"Metropolitan region",name:"Bretagne"},"FR-CP":{type:"Dependency",name:"Clipperton"},"FR-75":{type:"Metropolitan department",name:"Paris"},"FR-74":{type:"Metropolitan department",name:"Haute-Savoie"},"FR-77":{type:"Metropolitan department",name:"Seine-et-Marne"},"FR-76":{type:"Metropolitan department",name:"Seine-Maritime"},"FR-71":{type:"Metropolitan department",name:"Saône-et-Loire"},"FR-70":{type:"Metropolitan department",name:"Haute-Saône"},"FR-73":{type:"Metropolitan department",name:"Savoie"},"FR-72":{type:"Metropolitan department",name:"Sarthe"},"FR-79":{type:"Metropolitan department",name:"Deux-Sèvres"},"FR-78":{type:"Metropolitan department",name:"Yvelines"},"FR-C":{type:"Metropolitan region",name:"Auvergne"},"FR-B":{type:"Metropolitan region",name:"Aquitaine"},"FR-YT":{type:"Overseas department",name:"Mayotte"},"FR-66":{type:"Metropolitan department",name:"Pyrénées-Orientales"},"FR-67":{type:"Metropolitan department",name:"Bas-Rhin"},"FR-64":{type:"Metropolitan department",name:"Pyrénées-Atlantiques"},"FR-65":{type:"Metropolitan department",name:"Hautes-Pyrénées"},"FR-62":{type:"Metropolitan department",name:"Pas-de-Calais"},"FR-63":{type:"Metropolitan department",name:"Puy-de-Dôme"},"FR-60":{type:"Metropolitan department",name:"Oise"},"FR-61":{type:"Metropolitan department",name:"Orne"},"FR-68":{type:"Metropolitan department",name:"Haut-Rhin"},"FR-69":{type:"Metropolitan department",name:"Rhône"},"FR-K":{type:"Metropolitan region",name:"Languedoc-Roussillon"},"FR-J":{type:"Metropolitan region",name:"Île-de-France"},"FR-R":{type:"Metropolitan region",name:"Pays-de-la-Loire"},"FR-I":{type:"Metropolitan region",name:"Franche-Comté"},"FR-H":{type:"Metropolitan region",name:"Corse"},"FR-O":{type:"Metropolitan region",name:"Nord-Pas-de-Calais"},"FR-N":{type:"Metropolitan region",name:"Midi-Pyrénées"},"FR-M":{type:"Metropolitan region",name:"Lorraine"},"FR-L":{type:"Metropolitan region",name:"Limousin"},"FR-53":{type:"Metropolitan department",name:"Mayenne"},"FR-52":{type:"Metropolitan department",name:"Haute-Marne"},"FR-51":{type:"Metropolitan department",name:"Marne"},"FR-50":{type:"Metropolitan department",name:"Manche"},"FR-57":{type:"Metropolitan department",name:"Moselle"},"FR-56":{type:"Metropolitan department",name:"Morbihan"},"FR-55":{type:"Metropolitan department",name:"Meuse"},"FR-54":{type:"Metropolitan department",name:"Meurthe-et-Moselle"},"FR-59":{type:"Metropolitan department",name:"Nord"},"FR-58":{type:"Metropolitan department",name:"Nièvre"},"FR-Q":{type:"Metropolitan region",name:"Haute-Normandie"},"FR-P":{type:"Metropolitan region",name:"Basse-Normandie"},"FR-V":{type:"Metropolitan region",name:"Rhône-Alpes"},"FR-U":{type:"Metropolitan region",name:"Provence-Alpes-Côte-d'Azur"},"FR-T":{type:"Metropolitan region",name:"Poitou-Charentes"},"FR-NC":{type:"Overseas territorial collectivity",name:"Nouvelle-Calédonie"},"FR-48":{type:"Metropolitan department",name:"Lozère"},"FR-49":{type:"Metropolitan department",name:"Maine-et-Loire"},"FR-44":{type:"Metropolitan department",name:"Loire-Atlantique"},"FR-45":{type:"Metropolitan department",name:"Loiret"},"FR-46":{type:"Metropolitan department",name:"Lot"},"FR-47":{type:"Metropolitan department",name:"Lot-et-Garonne"},"FR-40":{type:"Metropolitan department",name:"Landes"},"FR-41":{type:"Metropolitan department",name:"Loir-et-Cher"},"FR-42":{type:"Metropolitan department",name:"Loire"},"FR-43":{type:"Metropolitan department",name:"Haute-Loire"},"FR-MQ":{type:"Overseas department",name:"Martinique"},"FR-GF":{type:"Overseas department",name:"Guyane"},"FR-PF":{type:"Overseas territorial collectivity",name:"Polynésie française"},"FR-PM":{type:"Overseas territorial collectivity",name:"Saint-Pierre-et-Miquelon"},"FR-GP":{type:"Overseas department",name:"Guadeloupe"},"FR-39":{type:"Metropolitan department",name:"Jura"},"FR-38":{type:"Metropolitan department",name:"Isère"},"FR-31":{type:"Metropolitan department",name:"Haute-Garonne"},"FR-30":{type:"Metropolitan department",name:"Gard"},"FR-33":{type:"Metropolitan department",name:"Gironde"},"FR-32":{type:"Metropolitan department",name:"Gers"},"FR-35":{type:"Metropolitan department",name:"Ille-et-Vilaine"},"FR-34":{type:"Metropolitan department",name:"Hérault"},"FR-37":{type:"Metropolitan department",name:"Indre-et-Loire"},"FR-36":{type:"Metropolitan department",name:"Indre"},"FR-WF":{type:"Overseas territorial collectivity",name:"Wallis-et-Futuna"}}},AW:{name:"Aruba",sub:{"AW-AW":{type:"Country",name:"Aruba"}}},SH:{name:"Saint Helena, Ascension and Tristan Da Cunha",sub:{"SH-HL":{type:"Geographical entity",name:"Saint Helena"},"SH-TA":{type:"Geographical entity",name:"Tristan da Cunha"},"SH-AC":{type:"Geographical entity",name:"Ascension"}}},SJ:{name:"Svalbard & Jan Mayen Islands",sub:{"SJ-SJ":{type:"Country",name:"Svalbard & Jan Mayen Islands"}}},FI:{name:"Finland",sub:{"FI-10":{type:"Region",name:"Lappi"},"FI-11":{type:"Region",name:"Birkaland"},"FI-12":{type:"Region",name:"Österbotten"},"FI-16":{type:"Region",name:"Päijänne-Tavastland"},"FI-17":{type:"Region",name:"Satakunda"},"FI-09":{type:"Region",name:"Kymenlaakso"},"FI-08":{type:"Region",name:"Keski-Suomi"},"FI-18":{type:"Region",name:"Nyland"},"FI-19":{type:"Region",name:"Egentliga Finland"},"FI-14":{type:"Region",name:"Norra Österbotten"},"FI-15":{type:"Region",name:"Norra Savolax"},"FI-01":{type:"Region",name:"Ahvenanmaan maakunta"},"FI-13":{type:"Region",name:"Norra Karelen"},"FI-03":{type:"Region",name:"Etelä-Pohjanmaa"},"FI-02":{type:"Region",name:"Etelä-Karjala"},"FI-05":{type:"Region",name:"Kainuu"},"FI-04":{type:"Region",name:"Etelä-Savo"},"FI-07":{type:"Region",name:"Keski-Pohjanmaa"},"FI-06":{type:"Region",name:"Egentliga Tavastland"}}},FJ:{name:"Fiji",sub:{"FJ-08":{type:"Province",name:"Nadroga and Navosa"},"FJ-09":{type:"Province",name:"Naitasiri"},"FJ-14":{type:"Province",name:"Tailevu"},"FJ-N":{type:"Division",name:"Northern"},"FJ-C":{type:"Division",name:"Central"},"FJ-01":{type:"Province",name:"Ba"},"FJ-02":{type:"Province",name:"Bua"},"FJ-03":{type:"Province",name:"Cakaudrove"},"FJ-04":{type:"Province",name:"Kadavu"},"FJ-05":{type:"Province",name:"Lau"},"FJ-06":{type:"Province",name:"Lomaiviti"},"FJ-07":{type:"Province",name:"Macuata"},"FJ-11":{type:"Province",name:"Ra"},"FJ-R":{type:"Dependency",name:"Rotuma"},"FJ-12":{type:"Province",name:"Rewa"},"FJ-13":{type:"Province",name:"Serua"},"FJ-10":{type:"Province",name:"Namosi"},"FJ-W":{type:"Division",name:"Western"},"FJ-E":{type:"Division",name:"Eastern"}}},FK:{name:"Falkland Islands",sub:{"FK-FK":{type:"Country",name:"Falkland Islands"}}},FM:{name:"Micronesia, Federated States Of",sub:{"FM-YAP":{type:"State",name:"Yap"},"FM-KSA":{type:"State",name:"Kosrae"},"FM-PNI":{type:"State",name:"Pohnpei"},"FM-TRK":{type:"State",name:"Chuuk"}}},FO:{name:"Faroe Islands",sub:{"FO-FO":{type:"Country",name:"Faroe Islands"}}},NI:{name:"Nicaragua",sub:{"NI-BO":{type:"Department",name:"Boaco"},"NI-CI":{type:"Department",name:"Chinandega"},"NI-LE":{type:"Department",name:"León"},"NI-RI":{type:"Department",name:"Rivas"},"NI-CO":{type:"Department",name:"Chontales"},"NI-MN":{type:"Department",name:"Managua"},"NI-CA":{type:"Department",name:"Carazo"},"NI-AN":{type:"Autonomous region",name:"Atlántico Norte"},"NI-ES":{type:"Department",name:"Estelí"},"NI-SJ":{type:"Department",name:"Río San Juan"},"NI-NS":{type:"Department",name:"Nueva Segovia"},"NI-AS":{type:"Autonomous region",name:"Atlántico Sur"},"NI-MT":{type:"Department",name:"Matagalpa"},"NI-MD":{type:"Department",name:"Madriz"},"NI-MS":{type:"Department",name:"Masaya"},"NI-GR":{type:"Department",name:"Granada"},"NI-JI":{type:"Department",name:"Jinotega"}}},NL:{name:"Netherlands",sub:{"NL-ZH":{type:"Province",name:"Zuid-Holland"},"NL-FR":{type:"Province",name:"Fryslân"},"NL-AW":{type:"Country",name:"Aruba"},"NL-CW":{type:"Country",name:"Curaçao"},"NL-UT":{type:"Province",name:"Utrecht"},"NL-OV":{type:"Province",name:"Overijssel"},"NL-GE":{type:"Province",name:"Gelderland"},"NL-BQ2":{type:"Special municipality",name:"Saba"},"NL-BQ3":{type:"Special municipality",name:"Sint Eustatius"},"NL-BQ1":{type:"Special municipality",name:"Bonaire"},"NL-NH":{type:"Province",name:"Noord-Holland"},"NL-ZE":{type:"Province",name:"Zeeland"},"NL-SX":{type:"Country",name:"Sint Maarten"},"NL-FL":{type:"Province",name:"Flevoland"},"NL-GR":{type:"Province",name:"Groningen"},"NL-DR":{type:"Province",name:"Drenthe"},"NL-NB":{type:"Province",name:"Noord-Brabant"},"NL-LI":{type:"Province",name:"Limburg"}}},NO:{name:"Norway",sub:{"NO-10":{type:"County",name:"Vest-Agder"},"NO-16":{type:"County",name:"Sør-Trøndelag"},"NO-19":{type:"County",name:"Romsa"},"NO-11":{type:"County",name:"Rogaland"},"NO-21":{type:"Arctic region",name:"Svalbard"},"NO-20":{type:"County",name:"Finnmark"},"NO-22":{type:"Arctic region",name:"Jan Mayen"},"NO-12":{type:"County",name:"Hordaland"},"NO-15":{type:"County",name:"Møre og Romsdal"},"NO-07":{type:"County",name:"Vestfold"},"NO-06":{type:"County",name:"Buskerud"},"NO-05":{type:"County",name:"Oppland"},"NO-04":{type:"County",name:"Hedmark"},"NO-03":{type:"County",name:"Oslo"},"NO-02":{type:"County",name:"Akershus"},"NO-01":{type:"County",name:"Østfold"},"NO-17":{type:"County",name:"Nord-Trøndelag"},"NO-18":{type:"County",name:"Nordland"},"NO-14":{type:"County",name:"Sogn og Fjordane"},"NO-09":{type:"County",name:"Aust-Agder"},"NO-08":{type:"County",name:"Telemark"}}},NA:{name:"Namibia",sub:{"NA-HA":{type:"Region",name:"Hardap"},"NA-KH":{type:"Region",name:"Khomas"},"NA-KA":{type:"Region",name:"Karas"},"NA-ON":{type:"Region",name:"Oshana"},"NA-OH":{type:"Region",name:"Omaheke"},"NA-KE":{type:"Region",name:"Kavango East"},"NA-OT":{type:"Region",name:"Oshikoto"},"NA-CA":{type:"Region",name:"Zambezi"},"NA-OW":{type:"Region",name:"Ohangwena"},"NA-ER":{type:"Region",name:"Erongo"},"NA-OS":{type:"Region",name:"Omusati"},"NA-OD":{type:"Region",name:"Otjozondjupa"},"NA-KU":{type:"Region",name:"Kunene"},"NA-KW":{type:"Region",name:"Kavango West"}}},VU:{name:"Vanuatu",sub:{"VU-PAM":{type:"Province",name:"Pénama"},"VU-TOB":{type:"Province",name:"Torba"},"VU-MAP":{type:"Province",name:"Malampa"},"VU-SAM":{type:"Province",name:"Sanma"},"VU-TAE":{type:"Province",name:"Taféa"},"VU-SEE":{type:"Province",name:"Shéfa"}}},NC:{name:"New Caledonia",sub:{"NC-NC":{type:"Country",name:"New Caledonia"}}},NE:{name:"Niger",sub:{"NE-4":{type:"Region",name:"Maradi"},"NE-5":{type:"Region",name:"Tahoua"},"NE-6":{type:"Region",name:"Tillabéri"},"NE-7":{type:"Region",name:"Zinder"},"NE-1":{type:"Region",name:"Agadez"},"NE-2":{type:"Region",name:"Diffa"},"NE-3":{type:"Region",name:"Dosso"},"NE-8":{type:"Urban community",name:"Niamey"}}},NF:{name:"Norfolk Island",sub:{"NF-NF":{type:"Country",name:"Norfolk Island"}}},NG:{name:"Nigeria",sub:{"NG-PL":{type:"State",name:"Plateau"},"NG-RI":{type:"State",name:"Rivers"},"NG-JI":{type:"State",name:"Jigawa"},"NG-LA":{type:"State",name:"Lagos"},"NG-NA":{type:"State",name:"Nasarawa"},"NG-FC":{type:"Capital territory",name:"Abuja Federal Capital Territory"},"NG-NI":{type:"State",name:"Niger"},"NG-OS":{type:"State",name:"Osun"},"NG-BY":{type:"State",name:"Bayelsa"},"NG-DE":{type:"State",name:"Delta"},"NG-BA":{type:"State",name:"Bauchi"},"NG-BE":{type:"State",name:"Benue"},"NG-BO":{type:"State",name:"Borno"},"NG-YO":{type:"State",name:"Yobe"},"NG-AN":{type:"State",name:"Anambra"},"NG-KW":{type:"State",name:"Kwara"},"NG-KT":{type:"State",name:"Katsina"},"NG-OY":{type:"State",name:"Oyo"},"NG-OG":{type:"State",name:"Ogun"},"NG-KN":{type:"State",name:"Kano"},"NG-KO":{type:"State",name:"Kogi"},"NG-ON":{type:"State",name:"Ondo"},"NG-EN":{type:"State",name:"Enugu"},"NG-KD":{type:"State",name:"Kaduna"},"NG-KE":{type:"State",name:"Kebbi"},"NG-CR":{type:"State",name:"Cross River"},"NG-GO":{type:"State",name:"Gombe"},"NG-ZA":{type:"State",name:"Zamfara"},"NG-SO":{type:"State",name:"Sokoto"},"NG-IM":{type:"State",name:"Imo"},"NG-ED":{type:"State",name:"Edo"},"NG-AK":{type:"State",name:"Akwa Ibom"},"NG-EB":{type:"State",name:"Ebonyi"},"NG-TA":{type:"State",name:"Taraba"},"NG-AB":{type:"State",name:"Abia"},"NG-AD":{type:"State",name:"Adamawa"},"NG-EK":{type:"State",name:"Ekiti"}}},NZ:{name:"New Zealand",sub:{"NZ-NSN":{type:"Unitary authority",name:"Nelson City"},"NZ-S":{type:"Island",name:"South Island"},"NZ-STL":{type:"Regional council",name:"Southland"},"NZ-BOP":{type:"Regional council",name:"Bay of Plenty"},"NZ-HKB":{type:"Regional council",name:"Hawke's Bay"},"NZ-AUK":{type:"Unitary authority",name:"Auckland"},"NZ-TKI":{type:"Regional council",name:"Taranaki"},"NZ-MBH":{type:"Unitary authority",name:"Marlborough District"},"NZ-CIT":{type:"Special island authority",name:"Chatham Islands Territory"},"NZ-WKO":{type:"Regional council",name:"Waikato"},"NZ-TAS":{type:"Unitary authority",name:"Tasman District"},"NZ-WGN":{type:"Regional council",name:"Wellington"},"NZ-WTC":{type:"Regional council",name:"West Coast"},"NZ-OTA":{type:"Regional council",name:"Otago"},"NZ-NTL":{type:"Regional council",name:"Northland"},"NZ-MWT":{type:"Regional council",name:"Manawatu-Wanganui"},"NZ-N":{type:"Island",name:"North Island"},"NZ-GIS":{type:"Unitary authority",name:"Gisborne District"},"NZ-CAN":{type:"Regional council",name:"Canterbury"}}},NP:{name:"Nepal",sub:{"NP-KA":{type:"Zone",name:"Karnali"},"NP-BA":{type:"Zone",name:"Bagmati"},"NP-MA":{type:"Zone",name:"Mahakali"},"NP-KO":{type:"Zone",name:"Kosi"},"NP-DH":{type:"Zone",name:"Dhawalagiri"},"NP-BH":{type:"Zone",name:"Bheri"},"NP-JA":{type:"Zone",name:"Janakpur"},"NP-GA":{type:"Zone",name:"Gandaki"},"NP-NA":{type:"Zone",name:"Narayani"},"NP-ME":{type:"Zone",name:"Mechi"},"NP-RA":{type:"Zone",name:"Rapti"},"NP-5":{type:"Development region",name:"Far Western"},"NP-4":{type:"Development region",name:"Eastern"},"NP-SE":{type:"Zone",name:"Seti"},"NP-LU":{type:"Zone",name:"Lumbini"},"NP-1":{type:"Development region",name:"Central"},"NP-SA":{type:"Zone",name:"Sagarmatha"},"NP-3":{type:"Development region",name:"Pashchimanchal"},"NP-2":{type:"Development region",name:"Madhya Pashchimanchal"}}},NR:{name:"Nauru",sub:{"NR-08":{type:"District",name:"Denigomodu"},"NR-09":{type:"District",name:"Ewa"},"NR-14":{type:"District",name:"Yaren"},"NR-01":{type:"District",name:"Aiwo"},"NR-02":{type:"District",name:"Anabar"},"NR-03":{type:"District",name:"Anetan"},"NR-04":{type:"District",name:"Anibare"},"NR-05":{type:"District",name:"Baiti"},"NR-06":{type:"District",name:"Boe"},"NR-07":{type:"District",name:"Buada"},"NR-11":{type:"District",name:"Meneng"},"NR-12":{type:"District",name:"Nibok"},"NR-13":{type:"District",name:"Uaboe"},"NR-10":{type:"District",name:"Ijuw"}}},NU:{name:"Niue",sub:{"NU-NU":{type:"Country",name:"Niue"}}},CK:{name:"Cook Islands",sub:{"CK-CK":{type:"Country",name:"Cook Islands"}}},CI:{name:"Côte D'Ivoire",sub:{"CI-11":{type:"Region",name:"Nzi-Comoé"},"CI-13":{type:"Region",name:"Sud-Comoé"},"CI-16":{type:"Region",name:"Agnébi"},"CI-14":{type:"Region",name:"Worodougou"},"CI-10":{type:"Region",name:"Denguélé"},"CI-15":{type:"Region",name:"Sud-Bandama"},"CI-17":{type:"Region",name:"Bafing"},"CI-01":{type:"Region",name:"Lagunes"},"CI-02":{type:"Region",name:"Haut-Sassandra"},"CI-03":{type:"Region",name:"Savanes"},"CI-04":{type:"Region",name:"Vallée du Bandama"},"CI-05":{type:"Region",name:"Moyen-Comoé"},"CI-06":{type:"Region",name:"18 Montagnes"},"CI-07":{type:"Region",name:"Lacs"},"CI-08":{type:"Region",name:"Zanzan"},"CI-09":{type:"Region",name:"Bas-Sassandra"},"CI-18":{type:"Region",name:"Fromager"},"CI-19":{type:"Region",name:"Moyen-Cavally"},"CI-12":{type:"Region",name:"Marahoué"}}},CH:{name:"Switzerland",sub:{"CH-SO":{type:"Canton",name:"Solothurn"},"CH-LU":{type:"Canton",name:"Luzern"},"CH-SH":{type:"Canton",name:"Schaffhausen"},"CH-SG":{type:"Canton",name:"Sankt Gallen"},"CH-UR":{type:"Canton",name:"Uri"},"CH-NE":{type:"Canton",name:"Neuchâtel"},"CH-BS":{type:"Canton",name:"Basel-Stadt"},"CH-JU":{type:"Canton",name:"Jura"},"CH-BL":{type:"Canton",name:"Basel-Landschaft"},"CH-SZ":{type:"Canton",name:"Schwyz"},"CH-BE":{type:"Canton",name:"Bern"},"CH-NW":{type:"Canton",name:"Nidwalden"},"CH-ZG":{type:"Canton",name:"Zug"},"CH-FR":{type:"Canton",name:"Freiburg"},"CH-ZH":{type:"Canton",name:"Zürich"},"CH-VS":{type:"Canton",name:"Valais"},"CH-VD":{type:"Canton",name:"Vaud"},"CH-TI":{type:"Canton",name:"Ticino"},"CH-TG":{type:"Canton",name:"Thurgau"},"CH-OW":{type:"Canton",name:"Obwalden"},"CH-AG":{type:"Canton",name:"Aargau"},"CH-GE":{type:"Canton",name:"Genève"},"CH-AI":{type:"Canton",name:"Appenzell Innerrhoden"},"CH-GL":{type:"Canton",name:"Glarus"},"CH-GR":{type:"Canton",name:"Graubünden"},"CH-AR":{type:"Canton",name:"Appenzell Ausserrhoden"}}},CO:{name:"Colombia",sub:{"CO-CUN":{type:"Department",name:"Cundinamarca"},"CO-BOY":{type:"Department",name:"Boyacá"},"CO-COR":{type:"Department",name:"Córdoba"},"CO-HUI":{type:"Department",name:"Huila"},"CO-VAU":{type:"Department",name:"Vaupés"},"CO-RIS":{type:"Department",name:"Risaralda"},"CO-NSA":{type:"Department",name:"Norte de Santander"},"CO-VID":{type:"Department",name:"Vichada"},"CO-BOL":{type:"Department",name:"Bolívar"},"CO-VAC":{type:"Department",name:"Valle del Cauca"},"CO-GUV":{type:"Department",name:"Guaviare"},"CO-CAU":{type:"Department",name:"Cauca"},"CO-CAS":{type:"Department",name:"Casanare"},"CO-CAQ":{type:"Department",name:"Caquetá"},"CO-CES":{type:"Department",name:"Cesar"},"CO-SAN":{type:"Department",name:"Santander"},"CO-ATL":{type:"Department",name:"Atlántico"},"CO-AMA":{type:"Department",name:"Amazonas"},"CO-MET":{type:"Department",name:"Meta"},"CO-MAG":{type:"Department",name:"Magdalena"},"CO-ARA":{type:"Department",name:"Arauca"},"CO-GUA":{type:"Department",name:"Guainía"},"CO-LAG":{type:"Department",name:"La Guajira"},"CO-CAL":{type:"Department",name:"Caldas"},"CO-QUI":{type:"Department",name:"Quindío"},"CO-SAP":{type:"Department",name:"San Andrés, Providencia y Santa Catalina"},"CO-TOL":{type:"Department",name:"Tolima"},"CO-SUC":{type:"Department",name:"Sucre"},"CO-PUT":{type:"Department",name:"Putumayo"},"CO-NAR":{type:"Department",name:"Nariño"},"CO-CHO":{type:"Department",name:"Chocó"},"CO-DC":{type:"Capital district",name:"Distrito Capital de Bogotá"},"CO-ANT":{type:"Department",name:"Antioquia"}}},CN:{name:"China",sub:{"CN-54":{type:"Autonomous region",name:"Xizang"},"CN-34":{type:"Province",name:"Anhui"},"CN-35":{type:"Province",name:"Fujian"},"CN-36":{type:"Province",name:"Jiangxi"},"CN-37":{type:"Province",name:"Shandong"},"CN-31":{type:"Municipality",name:"Shanghai"},"CN-32":{type:"Province",name:"Jiangsu"},"CN-33":{type:"Province",name:"Zhejiang"},"CN-71":{type:"Province",name:"Taiwan"},"CN-91":{type:"Special administrative region",name:"Hong Kong"},"CN-14":{type:"Province",name:"Shanxi"},"CN-15":{type:"Autonomous region",name:"Nei Mongol"},"CN-12":{type:"Municipality",name:"Tianjin"},"CN-13":{type:"Province",name:"Hebei"},"CN-11":{type:"Municipality",name:"Beijing"},"CN-52":{type:"Province",name:"Guizhou"},"CN-92":{type:"Special administrative region",name:"Aomen"},"CN-53":{type:"Province",name:"Yunnan"},"CN-50":{type:"Municipality",name:"Chongqing"},"CN-51":{type:"Province",name:"Sichuan"},"CN-41":{type:"Province",name:"Henan"},"CN-43":{type:"Province",name:"Hunan"},"CN-42":{type:"Province",name:"Hubei"},"CN-45":{type:"Autonomous region",name:"Guangxi"},"CN-44":{type:"Province",name:"Guangdong"},"CN-46":{type:"Province",name:"Hainan"},"CN-65":{type:"Autonomous region",name:"Xinjiang"},"CN-64":{type:"Autonomous region",name:"Ningxia"},"CN-63":{type:"Province",name:"Qinghai"},"CN-62":{type:"Province",name:"Gansu"},"CN-61":{type:"Province",name:"Shaanxi"},"CN-23":{type:"Province",name:"Heilongjiang"},"CN-22":{type:"Province",name:"Jilin"},"CN-21":{type:"Province",name:"Liaoning"}}},CM:{name:"Cameroon",sub:{"CM-CE":{type:"Region",name:"Centre"},"CM-SU":{type:"Region",name:"South"},"CM-SW":{type:"Region",name:"South-West"},"CM-ES":{type:"Region",name:"East"},"CM-AD":{type:"Region",name:"Adamaoua"},"CM-NO":{type:"Region",name:"Nord"},"CM-OU":{type:"Region",name:"Ouest"},"CM-NW":{type:"Region",name:"Nord-Ouest"},"CM-EN":{type:"Region",name:"Extrême-Nord"},"CM-LT":{type:"Region",name:"Littoral"}}},CL:{name:"Chile",sub:{"CL-AP":{type:"Region",name:"Arica y Parinacota"},"CL-BI":{type:"Region",name:"Biobío"},"CL-AR":{type:"Region",name:"Araucanía"},"CL-AT":{type:"Region",name:"Atacama"},"CL-CO":{type:"Region",name:"Coquimbo"},"CL-VS":{type:"Region",name:"Valparaíso"},"CL-ML":{type:"Region",name:"Maule"},"CL-LR":{type:"Region",name:"Los Ríos"},"CL-TA":{type:"Region",name:"Tarapacá"},"CL-LI":{type:"Region",name:"Libertador General Bernardo O'Higgins"},"CL-RM":{type:"Region",name:"Región Metropolitana de Santiago"},"CL-LL":{type:"Region",name:"Los Lagos"},"CL-AI":{type:"Region",name:"Aysén"},"CL-AN":{type:"Region",name:"Antofagasta"},"CL-MA":{type:"Region",name:"Magallanes"}}},CC:{name:"Cocos  Islands",sub:{"CC-CC":{type:"Country",name:"Cocos  Islands"}}},CA:{name:"Canada",sub:{"CA-NT":{type:"Territory",name:"Northwest Territories"},"CA-NU":{type:"Territory",name:"Nunavut"},"CA-NS":{type:"Province",name:"Nova Scotia"},"CA-MB":{type:"Province",name:"Manitoba"},"CA-SK":{type:"Province",name:"Saskatchewan"},"CA-QC":{type:"Province",name:"Quebec"},"CA-PE":{type:"Province",name:"Prince Edward Island"},"CA-BC":{type:"Province",name:"British Columbia"},"CA-YT":{type:"Territory",name:"Yukon"},"CA-NB":{type:"Province",name:"New Brunswick"},"CA-NL":{type:"Province",name:"Newfoundland and Labrador"},"CA-ON":{type:"Province",name:"Ontario"},"CA-AB":{type:"Province",name:"Alberta"}}},CG:{name:"Congo",sub:{"CG-2":{type:"Department",name:"Lékoumou"},"CG-5":{type:"Department",name:"Kouilou"},"CG-7":{type:"Department",name:"Likouala"},"CG-9":{type:"Department",name:"Niari"},"CG-8":{type:"Department",name:"Cuvette"},"CG-BZV":{type:"Department",name:"Brazzaville"},"CG-11":{type:"Department",name:"Bouenza"},"CG-13":{type:"Department",name:"Sangha"},"CG-12":{type:"Department",name:"Pool"},"CG-15":{type:"Department",name:"Cuvette-Ouest"},"CG-14":{type:"Department",name:"Plateaux"},"CG-16":{type:"Department",name:"Pointe-Noire"}}},CF:{name:"Central African Republic",sub:{"CF-MB":{type:"Prefecture",name:"Mbomou"},"CF-BB":{type:"Prefecture",name:"Bamïngï-Bangoran"},"CF-NM":{type:"Prefecture",name:"Nana-Mambéré"},"CF-BGF":{type:"Commune",name:"Bangî"},"CF-AC":{type:"Prefecture",name:"Ouham"},"CF-KB":{type:"Economic prefecture",name:"Gïrïbïngï"},"CF-BK":{type:"Prefecture",name:"Basse-Kotto"},"CF-LB":{type:"Prefecture",name:"Lobaye"},"CF-VK":{type:"Prefecture",name:"Vakaga"},"CF-HS":{type:"Prefecture",name:"Haute-Sangha / Mambéré-Kadéï"},"CF-HM":{type:"Prefecture",name:"Haut-Mbomou"},"CF-UK":{type:"Prefecture",name:"Ouaka"},"CF-MP":{type:"Prefecture",name:"Ömbëlä-Pökö"},"CF-KG":{type:"Prefecture",name:"Kemö-Gïrïbïngï"},"CF-HK":{type:"Prefecture",name:"Haute-Kotto"},"CF-OP":{type:"Prefecture",name:"Ouham-Pendé"},"CF-SE":{type:"Economic prefecture",name:"Sangä"}}},CD:{name:"Congo, The Democratic Republic Of The",sub:{"CD-OR":{type:"Province",name:"Orientale"},"CD-EQ":{type:"Province",name:"Équateur"},"CD-SK":{type:"Province",name:"Sud-Kivu"},"CD-KW":{type:"Province",name:"Kasai-Occidental"},"CD-BN":{type:"Province",name:"Bandundu"},"CD-BC":{type:"Province",name:"Bas-Congo"},"CD-KN":{type:"City",name:"Kinshasa"},"CD-KA":{type:"Province",name:"Katanga"},"CD-MA":{type:"Province",name:"Maniema"},"CD-NK":{type:"Province",name:"Nord-Kivu"},"CD-KE":{type:"Province",name:"Kasai-Oriental"}}},CZ:{name:"Czech Republic",sub:{"CZ-10C":{type:"District",name:"Praha 12"},"CZ-10B":{type:"District",name:"Praha 11"},"CZ-10A":{type:"District",name:"Praha 10"},"CZ-10F":{type:"District",name:"Praha 15"},"CZ-10E":{type:"District",name:"Praha 14"},"CZ-10D":{type:"District",name:"Praha 13"},"CZ-511":{type:"District",name:"Česká Lípa"},"CZ-512":{type:"District",name:"Jablonec nad Nisou"},"CZ-513":{type:"District",name:"Liberec"},"CZ-514":{type:"District",name:"Semily"},"CZ-JC":{type:"Region",name:"Jihočeský kraj"},"CZ-JM":{type:"Region",name:"Jihomoravský kraj"},"CZ-103":{type:"District",name:"Praha 3"},"CZ-102":{type:"District",name:"Praha 2"},"CZ-101":{type:"District",name:"Praha 1"},"CZ-107":{type:"District",name:"Praha 7"},"CZ-106":{type:"District",name:"Praha 6"},"CZ-105":{type:"District",name:"Praha 5"},"CZ-104":{type:"District",name:"Praha 4"},"CZ-613":{type:"District",name:"Pelhřimov"},"CZ-612":{type:"District",name:"Jihlava"},"CZ-611":{type:"District",name:"Havlíčkův Brod"},"CZ-108":{type:"District",name:"Praha 8"},"CZ-615":{type:"District",name:"Žd'ár nad Sázavou"},"CZ-614":{type:"District",name:"Třebíč"},"CZ-LI":{type:"Region",name:"Liberecký kraj"},"CZ-US":{type:"Region",name:"Ústecký kraj"},"CZ-714":{type:"District",name:"Přerov"},"CZ-715":{type:"District",name:"Šumperk"},"CZ-712":{type:"District",name:"Olomouc"},"CZ-713":{type:"District",name:"Prostĕjov"},"CZ-711":{type:"District",name:"Jeseník"},"CZ-ST":{type:"Region",name:"Středočeský kraj"},"CZ-109":{type:"District",name:"Praha 9"},"CZ-KA":{type:"Region",name:"Karlovarský kraj"},"CZ-ZL":{type:"Region",name:"Zlínský kraj"},"CZ-KR":{type:"Region",name:"Královéhradecký kraj"},"CZ-802":{type:"District",name:"Frýdek Místek"},"CZ-803":{type:"District",name:"Karviná"},"CZ-801":{type:"District",name:"Bruntál"},"CZ-806":{type:"District",name:"Ostrava město"},"CZ-804":{type:"District",name:"Nový Jičín"},"CZ-805":{type:"District",name:"Opava"},"CZ-411":{type:"District",name:"Cheb"},"CZ-413":{type:"District",name:"Sokolov"},"CZ-412":{type:"District",name:"Karlovy Vary"},"CZ-312":{type:"District",name:"Český Krumlov"},"CZ-313":{type:"District",name:"Jindřichův Hradec"},"CZ-311":{type:"District",name:"České Budějovice"},"CZ-316":{type:"District",name:"Strakonice"},"CZ-317":{type:"District",name:"Tábor"},"CZ-314":{type:"District",name:"Písek"},"CZ-315":{type:"District",name:"Prachatice"},"CZ-534":{type:"District",name:"Ústí nad Orlicí"},"CZ-724":{type:"District",name:"Zlín"},"CZ-532":{type:"District",name:"Pardubice"},"CZ-422":{type:"District",name:"Chomutov"},"CZ-423":{type:"District",name:"Litoměřice"},"CZ-424":{type:"District",name:"Louny"},"CZ-425":{type:"District",name:"Most"},"CZ-426":{type:"District",name:"Teplice"},"CZ-722":{type:"District",name:"Uherské Hradištĕ"},"CZ-PL":{type:"Region",name:"Plzeňský kraj"},"CZ-MO":{type:"Region",name:"Moravskoslezský kraj"},"CZ-VY":{type:"Region",name:"Vysočina"},"CZ-PA":{type:"Region",name:"Pardubický kraj"},"CZ-20A":{type:"District",name:"Praha-západ"},"CZ-20B":{type:"District",name:"Příbram"},"CZ-20C":{type:"District",name:"Rakovník"},"CZ-723":{type:"District",name:"Vsetín"},"CZ-533":{type:"District",name:"Svitavy"},"CZ-721":{type:"District",name:"Kromĕříž"},"CZ-531":{type:"District",name:"Chrudim"},"CZ-PR":{type:"Region",name:"Praha, hlavní mešto"},"CZ-622":{type:"District",name:"Brno-město"},"CZ-623":{type:"District",name:"Brno-venkov"},"CZ-621":{type:"District",name:"Blansko"},"CZ-626":{type:"District",name:"Vyškov"},"CZ-627":{type:"District",name:"Znojmo"},"CZ-624":{type:"District",name:"Břeclav"},"CZ-625":{type:"District",name:"Hodonín"},"CZ-421":{type:"District",name:"Děčín"},"CZ-525":{type:"District",name:"Trutnov"},"CZ-524":{type:"District",name:"Rychnov nad Kněžnou"},"CZ-521":{type:"District",name:"Hradec Králové"},"CZ-523":{type:"District",name:"Náchod"},"CZ-522":{type:"District",name:"Jičín"},"CZ-OL":{type:"Region",name:"Olomoucký kraj"},"CZ-427":{type:"District",name:"Ústí nad Labem"},"CZ-323":{type:"District",name:"Plzeň-město"},"CZ-322":{type:"District",name:"Klatovy"},"CZ-321":{type:"District",name:"Domažlice"},"CZ-327":{type:"District",name:"Tachov"},"CZ-326":{type:"District",name:"Rokycany"},"CZ-325":{type:"District",name:"Plzeň-sever"},"CZ-324":{type:"District",name:"Plzeň-jih"},"CZ-208":{type:"District",name:"Nymburk"},"CZ-209":{type:"District",name:"Praha-východ"},"CZ-201":{type:"District",name:"Benešov"},"CZ-202":{type:"District",name:"Beroun"},"CZ-203":{type:"District",name:"Kladno"},"CZ-204":{type:"District",name:"Kolín"},"CZ-205":{type:"District",name:"Kutná Hora"},"CZ-206":{type:"District",name:"Mělník"},"CZ-207":{type:"District",name:"Mladá Boleslav"}}},CY:{name:"Cyprus",sub:{"CY-01":{type:"District",name:"Lefkoşa"},"CY-02":{type:"District",name:"Lemesos"},"CY-03":{type:"District",name:"Larnaka"},"CY-04":{type:"District",name:"Ammochostos"},"CY-05":{type:"District",name:"Baf"},"CY-06":{type:"District",name:"Girne"}}},CX:{name:"Christmas Island",sub:{"CX-CX":{type:"Country",name:"Christmas Island"}}},CR:{name:"Costa Rica",sub:{"CR-P":{type:"Province",name:"Puntarenas"},"CR-A":{type:"Province",name:"Alajuela"},"CR-C":{type:"Province",name:"Cartago"},"CR-G":{type:"Province",name:"Guanacaste"},"CR-H":{type:"Province",name:"Heredia"},"CR-SJ":{type:"Province",name:"San José"},"CR-L":{type:"Province",name:"Limón"}}},CW:{name:"Curaçao",sub:{"CW-CW":{type:"Country",name:"Curaçao"}}},CV:{name:"Cape Verde",sub:{"CV-SL":{type:"Municipality",name:"Sal"},"CV-SM":{type:"Municipality",name:"São Miguel"},"CV-SO":{type:"Municipality",name:"São Lourenço dos Órgãos"},"CV-S":{type:"Geographical region",name:"Ilhas de Sotavento"},"CV-SD":{type:"Municipality",name:"São Domingos"},"CV-SF":{type:"Municipality",name:"São Filipe"},"CV-B":{type:"Geographical region",name:"Ilhas de Barlavento"},"CV-RG":{type:"Municipality",name:"Ribeira Grande"},"CV-SV":{type:"Municipality",name:"São Vicente"},"CV-SS":{type:"Municipality",name:"São Salvador do Mundo"},"CV-CR":{type:"Municipality",name:"Santa Cruz"},"CV-CF":{type:"Municipality",name:"Santa Catarina do Fogo"},"CV-CA":{type:"Municipality",name:"Santa Catarina"},"CV-RB":{type:"Municipality",name:"Ribeira Brava"},"CV-PA":{type:"Municipality",name:"Paul"},"CV-TA":{type:"Municipality",name:"Tarrafal"},"CV-PN":{type:"Municipality",name:"Porto Novo"},"CV-RS":{type:"Municipality",name:"Ribeira Grande de Santiago"},"CV-MA":{type:"Municipality",name:"Maio"},"CV-PR":{type:"Municipality",name:"Praia"},"CV-TS":{type:"Municipality",name:"Tarrafal de São Nicolau"},"CV-MO":{type:"Municipality",name:"Mosteiros"},"CV-BR":{type:"Municipality",name:"Brava"},"CV-BV":{type:"Municipality",name:"Boa Vista"}}},CU:{name:"Cuba",sub:{"CU-04":{type:"Province",name:"Matanzas"},"CU-05":{type:"Province",name:"Villa Clara"},"CU-06":{type:"Province",name:"Cienfuegos"},"CU-07":{type:"Province",name:"Sancti Spíritus"},"CU-01":{type:"Province",name:"Pinar del Río"},"CU-03":{type:"Province",name:"La Habana"},"CU-99":{type:"Special municipality",name:"Isla de la Juventud"},"CU-08":{type:"Province",name:"Ciego de Ávila"},"CU-09":{type:"Province",name:"Camagüey"},"CU-13":{type:"Province",name:"Santiago de Cuba"},"CU-12":{type:"Province",name:"Granma"},"CU-11":{type:"Province",name:"Holguín"},"CU-10":{type:"Province",name:"Las Tunas"},"CU-16":{type:"Province",name:"Mayabeque"},"CU-15":{type:"Province",name:"Artemisa"},"CU-14":{type:"Province",name:"Guantánamo"}}},SZ:{name:"Swaziland",sub:{"SZ-LU":{type:"District",name:"Lubombo"},"SZ-HH":{type:"District",name:"Hhohho"},"SZ-SH":{type:"District",name:"Shiselweni"},"SZ-MA":{type:"District",name:"Manzini"}}},SY:{name:"Syria",sub:{"SY-HI":{type:"Province",name:"Ḩimş"},"SY-HL":{type:"Province",name:"Ḩalab"},"SY-DI":{type:"Province",name:"Dimashq"},"SY-HA":{type:"Province",name:"Al Ḩasakah"},"SY-ID":{type:"Province",name:"Idlib"},"SY-SU":{type:"Province",name:"As Suwaydā'"},"SY-TA":{type:"Province",name:"Ţarţūs"},"SY-QU":{type:"Province",name:"Al Qunayţirah"},"SY-DY":{type:"Province",name:"Dayr az Zawr"},"SY-RA":{type:"Province",name:"Ar Raqqah"},"SY-LA":{type:"Province",name:"Al Lādhiqīyah"},"SY-RD":{type:"Province",name:"Rīf Dimashq"},"SY-DR":{type:"Province",name:"Dar'ā"},"SY-HM":{type:"Province",name:"Ḩamāh"}}},SX:{name:"St. Maarten",sub:{"SX-SX":{type:"Country",name:"St. Maarten"}}},KG:{name:"Kyrgyzstan",sub:{"KG-Y":{type:"Region",name:"Issyk-Kul'skaja oblast'"},"KG-GO":{type:"City",name:"Gorod Oš"},"KG-GB":{type:"City",name:"Bishkek"},"KG-T":{type:"Region",name:"Talas"},"KG-J":{type:"Region",name:"Džalal-Abadskaja oblast'"},"KG-O":{type:"Region",name:"Osh"},"KG-N":{type:"Region",name:"Naryn"},"KG-C":{type:"Region",name:"Chü"},"KG-B":{type:"Region",name:"Batken"}}},KE:{name:"Kenya",sub:{"KE-32":{type:"County",name:"Nandi"},"KE-38":{type:"County",name:"Siaya"},"KE-40":{type:"County",name:"Tana River"},"KE-41":{type:"County",name:"Tharaka-Nithi"},"KE-42":{type:"County",name:"Trans Nzoia"},"KE-43":{type:"County",name:"Turkana"},"KE-44":{type:"County",name:"Uasin Gishu"},"KE-28":{type:"County",name:"Mombasa"},"KE-46":{type:"County",name:"Wajir"},"KE-47":{type:"County",name:"West Pokot"},"KE-29":{type:"County",name:"Murang'a"},"KE-26":{type:"County",name:"Meru"},"KE-27":{type:"County",name:"Migori"},"KE-24":{type:"County",name:"Mandera"},"KE-25":{type:"County",name:"Marsabit"},"KE-08":{type:"County",name:"Homa Bay"},"KE-09":{type:"County",name:"Isiolo"},"KE-20":{type:"County",name:"Laikipia"},"KE-21":{type:"County",name:"Lamu"},"KE-04":{type:"County",name:"Busia"},"KE-05":{type:"County",name:"Elgeyo/Marakwet"},"KE-06":{type:"County",name:"Embu"},"KE-07":{type:"County",name:"Garissa"},"KE-01":{type:"County",name:"Baringo"},"KE-02":{type:"County",name:"Bomet"},"KE-03":{type:"County",name:"Bungoma"},"KE-31":{type:"County",name:"Nakuru"},"KE-35":{type:"County",name:"Nyandarua"},"KE-34":{type:"County",name:"Nyamira"},"KE-37":{type:"County",name:"Samburu"},"KE-30":{type:"County",name:"Nairobi City"},"KE-36":{type:"County",name:"Nyeri"},"KE-22":{type:"County",name:"Machakos"},"KE-23":{type:"County",name:"Makueni"},"KE-13":{type:"County",name:"Kiambu"},"KE-12":{type:"County",name:"Kericho"},"KE-11":{type:"County",name:"Kakamega"},"KE-10":{type:"County",name:"Kajiado"},"KE-17":{type:"County",name:"Kisumu"},"KE-16":{type:"County",name:"Kisii"},"KE-15":{type:"County",name:"Kirinyaga"},"KE-14":{type:"County",name:"Kilifi"},"KE-19":{type:"County",name:"Kwale"},"KE-18":{type:"County",name:"Kitui"},"KE-39":{type:"County",name:"Taita/Taveta"},"KE-33":{type:"County",name:"Narok"},"KE-45":{type:"County",name:"Vihiga"}}},SS:{name:"South Sudan",sub:{"SS-BW":{type:"State",name:"Western Bahr el Ghazal"},"SS-EW":{type:"State",name:"Western Equatoria"},"SS-LK":{type:"State",name:"Lakes"},"SS-EC":{type:"State",name:"Central Equatoria"},"SS-EE":{type:"State",name:"Eastern Equatoria"},"SS-NU":{type:"State",name:"Upper Nile"},"SS-UY":{type:"State",name:"Unity"},"SS-BN":{type:"State",name:"Northern Bahr el Ghazal"},"SS-JG":{type:"State",name:"Jonglei"},"SS-WR":{type:"State",name:"Warrap"}}},SR:{name:"Suriname",sub:{"SR-SA":{type:"District",name:"Saramacca"},"SR-CR":{type:"District",name:"Coronie"},"SR-BR":{type:"District",name:"Brokopondo"},"SR-SI":{type:"District",name:"Sipaliwini"},"SR-PR":{type:"District",name:"Para"},"SR-WA":{type:"District",name:"Wanica"},"SR-NI":{type:"District",name:"Nickerie"},"SR-PM":{type:"District",name:"Paramaribo"},"SR-CM":{type:"District",name:"Commewijne"},"SR-MA":{type:"District",name:"Marowijne"}}},KI:{name:"Kiribati",sub:{"KI-P":{type:"Group of islands",name:"Phoenix Islands"},"KI-G":{type:"Group of islands",name:"Gilbert Islands"},"KI-L":{type:"Group of islands",name:"Line Islands"}}},KH:{name:"Cambodia",sub:{"KH-24":{type:"Autonomous municipality",name:"Krŏng Pailĭn"},"KH-21":{type:"Province",name:"Taakaev"},"KH-20":{type:"Province",name:"Svaay Rieng"},"KH-23":{type:"Autonomous municipality",name:"Krong Kaeb"},"KH-22":{type:"Province",name:"Ŏtdâr Méanchey"},"KH-6":{type:"Province",name:"Kâmpóng Thum"},"KH-7":{type:"Province",name:"Kampot"},"KH-4":{type:"Province",name:"Kampong Chhnang"},"KH-5":{type:"Province",name:"Kâmpóng Spœ"},"KH-2":{type:"Province",name:"Baat Dambang"},"KH-3":{type:"Province",name:"Kampong Chaam"},"KH-1":{type:"Province",name:"Bântéay Méanchey"},"KH-8":{type:"Province",name:"Kandaal"},"KH-9":{type:"Province",name:"Kaoh Kong"},"KH-18":{type:"Autonomous municipality",name:"Krŏng Preăh Sihanouk"},"KH-19":{type:"Province",name:"Stoĕng Trêng"},"KH-14":{type:"Province",name:"Prey Veaeng"},"KH-15":{type:"Province",name:"Pousaat"},"KH-16":{type:"Province",name:"Rotanak Kiri"},"KH-17":{type:"Province",name:"Siem Reab"},"KH-10":{type:"Province",name:"Krâchéh"},"KH-11":{type:"Province",name:"Môndól Kiri"},"KH-12":{type:"Autonomous municipality",name:"Phnom Penh"},"KH-13":{type:"Province",name:"Preăh Vihéar"}}},SV:{name:"El Salvador",sub:{"SV-CH":{type:"Department",name:"Chalatenango"},"SV-LI":{type:"Department",name:"La Libertad"},"SV-US":{type:"Department",name:"Usulután"},"SV-SV":{type:"Department",name:"San Vicente"},"SV-CA":{type:"Department",name:"Cabañas"},"SV-AH":{type:"Department",name:"Ahuachapán"},"SV-MO":{type:"Department",name:"Morazán"},"SV-SM":{type:"Department",name:"San Miguel"},"SV-SO":{type:"Department",name:"Sonsonate"},"SV-PA":{type:"Department",name:"La Paz"},"SV-UN":{type:"Department",name:"La Unión"},"SV-CU":{type:"Department",name:"Cuscatlán"},"SV-SS":{type:"Department",name:"San Salvador"},"SV-SA":{type:"Department",name:"Santa Ana"}}},KM:{name:"Comoros",sub:{"KM-G":{type:"Island",name:"Andjazîdja"},"KM-M":{type:"Island",name:"Mohéli"},"KM-A":{type:"Island",name:"Andjouân"}}},ST:{name:"Sao Tome and Principe",sub:{"ST-S":{type:"Province",name:"São Tomé"},"ST-P":{type:"Province",name:"Príncipe"}}},SK:{name:"Slovakia",sub:{"SK-PV":{type:"Region",name:"Prešovský kraj"},"SK-KI":{type:"Region",name:"Košický kraj"},"SK-TC":{type:"Region",name:"Trenčiansky kraj"},"SK-TA":{type:"Region",name:"Trnavský kraj"},"SK-ZI":{type:"Region",name:"Žilinský kraj"},"SK-BL":{type:"Region",name:"Bratislavský kraj"},"SK-NI":{type:"Region",name:"Nitriansky kraj"},"SK-BC":{type:"Region",name:"Banskobystrický kraj"}}},KR:{name:"Korea, Republic of",sub:{"KR-31":{type:"Metropolitan city",name:"Ulsan Gwang'yeogsi"},"KR-49":{type:"Special self-governing province",name:"Cheju-do"},"KR-48":{type:"Province",name:"Gyeongsangnamdo"},"KR-45":{type:"Province",name:"Chǒllabuk-do"},"KR-44":{type:"Province",name:"Ch'ungch'ǒngnam-do"},"KR-47":{type:"Province",name:"Gyeongsangbugdo"},"KR-46":{type:"Province",name:"Chǒllanam-do"},"KR-41":{type:"Province",name:"Gyeonggido"},"KR-43":{type:"Province",name:"Ch'ungch'ǒngbuk-do"},"KR-42":{type:"Province",name:"Gang'weondo"},"KR-30":{type:"Metropolitan city",name:"Daejeon Gwang'yeogsi"},"KR-11":{type:"Special city",name:"Seoul-T'ǔkpyǒlshi"},"KR-50":{type:"Special self-governing city",name:"Sejong"},"KR-29":{type:"Metropolitan city",name:"Gwangju Gwang'yeogsi"},"KR-28":{type:"Metropolitan city",name:"Inch'ǒn-Kwangyǒkshi"},"KR-27":{type:"Metropolitan city",name:"Daegu Gwang'yeogsi"},"KR-26":{type:"Metropolitan city",name:"Busan Gwang'yeogsi"}}},SI:{name:"Slovenia",sub:{"SI-056":{type:"Commune",name:"Kuzma"},"SI-057":{type:"Commune",name:"Laško"},"SI-054":{type:"Commune",name:"Krško"},"SI-055":{type:"Commune",name:"Kungota"},"SI-052":{type:"Commune",name:"Kranj"},"SI-053":{type:"Commune",name:"Kranjska Gora"},"SI-050":{type:"Commune",name:"Koper"},"SI-051":{type:"Commune",name:"Kozje"},"SI-117":{type:"Commune",name:"Šenčur"},"SI-116":{type:"Commune",name:"Sveti Jurij"},"SI-115":{type:"Commune",name:"Starše"},"SI-114":{type:"Commune",name:"Slovenske Konjice"},"SI-113":{type:"Commune",name:"Slovenska Bistrica"},"SI-112":{type:"Commune",name:"Slovenj Gradec"},"SI-058":{type:"Commune",name:"Lenart"},"SI-059":{type:"Commune",name:"Lendava"},"SI-166":{type:"Commune",name:"Križevci"},"SI-167":{type:"Commune",name:"Lovrenc na Pohorju"},"SI-128":{type:"Commune",name:"Tolmin"},"SI-129":{type:"Commune",name:"Trbovlje"},"SI-210":{type:"Commune",name:"Sveti Jurij v Slovenskih Goricah"},"SI-211":{type:"Commune",name:"Šentrupert"},"SI-212":{type:"Commune",name:"Mirna"},"SI-045":{type:"Commune",name:"Kidričevo"},"SI-044":{type:"Commune",name:"Kanal"},"SI-047":{type:"Commune",name:"Kobilje"},"SI-046":{type:"Commune",name:"Kobarid"},"SI-041":{type:"Commune",name:"Jesenice"},"SI-040":{type:"Commune",name:"Izola"},"SI-043":{type:"Commune",name:"Kamnik"},"SI-042":{type:"Commune",name:"Juršinci"},"SI-162":{type:"Commune",name:"Horjul"},"SI-163":{type:"Commune",name:"Jezersko"},"SI-160":{type:"Commune",name:"Hoče-Slivnica"},"SI-161":{type:"Commune",name:"Hodoš"},"SI-049":{type:"Commune",name:"Komen"},"SI-048":{type:"Commune",name:"Kočevje"},"SI-164":{type:"Commune",name:"Komenda"},"SI-165":{type:"Commune",name:"Kostel"},"SI-197":{type:"Commune",name:"Kosanjevica na Krki"},"SI-196":{type:"Commune",name:"Cirkulane"},"SI-195":{type:"Commune",name:"Apače"},"SI-194":{type:"Commune",name:"Šmartno pri Litiji"},"SI-193":{type:"Commune",name:"Žužemberk"},"SI-192":{type:"Commune",name:"Žirovnica"},"SI-191":{type:"Commune",name:"Žetale"},"SI-190":{type:"Commune",name:"Žalec"},"SI-199":{type:"Commune",name:"Mokronog-Trebelno"},"SI-198":{type:"Commune",name:"Makole"},"SI-188":{type:"Commune",name:"Veržej"},"SI-209":{type:"Commune",name:"Rečica ob Savinji"},"SI-208":{type:"Commune",name:"Log-Dragomer"},"SI-119":{type:"Commune",name:"Šentjernej"},"SI-189":{type:"Commune",name:"Vransko"},"SI-203":{type:"Commune",name:"Straža"},"SI-202":{type:"Commune",name:"Središče ob Dravi"},"SI-201":{type:"Commune",name:"Renče-Vogrsko"},"SI-118":{type:"Commune",name:"Šentilj"},"SI-207":{type:"Commune",name:"Gorje"},"SI-206":{type:"Commune",name:"Šmarješke Toplice"},"SI-205":{type:"Commune",name:"Sveti Tomaž"},"SI-204":{type:"Commune",name:"Sveta Trojica v Slovenskih Goricah"},"SI-070":{type:"Commune",name:"Maribor"},"SI-071":{type:"Commune",name:"Medvode"},"SI-072":{type:"Commune",name:"Mengeš"},"SI-073":{type:"Commune",name:"Metlika"},"SI-074":{type:"Commune",name:"Mežica"},"SI-075":{type:"Commune",name:"Miren-Kostanjevica"},"SI-076":{type:"Commune",name:"Mislinja"},"SI-077":{type:"Commune",name:"Moravče"},"SI-078":{type:"Commune",name:"Moravske Toplice"},"SI-079":{type:"Commune",name:"Mozirje"},"SI-173":{type:"Commune",name:"Polzela"},"SI-172":{type:"Commune",name:"Podlehnik"},"SI-175":{type:"Commune",name:"Prevalje"},"SI-174":{type:"Commune",name:"Prebold"},"SI-177":{type:"Commune",name:"Ribnica na Pohorju"},"SI-176":{type:"Commune",name:"Razkrižje"},"SI-180":{type:"Commune",name:"Solčava"},"SI-111":{type:"Commune",name:"Sežana"},"SI-110":{type:"Commune",name:"Sevnica"},"SI-182":{type:"Commune",name:"Sveti Andraž v Slovenskih Goricah"},"SI-144":{type:"Commune",name:"Zreče"},"SI-146":{type:"Commune",name:"Železniki"},"SI-147":{type:"Commune",name:"Žiri"},"SI-140":{type:"Commune",name:"Vrhnika"},"SI-141":{type:"Commune",name:"Vuzenica"},"SI-142":{type:"Commune",name:"Zagorje ob Savi"},"SI-143":{type:"Commune",name:"Zavrč"},"SI-148":{type:"Commune",name:"Benedikt"},"SI-149":{type:"Commune",name:"Bistrica ob Sotli"},"SI-069":{type:"Commune",name:"Majšperk"},"SI-068":{type:"Commune",name:"Lukovica"},"SI-067":{type:"Commune",name:"Luče"},"SI-066":{type:"Commune",name:"Loški Potok"},"SI-065":{type:"Commune",name:"Loška Dolina"},"SI-064":{type:"Commune",name:"Logatec"},"SI-063":{type:"Commune",name:"Ljutomer"},"SI-062":{type:"Commune",name:"Ljubno"},"SI-061":{type:"Commune",name:"Ljubljana"},"SI-060":{type:"Commune",name:"Litija"},"SI-153":{type:"Commune",name:"Cerkvenjak"},"SI-152":{type:"Commune",name:"Cankova"},"SI-151":{type:"Commune",name:"Braslovče"},"SI-150":{type:"Commune",name:"Bloke"},"SI-157":{type:"Commune",name:"Dolenjske Toplice"},"SI-156":{type:"Commune",name:"Dobrovnik"},"SI-155":{type:"Commune",name:"Dobrna"},"SI-154":{type:"Commune",name:"Dobje"},"SI-159":{type:"Commune",name:"Hajdina"},"SI-158":{type:"Commune",name:"Grad"},"SI-018":{type:"Commune",name:"Destrnik"},"SI-019":{type:"Commune",name:"Divača"},"SI-012":{type:"Commune",name:"Cerklje na Gorenjskem"},"SI-013":{type:"Commune",name:"Cerknica"},"SI-010":{type:"Commune",name:"Tišina"},"SI-011":{type:"Commune",name:"Celje"},"SI-016":{type:"Commune",name:"Črna na Koroškem"},"SI-017":{type:"Commune",name:"Črnomelj"},"SI-014":{type:"Commune",name:"Cerkno"},"SI-015":{type:"Commune",name:"Črenšovci"},"SI-200":{type:"Commune",name:"Poljčane"},"SI-009":{type:"Commune",name:"Brežice"},"SI-008":{type:"Commune",name:"Brezovica"},"SI-124":{type:"Commune",name:"Šmarje pri Jelšah"},"SI-125":{type:"Commune",name:"Šmartno ob Paki"},"SI-122":{type:"Commune",name:"Škofja Loka"},"SI-123":{type:"Commune",name:"Škofljica"},"SI-120":{type:"Commune",name:"Šentjur"},"SI-121":{type:"Commune",name:"Škocjan"},"SI-001":{type:"Commune",name:"Ajdovščina"},"SI-003":{type:"Commune",name:"Bled"},"SI-002":{type:"Commune",name:"Beltinci"},"SI-005":{type:"Commune",name:"Borovnica"},"SI-004":{type:"Commune",name:"Bohinj"},"SI-007":{type:"Commune",name:"Brda"},"SI-006":{type:"Commune",name:"Bovec"},"SI-179":{type:"Commune",name:"Sodražica"},"SI-178":{type:"Commune",name:"Selnica ob Dravi"},"SI-092":{type:"Commune",name:"Podčetrtek"},"SI-093":{type:"Commune",name:"Podvelka"},"SI-090":{type:"Commune",name:"Piran"},"SI-091":{type:"Commune",name:"Pivka"},"SI-096":{type:"Commune",name:"Ptuj"},"SI-097":{type:"Commune",name:"Puconci"},"SI-094":{type:"Commune",name:"Postojna"},"SI-095":{type:"Commune",name:"Preddvor"},"SI-098":{type:"Commune",name:"Rače-Fram"},"SI-099":{type:"Commune",name:"Radeče"},"SI-034":{type:"Commune",name:"Hrastnik"},"SI-035":{type:"Commune",name:"Hrpelje-Kozina"},"SI-036":{type:"Commune",name:"Idrija"},"SI-037":{type:"Commune",name:"Ig"},"SI-030":{type:"Commune",name:"Gornji Grad"},"SI-031":{type:"Commune",name:"Gornji Petrovci"},"SI-032":{type:"Commune",name:"Grosuplje"},"SI-033":{type:"Commune",name:"Šalovci"},"SI-038":{type:"Commune",name:"Ilirska Bistrica"},"SI-039":{type:"Commune",name:"Ivančna Gorica"},"SI-135":{type:"Commune",name:"Videm"},"SI-134":{type:"Commune",name:"Velike Lašče"},"SI-137":{type:"Commune",name:"Vitanje"},"SI-136":{type:"Commune",name:"Vipava"},"SI-131":{type:"Commune",name:"Tržič"},"SI-130":{type:"Commune",name:"Trebnje"},"SI-133":{type:"Commune",name:"Velenje"},"SI-132":{type:"Commune",name:"Turnišče"},"SI-139":{type:"Commune",name:"Vojnik"},"SI-138":{type:"Commune",name:"Vodice"},"SI-171":{type:"Commune",name:"Oplotnica"},"SI-081":{type:"Commune",name:"Muta"},"SI-080":{type:"Commune",name:"Murska Sobota"},"SI-083":{type:"Commune",name:"Nazarje"},"SI-082":{type:"Commune",name:"Naklo"},"SI-085":{type:"Commune",name:"Novo Mesto"},"SI-084":{type:"Commune",name:"Nova Gorica"},"SI-087":{type:"Commune",name:"Ormož"},"SI-086":{type:"Commune",name:"Odranci"},"SI-089":{type:"Commune",name:"Pesnica"},"SI-088":{type:"Commune",name:"Osilnica"},"SI-023":{type:"Commune",name:"Domžale"},"SI-022":{type:"Commune",name:"Dol pri Ljubljani"},"SI-021":{type:"Commune",name:"Dobrova-Polhov Gradec"},"SI-020":{type:"Commune",name:"Dobrepolje"},"SI-027":{type:"Commune",name:"Gorenja vas-Poljane"},"SI-026":{type:"Commune",name:"Duplek"},"SI-025":{type:"Commune",name:"Dravograd"},"SI-024":{type:"Commune",name:"Dornava"},"SI-170":{type:"Commune",name:"Mirna Peč"},"SI-181":{type:"Commune",name:"Sveta Ana"},"SI-029":{type:"Commune",name:"Gornja Radgona"},"SI-028":{type:"Commune",name:"Gorišnica"},"SI-184":{type:"Commune",name:"Tabor"},"SI-185":{type:"Commune",name:"Trnovska Vas"},"SI-186":{type:"Commune",name:"Trzin"},"SI-187":{type:"Commune",name:"Velika Polana"},"SI-100":{type:"Commune",name:"Radenci"},"SI-101":{type:"Commune",name:"Radlje ob Dravi"},"SI-102":{type:"Commune",name:"Radovljica"},"SI-103":{type:"Commune",name:"Ravne na Koroškem"},"SI-104":{type:"Commune",name:"Ribnica"},"SI-105":{type:"Commune",name:"Rogašovci"},"SI-106":{type:"Commune",name:"Rogaška Slatina"},"SI-107":{type:"Commune",name:"Rogatec"},"SI-108":{type:"Commune",name:"Ruše"},"SI-109":{type:"Commune",name:"Semič"},"SI-126":{type:"Commune",name:"Šoštanj"},"SI-127":{type:"Commune",name:"Štore"},"SI-168":{type:"Commune",name:"Markovci"},"SI-169":{type:"Commune",name:"Miklavž na Dravskem Polju"},"SI-183":{type:"Commune",name:"Šempeter-Vrtojba"}}},KP:{name:"Korea, Democratic People's Republic Of",sub:{"KP-09":{type:"Province",name:"Hamgyǒng-bukto"},"KP-08":{type:"Province",name:"Hamgyǒng-namdo"},"KP-03":{type:"Province",name:"P'yǒngan-bukto"},"KP-02":{type:"Province",name:"P'yǒngan-namdo"},"KP-01":{type:"Capital city",name:"P'yǒngyang"},"KP-07":{type:"Province",name:"Kangweonto"},"KP-06":{type:"Province",name:"Hwanghae-bukto"},"KP-05":{type:"Province",name:"Hwanghae-namdo"},"KP-04":{type:"Province",name:"Chagang-do"},"KP-10":{type:"Province",name:"Ryangkangto"},"KP-13":{type:"Special city",name:"Nasǒn"}}},KW:{name:"Kuwait",sub:{"KW-KU":{type:"Governorate",name:"Al Kuwayt"},"KW-FA":{type:"Governorate",name:"Al Farwānīyah"},"KW-AH":{type:"Governorate",name:"Al Aḩmadī"},"KW-HA":{type:"Governorate",name:"Ḩawallī"},"KW-MU":{type:"Governorate",name:"Mubārak al Kabīr"},"KW-JA":{type:"Governorate",name:"Al Jahrā’"}}},SN:{name:"Senegal",sub:{"SN-SE":{type:"Region",name:"Sédhiou"},"SN-TC":{type:"Region",name:"Tambacounda"},"SN-ZG":{type:"Region",name:"Ziguinchor"},"SN-SL":{type:"Region",name:"Saint-Louis"},"SN-TH":{type:"Region",name:"Thiès"},"SN-MT":{type:"Region",name:"Matam"},"SN-KL":{type:"Region",name:"Kaolack"},"SN-DB":{type:"Region",name:"Diourbel"},"SN-FK":{type:"Region",name:"Fatick"},"SN-KD":{type:"Region",name:"Kolda"},"SN-KE":{type:"Region",name:"Kédougou"},"SN-DK":{type:"Region",name:"Dakar"},"SN-KA":{type:"Region",name:"Kaffrine"},"SN-LG":{type:"Region",name:"Louga"}}},SM:{name:"San Marino",sub:{"SM-08":{type:"Municipality",name:"Montegiardino"},"SM-09":{type:"Municipality",name:"Serravalle"},"SM-04":{type:"Municipality",name:"Faetano"},"SM-05":{type:"Municipality",name:"Fiorentino"},"SM-06":{type:"Municipality",name:"Borgo Maggiore"},"SM-07":{type:"Municipality",name:"San Marino"},"SM-01":{type:"Municipality",name:"Acquaviva"},"SM-02":{type:"Municipality",name:"Chiesanuova"},"SM-03":{type:"Municipality",name:"Domagnano"}}},SL:{name:"Sierra Leone",sub:{"SL-S":{type:"Province",name:"Southern"},"SL-N":{type:"Province",name:"Northern"},"SL-W":{type:"Area",name:"Western Area"},"SL-E":{type:"Province",name:"Eastern"}}},SC:{name:"Seychelles",sub:{"SC-19":{type:"District",name:"Plaisance"},"SC-18":{type:"District",name:"Mon Fleri"},"SC-15":{type:"District",name:"Ladig"},"SC-14":{type:"District",name:"Grand'Anse Praslin"},"SC-17":{type:"District",name:"Mon Bikston"},"SC-16":{type:"District",name:"English River"},"SC-11":{type:"District",name:"Cascade"},"SC-10":{type:"District",name:"Bel Ombre"},"SC-13":{type:"District",name:"Grand'Anse Mahé"},"SC-12":{type:"District",name:"Glacis"},"SC-24":{type:"District",name:"Lemamel"},"SC-25":{type:"District",name:"Roche Caïman"},"SC-20":{type:"District",name:"Pointe La Rue"},"SC-21":{type:"District",name:"Porglo"},"SC-22":{type:"District",name:"Saint Louis"},"SC-23":{type:"District",name:"Takamaka"},"SC-08":{type:"District",name:"Beau Vallon"},"SC-09":{type:"District",name:"Bel Air"},"SC-06":{type:"District",name:"Baie Lazare"},"SC-07":{type:"District",name:"Baie Sainte-Anne"},"SC-04":{type:"District",name:"Au Cap"},"SC-05":{type:"District",name:"Anse Royale"},"SC-02":{type:"District",name:"Ans Bwalo"},"SC-03":{type:"District",name:"Anse Etoile"},"SC-01":{type:"District",name:"Anse aux Pins"}}},KZ:{name:"Kazakhstan",sub:{"KZ-KAR":{type:"Region",name:"Karagandinskaja oblast'"},"KZ-SEV":{type:"Region",name:"Severo-Kazahstanskaja oblast'"},"KZ-MAN":{type:"Region",name:"Mangghystaū oblysy"},"KZ-VOS":{type:"Region",name:"Shyghys Qazaqstan oblysy"},"KZ-KZY":{type:"Region",name:"Kyzylordinskaja oblast'"},"KZ-PAV":{type:"Region",name:"Pavlodar oblysy"},"KZ-KUS":{type:"Region",name:"Kostanajskaja oblast'"},"KZ-AKT":{type:"Region",name:"Aktjubinskaja oblast'"},"KZ-ALM":{type:"Region",name:"Almatinskaja oblast'"},"KZ-ALA":{type:"City",name:"Almaty"},"KZ-AST":{type:"City",name:"Astana"},"KZ-AKM":{type:"Region",name:"Akmolinskaja oblast'"},"KZ-ZHA":{type:"Region",name:"Žambylskaja oblast'"},"KZ-ZAP":{type:"Region",name:"Batys Qazaqstan oblysy"},"KZ-YUZ":{type:"Region",name:"Južno-Kazahstanskaja oblast'"},"KZ-ATY":{type:"Region",name:"Atyraū oblysy"}}},KY:{name:"Cayman Islands",sub:{"KY-KY":{type:"Country",name:"Cayman Islands"}}},SG:{name:"Singapore",sub:{"SG-02":{type:"District",name:"North East"},"SG-03":{type:"District",name:"North West"},"SG-01":{type:"District",name:"Central Singapore"},"SG-04":{type:"District",name:"South East"},"SG-05":{type:"District",name:"South West"}}},SE:{name:"Sweden",sub:{"SE-O":{type:"County",name:"Västra Götalands län"},"SE-N":{type:"County",name:"Hallands län"},"SE-M":{type:"County",name:"Skåne län"},"SE-K":{type:"County",name:"Blekinge län"},"SE-I":{type:"County",name:"Gotlands län"},"SE-H":{type:"County",name:"Kalmar län"},"SE-G":{type:"County",name:"Kronobergs län"},"SE-F":{type:"County",name:"Jönköpings län"},"SE-E":{type:"County",name:"Östergötlands län"},"SE-D":{type:"County",name:"Södermanlands län"},"SE-C":{type:"County",name:"Uppsala län"},"SE-W":{type:"County",name:"Dalarnas län"},"SE-Z":{type:"County",name:"Jämtlands län"},"SE-Y":{type:"County",name:"Västernorrlands län"},"SE-X":{type:"County",name:"Gävleborgs län"},"SE-AC":{type:"County",name:"Västerbottens län"},"SE-AB":{type:"County",name:"Stockholms län"},"SE-BD":{type:"County",name:"Norrbottens län"},"SE-T":{type:"County",name:"Örebro län"},"SE-S":{type:"County",name:"Värmlands län"},"SE-U":{type:"County",name:"Västmanlands län"}}},SD:{name:"Sudan",sub:{"SD-KH":{type:"State",name:"Al Kharţūm"},"SD-GZ":{type:"State",name:"Al Jazīrah"},"SD-NB":{type:"State",name:"An Nīl al Azraq"},"SD-DS":{type:"State",name:"Janūb Dārfūr"},"SD-NR":{type:"State",name:"An Nīl"},"SD-NO":{type:"State",name:"Ash Shamālīyah"},"SD-KA":{type:"State",name:"Kassala"},"SD-DW":{type:"State",name:"Gharb Dārfūr"},"SD-RS":{type:"State",name:"Al Baḩr al Aḩmar"},"SD-NW":{type:"State",name:"An Nīl al Abyaḑ"},"SD-DN":{type:"State",name:"North Darfur"},"SD-KS":{type:"State",name:"Janūb Kurdufān"},"SD-DC":{type:"State",name:"Central Darfur"},"SD-KN":{type:"State",name:"North Kordofan"},"SD-GD":{type:"State",name:"Al Qaḑārif"},"SD-SI":{type:"State",name:"Sennar"},"SD-DE":{type:"State",name:"East Darfur"}}},DO:{name:"Dominican Republic",sub:{"DO-33":{type:"Region",name:"Cibao Nordeste"},"DO-40":{type:"Region",name:"Ozama"},"DO-12":{type:"Province",name:"La Romana"},"DO-13":{type:"Province",name:"La Vega"},"DO-10":{type:"Province",name:"Independencia"},"DO-11":{type:"Province",name:"La Altagracia"},"DO-16":{type:"Province",name:"Pedernales"},"DO-17":{type:"Province",name:"Peravia"},"DO-14":{type:"Province",name:"María Trinidad Sánchez"},"DO-15":{type:"Province",name:"Monte Cristi"},"DO-30":{type:"Province",name:"Hato Mayor"},"DO-31":{type:"Province",name:"San José de Ocoa"},"DO-18":{type:"Province",name:"Puerto Plata"},"DO-19":{type:"Province",name:"Hermanas Mirabal"},"DO-34":{type:"Region",name:"Cibao Noroeste"},"DO-35":{type:"Region",name:"Cibao Norte"},"DO-36":{type:"Region",name:"Cibao Sur"},"DO-37":{type:"Region",name:"El Valle"},"DO-38":{type:"Region",name:"Enriquillo"},"DO-39":{type:"Region",name:"Higuamo"},"DO-29":{type:"Province",name:"Monte Plata"},"DO-28":{type:"Province",name:"Monseñor Nouel"},"DO-01":{type:"District",name:"Distrito Nacional"},"DO-03":{type:"Province",name:"Baoruco"},"DO-02":{type:"Province",name:"Azua"},"DO-05":{type:"Province",name:"Dajabón"},"DO-04":{type:"Province",name:"Barahona"},"DO-07":{type:"Province",name:"La Estrelleta"},"DO-06":{type:"Province",name:"Duarte"},"DO-09":{type:"Province",name:"Espaillat"},"DO-08":{type:"Province",name:"El Seibo"},"DO-25":{type:"Province",name:"Santiago"},"DO-24":{type:"Province",name:"Sánchez Ramírez"},"DO-23":{type:"Province",name:"San Pedro de Macorís"},"DO-22":{type:"Province",name:"San Juan"},"DO-21":{type:"Province",name:"San Cristóbal"},"DO-20":{type:"Province",name:"Samaná"},"DO-27":{type:"Province",name:"Valverde"},"DO-26":{type:"Province",name:"Santiago Rodríguez"},"DO-41":{type:"Region",name:"Valdesia"},"DO-32":{type:"Province",name:"Santo Domingo"},"DO-42":{type:"Region",name:"Yuma"}}},DM:{name:"Dominica",sub:{"DM-10":{type:"Parish",name:"Saint Paul"},"DM-11":{type:"Parish",name:"Saint Peter"},"DM-09":{type:"Parish",name:"Saint Patrick"},"DM-08":{type:"Parish",name:"Saint Mark"},"DM-03":{type:"Parish",name:"Saint David"},"DM-02":{type:"Parish",name:"Saint Andrew"},"DM-07":{type:"Parish",name:"Saint Luke"},"DM-06":{type:"Parish",name:"Saint Joseph"},"DM-05":{type:"Parish",name:"Saint John"},"DM-04":{type:"Parish",name:"Saint George"}}},DJ:{name:"Djibouti",sub:{"DJ-AS":{type:"Region",name:"Ali Sabieh"},"DJ-AR":{type:"Region",name:"Arta"},"DJ-DJ":{type:"City",name:"Djibouti"},"DJ-DI":{type:"Region",name:"Dikhīl"},"DJ-OB":{type:"Region",name:"Obock"},"DJ-TA":{type:"Region",name:"Tadjourah"}}},DK:{name:"Denmark",sub:{"DK-85":{type:"Region",name:"Sjælland"},"DK-84":{type:"Region",name:"Hovedstaden"},"DK-81":{type:"Region",name:"Nordjylland"},"DK-83":{type:"Region",name:"Syddanmark"},"DK-82":{type:"Region",name:"Midtjylland"}}},VG:{name:"Virgin Islands",sub:{"VG-VG":{type:"Country",name:"Virgin Islands"}}},DE:{name:"Germany",sub:{"DE-BE":{type:"Länder",name:"Berlin"},"DE-ST":{type:"Länder",name:"Sachsen-Anhalt"},"DE-RP":{type:"Länder",name:"Rheinland-Pfalz"},"DE-BB":{type:"Länder",name:"Brandenburg"},"DE-NI":{type:"Länder",name:"Niedersachsen"},"DE-SH":{type:"Länder",name:"Schleswig-Holstein"},"DE-TH":{type:"Länder",name:"Thüringen"},"DE-BW":{type:"Länder",name:"Baden-Württemberg"},"DE-HH":{type:"Länder",name:"Hamburg"},"DE-MV":{type:"Länder",name:"Mecklenburg-Vorpommern"},"DE-NW":{type:"Länder",name:"Nordrhein-Westfalen"},"DE-SN":{type:"Länder",name:"Sachsen"},"DE-HB":{type:"Länder",name:"Bremen"},"DE-SL":{type:"Länder",name:"Saarland"},"DE-BY":{type:"Länder",name:"Bayern"},"DE-HE":{type:"Länder",name:"Hessen"}}},YE:{name:"Yemen",sub:{"YE-BA":{type:"Governorate",name:"Al Bayḑā'"},"YE-SD":{type:"Governorate",name:"Şāʻdah"},"YE-SA":{type:"Municipality",name:"Amānat al ‘Āşimah"},"YE-HU":{type:"Governorate",name:"Al Ḩudaydah"},"YE-SN":{type:"Governorate",name:"Şanʻā'"},"YE-SH":{type:"Governorate",name:"Shabwah"},"YE-TA":{type:"Governorate",name:"Tāʻizz"},"YE-MA":{type:"Governorate",name:"Ma'rib"},"YE-LA":{type:"Governorate",name:"Laḩij"},"YE-RA":{type:"Governorate",name:"Raymah"},"YE-IB":{type:"Governorate",name:"Ibb"},"YE-AM":{type:"Governorate",name:"'Amrān"},"YE-HD":{type:"Governorate",name:"Ḩaḑramawt"},"YE-DA":{type:"Governorate",name:"Aḑ Ḑāli'"},"YE-HJ":{type:"Governorate",name:"Ḩajjah"},"YE-JA":{type:"Governorate",name:"Al Jawf"},"YE-MW":{type:"Governorate",name:"Al Maḩwīt"},"YE-AB":{type:"Governorate",name:"Abyān"},"YE-AD":{type:"Governorate",name:"'Adan"},"YE-DH":{type:"Governorate",name:"Dhamār"},"YE-MR":{type:"Governorate",name:"Al Mahrah"}}},DZ:{name:"Algeria",sub:{"DZ-11":{type:"Province",name:"Tamanrasset"},"DZ-10":{type:"Province",name:"Bouira"},"DZ-13":{type:"Province",name:"Tlemcen"},"DZ-12":{type:"Province",name:"Tébessa"},"DZ-15":{type:"Province",name:"Tizi Ouzou"},"DZ-14":{type:"Province",name:"Tiaret"},"DZ-17":{type:"Province",name:"Djelfa"},"DZ-16":{type:"Province",name:"Alger"},"DZ-19":{type:"Province",name:"Sétif"},"DZ-18":{type:"Province",name:"Jijel"},"DZ-35":{type:"Province",name:"Boumerdès"},"DZ-34":{type:"Province",name:"Bordj Bou Arréridj"},"DZ-33":{type:"Province",name:"Illizi"},"DZ-32":{type:"Province",name:"El Bayadh"},"DZ-31":{type:"Province",name:"Oran"},"DZ-30":{type:"Province",name:"Ouargla"},"DZ-28":{type:"Province",name:"Msila"},"DZ-39":{type:"Province",name:"El Oued"},"DZ-38":{type:"Province",name:"Tissemsilt"},"DZ-37":{type:"Province",name:"Tindouf"},"DZ-36":{type:"Province",name:"El Tarf"},"DZ-22":{type:"Province",name:"Sidi Bel Abbès"},"DZ-29":{type:"Province",name:"Mascara"},"DZ-02":{type:"Province",name:"Chlef"},"DZ-03":{type:"Province",name:"Laghouat"},"DZ-01":{type:"Province",name:"Adrar"},"DZ-06":{type:"Province",name:"Béjaïa"},"DZ-07":{type:"Province",name:"Biskra"},"DZ-04":{type:"Province",name:"Oum el Bouaghi"},"DZ-05":{type:"Province",name:"Batna"},"DZ-20":{type:"Province",name:"Saïda"},"DZ-21":{type:"Province",name:"Skikda"},"DZ-08":{type:"Province",name:"Béchar"},"DZ-09":{type:"Province",name:"Blida"},"DZ-24":{type:"Province",name:"Guelma"},"DZ-25":{type:"Province",name:"Constantine"},"DZ-26":{type:"Province",name:"Médéa"},"DZ-27":{type:"Province",name:"Mostaganem"},"DZ-48":{type:"Province",name:"Relizane"},"DZ-46":{type:"Province",name:"Aïn Témouchent"},"DZ-47":{type:"Province",name:"Ghardaïa"},"DZ-44":{type:"Province",name:"Aïn Defla"},"DZ-45":{type:"Province",name:"Naama"},"DZ-42":{type:"Province",name:"Tipaza"},"DZ-43":{type:"Province",name:"Mila"},"DZ-40":{type:"Province",name:"Khenchela"},"DZ-41":{type:"Province",name:"Souk Ahras"},"DZ-23":{type:"Province",name:"Annaba"}}},US:{name:"United States",sub:{"US-NY":{type:"State",name:"New York"},"US-PA":{type:"State",name:"Pennsylvania"},"US-TN":{type:"State",name:"Tennessee"},"US-VI":{type:"Outlying area",name:"Virgin Islands, U.S."},"US-NV":{type:"State",name:"Nevada"},"US-NJ":{type:"State",name:"New Jersey"},"US-NH":{type:"State",name:"New Hampshire"},"US-VA":{type:"State",name:"Virginia"},"US-HI":{type:"State",name:"Hawaii"},"US-PR":{type:"Outlying area",name:"Puerto Rico"},"US-NM":{type:"State",name:"New Mexico"},"US-NC":{type:"State",name:"North Carolina"},"US-ND":{type:"State",name:"North Dakota"},"US-NE":{type:"State",name:"Nebraska"},"US-LA":{type:"State",name:"Louisiana"},"US-UT":{type:"State",name:"Utah"},"US-SD":{type:"State",name:"South Dakota"},"US-DC":{type:"District",name:"District of Columbia"},"US-DE":{type:"State",name:"Delaware"},"US-FL":{type:"State",name:"Florida"},"US-WA":{type:"State",name:"Washington"},"US-UM":{type:"Outlying area",name:"United States Minor Outlying Islands"},"US-KS":{type:"State",name:"Kansas"},"US-WI":{type:"State",name:"Wisconsin"},"US-OR":{type:"State",name:"Oregon"},"US-KY":{type:"State",name:"Kentucky"},"US-ME":{type:"State",name:"Maine"},"US-OH":{type:"State",name:"Ohio"},"US-IA":{type:"State",name:"Iowa"},"US-MD":{type:"State",name:"Maryland"},"US-ID":{type:"State",name:"Idaho"},"US-WY":{type:"State",name:"Wyoming"},"US-VT":{type:"State",name:"Vermont"},"US-RI":{type:"State",name:"Rhode Island"},"US-IN":{type:"State",name:"Indiana"},"US-IL":{type:"State",name:"Illinois"},"US-AK":{type:"State",name:"Alaska"},"US-TX":{type:"State",name:"Texas"},"US-CO":{type:"State",name:"Colorado"},"US-AR":{type:"State",name:"Arkansas"},"US-GU":{type:"Outlying area",name:"Guam"},"US-MA":{type:"State",name:"Massachusetts"},"US-AL":{type:"State",name:"Alabama"},"US-MO":{type:"State",name:"Missouri"},"US-MN":{type:"State",name:"Minnesota"},"US-WV":{type:"State",name:"West Virginia"},"US-CA":{type:"State",name:"California"},"US-OK":{type:"State",name:"Oklahoma"},"US-MI":{type:"State",name:"Michigan"},"US-GA":{type:"State",name:"Georgia"},"US-AZ":{type:"State",name:"Arizona"},"US-MT":{type:"State",name:"Montana"},"US-MS":{type:"State",name:"Mississippi"},"US-SC":{type:"State",name:"South Carolina"},"US-MP":{type:"Outlying area",name:"Northern Mariana Islands"},"US-AS":{type:"Outlying area",name:"American Samoa"},"US-CT":{type:"State",name:"Connecticut"}}},UY:{name:"Uruguay",sub:{"UY-SO":{type:"Department",name:"Soriano"},"UY-FD":{type:"Department",name:"Florida"},"UY-AR":{type:"Department",name:"Artigas"},"UY-SJ":{type:"Department",name:"San José"},"UY-RN":{type:"Department",name:"Río Negro"},"UY-FS":{type:"Department",name:"Flores"},"UY-PA":{type:"Department",name:"Paysandú"},"UY-TT":{type:"Department",name:"Treinta y Tres"},"UY-RO":{type:"Department",name:"Rocha"},"UY-SA":{type:"Department",name:"Salto"},"UY-CO":{type:"Department",name:"Colonia"},"UY-CL":{type:"Department",name:"Cerro Largo"},"UY-MA":{type:"Department",name:"Maldonado"},"UY-RV":{type:"Department",name:"Rivera"},"UY-LA":{type:"Department",name:"Lavalleja"},"UY-MO":{type:"Department",name:"Montevideo"},"UY-DU":{type:"Department",name:"Durazno"},"UY-CA":{type:"Department",name:"Canelones"},"UY-TA":{type:"Department",name:"Tacuarembó"}}},YT:{name:"Mayotte",sub:{"YT-YT":{type:"Country",name:"Mayotte"}}},UM:{name:"United States Minor Outlying Islands",sub:{"UM-76":{type:"Islands, groups of islands",name:"Navassa Island"},"UM-71":{type:"Islands, groups of islands",name:"Midway Islands"},"UM-67":{type:"Islands, groups of islands",name:"Johnston Atoll"},"UM-86":{type:"Islands, groups of islands",name:"Jarvis Island"},"UM-84":{type:"Islands, groups of islands",name:"Howland Island"},"UM-89":{type:"Islands, groups of islands",name:"Kingman Reef"},"UM-79":{type:"Islands, groups of islands",name:"Wake Island"},"UM-81":{type:"Islands, groups of islands",name:"Baker Island"},"UM-95":{type:"Islands, groups of islands",name:"Palmyra Atoll"}}},LB:{name:"Lebanon",sub:{"LB-JA":{type:"Governorate",name:"Al Janūb"},"LB-AS":{type:"Governorate",name:"Ash Shimāl"},"LB-JL":{type:"Governorate",name:"Jabal Lubnān"},"LB-BH":{type:"Governorate",name:"Baalbek-Hermel"},"LB-BI":{type:"Governorate",name:"Al Biqā‘"},"LB-BA":{type:"Governorate",name:"Bayrūt"},"LB-AK":{type:"Governorate",name:"Aakkâr"},"LB-NA":{type:"Governorate",name:"An Nabaţīyah"}}},LC:{name:"Saint Lucia",sub:{"LC-11":{type:"District",name:"Vieux Fort"},"LC-12":{type:"District",name:"Canaries"},"LC-10":{type:"District",name:"Soufrière"},"LC-08":{type:"District",name:"Micoud"},"LC-05":{type:"District",name:"Dennery"},"LC-07":{type:"District",name:"Laborie"},"LC-06":{type:"District",name:"Gros Islet"},"LC-01":{type:"District",name:"Anse la Raye"},"LC-03":{type:"District",name:"Choiseul"},"LC-02":{type:"District",name:"Castries"}}},LA:{name:"Laos",sub:{"LA-HO":{type:"Province",name:"Houaphan"},"LA-VT":{type:"Prefecture",name:"Vientiane"},"LA-CH":{type:"Province",name:"Champasak"},"LA-OU":{type:"Province",name:"Oudomsai"},"LA-AT":{type:"Province",name:"Attapu"},"LA-BL":{type:"Province",name:"Bolikhamxai"},"LA-SL":{type:"Province",name:"Salavan"},"LA-KH":{type:"Province",name:"Khammouan"},"LA-LP":{type:"Province",name:"Louangphabang"},"LA-SV":{type:"Province",name:"Savannakhét"},"LA-BK":{type:"Province",name:"Bokèo"},"LA-PH":{type:"Province",name:"Phôngsali"},"LA-XN":{type:"Special zone",name:"Xaisômboun"},"LA-LM":{type:"Province",name:"Louang Namtha"},"LA-XI":{type:"Province",name:"Xiangkhouang"},"LA-XE":{type:"Province",name:"Sékong"},"LA-VI":{type:"Province",name:"Vientiane"},"LA-XA":{type:"Province",name:"Sayaboury"}}},TV:{name:"Tuvalu",sub:{"TV-NKL":{type:"Island council",name:"Nukulaelae"},"TV-NKF":{type:"Island council",name:"Nukufetau"},"TV-VAI":{type:"Island council",name:"Vaitupu"},"TV-FUN":{type:"Town council",name:"Funafuti"},"TV-NIT":{type:"Island council",name:"Niutao"},"TV-NMG":{type:"Island council",name:"Nanumanga"},"TV-NUI":{type:"Island council",name:"Nui"},"TV-NMA":{type:"Island council",name:"Nanumea"}}},TW:{name:"Taiwan",sub:{"TW-ILA":{type:"District",name:"Ilan"},"TW-YUN":{type:"District",name:"Yunlin"},"TW-NAN":{type:"District",name:"Nantou"},"TW-TNQ":{type:"District",name:"Tainan"},"TW-TNN":{type:"Municipality",name:"Tainan"},"TW-KEE":{type:"Municipality",name:"Keelung"},"TW-CHA":{type:"District",name:"Changhua"},"TW-TPE":{type:"Special municipality",name:"Taipei"},"TW-HUA":{type:"District",name:"Hualien"},"TW-TXG":{type:"Municipality",name:"Taichung"},"TW-TAO":{type:"District",name:"Taoyuan"},"TW-PIF":{type:"District",name:"Pingtung"},"TW-KHH":{type:"Special municipality",name:"Kaohsiung"},"TW-PEN":{type:"District",name:"Penghu"},"TW-CYI":{type:"Municipality",name:"Chiayi"},"TW-TXQ":{type:"District",name:"Taichung"},"TW-MIA":{type:"District",name:"Miaoli"},"TW-HSQ":{type:"District",name:"Hsinchu"},"TW-CYQ":{type:"District",name:"Chiayi"},"TW-TPQ":{type:"District",name:"Taipei"},"TW-KHQ":{type:"District",name:"Kaohsiung"},"TW-HSZ":{type:"Municipality",name:"Hsinchu"},"TW-TTT":{type:"District",name:"Taitung"}}},TT:{name:"Trinidad and Tobago",sub:{"TT-SJL":{type:"Region",name:"San Juan-Laventille"},"TT-ETO":{type:"Region",name:"Eastern Tobago"},"TT-SGE":{type:"Region",name:"Sangre Grande"},"TT-PTF":{type:"Municipality",name:"Point Fortin"},"TT-RCM":{type:"Region",name:"Rio Claro-Mayaro"},"TT-WTO":{type:"Region",name:"Western Tobago"},"TT-PRT":{type:"Region",name:"Princes Town"},"TT-POS":{type:"Municipality",name:"Port of Spain"},"TT-CTT":{type:"Region",name:"Couva-Tabaquite-Talparo"},"TT-CHA":{type:"Municipality",name:"Chaguanas"},"TT-ARI":{type:"Municipality",name:"Arima"},"TT-SIP":{type:"Region",name:"Siparia"},"TT-PED":{type:"Region",name:"Penal-Debe"},"TT-SFO":{type:"Municipality",name:"San Fernando"},"TT-DMN":{type:"Region",name:"Diego Martin"},"TT-TUP":{type:"Region",name:"Tunapuna-Piarco"}}},TR:{name:"Turkey",sub:{"TR-61":{type:"Province",name:"Trabzon"},"TR-73":{type:"Province",name:"Şırnak"},"TR-62":{type:"Province",name:"Tunceli"},"TR-77":{type:"Province",name:"Yalova"},"TR-54":{type:"Province",name:"Sakarya"},"TR-60":{type:"Province",name:"Tokat"},"TR-37":{type:"Province",name:"Kastamonu"},"TR-36":{type:"Province",name:"Kars"},"TR-35":{type:"Province",name:"İzmir"},"TR-34":{type:"Province",name:"İstanbul"},"TR-33":{type:"Province",name:"Mersin"},"TR-32":{type:"Province",name:"Isparta"},"TR-31":{type:"Province",name:"Hatay"},"TR-30":{type:"Province",name:"Hakkâri"},"TR-68":{type:"Province",name:"Aksaray"},"TR-55":{type:"Province",name:"Samsun"},"TR-63":{type:"Province",name:"Şanlıurfa"},"TR-44":{type:"Province",name:"Malatya"},"TR-39":{type:"Province",name:"Kırklareli"},"TR-38":{type:"Province",name:"Kayseri"},"TR-19":{type:"Province",name:"Çorum"},"TR-18":{type:"Province",name:"Çankırı"},"TR-57":{type:"Province",name:"Sinop"},"TR-45":{type:"Province",name:"Manisa"},"TR-51":{type:"Province",name:"Niğde"},"TR-50":{type:"Province",name:"Nevşehir"},"TR-53":{type:"Province",name:"Rize"},"TR-52":{type:"Province",name:"Ordu"},"TR-11":{type:"Province",name:"Bilecik"},"TR-10":{type:"Province",name:"Balıkesir"},"TR-13":{type:"Province",name:"Bitlis"},"TR-12":{type:"Province",name:"Bingöl"},"TR-15":{type:"Province",name:"Burdur"},"TR-14":{type:"Province",name:"Bolu"},"TR-17":{type:"Province",name:"Çanakkale"},"TR-16":{type:"Province",name:"Bursa"},"TR-48":{type:"Province",name:"Muğla"},"TR-75":{type:"Province",name:"Ardahan"},"TR-76":{type:"Province",name:"Iğdır"},"TR-69":{type:"Province",name:"Bayburt"},"TR-78":{type:"Province",name:"Karabük"},"TR-74":{type:"Province",name:"Bartın"},"TR-72":{type:"Province",name:"Batman"},"TR-49":{type:"Province",name:"Muş"},"TR-64":{type:"Province",name:"Uşak"},"TR-80":{type:"Province",name:"Osmaniye"},"TR-81":{type:"Province",name:"Düzce"},"TR-67":{type:"Province",name:"Zonguldak"},"TR-56":{type:"Province",name:"Siirt"},"TR-65":{type:"Province",name:"Van"},"TR-70":{type:"Province",name:"Karaman"},"TR-71":{type:"Province",name:"Kırıkkale"},"TR-79":{type:"Province",name:"Kilis"},"TR-20":{type:"Province",name:"Denizli"},"TR-21":{type:"Province",name:"Diyarbakır"},"TR-22":{type:"Province",name:"Edirne"},"TR-23":{type:"Province",name:"Elazığ"},"TR-24":{type:"Province",name:"Erzincan"},"TR-25":{type:"Province",name:"Erzurum"},"TR-26":{type:"Province",name:"Eskişehir"},"TR-27":{type:"Province",name:"Gaziantep"},"TR-28":{type:"Province",name:"Giresun"},"TR-29":{type:"Province",name:"Gümüşhane"},"TR-59":{type:"Province",name:"Tekirdağ"},"TR-58":{type:"Province",name:"Sivas"},"TR-46":{type:"Province",name:"Kahramanmaraş"},"TR-47":{type:"Province",name:"Mardin"},"TR-08":{type:"Province",name:"Artvin"},"TR-09":{type:"Province",name:"Aydın"},"TR-42":{type:"Province",name:"Konya"},"TR-43":{type:"Province",name:"Kütahya"},"TR-40":{type:"Province",name:"Kırşehir"},"TR-41":{type:"Province",name:"Kocaeli"},"TR-02":{type:"Province",name:"Adıyaman"},"TR-03":{type:"Province",name:"Afyonkarahisar"},"TR-66":{type:"Province",name:"Yozgat"},"TR-01":{type:"Province",name:"Adana"},"TR-06":{type:"Province",name:"Ankara"},"TR-07":{type:"Province",name:"Antalya"},"TR-04":{type:"Province",name:"Ağrı"},"TR-05":{type:"Province",name:"Amasya"}}},LK:{name:"Sri Lanka",sub:{"LK-23":{type:"District",name:"Nuvara Ĕliya"},"LK-22":{type:"District",name:"Matale"},"LK-21":{type:"District",name:"Kandy"},"LK-41":{type:"District",name:"Jaffna"},"LK-43":{type:"District",name:"Mannar"},"LK-42":{type:"District",name:"Kilinochchi"},"LK-45":{type:"District",name:"Mulativ"},"LK-44":{type:"District",name:"Vavuniya"},"LK-4":{type:"Province",name:"Northern Province"},"LK-5":{type:"Province",name:"Eastern Province"},"LK-6":{type:"Province",name:"North Western Province"},"LK-7":{type:"Province",name:"North Central Province"},"LK-1":{type:"Province",name:"Basnāhira paḷāta"},"LK-2":{type:"Province",name:"Central Province"},"LK-3":{type:"Province",name:"Dakuṇu paḷāta"},"LK-8":{type:"Province",name:"Ūvā mākāṇam"},"LK-9":{type:"Province",name:"Chappirakamuva mākāṇam"},"LK-71":{type:"District",name:"Anuradhapura"},"LK-72":{type:"District",name:"Pŏlaṉṉaṛuvai"},"LK-92":{type:"District",name:"Kægalla"},"LK-91":{type:"District",name:"Irattiṉapuri"},"LK-12":{type:"District",name:"Gampaha"},"LK-13":{type:"District",name:"Kalutara"},"LK-11":{type:"District",name:"Colombo"},"LK-52":{type:"District",name:"Ampara"},"LK-53":{type:"District",name:"Tirukŏṇamalai"},"LK-51":{type:"District",name:"Batticaloa"},"LK-31":{type:"District",name:"Gālla"},"LK-32":{type:"District",name:"Matara"},"LK-33":{type:"District",name:"Ampāntōṭṭai"},"LK-62":{type:"District",name:"Puttalam"},"LK-61":{type:"District",name:"Kuruṇægala"},"LK-81":{type:"District",name:"Badulla"},"LK-82":{type:"District",name:"Monaragala"}}},LI:{name:"Liechtenstein",sub:{"LI-11":{type:"Commune",name:"Vaduz"},"LI-10":{type:"Commune",name:"Triesenberg"},"LI-09":{type:"Commune",name:"Triesen"},"LI-08":{type:"Commune",name:"Schellenberg"},"LI-07":{type:"Commune",name:"Schaan"},"LI-06":{type:"Commune",name:"Ruggell"},"LI-05":{type:"Commune",name:"Planken"},"LI-04":{type:"Commune",name:"Mauren"},"LI-03":{type:"Commune",name:"Gamprin"},"LI-02":{type:"Commune",name:"Eschen"},"LI-01":{type:"Commune",name:"Balzers"}}},LV:{name:"Latvia",sub:{"LV-DGV":{type:"Republican city",name:"Daugavpils"},"LV-078":{type:"Municipality",name:"Riebiņu novads"},"LV-079":{type:"Municipality",name:"Rojas novads"},"LV-072":{type:"Municipality",name:"Pļaviņu novads"},"LV-073":{type:"Municipality",name:"Preiļu novads"},"LV-070":{type:"Municipality",name:"Pārgaujas novads"},"LV-071":{type:"Municipality",name:"Pāvilostas novads"},"LV-076":{type:"Municipality",name:"Raunas novads"},"LV-077":{type:"Municipality",name:"Rēzeknes novads"},"LV-074":{type:"Municipality",name:"Priekules novads"},"LV-075":{type:"Municipality",name:"Priekuļu novads"},"LV-106":{type:"Municipality",name:"Ventspils novads"},"LV-107":{type:"Municipality",name:"Viesītes novads"},"LV-JEL":{type:"Republican city",name:"Jelgava"},"LV-069":{type:"Municipality",name:"Ozolnieku novads"},"LV-068":{type:"Municipality",name:"Olaines novads"},"LV-104":{type:"Municipality",name:"Vecpiebalgas novads"},"LV-105":{type:"Municipality",name:"Vecumnieku novads"},"LV-102":{type:"Municipality",name:"Varakļānu novads"},"LV-103":{type:"Municipality",name:"Vārkavas novads"},"LV-100":{type:"Municipality",name:"Vaiņodes novads"},"LV-101":{type:"Municipality",name:"Valkas novads"},"LV-061":{type:"Municipality",name:"Mālpils novads"},"LV-060":{type:"Municipality",name:"Mazsalacas novads"},"LV-063":{type:"Municipality",name:"Mērsraga novads"},"LV-062":{type:"Municipality",name:"Mārupes novads"},"LV-065":{type:"Municipality",name:"Neretas novads"},"LV-064":{type:"Municipality",name:"Naukšēnu novads"},"LV-067":{type:"Municipality",name:"Ogres novads"},"LV-066":{type:"Municipality",name:"Nīcas novads"},"LV-LPX":{type:"Republican city",name:"Liepāja"},"LV-VEN":{type:"Republican city",name:"Ventspils"},"LV-054":{type:"Municipality",name:"Limbažu novads"},"LV-055":{type:"Municipality",name:"Līgatnes novads"},"LV-056":{type:"Municipality",name:"Līvānu novads"},"LV-057":{type:"Municipality",name:"Lubānas novads"},"LV-050":{type:"Municipality",name:"Kuldīgas novads"},"LV-051":{type:"Municipality",name:"Ķeguma novads"},"LV-052":{type:"Municipality",name:"Ķekavas novads"},"LV-053":{type:"Municipality",name:"Lielvārdes novads"},"LV-REZ":{type:"Republican city",name:"Rēzekne"},"LV-109":{type:"Municipality",name:"Viļānu novads"},"LV-058":{type:"Municipality",name:"Ludzas novads"},"LV-059":{type:"Municipality",name:"Madonas novads"},"LV-110":{type:"Municipality",name:"Zilupes novads"},"LV-VMR":{type:"Republican city",name:"Valmiera"},"LV-043":{type:"Municipality",name:"Kandavas novads"},"LV-042":{type:"Municipality",name:"Jēkabpils novads"},"LV-041":{type:"Municipality",name:"Jelgavas novads"},"LV-040":{type:"Municipality",name:"Jaunpils novads"},"LV-047":{type:"Municipality",name:"Krāslavas novads"},"LV-046":{type:"Municipality",name:"Kokneses novads"},"LV-045":{type:"Municipality",name:"Kocēnu novads"},"LV-044":{type:"Municipality",name:"Kārsavas novads"},"LV-049":{type:"Municipality",name:"Krustpils novads"},"LV-048":{type:"Municipality",name:"Krimuldas novads"},"LV-036":{type:"Municipality",name:"Ilūkstes novads"},"LV-037":{type:"Municipality",name:"Inčukalna novads"},"LV-034":{type:"Municipality",name:"Iecavas novads"},"LV-035":{type:"Municipality",name:"Ikšķiles novads"},"LV-032":{type:"Municipality",name:"Grobiņas novads"},"LV-033":{type:"Municipality",name:"Gulbenes novads"},"LV-030":{type:"Municipality",name:"Ērgļu novads"},"LV-031":{type:"Municipality",name:"Garkalnes novads"},"LV-038":{type:"Municipality",name:"Jaunjelgavas novads"},"LV-039":{type:"Municipality",name:"Jaunpiebalgas novads"},"LV-025":{type:"Municipality",name:"Daugavpils novads"},"LV-024":{type:"Municipality",name:"Dagdas novads"},"LV-027":{type:"Municipality",name:"Dundagas novads"},"LV-026":{type:"Municipality",name:"Dobeles novads"},"LV-021":{type:"Municipality",name:"Cesvaines novads"},"LV-020":{type:"Municipality",name:"Carnikavas novads"},"LV-023":{type:"Municipality",name:"Ciblas novads"},"LV-022":{type:"Municipality",name:"Cēsu novads"},"LV-029":{type:"Municipality",name:"Engures novads"},"LV-028":{type:"Municipality",name:"Durbes novads"},"LV-108":{type:"Municipality",name:"Viļakas novads"},"LV-JKB":{type:"Republican city",name:"Jēkabpils"},"LV-098":{type:"Municipality",name:"Tērvetes novads"},"LV-099":{type:"Municipality",name:"Tukuma novads"},"LV-090":{type:"Municipality",name:"Sējas novads"},"LV-091":{type:"Municipality",name:"Siguldas novads"},"LV-092":{type:"Municipality",name:"Skrīveru novads"},"LV-093":{type:"Municipality",name:"Skrundas novads"},"LV-094":{type:"Municipality",name:"Smiltenes novads"},"LV-095":{type:"Municipality",name:"Stopiņu novads"},"LV-096":{type:"Municipality",name:"Strenču novads"},"LV-097":{type:"Municipality",name:"Talsu novads"},"LV-010":{type:"Municipality",name:"Auces novads"},"LV-011":{type:"Municipality",name:"Ādažu novads"},"LV-012":{type:"Municipality",name:"Babītes novads"},"LV-013":{type:"Municipality",name:"Baldones novads"},"LV-014":{type:"Municipality",name:"Baltinavas novads"},"LV-015":{type:"Municipality",name:"Balvu novads"},"LV-016":{type:"Municipality",name:"Bauskas novads"},"LV-017":{type:"Municipality",name:"Beverīnas novads"},"LV-018":{type:"Municipality",name:"Brocēnu novads"},"LV-019":{type:"Municipality",name:"Burtnieku novads"},"LV-JUR":{type:"Republican city",name:"Jūrmala"},"LV-087":{type:"Municipality",name:"Salaspils novads"},"LV-086":{type:"Municipality",name:"Salacgrīvas novads"},"LV-085":{type:"Municipality",name:"Salas novads"},"LV-084":{type:"Municipality",name:"Rūjienas novads"},"LV-083":{type:"Municipality",name:"Rundāles novads"},"LV-082":{type:"Municipality",name:"Rugāju novads"},"LV-081":{type:"Municipality",name:"Rucavas novads"},"LV-080":{type:"Municipality",name:"Ropažu novads"},"LV-089":{type:"Municipality",name:"Saulkrastu novads"},"LV-088":{type:"Municipality",name:"Saldus novads"},"LV-009":{type:"Municipality",name:"Apes novads"},"LV-008":{type:"Municipality",name:"Amatas novads"},"LV-007":{type:"Municipality",name:"Alūksnes novads"},"LV-006":{type:"Municipality",name:"Alsungas novads"},"LV-005":{type:"Municipality",name:"Alojas novads"},"LV-004":{type:"Municipality",name:"Aknīstes novads"},"LV-003":{type:"Municipality",name:"Aizputes novads"},"LV-002":{type:"Municipality",name:"Aizkraukles novads"},"LV-001":{type:"Municipality",name:"Aglonas novads"},"LV-RIX":{type:"Republican city",name:"Rīga"}}},TO:{name:"Tonga",sub:{"TO-01":{type:"Division",name:"'Eua"},"TO-03":{type:"Division",name:"Niuas"},"TO-02":{type:"Division",name:"Ha'apai"},"TO-05":{type:"Division",name:"Vava'u"},"TO-04":{type:"Division",name:"Tongatapu"}}},LT:{name:"Lithuania",sub:{"LT-MR":{type:"County",name:"Marijampolės apskritis"},"LT-TA":{type:"County",name:"Tauragės apskritis"},"LT-56":{type:"District municipality",name:"Vilkaviškis"},"LT-41":{type:"District municipality",name:"Šakiai"},"LT-KL":{type:"County",name:"Klaipėdos apskritis"},"LT-52":{type:"District municipality",name:"Trakai"},"LT-53":{type:"District municipality",name:"Ukmergė"},"LT-01":{type:"District municipality",name:"Akmenė"},"LT-02":{type:"City municipality",name:"Alytaus miestas"},"LT-03":{type:"District municipality",name:"Alytus"},"LT-04":{type:"District municipality",name:"Anykščiai"},"LT-05":{type:"Municipality",name:"Birštono"},"LT-06":{type:"District municipality",name:"Biržai"},"LT-07":{type:"Municipality",name:"Druskininkai"},"LT-08":{type:"Municipality",name:"Elektrénai"},"LT-09":{type:"District municipality",name:"Ignalina"},"LT-KU":{type:"County",name:"Kauno apskritis"},"LT-28":{type:"Municipality",name:"Neringa"},"LT-29":{type:"Municipality",name:"Pagégiai"},"LT-48":{type:"District municipality",name:"Skuodas"},"LT-49":{type:"District municipality",name:"Švenčionys"},"LT-60":{type:"District municipality",name:"Zarasai"},"LT-UT":{type:"County",name:"Utenos apskritis"},"LT-22":{type:"District municipality",name:"Kretinga"},"LT-23":{type:"District municipality",name:"Kupiškis"},"LT-20":{type:"City municipality",name:"Klaipėdos miestas"},"LT-21":{type:"District municipality",name:"Klaipėda"},"LT-26":{type:"District municipality",name:"Mažeikiai"},"LT-27":{type:"District municipality",name:"Molėtai"},"LT-24":{type:"District municipality",name:"Lazdijai"},"LT-25":{type:"District municipality",name:"Marijampolė"},"LT-58":{type:"District municipality",name:"Vilnius"},"LT-PN":{type:"County",name:"Panevėžio apskritis"},"LT-54":{type:"District municipality",name:"Utena"},"LT-43":{type:"City municipality",name:"Šiaulių miestas"},"LT-59":{type:"Municipality",name:"Visaginas"},"LT-45":{type:"District municipality",name:"Šilalė"},"LT-47":{type:"District municipality",name:"Širvintos"},"LT-46":{type:"District municipality",name:"Šilutė"},"LT-17":{type:"Municipality",name:"Kazlų Rūdos"},"LT-16":{type:"District municipality",name:"Kaunas"},"LT-15":{type:"City municipality",name:"Kauno miestas"},"LT-14":{type:"Municipality",name:"Kalvarijos"},"LT-13":{type:"District municipality",name:"Kaišiadorys"},"LT-12":{type:"District municipality",name:"Jurbarkas"},"LT-11":{type:"District municipality",name:"Joniškis"},"LT-10":{type:"District municipality",name:"Jonava"},"LT-TE":{type:"County",name:"Telšių apskritis"},"LT-40":{type:"District municipality",name:"Rokiškis"},"LT-VL":{type:"County",name:"Vilniaus apskritis"},"LT-AL":{type:"County",name:"Alytaus apskritis"},"LT-SA":{type:"County",name:"Šiaulių apskritis"},"LT-19":{type:"District municipality",name:"Kelmė"},"LT-18":{type:"District municipality",name:"Kėdainiai"},"LT-39":{type:"Municipality",name:"Rietavo"},"LT-38":{type:"District municipality",name:"Raseiniai"},"LT-51":{type:"District municipality",name:"Telšiai"},"LT-50":{type:"District municipality",name:"Tauragė"},"LT-57":{type:"City municipality",name:"Vilniaus miestas"},"LT-42":{type:"District municipality",name:"Šalčininkai"},"LT-55":{type:"District municipality",name:"Varėna"},"LT-44":{type:"District municipality",name:"Šiauliai"},"LT-31":{type:"City municipality",name:"Palangos miestas"},"LT-30":{type:"District municipality",name:"Pakruojis"},"LT-33":{type:"District municipality",name:"Panevėžys"},"LT-32":{type:"City municipality",name:"Panevėžio miestas"},"LT-35":{type:"District municipality",name:"Plungė"},"LT-34":{type:"District municipality",name:"Pasvalys"},"LT-37":{type:"District municipality",name:"Radviliškis"},"LT-36":{type:"District municipality",name:"Prienai"}}},LU:{name:"Luxembourg",sub:{"LU-G":{type:"District",name:"Grevenmacher"},"LU-D":{type:"District",name:"Diekirch"},"LU-L":{type:"District",name:"Lëtzebuerg"}}},LR:{name:"Liberia",sub:{"LR-CM":{type:"County",name:"Grand Cape Mount"},"LR-BM":{type:"County",name:"Bomi"},"LR-MY":{type:"County",name:"Maryland"},"LR-LO":{type:"County",name:"Lofa"},"LR-MO":{type:"County",name:"Montserrado"},"LR-GP":{type:"County",name:"Gbarpolu"},"LR-MG":{type:"County",name:"Margibi"},"LR-BG":{type:"County",name:"Bong"},"LR-GK":{type:"County",name:"Grand Kru"},"LR-RI":{type:"County",name:"Rivercess"},"LR-SI":{type:"County",name:"Sinoe"},"LR-GB":{type:"County",name:"Grand Bassa"},"LR-RG":{type:"County",name:"River Gee"},"LR-GG":{type:"County",name:"Grand Gedeh"},"LR-NI":{type:"County",name:"Nimba"}}},LS:{name:"Lesotho",sub:{"LS-H":{type:"District",name:"Qacha's Nek"},"LS-J":{type:"District",name:"Mokhotlong"},"LS-K":{type:"District",name:"Thaba-Tseka"},"LS-D":{type:"District",name:"Berea"},"LS-E":{type:"District",name:"Mafeteng"},"LS-F":{type:"District",name:"Mohale's Hoek"},"LS-G":{type:"District",name:"Quthing"},"LS-A":{type:"District",name:"Maseru"},"LS-B":{type:"District",name:"Butha-Buthe"},"LS-C":{type:"District",name:"Leribe"}}},TH:{name:"Thailand",sub:{"TH-57":{type:"Province",name:"Chiang Rai"},"TH-56":{type:"Province",name:"Phayao"},"TH-55":{type:"Province",name:"Nan"},"TH-54":{type:"Province",name:"Phrae"},"TH-53":{type:"Province",name:"Uttaradit"},"TH-33":{type:"Province",name:"Si Sa Ket"},"TH-51":{type:"Province",name:"Lamphun"},"TH-50":{type:"Province",name:"Chiang Mai"},"TH-90":{type:"Province",name:"Songkhla"},"TH-92":{type:"Province",name:"Trang"},"TH-91":{type:"Province",name:"Satun"},"TH-32":{type:"Province",name:"Surin"},"TH-96":{type:"Province",name:"Narathiwat"},"TH-95":{type:"Province",name:"Yala"},"TH-58":{type:"Province",name:"Mae Hong Son"},"TH-13":{type:"Province",name:"Pathum Thani"},"TH-12":{type:"Province",name:"Nonthaburi"},"TH-11":{type:"Province",name:"Samut Prakan"},"TH-10":{type:"Metropolitan administration",name:"Krung Thep Maha Nakhon"},"TH-31":{type:"Province",name:"Buri Ram"},"TH-30":{type:"Province",name:"Nakhon Ratchasima"},"TH-15":{type:"Province",name:"Ang Thong"},"TH-14":{type:"Province",name:"Phra Nakhon Si Ayutthaya"},"TH-71":{type:"Province",name:"Kanchanaburi"},"TH-70":{type:"Province",name:"Ratchaburi"},"TH-19":{type:"Province",name:"Saraburi"},"TH-18":{type:"Province",name:"Chai Nat"},"TH-39":{type:"Province",name:"Nong Bua Lam Phu"},"TH-38":{type:"Province",name:"Bueng Kan"},"TH-77":{type:"Province",name:"Prachuap Khiri Khan"},"TH-52":{type:"Province",name:"Lampang"},"TH-72":{type:"Province",name:"Suphan Buri"},"TH-75":{type:"Province",name:"Samut Songkhram"},"TH-93":{type:"Province",name:"Phatthalung"},"TH-74":{type:"Province",name:"Samut Sakhon"},"TH-84":{type:"Province",name:"Surat Thani"},"TH-85":{type:"Province",name:"Ranong"},"TH-86":{type:"Province",name:"Chumphon"},"TH-S":{type:"Special administrative city",name:"Phatthaya"},"TH-80":{type:"Province",name:"Nakhon Si Thammarat"},"TH-81":{type:"Province",name:"Krabi"},"TH-82":{type:"Province",name:"Phangnga"},"TH-83":{type:"Province",name:"Phuket"},"TH-76":{type:"Province",name:"Phetchaburi"},"TH-40":{type:"Province",name:"Khon Kaen"},"TH-41":{type:"Province",name:"Udon Thani"},"TH-42":{type:"Province",name:"Loei"},"TH-43":{type:"Province",name:"Nong Khai"},"TH-44":{type:"Province",name:"Maha Sarakham"},"TH-45":{type:"Province",name:"Roi Et"},"TH-46":{type:"Province",name:"Kalasin"},"TH-47":{type:"Province",name:"Sakon Nakhon"},"TH-48":{type:"Province",name:"Nakhon Phanom"},"TH-49":{type:"Province",name:"Mukdahan"},"TH-26":{type:"Province",name:"Nakhon Nayok"},"TH-27":{type:"Province",name:"Sa Kaeo"},"TH-24":{type:"Province",name:"Chachoengsao"},"TH-25":{type:"Province",name:"Prachin Buri"},"TH-22":{type:"Province",name:"Chanthaburi"},"TH-23":{type:"Province",name:"Trat"},"TH-20":{type:"Province",name:"Chon Buri"},"TH-21":{type:"Province",name:"Rayong"},"TH-62":{type:"Province",name:"Kamphaeng Phet"},"TH-63":{type:"Province",name:"Tak"},"TH-60":{type:"Province",name:"Nakhon Sawan"},"TH-61":{type:"Province",name:"Uthai Thani"},"TH-66":{type:"Province",name:"Phichit"},"TH-67":{type:"Province",name:"Phetchabun"},"TH-64":{type:"Province",name:"Sukhothai"},"TH-65":{type:"Province",name:"Phitsanulok"},"TH-35":{type:"Province",name:"Yasothon"},"TH-34":{type:"Province",name:"Ubon Ratchathani"},"TH-37":{type:"Province",name:"Amnat Charoen"},"TH-73":{type:"Province",name:"Nakhon Pathom"},"TH-36":{type:"Province",name:"Chaiyaphum"},"TH-17":{type:"Province",name:"Sing Buri"},"TH-94":{type:"Province",name:"Pattani"},"TH-16":{type:"Province",name:"Lop Buri"}}},TF:{name:"French Southern Territories",sub:{"TF-TF":{type:"Country",name:"French Southern Territories"}}},TG:{name:"Togo",sub:{"TG-P":{type:"Region",name:"Plateaux"},"TG-S":{type:"Region",name:"Savannes"},"TG-C":{type:"Region",name:"Centre"},"TG-M":{type:"Region",name:"Maritime"},"TG-K":{type:"Region",name:"Kara"}}},TD:{name:"Chad",sub:{"TD-ND":{type:"Region",name:"Madīnat Injamīnā"},"TD-LO":{type:"Region",name:"Logone-Occidental"},"TD-WF":{type:"Region",name:"Wadi Fira"},"TD-LC":{type:"Region",name:"Al Buḩayrah"},"TD-SA":{type:"Region",name:"Salamat"},"TD-SI":{type:"Region",name:"Sila"},"TD-HL":{type:"Region",name:"Hadjer Lamis"},"TD-LR":{type:"Region",name:"Logone-Oriental"},"TD-BA":{type:"Region",name:"Al Baţḩah"},"TD-BG":{type:"Region",name:"Baḩr al Ghazāl"},"TD-BO":{type:"Region",name:"Borkou"},"TD-MC":{type:"Region",name:"Moyen-Chari"},"TD-OD":{type:"Region",name:"Ouaddaï"},"TD-MA":{type:"Region",name:"Mandoul"},"TD-ME":{type:"Region",name:"Mayo-Kebbi-Est"},"TD-KA":{type:"Region",name:"Kanem"},"TD-MO":{type:"Region",name:"Mayo-Kebbi-Ouest"},"TD-GR":{type:"Region",name:"Guéra"},"TD-EO":{type:"Region",name:"Ennedi-Ouest"},"TD-TA":{type:"Region",name:"Tandjilé"},"TD-TI":{type:"Region",name:"Tibastī"},"TD-EE":{type:"Region",name:"Ennedi-Est"},"TD-CB":{type:"Region",name:"Chari-Baguirmi"}}},TC:{name:"Turks & Caicos Islands",sub:{"TC-TC":{type:"Country",name:"Turks & Caicos Islands"}}},LY:{name:"Libya",sub:{"LY-JI":{type:"Popularate",name:"Al Jifārah"},"LY-SR":{type:"Popularate",name:"Surt"},"LY-JA":{type:"Popularate",name:"Al Jabal al Akhḑar"},"LY-DR":{type:"Popularate",name:"Darnah"},"LY-WD":{type:"Popularate",name:"Wādī al Ḩayāt"},"LY-JG":{type:"Popularate",name:"Al Jabal al Gharbī"},"LY-WA":{type:"Popularate",name:"Al Wāḩāt"},"LY-SB":{type:"Popularate",name:"Sabhā"},"LY-NQ":{type:"Popularate",name:"An Nuqāţ al Khams"},"LY-JU":{type:"Popularate",name:"Al Jufrah"},"LY-WS":{type:"Popularate",name:"Wādī ash Shāţi’"},"LY-BA":{type:"Popularate",name:"Banghāzī"},"LY-BU":{type:"Popularate",name:"Al Buţnān"},"LY-NL":{type:"Popularate",name:"Nālūt"},"LY-ZA":{type:"Popularate",name:"Az Zāwiyah"},"LY-MI":{type:"Popularate",name:"Mişrātah"},"LY-MJ":{type:"Popularate",name:"Al Marj"},"LY-TB":{type:"Popularate",name:"Ţarābulus"},"LY-GT":{type:"Popularate",name:"Ghāt"},"LY-KF":{type:"Popularate",name:"Al Kufrah"},"LY-MB":{type:"Popularate",name:"Al Marqab"},"LY-MQ":{type:"Popularate",name:"Murzuq"}}},VA:{name:"Vatican City",sub:{"VA-VA":{type:"Country",name:"Vatican City"}}},VC:{name:"Saint Vincent And The Grenadines",sub:{"VC-03":{type:"Parish",name:"Saint David"},"VC-02":{type:"Parish",name:"Saint Andrew"},"VC-01":{type:"Parish",name:"Charlotte"},"VC-06":{type:"Parish",name:"Grenadines"},"VC-05":{type:"Parish",name:"Saint Patrick"},"VC-04":{type:"Parish",name:"Saint George"}}},AE:{name:"United Arab Emirates",sub:{"AE-FU":{type:"Emirate",name:"Al Fujayrah"},"AE-AJ":{type:"Emirate",name:"'Ajmān"},"AE-SH":{type:"Emirate",name:"Ash Shāriqah"},"AE-AZ":{type:"Emirate",name:"Abū Z̧aby"},"AE-UQ":{type:"Emirate",name:"Umm al Qaywayn"},"AE-RK":{type:"Emirate",name:"Ra's al Khaymah"},"AE-DU":{type:"Emirate",name:"Dubayy"}}},AD:{name:"Andorra",sub:{"AD-08":{type:"Parish",name:"Escaldes-Engordany"},"AD-05":{type:"Parish",name:"Ordino"},"AD-04":{type:"Parish",name:"La Massana"},"AD-07":{type:"Parish",name:"Andorra la Vella"},"AD-06":{type:"Parish",name:"Sant Julià de Lòria"},"AD-03":{type:"Parish",name:"Encamp"},"AD-02":{type:"Parish",name:"Canillo"}}},AG:{name:"Antigua and Barbuda",sub:{"AG-11":{type:"Dependency",name:"Redonda"},"AG-10":{type:"Dependency",name:"Barbuda"},"AG-08":{type:"Parish",name:"Saint Philip"},"AG-04":{type:"Parish",name:"Saint John"},"AG-05":{type:"Parish",name:"Saint Mary"},"AG-06":{type:"Parish",name:"Saint Paul"},"AG-07":{type:"Parish",name:"Saint Peter"},"AG-03":{type:"Parish",name:"Saint George"}}},AF:{name:"Afghanistan",sub:{"AF-TAK":{type:"Province",name:"Takhār"},"AF-BGL":{type:"Province",name:"Baghlān"},"AF-BAM":{type:"Province",name:"Bāmyān"},"AF-BAL":{type:"Province",name:"Balkh"},"AF-SAR":{type:"Province",name:"Sar-e Pul"},"AF-KNR":{type:"Province",name:"Kunar"},"AF-SAM":{type:"Province",name:"Samangān"},"AF-LOG":{type:"Province",name:"Lōgar"},"AF-NUR":{type:"Province",name:"Nūristān"},"AF-KDZ":{type:"Province",name:"Kunduz"},"AF-NIM":{type:"Province",name:"Nīmrōz"},"AF-PAN":{type:"Province",name:"Panjshayr"},"AF-NAN":{type:"Province",name:"Nangarhār"},"AF-KHO":{type:"Province",name:"Khōst"},"AF-PIA":{type:"Province",name:"Paktiyā"},"AF-BDS":{type:"Province",name:"Badakhshān"},"AF-FYB":{type:"Province",name:"Fāryāb"},"AF-URU":{type:"Province",name:"Uruzgān"},"AF-BDG":{type:"Province",name:"Bādghīs"},"AF-LAG":{type:"Province",name:"Laghmān"},"AF-PAR":{type:"Province",name:"Parwān"},"AF-KAP":{type:"Province",name:"Kāpīsā"},"AF-GHA":{type:"Province",name:"Ghaznī"},"AF-GHO":{type:"Province",name:"Ghōr"},"AF-FRA":{type:"Province",name:"Farāh"},"AF-KAB":{type:"Province",name:"Kābul"},"AF-KAN":{type:"Province",name:"Kandahār"},"AF-ZAB":{type:"Province",name:"Zābul"},"AF-WAR":{type:"Province",name:"Wardak"},"AF-HEL":{type:"Province",name:"Helmand"},"AF-PKA":{type:"Province",name:"Paktīkā"},"AF-DAY":{type:"Province",name:"Dāykundī"},"AF-JOW":{type:"Province",name:"Jowzjān"},"AF-HER":{type:"Province",name:"Herāt"}}},AI:{name:"Anguilla",sub:{"AI-AI":{type:"Country",name:"Anguilla"}}},VI:{name:"Virgin Islands",sub:{"VI-VI":{type:"Country",name:"Virgin Islands"}}},IS:{name:"Iceland",sub:{"IS-8":{type:"Region",name:"Suðurland"},"IS-3":{type:"Region",name:"Vesturland"},"IS-2":{type:"Region",name:"Suðurnes"},"IS-1":{type:"Region",name:"Höfuðborgarsvæði utan Reykjavíkur"},"IS-0":{type:"Region",name:"Reykjavík"},"IS-7":{type:"Region",name:"Austurland"},"IS-6":{type:"Region",name:"Norðurland eystra"},"IS-5":{type:"Region",name:"Norðurland vestra"},"IS-4":{type:"Region",name:"Vestfirðir"}}},IR:{name:"Iran",sub:{"IR-03":{type:"Province",name:"Ardabīl"},"IR-02":{type:"Province",name:"Āz̄arbāyjān-e Gharbī"},"IR-01":{type:"Province",name:"Āz̄arbāyjān-e Sharqī"},"IR-26":{type:"Province",name:"Qom"},"IR-07":{type:"Province",name:"Tehrān"},"IR-06":{type:"Province",name:"Būshehr"},"IR-05":{type:"Province",name:"Īlām"},"IR-04":{type:"Province",name:"Eşfahān"},"IR-08":{type:"Province",name:"Chahār Maḩāll va Bakhtīārī"},"IR-29":{type:"Province",name:"Khorāsān-e Janūbī"},"IR-27":{type:"Province",name:"Golestān"},"IR-21":{type:"Province",name:"Māzandarān"},"IR-20":{type:"Province",name:"Lorestān"},"IR-23":{type:"Province",name:"Hormozgān"},"IR-22":{type:"Province",name:"Markazī"},"IR-18":{type:"Province",name:"Kohgīlūyeh va Būyer Aḩmad"},"IR-19":{type:"Province",name:"Gīlān"},"IR-30":{type:"Province",name:"Khorāsān-e Razavī"},"IR-31":{type:"Province",name:"Khorāsān-e Shemālī"},"IR-14":{type:"Province",name:"Fārs"},"IR-15":{type:"Province",name:"Kermān"},"IR-16":{type:"Province",name:"Kordestān"},"IR-17":{type:"Province",name:"Kermānshāh"},"IR-10":{type:"Province",name:"Khūzestān"},"IR-11":{type:"Province",name:"Zanjān"},"IR-12":{type:"Province",name:"Semnān"},"IR-13":{type:"Province",name:"Sīstān va Balūchestān"},"IR-24":{type:"Province",name:"Hamadān"},"IR-25":{type:"Province",name:"Yazd"},"IR-28":{type:"Province",name:"Qazvīn"},"IR-32":{type:"Province",name:"Alborz"}}},AM:{name:"Armenia",sub:{"AM-GR":{type:"Region",name:"Geġark'unik'"},"AM-SU":{type:"Region",name:"Syunik'"},"AM-AR":{type:"Region",name:"Ararat"},"AM-ER":{type:"City",name:"Erevan"},"AM-VD":{type:"Region",name:"Vayoć Jor"},"AM-KT":{type:"Region",name:"Kotayk'"},"AM-LO":{type:"Region",name:"Loṙi"},"AM-AV":{type:"Region",name:"Armavir"},"AM-TV":{type:"Region",name:"Tavuš"},"AM-AG":{type:"Region",name:"Aragac̣otn"},"AM-SH":{type:"Region",name:"Širak"}}},AL:{name:"Albania",sub:{"AL-DI":{type:"District",name:"Dibër"},"AL-KO":{type:"District",name:"Korçë"},"AL-FR":{type:"District",name:"Fier"},"AL-BR":{type:"District",name:"Berat"},"AL-BU":{type:"District",name:"Bulqizë"},"AL-MR":{type:"District",name:"Mirditë"},"AL-DR":{type:"District",name:"Durrës"},"AL-HA":{type:"District",name:"Has"},"AL-DV":{type:"District",name:"Devoll"},"AL-05":{type:"County",name:"Gjirokastër"},"AL-04":{type:"County",name:"Fier"},"AL-07":{type:"County",name:"Kukës"},"AL-06":{type:"County",name:"Korçë"},"AL-01":{type:"County",name:"Berat"},"AL-03":{type:"County",name:"Elbasan"},"AL-02":{type:"County",name:"Durrës"},"AL-TP":{type:"District",name:"Tropojë"},"AL-TR":{type:"District",name:"Tiranë"},"AL-09":{type:"County",name:"Dibër"},"AL-08":{type:"County",name:"Lezhë"},"AL-PG":{type:"District",name:"Pogradec"},"AL-LU":{type:"District",name:"Lushnjë"},"AL-PR":{type:"District",name:"Përmet"},"AL-TE":{type:"District",name:"Tepelenë"},"AL-PU":{type:"District",name:"Pukë"},"AL-GR":{type:"District",name:"Gramsh"},"AL-MT":{type:"District",name:"Mat"},"AL-EL":{type:"District",name:"Elbasan"},"AL-VL":{type:"District",name:"Vlorë"},"AL-KB":{type:"District",name:"Kurbin"},"AL-LB":{type:"District",name:"Librazhd"},"AL-ER":{type:"District",name:"Kolonjë"},"AL-LE":{type:"District",name:"Lezhë"},"AL-GJ":{type:"District",name:"Gjirokastër"},"AL-12":{type:"County",name:"Vlorë"},"AL-KA":{type:"District",name:"Kavajë"},"AL-10":{type:"County",name:"Shkodër"},"AL-11":{type:"County",name:"Tiranë"},"AL-MK":{type:"District",name:"Mallakastër"},"AL-KC":{type:"District",name:"Kuçovë"},"AL-SR":{type:"District",name:"Sarandë"},"AL-MM":{type:"District",name:"Malësi e Madhe"},"AL-DL":{type:"District",name:"Delvinë"},"AL-KU":{type:"District",name:"Kukës"},"AL-SH":{type:"District",name:"Shkodër"},"AL-PQ":{type:"District",name:"Peqin"},"AL-KR":{type:"District",name:"Krujë"},"AL-SK":{type:"District",name:"Skrapar"}}},AO:{name:"Angola",sub:{"AO-CUS":{type:"Province",name:"Kwanza Sul"},"AO-HUA":{type:"Province",name:"Huambo"},"AO-BIE":{type:"Province",name:"Bié"},"AO-NAM":{type:"Province",name:"Namibe"},"AO-LNO":{type:"Province",name:"Lunda Norte"},"AO-UIG":{type:"Province",name:"Uíge"},"AO-HUI":{type:"Province",name:"Huíla"},"AO-BGO":{type:"Province",name:"Bengo"},"AO-LUA":{type:"Province",name:"Luanda"},"AO-LSU":{type:"Province",name:"Lunda Sul"},"AO-CCU":{type:"Province",name:"Kuando Kubango"},"AO-MAL":{type:"Province",name:"Malange"},"AO-BGU":{type:"Province",name:"Benguela"},"AO-MOX":{type:"Province",name:"Moxico"},"AO-CNN":{type:"Province",name:"Cunene"},"AO-CNO":{type:"Province",name:"Kwanza Norte"},"AO-ZAI":{type:"Province",name:"Zaire"},"AO-CAB":{type:"Province",name:"Cabinda"}}},AQ:{name:"Antarctica",sub:{"AQ-AQ":{type:"Country",name:"Antarctica"}}},AS:{name:"American Samoa",sub:{"AS-AS":{type:"Country",name:"American Samoa"}}},AR:{name:"Argentina",sub:{"AR-Z":{type:"Province",name:"Santa Cruz"},"AR-X":{type:"Province",name:"Córdoba"},"AR-Y":{type:"Province",name:"Jujuy"},"AR-V":{type:"Province",name:"Tierra del Fuego"},"AR-W":{type:"Province",name:"Corrientes"},"AR-T":{type:"Province",name:"Tucumán"},"AR-U":{type:"Province",name:"Chubut"},"AR-R":{type:"Province",name:"Río Negro"},"AR-S":{type:"Province",name:"Santa Fe"},"AR-P":{type:"Province",name:"Formosa"},"AR-Q":{type:"Province",name:"Neuquén"},"AR-N":{type:"Province",name:"Misiones"},"AR-L":{type:"Province",name:"La Pampa"},"AR-M":{type:"Province",name:"Mendoza"},"AR-J":{type:"Province",name:"San Juan"},"AR-K":{type:"Province",name:"Catamarca"},"AR-H":{type:"Province",name:"Chaco"},"AR-F":{type:"Province",name:"La Rioja"},"AR-G":{type:"Province",name:"Santiago del Estero"},"AR-D":{type:"Province",name:"San Luis"},"AR-E":{type:"Province",name:"Entre Ríos"},"AR-B":{type:"Province",name:"Buenos Aires"},"AR-C":{type:"City",name:"Ciudad Autónoma de Buenos Aires"},"AR-A":{type:"Province",name:"Salta"}}},AU:{name:"Australia",sub:{"AU-ACT":{type:"Territory",name:"Australian Capital Territory"},"AU-QLD":{type:"State",name:"Queensland"},"AU-TAS":{type:"State",name:"Tasmania"},"AU-VIC":{type:"State",name:"Victoria"},"AU-NT":{type:"Territory",name:"Northern Territory"},"AU-WA":{type:"State",name:"Western Australia"},"AU-SA":{type:"State",name:"South Australia"},"AU-NSW":{type:"State",name:"New South Wales"}}},AT:{name:"Austria",sub:{"AT-8":{type:"Federal länder",name:"Vorarlberg"},"AT-9":{type:"Federal länder",name:"Wien"},"AT-4":{type:"Federal länder",name:"Oberösterreich"},"AT-5":{type:"Federal länder",name:"Salzburg"},"AT-6":{type:"Federal länder",name:"Steiermark"},"AT-7":{type:"Federal länder",name:"Tirol"},"AT-1":{type:"Federal länder",name:"Burgenland"},"AT-2":{type:"Federal länder",name:"Kärnten"},"AT-3":{type:"Federal länder",name:"Niederösterreich"}}},IO:{name:"British Indian Ocean Territory",sub:{"IO-IO":{type:"Country",name:"British Indian Ocean Territory"}}},IN:{name:"India",sub:{"IN-BR":{type:"State",name:"Bihar"},"IN-MZ":{type:"State",name:"Mizoram"},"IN-DD":{type:"Union territory",name:"Daman and Diu"},"IN-LD":{type:"Union territory",name:"Lakshadweep"},"IN-DN":{type:"Union territory",name:"Dadra and Nagar Haveli"},"IN-DL":{type:"Union territory",name:"Delhi"},"IN-NL":{type:"State",name:"Nagaland"},"IN-WB":{type:"State",name:"West Bengal"},"IN-HR":{type:"State",name:"Haryana"},"IN-HP":{type:"State",name:"Himachal Pradesh"},"IN-AS":{type:"State",name:"Assam"},"IN-UT":{type:"State",name:"Uttarakhand"},"IN-JH":{type:"State",name:"Jharkhand"},"IN-JK":{type:"State",name:"Jammu and Kashmir"},"IN-UP":{type:"State",name:"Uttar Pradesh"},"IN-SK":{type:"State",name:"Sikkim"},"IN-CT":{type:"State",name:"Chhattisgarh"},"IN-PY":{type:"Union territory",name:"Puducherry"},"IN-CH":{type:"Union territory",name:"Chandigarh"},"IN-GA":{type:"State",name:"Goa"},"IN-TG":{type:"State",name:"Telangana"},"IN-GJ":{type:"State",name:"Gujarat"},"IN-RJ":{type:"State",name:"Rajasthan"},"IN-MP":{type:"State",name:"Madhya Pradesh"},"IN-OR":{type:"State",name:"Odisha"},"IN-TN":{type:"State",name:"Tamil Nadu"},"IN-AN":{type:"Union territory",name:"Andaman and Nicobar Islands"},"IN-AP":{type:"State",name:"Andhra Pradesh"},"IN-TR":{type:"State",name:"Tripura"},"IN-AR":{type:"State",name:"Arunachal Pradesh"},"IN-KA":{type:"State",name:"Karnataka"},"IN-PB":{type:"State",name:"Punjab"},"IN-ML":{type:"State",name:"Meghalaya"},"IN-MN":{type:"State",name:"Manipur"},"IN-MH":{type:"State",name:"Maharashtra"},"IN-KL":{type:"State",name:"Kerala"}}},AX:{name:"Åland Islands",sub:{"AX-AX":{type:"Country",name:"Åland Islands"}}},AZ:{name:"Azerbaijan",sub:{"AZ-SBN":{type:"Rayon",name:"Şabran"},"AZ-OGU":{type:"Rayon",name:"Oğuz"},"AZ-ABS":{type:"Rayon",name:"Abşeron"},"AZ-QBA":{type:"Rayon",name:"Quba"},"AZ-FUZ":{type:"Rayon",name:"Füzuli"},"AZ-HAC":{type:"Rayon",name:"Hacıqabul"},"AZ-SKR":{type:"Rayon",name:"Şәmkir"},"AZ-AST":{type:"Rayon",name:"Astara"},"AZ-ZAQ":{type:"Rayon",name:"Zaqatala"},"AZ-QBI":{type:"Rayon",name:"Qubadlı"},"AZ-XCI":{type:"Rayon",name:"Xocalı"},"AZ-GYG":{type:"Rayon",name:"Göygöl"},"AZ-BA":{type:"Municipality",name:"Bakı"},"AZ-CUL":{type:"Rayon",name:"Culfa"},"AZ-YEV":{type:"Rayon",name:"Yevlax"},"AZ-BEY":{type:"Rayon",name:"Beyləqan"},"AZ-MAS":{type:"Rayon",name:"Masallı"},"AZ-SAB":{type:"Rayon",name:"Sabirabad"},"AZ-GOR":{type:"Rayon",name:"Goranboy"},"AZ-QAX":{type:"Rayon",name:"Qax"},"AZ-BAR":{type:"Rayon",name:"Bərdə"},"AZ-SAH":{type:"Rayon",name:"Şahbuz"},"AZ-LER":{type:"Rayon",name:"Lerik"},"AZ-SAK":{type:"Rayon",name:"Şәki"},"AZ-SAL":{type:"Rayon",name:"Salyan"},"AZ-ORD":{type:"Rayon",name:"Ordubad"},"AZ-KUR":{type:"Rayon",name:"Kürdəmir"},"AZ-GOY":{type:"Rayon",name:"Göyçay"},"AZ-NA":{type:"Municipality",name:"Naftalan"},"AZ-CAB":{type:"Rayon",name:"Cəbrayıl"},"AZ-XVD":{type:"Rayon",name:"Xocavәnd"},"AZ-LAC":{type:"Rayon",name:"Laçın"},"AZ-QOB":{type:"Rayon",name:"Qobustan"},"AZ-BAB":{type:"Rayon",name:"Babək"},"AZ-YE":{type:"Municipality",name:"Yevlax"},"AZ-BAL":{type:"Rayon",name:"Balakən"},"AZ-IMI":{type:"Rayon",name:"İmişli"},"AZ-CAL":{type:"Rayon",name:"Cəlilabad"},"AZ-LA":{type:"Municipality",name:"Lәnkәran"},"AZ-BIL":{type:"Rayon",name:"Biləsuvar"},"AZ-SMI":{type:"Rayon",name:"Şamaxı"},"AZ-SIY":{type:"Rayon",name:"Siyәzәn"},"AZ-AGU":{type:"Rayon",name:"Ağsu"},"AZ-SUS":{type:"Rayon",name:"Şuşa"},"AZ-TAR":{type:"Rayon",name:"Tәrtәr"},"AZ-AGS":{type:"Rayon",name:"Ağdaş"},"AZ-AGM":{type:"Rayon",name:"Ağdam"},"AZ-YAR":{type:"Rayon",name:"Yardımlı"},"AZ-SM":{type:"Municipality",name:"Sumqayıt"},"AZ-SA":{type:"Municipality",name:"Şәki"},"AZ-LAN":{type:"Rayon",name:"Lənkəran"},"AZ-GAD":{type:"Rayon",name:"Gədəbəy"},"AZ-QAZ":{type:"Rayon",name:"Qazax"},"AZ-GA":{type:"Municipality",name:"Gәncә"},"AZ-AGA":{type:"Rayon",name:"Ağstafa"},"AZ-SAT":{type:"Rayon",name:"Saatlı"},"AZ-AGC":{type:"Rayon",name:"Ağcabәdi"},"AZ-QUS":{type:"Rayon",name:"Qusar"},"AZ-ZAN":{type:"Rayon",name:"Zәngilan"},"AZ-SAR":{type:"Rayon",name:"Şәrur"},"AZ-UCA":{type:"Rayon",name:"Ucar"},"AZ-TOV":{type:"Rayon",name:"Tovuz"},"AZ-QAB":{type:"Rayon",name:"Qәbәlә"},"AZ-NV":{type:"Municipality",name:"Naxçıvan"},"AZ-ISM":{type:"Rayon",name:"İsmayıllı"},"AZ-SR":{type:"Municipality",name:"Şirvan"},"AZ-MI":{type:"Municipality",name:"Mingәçevir"},"AZ-NEF":{type:"Rayon",name:"Neftçala"},"AZ-KAL":{type:"Rayon",name:"Kəlbəcər"},"AZ-KAN":{type:"Rayon",name:"Kǝngǝrli"},"AZ-NX":{type:"Autonomous republic",name:"Naxçıvan"},"AZ-XAC":{type:"Rayon",name:"Xaçmaz"},"AZ-SMX":{type:"Rayon",name:"Samux"},"AZ-XA":{type:"Municipality",name:"Xankәndi"},"AZ-XIZ":{type:"Rayon",name:"Xızı"},"AZ-DAS":{type:"Rayon",name:"Daşkəsən"},"AZ-SAD":{type:"Rayon",name:"Sәdәrәk"},"AZ-ZAR":{type:"Rayon",name:"Zәrdab"}}},IE:{name:"Ireland",sub:{"IE-WD":{type:"County",name:"Port Láirge"},"IE-TA":{type:"County",name:"Tiobraid Árann"},"IE-WW":{type:"County",name:"Cill Mhantáin"},"IE-CW":{type:"County",name:"Carlow"},"IE-C":{type:"Province",name:"Connacht"},"IE-D":{type:"County",name:"Baile Átha Cliath"},"IE-G":{type:"County",name:"Gaillimh"},"IE-M":{type:"Province",name:"An Mhumhain"},"IE-L":{type:"Province",name:"Laighin"},"IE-RN":{type:"County",name:"Ros Comáin"},"IE-MO":{type:"County",name:"Maigh Eo"},"IE-MN":{type:"County",name:"Monaghan"},"IE-U":{type:"Province",name:"Ulaidh"},"IE-MH":{type:"County",name:"An Mhí"},"IE-CO":{type:"County",name:"Corcaigh"},"IE-CN":{type:"County",name:"An Cabhán"},"IE-KK":{type:"County",name:"Cill Chainnigh"},"IE-KE":{type:"County",name:"Cill Dara"},"IE-WX":{type:"County",name:"Loch Garman"},"IE-OY":{type:"County",name:"Offaly"},"IE-KY":{type:"County",name:"Ciarraí"},"IE-CE":{type:"County",name:"An Clár"},"IE-WH":{type:"County",name:"An Iarmhí"},"IE-SO":{type:"County",name:"Sligeach"},"IE-DL":{type:"County",name:"Donegal"},"IE-LS":{type:"County",name:"Laois"},"IE-LM":{type:"County",name:"Leitrim"},"IE-LK":{type:"County",name:"Limerick"},"IE-LH":{type:"County",name:"Louth"},"IE-LD":{type:"County",name:"An Longfort"}}},ID:{name:"Indonesia",sub:{"ID-JK":{type:"Special district",name:"Jakarta Raya"},"ID-SL":{type:"Geographical unit",name:"Sulawesi"},"ID-JI":{type:"Province",name:"Jawa Timur"},"ID-SM":{type:"Geographical unit",name:"Sumatera"},"ID-JB":{type:"Province",name:"Jawa Barat"},"ID-JA":{type:"Province",name:"Jambi"},"ID-NT":{type:"Province",name:"Nusa Tenggara Timur"},"ID-SA":{type:"Province",name:"Sulawesi Utara"},"ID-SB":{type:"Province",name:"Sumatera Barat"},"ID-LA":{type:"Province",name:"Lampung"},"ID-YO":{type:"Special region",name:"Yogyakarta"},"ID-ST":{type:"Province",name:"Sulawesi Tengah"},"ID-SU":{type:"Province",name:"Sumatera Utara"},"ID-JW":{type:"Geographical unit",name:"Jawa"},"ID-NB":{type:"Province",name:"Nusa Tenggara Barat"},"ID-SR":{type:"Province",name:"Sulawesi Barat"},"ID-JT":{type:"Province",name:"Jawa Tengah"},"ID-MU":{type:"Province",name:"Maluku Utara"},"ID-AC":{type:"Autonomous province",name:"Aceh"},"ID-SS":{type:"Province",name:"Sumatera Selatan"},"ID-NU":{type:"Geographical unit",name:"Nusa Tenggara"},"ID-KT":{type:"Province",name:"Kalimantan Tengah"},"ID-KU":{type:"Province",name:"Kalimantan Utara"},"ID-SG":{type:"Province",name:"Sulawesi Tenggara"},"ID-PA":{type:"Province",name:"Papua"},"ID-KR":{type:"Province",name:"Kepulauan Riau"},"ID-KS":{type:"Province",name:"Kalimantan Selatan"},"ID-RI":{type:"Province",name:"Riau"},"ID-PB":{type:"Province",name:"Papua Barat"},"ID-GO":{type:"Province",name:"Gorontalo"},"ID-MA":{type:"Province",name:"Maluku"},"ID-KA":{type:"Geographical unit",name:"Kalimantan"},"ID-KB":{type:"Province",name:"Kalimantan Barat"},"ID-KI":{type:"Province",name:"Kalimantan Timur"},"ID-ML":{type:"Geographical unit",name:"Maluku"},"ID-SN":{type:"Province",name:"Sulawesi Selatan"},"ID-BT":{type:"Province",name:"Banten"},"ID-BB":{type:"Province",name:"Bangka Belitung"},"ID-BA":{type:"Province",name:"Bali"},"ID-BE":{type:"Province",name:"Bengkulu"},"ID-PP":{type:"Geographical unit",name:"Papua"}}},UA:{name:"Ukraine",sub:{"UA-61":{type:"Region",name:"Ternopilska oblast"},"UA-21":{type:"Region",name:"Zakarpatska oblast"},"UA-23":{type:"Region",name:"Zaporizka oblast"},"UA-26":{type:"Region",name:"Ivano-Frankivska oblast"},"UA-05":{type:"Region",name:"Vinnytska oblast"},"UA-46":{type:"Region",name:"Lvivska oblast"},"UA-09":{type:"Region",name:"Luhanska oblast"},"UA-68":{type:"Region",name:"Khmelnytska oblast"},"UA-43":{type:"Republic",name:"Avtonomna Respublika Krym"},"UA-40":{type:"City",name:"Sevastopol"},"UA-65":{type:"Region",name:"Khersonska oblast"},"UA-07":{type:"Region",name:"Volynska oblast"},"UA-48":{type:"Region",name:"Mykolaivska oblast"},"UA-63":{type:"Region",name:"Kharkivska oblast"},"UA-35":{type:"Region",name:"Kirovohradska oblast"},"UA-32":{type:"Region",name:"Kyivska oblast"},"UA-30":{type:"City",name:"Kyiv"},"UA-77":{type:"Region",name:"Chernivetska oblast"},"UA-18":{type:"Region",name:"Zhytomyrska oblast"},"UA-71":{type:"Region",name:"Cherkaska oblast"},"UA-56":{type:"Region",name:"Rivnenska oblast"},"UA-51":{type:"Region",name:"Odeska oblast"},"UA-53":{type:"Region",name:"Poltavska oblast"},"UA-74":{type:"Region",name:"Chernihivska oblast"},"UA-12":{type:"Region",name:"Dnipropetrovska oblast"},"UA-59":{type:"Region",name:"Sumska oblast"},"UA-14":{type:"Region",name:"Donetska oblast"}}},QA:{name:"Qatar",sub:{"QA-MS":{type:"Municipality",name:"Ash Shamāl"},"QA-KH":{type:"Municipality",name:"Al Khawr wa adh Dhakhīrah"},"QA-ZA":{type:"Municipality",name:"Az̧ Z̧a‘āyin"},"QA-RA":{type:"Municipality",name:"Ar Rayyān"},"QA-WA":{type:"Municipality",name:"Al Wakrah"},"QA-US":{type:"Municipality",name:"Umm Şalāl"},"QA-DA":{type:"Municipality",name:"Ad Dawḩah"}}},MZ:{name:"Mozambique",sub:{"MZ-MPM":{type:"City",name:"Maputo"},"MZ-I":{type:"Province",name:"Inhambane"},"MZ-N":{type:"Province",name:"Nampula"},"MZ-L":{type:"Province",name:"Maputo"},"MZ-B":{type:"Province",name:"Manica"},"MZ-A":{type:"Province",name:"Niassa"},"MZ-G":{type:"Province",name:"Gaza"},"MZ-S":{type:"Province",name:"Sofala"},"MZ-P":{type:"Province",name:"Cabo Delgado"},"MZ-Q":{type:"Province",name:"Zambézia"},"MZ-T":{type:"Province",name:"Tete"}}}},codes:r={AGO:"AO",DZA:"DZ",EGY:"EG",BGD:"BD",NER:"NE",LIE:"LI",NAM:"NA",BGR:"BG",BOL:"BO",GHA:"GH",CCK:"CC",PAK:"PK",CPV:"CV",JOR:"JO",LBR:"LR",LBY:"LY",MYS:"MY",DOM:"DO",PRI:"PR",SXM:"SX",PRK:"KP",PSE:"PS",TZA:"TZ",BWA:"BW",KHM:"KH",UMI:"UM",NIC:"NI",TTO:"TT",ETH:"ET",PRY:"PY",HKG:"HK",SAU:"SA",LBN:"LB",SVN:"SI",BFA:"BF",CHE:"CH",MRT:"MR",HRV:"HR",CHL:"CL",CHN:"CN",KNA:"KN",SLE:"SL",JAM:"JM",SMR:"SM",GIB:"GI",DJI:"DJ",GIN:"GN",FIN:"FI",URY:"UY",THA:"TH",STP:"ST",SYC:"SC",NPL:"NP",CXR:"CX",LAO:"LA",YEM:"YE",BVT:"BV",ZAF:"ZA",KIR:"KI",PHL:"PH",ROU:"RO",VIR:"VI",SYR:"SY",MAC:"MO",MAF:"MF",MLT:"MT",KAZ:"KZ",TCA:"TC",PYF:"PF",NIU:"NU",DMA:"DM",BEN:"BJ",GUF:"GF",BEL:"BE",MSR:"MS",TGO:"TG",DEU:"DE",GUM:"GU",LKA:"LK",SSD:"SS",FLK:"FK",GBR:"GB",BES:"BQ",GUY:"GY",CRI:"CR",CMR:"CM",MAR:"MA",MNP:"MP",LSO:"LS",HUN:"HU",TKM:"TM",SUR:"SR",NLD:"NL",BMU:"BM",HMD:"HM",TCD:"TD",GEO:"GE",MNE:"ME",MNG:"MN",MHL:"MH",MTQ:"MQ",BLZ:"BZ",NFK:"NF",MMR:"MM",AFG:"AF",BDI:"BI",VGB:"VG",BLR:"BY",BLM:"BL",GRD:"GD",TKL:"TK",GRC:"GR",RUS:"RU",GRL:"GL",SHN:"SH",AND:"AD",MOZ:"MZ",TJK:"TJ",HTI:"HT",MEX:"MX",ZWE:"ZW",LCA:"LC",IND:"IN",LVA:"LV",BTN:"BT",VCT:"VC",VNM:"VN",NOR:"NO",CZE:"CZ",ATF:"TF",ATG:"AG",FJI:"FJ",IOT:"IO",HND:"HN",MUS:"MU",ATA:"AQ",LUX:"LU",ISR:"IL",FSM:"FM",PER:"PE",REU:"RE",IDN:"ID",VUT:"VU",MKD:"MK",COD:"CD",COG:"CG",ISL:"IS",GLP:"GP",COK:"CK",COM:"KM",COL:"CO",NGA:"NG",TLS:"TL",TWN:"TW",PRT:"PT",MDA:"MD",GGY:"GG",MDG:"MG",ECU:"EC",SEN:"SN",NZL:"NZ",MDV:"MV",ASM:"AS",SPM:"PM",CUW:"CW",FRA:"FR",LTU:"LT",RWA:"RW",ZMB:"ZM",GMB:"GM",WLF:"WF",JEY:"JE",FRO:"FO",GTM:"GT",DNK:"DK",IMN:"IM",AUS:"AU",AUT:"AT",SJM:"SJ",VEN:"VE",PLW:"PW",KEN:"KE",MYT:"YT",WSM:"WS",TUR:"TR",ALB:"AL",OMN:"OM",TUV:"TV",ALA:"AX",BRN:"BN",TUN:"TN",PCN:"PN",BRB:"BB",BRA:"BR",CIV:"CI",SRB:"RS",GNQ:"GQ",USA:"US",QAT:"QA",SWE:"SE",AZE:"AZ",GNB:"GW",SWZ:"SZ",TON:"TO",CAN:"CA",UKR:"UA",KOR:"KR",AIA:"AI",CAF:"CF",SVK:"SK",CYP:"CY",BIH:"BA",SGP:"SG",SGS:"GS",SOM:"SO",UZB:"UZ",ERI:"ER",POL:"PL",KWT:"KW",GAB:"GA",CYM:"KY",VAT:"VA",EST:"EE",MWI:"MW",ESP:"ES",IRQ:"IQ",SLV:"SV",MLI:"ML",IRL:"IE",IRN:"IR",ABW:"AW",PNG:"PG",PAN:"PA",SDN:"SD",SLB:"SB",ESH:"EH",MCO:"MC",ITA:"IT",JPN:"JP",KGZ:"KG",UGA:"UG",NCL:"NC",ARE:"AE",ARG:"AR",BHS:"BS",BHR:"BH",ARM:"AM",NRU:"NR",CUB:"CU"}},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i=n(28),a=n(20);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==i(e)}},function(e,t,n){var i=n(19),a=n(105),r=n(106),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectiveTitleCase=void 0;var i=r(n(218)),a=(r(n(325)),r(n(26)));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return e?e.toLowerCase().toTitleCase():"undefined"},s=t.selectiveTitleCase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=["LLC","INC","LTD","U.S."];return e.split(" ").map((function(e){return t.includes(e.toUpperCase())?e.toUpperCase():e.toLowerCase()})).join(" ").toTitleCase()},l=function(e){return{doi:"Crossref",pmid:"PubMed",pmcid:"PubMed Central",coreid:"Core",magid:"Microsoft Academic"}[e]},c=function(e){return window.jur_mapping[e]?window.jur_mapping[e].name:u(e)},u=function(e){if(!e)return"";var t=a.default.country(e);return t?t.name:e},d=function(e){return e.split("~")[0]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"SPC"===e.toUpperCase()?"SPC":o(e.split("_").join(" "))},f=function(e){return e&&"false"!==e?"True":"False"};t.default={cited_by_patent:f,cites_npl:f,cites_patent:f,cites_resolved_npl:f,has_abstract:f,has_agent:f,has_applicant:f,has_claim:f,has_description:f,has_full_text:f,has_owner:f,has_inventor:f,has_inpadoc:f,has_sequence:f,has_title:f,has_docdb:f,"legal_status.granted":f,"legal_status.has_disclaimer":f,"legal_status.has_spc":f,"inventor.name.exact":o,"owner_all.name.exact":s,"applicant.name.exact":s,"agent.name.exact":s,j:c,fj:c,family_jurisdiction:c,jurisdiction:c,"author.display_name_id":d,"author.display_name_orcid":d,"author_first.display_name_id":d,"author_last.display_name_id":d,authorId:d,firstAuthorId:d,lastAuthorId:d,type:p,"author.affiliation.grid.address.state_code":function(e){var t=a.default.subdivision(e);return t?t.name:e},country:u,"author.affiliation.grid.address.country_code":u,is_open_access:function(e){return 1===e||"1"===e||!0===e||"true"===e?"Open Access":"Non-OA"},externalIdType:l,id_type:l,citation_id_type:l,keyword:o,publication_type:p,"legal_status.patent_status":o,"open_access.license":function(e){var t=i.default[e];return t&&t.abbreviation?t.abbreviation:t?t.label:e},references_count_declared:function(e){return{cr:"Crossref",mag:"Microsoft Academic",pm:"PubMed"}[e]}}},function(e,t,n){"use strict";var i=n(46),a=n(31);function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.b&&t.documentElement.namespaceURI===a.b?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}t.a=function(e){var t=Object(i.a)(e);return(t.local?o:r)(t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var i="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t){e.exports="8.0.4\n"},function(e,t){e.exports=d3},function(e,t,n){var i=n(27);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.filterMapToQueryParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return _.keys(e).forEach((function(n){var i=e[n];_.isObject(i)?_.keys(i).forEach((function(e){var a=i[e];if(!0===a||!1===a){var r=a?".must":".mustNot";t[n+r]||(t[n+r]=[]),t[n+r].push(e)}})):t[n]=e[n]})),t}},function(e,t,n){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",n=window.encodeURIComponent(e.toUpperCase().replace(/[,&'().\/]/g,"").replace(/-/g," ").replace(/[\s]+/g," "));return window.UI_CONFIG.institutionDataLocation+"/logos/"+n+"."+t}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var i={},a=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(i={mouseenter:"mouseover",mouseleave:"mouseout"}));function r(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(e,t,n){return function(i){var r=a;a=i;try{e.call(this,this.__data__,t,n)}finally{a=r}}}function s(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function l(e){return function(){var t=this.__on;if(t){for(var n,i=0,a=-1,r=t.length;i<r;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function c(e,t,n){var a=i.hasOwnProperty(e.type)?r:o;return function(i,r,o){var s,l=this.__on,c=a(t,r,o);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function u(e,t,n,i){var r=a;e.sourceEvent=a,a=e;try{return t.apply(n,i)}finally{a=r}}t.b=function(e,t,n){var i,a,r=s(e+""),o=r.length;if(!(arguments.length<2)){for(u=t?c:l,null==n&&(n=!1),i=0;i<o;++i)this.each(u(r[i],t,n));return this}var u=this.node().__on;if(u)for(var d,p=0,f=u.length;p<f;++p)for(i=0,d=u[p];i<o;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}},function(e,t,n){var i,a;!function(r,o){"use strict";void 0===(a="function"==typeof(i=function(){if("object"!=typeof window)return;if(void 0===document.querySelectorAll||void 0===window.pageYOffset||void 0===history.pushState)return;var e=function(e,t,n,i){return n>i?t:e+(t-e)*((a=n/i)<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1);var a},t=function(t,n,i,a){n=n||500;var r=(a=a||window).scrollTop||window.pageYOffset;if("number"==typeof t)var o=parseInt(t);else o=function(e,t){return"HTML"===e.nodeName?-t:e.getBoundingClientRect().top+t}(t,r);var s=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},c=function(){var u=Date.now()-s;a!==window?a.scrollTop=e(r,o,u,n):window.scroll(0,e(r,o,u,n)),u>n?"function"==typeof i&&i(t):l(c)};c()},n=function(e){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));n&&t(n,500,(function(e){location.replace("#"+e.id)}))};return document.addEventListener("DOMContentLoaded",(function(){for(var e,t=document.querySelectorAll('a[href^="#"]:not([href="#"])'),i=t.length;e=t[--i];)e.addEventListener("click",n,!1)})),t})?i.call(t,n,t,e):i)||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),r=n(13),o=n(4);!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(i||(i={})),t.RejectType=i;var s=0,l=function(){function e(e,t,n){this.$id=s++,this.type=e,this.message=t,this.detail=n}return e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&o.is(e)(t._transitionRejection)},e.superseded=function(t,n){var a=new e(i.SUPERSEDED,"The transition has been superseded by a different transition",t);return n&&n.redirected&&(a.redirected=!0),a},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(t){return new e(i.INVALID,"This transition is invalid",t)},e.ignored=function(t){return new e(i.IGNORED,"The transition was ignored",t)},e.aborted=function(t){return new e(i.ABORTED,"The transition has been aborted",t)},e.errored=function(t){return new e(i.ERROR,"The transition errored",t)},e.normalize=function(t){return o.is(e)(t)?t:e.errored(t)},e.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():r.stringify(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},e.prototype.toPromise=function(){return a.extend(a.silentRejection(this),{_transitionRejection:this})},e}();t.Rejection=l},function(e,t,n){"use strict";var i,a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.RUN=2]="RUN",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"}(i||(i={})),t.TransitionHookPhase=i,function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(a||(a={})),t.TransitionHookScope=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(13),r=n(12),o=function(){function e(e,t,n,i){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=r.extend({},n||{}),this._options=r.extend({},i||{}),this._definition=e.matcher.find(t,this._options.relative)}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+a.stringify(this.params())},e.prototype.withState=function(t){return new e(this._stateRegistry,t,this._params,this._options)},e.prototype.withParams=function(t,n){void 0===n&&(n=!1);var i=n?t:r.extend({},this._params,t);return new e(this._stateRegistry,this._identifier,i,this._options)},e.prototype.withOptions=function(t,n){void 0===n&&(n=!1);var i=n?t:r.extend({},this._options,t);return new e(this._stateRegistry,this._identifier,this._params,i)},e.isDef=function(e){return e&&e.state&&(i.isString(e.state)||i.isString(e.state.name))},e}();t.TargetState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),r=n(4),o=n(3),s=n(7),l=n(97),c=Object.prototype.hasOwnProperty;function u(e){function t(){return e.value}return e=function(e){return 0===["value","type","squash","array","dynamic"].filter(c.bind(e||{})).length}(e)&&{value:e}||e,t.__cacheable=!0,a.extend(e,{$$fn:o.isInjectable(e.value)?e.value:t})}!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(i||(i={})),t.DefType=i;var d=function(){function e(e,t,n,s,c){t=function(e,t,n,a,r){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+a+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&r.type(e.type))return r.type(e.type);if(t)return t;if(!e.type){var o=n===i.CONFIG?"any":n===i.PATH?"path":n===i.SEARCH?"query":"string";return r.type(o)}return e.type instanceof l.ParamType?e.type:r.type(e.type)}(n=u(n),t,s,e,c.paramTypes);var d,p,f=(d={array:s===i.SEARCH&&"auto"},p=e.match(/\[\]$/)?{array:!0}:{},a.extend(d,p,n).array);t=f?t.$asArray(f,s===i.SEARCH):t;var m=void 0!==n.value||s===i.SEARCH,h=o.isDefined(n.dynamic)?!!n.dynamic:!!t.dynamic,y=o.isDefined(n.raw)?!!n.raw:!!t.raw,g=function(e,t,n){var i=e.squash;if(!t||!1===i)return!1;if(!o.isDefined(i)||null==i)return n;if(!0===i||o.isString(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string")}(n,m,c.defaultSquashPolicy()),v=function(e,t,n,i){var s=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}],l=o.isArray(e.replace)?e.replace:[];o.isString(i)&&l.push({from:i,to:void 0});var c=a.map(l,r.prop("from"));return a.filter(s,(function(e){return-1===c.indexOf(e.from)})).concat(l)}(n,f,m,g),b=o.isDefined(n.inherit)?!!n.inherit:!!t.inherit;a.extend(this,{id:e,type:t,location:s,isOptional:m,dynamic:h,raw:y,squash:g,replace:v,inherit:b,array:f,config:n})}return e.values=function(e,t){void 0===t&&(t={});for(var n={},i=0,a=e;i<a.length;i++){var r=a[i];n[r.id]=r.value(t[r.id])}return n},e.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter((function(e){return!e.type.equals(t[e.id],n[e.id])}))},e.equals=function(t,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),0===e.changed(t,n,i).length},e.validates=function(e,t){return void 0===t&&(t={}),e.map((function(e){return e.validates(t[e.id])})).reduce(a.allTrueR,!0)},e.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},e.prototype.value=function(e){var t=this;return e=function(e){for(var n=0,i=t.replace;n<i.length;n++){var a=i[n];if(a.from===e)return a.to}return e}(e),o.isUndefined(e)?function(){if(t._defaultValueCache)return t._defaultValueCache.defaultValue;if(!s.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=s.services.$injector.invoke(t.config.$$fn);if(null!=e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return t.config.$$fn.__cacheable&&(t._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},e.prototype.isSearch=function(){return this.location===i.SEARCH},e.prototype.validates=function(e){if((o.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(o.isString(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e}();t.Param=d},function(e,t,n){var i=n(121),a=n(122),r=n(123),o=n(124),s=n(125);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){"use strict";var i={publisher:{pmid:function(e){return"http://www.ncbi.nlm.nih.gov/pubmed/"+e+"?holding=lens"},pmcid:function(e){return"https://www.ncbi.nlm.nih.gov/pmc/articles/"+e.toUpperCase()},pmc:function(e){return"https://www.ncbi.nlm.nih.gov/pmc/articles/"+e.toUpperCase()},doi:function(e){return"http://dx.doi.org/"+e},magid:function(e){return"https://academic.microsoft.com/paper/"+e},coreid:function(e){return"https://core.ac.uk/display/"+e}},clinicalTrial:{"10.18810/clinical-trials-gov":function(e){return"https://clinicaltrials.gov/ct2/show/"+e},"10.18810/anzctr":function(e){return"http://www.anzctr.org.au/TrialSearch.aspx?searchTxt="+e+"&isBasic=True"},"10.18810/euctr":function(e){return"https://www.clinicaltrialsregister.eu/ctr-search/search?query="+e}}};e.exports=function(e,t,n){var a=i[e][t];return a?a(n):null}},function(e,t,n){"use strict";function i(){}t.a=function(e){return null==e?i:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";var i=n(31);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.a.hasOwnProperty(t)?{space:i.a[t],local:e}:e}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=n(1),r=n(13),o=n(3),s=n(4),l=n(24),c=n(7),u=n(39),d=n(41),p={current:a.noop,transition:null,traceData:{},bind:null},f=function(){function e(e,t,n,r){var o=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return o.type.hookPhase===i.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=a.defaults(r,p),this.type=n.eventType}return e.chain=function(e,t){return e.reduce((function(e,t){return e.then((function(){return t.invokeHook()}))}),t||c.services.$q.when())},e.invokeHooks=function(t,n){for(var i=0;i<t.length;i++){var a=t[i].invokeHook();if(o.isPromise(a)){var r=t.slice(i+1);return e.chain(r,a).then(n)}}return n()},e.runAllHooks=function(e){e.forEach((function(e){return e.invokeHook()}))},e.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},e.prototype.invokeHook=function(){var e=this,t=this.registeredHook;if(!t._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var i=this.options;l.trace.traceHookInvocation(this,this.transition,i);var a=function(n){return t.eventType.getErrorHandler(e)(n)},r=function(n){return t.eventType.getResultHandler(e)(n)};try{var s=t.callback.call(i.bind,e.transition,e.stateContext);return!this.type.synchronous&&o.isPromise(s)?s.catch((function(e){return u.Rejection.normalize(e).toPromise()})).then(r,a):r(s)}catch(e){return a(u.Rejection.normalize(e))}finally{t.invokeLimit&&++t.invokeCount>=t.invokeLimit&&t.deregister()}}},e.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(o.isPromise(e)?e.then((function(e){return t.handleHookResult(e)})):(l.trace.traceHookResult(e,this.transition,this.options),!1===e?u.Rejection.aborted("Hook aborted transition").toPromise():s.is(d.TargetState)(e)?u.Rejection.redirected(e).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?u.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?u.Rejection.aborted().toPromise():this.isSuperseded()?u.Rejection.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var e=this.options,t=this.registeredHook,n=s.parse("traceData.hookType")(e)||"internal",i=s.parse("traceData.context.state.name")(e)||s.parse("traceData.context")(e)||"unknown",a=r.fnToString(t.callback);return n+" context: "+i+", "+r.maxLength(200,a)},e.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},e.LOG_REJECTED_RESULT=function(e){return function(t){o.isPromise(t)&&t.catch((function(t){return e.logError(u.Rejection.normalize(t))}))}},e.LOG_ERROR=function(e){return function(t){return e.logError(t)}},e.REJECT_ERROR=function(e){return function(e){return a.silentRejection(e)}},e.THROW_ERROR=function(e){return function(e){throw e}},e}();t.TransitionHook=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),r=n(24),o=n(13),s=n(3),l=n(3);t.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var c=function(){function e(t,n,r,o,c){if(this.resolved=!1,this.promise=void 0,t instanceof e)i.extend(this,t);else if(s.isFunction(n)){if(l.isNullOrUndefined(t))throw new Error("new Resolvable(): token argument is required");if(!s.isFunction(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=o,this.resolveFn=n,this.deps=r||[],this.data=c,this.resolved=void 0!==c,this.promise=this.resolved?a.services.$q.when(this.data):void 0}else if(s.isObject(t)&&t.token&&(t.hasOwnProperty("resolveFn")||t.hasOwnProperty("data"))){var u=t;return new e(u.token,u.resolveFn,u.deps,u.policy,u.data)}}return e.prototype.getPolicy=function(e){var n=this.policy||{},i=e&&e.resolvePolicy||{};return{when:n.when||i.when||t.defaultResolvePolicy.when,async:n.async||i.async||t.defaultResolvePolicy.async}},e.prototype.resolve=function(e,t){var n=this,o=a.services.$q,s=e.findNode(this),l=s&&s.state,c="RXWAIT"===this.getPolicy(l).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then((function(){return t}))}:i.identity;return this.promise=o.when().then((function(){return o.all(e.getDependencies(n).map((function(n){return n.get(e,t)})))})).then((function(e){return n.resolveFn.apply(null,e)})).then(c).then((function(e){return n.data=e,n.resolved=!0,n.resolveFn=null,r.trace.traceResolvableResolved(n,t),n.data}))},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+o.stringify(this.token)+", requires: ["+this.deps.map(o.stringify)+"])"},e.prototype.clone=function(){return new e(this)},e.fromData=function(t,n){return new e(t,(function(){return n}),null,null,n)},e}();t.Resolvable=c},function(e){e.exports=JSON.parse('[{"key":"lens_id","type":"PATENT","uniqueCount":"132,955,349","uniqueCountShort":"133M","uniqueCountLabel":"Patent Records","camelKey":"lensId","excludedAnalysis":true,"label":"Lens ID","example":"\\"186-488-232-022-055\\"","definition":"Unique lens identifier e.g. 100-004-910-081-14X. Every document in the Lens has a unique 15-digit identifier called a Lens ID","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":123,"excludedTips":false,"fieldType":"keyword"},{"key":"title","type":"PATENT","camelKey":"title","label":"Title","example":"\\"Fidget Spinner\\"","definition":"Title of the patent","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":127,"excludedTips":false,"fieldType":"text","excludedAnalysis":true},{"key":"abstract","type":"PATENT","camelKey":"abstract","excludedAnalysis":true,"label":"Abstract","example":"\\"A processor implements conditional vector operations in which an input vector containing multiple operands to be used in conditional operations is divided into two or more output…\\"","definition":"Searches the patent document abstract text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":false,"excludeSupport":false,"fieldOrder":170,"excludedTips":false,"fieldType":"text"},{"key":"has_full_text","type":"PATENT","filterName":"hasFullText","camelKey":"hasFullText","label":"Has Full Text","example":true,"definition":"Indicates if the full text from the PTO is available for the patent document","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":162,"excludedTips":false,"fieldType":"boolean","uniqueCount":"25,087,941","uniqueCountShort":"25.1M"},{"key":"applicant.name.keyword","type":"PATENT","filterName":"applicant","camelKey":"applicants","label":"Applicant Name","example":"\\"CPS TECHNOLOGY HOLDINGS LLC\\"","definition":"The patent applicant(s) name. N.B. Use this field for exact name matches.","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":195,"excludedTips":false,"fieldType":"keyword","uniqueCount":"0","uniqueCountShort":0,"uniqueCountLabel":"Applicants","isMulti":true,"excludedAnalysis":true},{"key":"inventor.name.keyword","type":"PATENT","filterName":"inventor","camelKey":"inventors","label":"Inventor Name","example":"\\"ENGEBRETSON STEVEN P\\"","definition":"The patent inventor(s) name. N.B. Use this field for exact name matches.","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":203,"excludedTips":false,"fieldType":"keyword","uniqueCount":"0","uniqueCountShort":0,"uniqueCountLabel":"Inventors","isMulti":true,"excludedAnalysis":true},{"key":"jurisdiction","type":"PATENT","facetSearch":true,"filterName":"j","uniqueCount":"105","uniqueCountShort":105,"uniqueCountLabel":"Jurisdictions","camelKey":"jurisdiction","label":"Jurisdiction","example":"\\"US\\"","definition":"The jurisidiction of the patent document.","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":130,"excludedTips":false,"fieldType":"keyword","quickAnalysisDashboardId":"7110","quickAnalysisDashboardLabel":"Jurisdictions"},{"key":"kind","type":"PATENT","camelKey":"kindCode","label":"Kind Code","example":"\\"A1\\"","definition":"The patent document kind code (varies by jurisdiction)","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":131,"excludedTips":false,"fieldType":"keyword"},{"key":"doc_key","type":"PATENT","camelKey":"","label":"Document Key","example":"\\"EP_0227762_B1_19900411\\"","definition":"The unique document key for the patent document.","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":137,"excludedTips":false,"fieldType":"keyword","excludedAnalysis":true},{"key":"legal_status.publication_count","type":"PATENT","camelKey":"","label":"","example":"","definition":"The number of publications for the DocDB application","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":true,"excludeSupport":true,"fieldOrder":275,"excludedTips":false,"excludedAnalysis":true},{"key":"sequence.count","type":"PATENT","camelKey":"seqCount","label":"Sequence Count","example":"5","definition":"The number of biological sequences associated with a patent","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":345,"excludedTips":false},{"key":"has_abstract","type":"PATENT","camelKey":"","label":"Has Abstract","example":true,"definition":"Indicates if the abstract is available for the patent document","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":157,"excludedTips":false,"uniqueCountLabel":"Have Abstract","uniqueCount":"81,352,001","uniqueCountShort":"81.4M","filterName":"hasAbstract"},{"key":"has_claim","type":"PATENT","camelKey":"","label":"Has Claim","example":true,"definition":"Indicates if the claims are available for the patent document","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":160,"excludedTips":false,"uniqueCount":"22,168,638","uniqueCountShort":"22.2M","filterName":"hasClaim"},{"key":"has_description","type":"PATENT","camelKey":"","label":"Has Description","example":true,"definition":"Indicates if the description is available for the patent document","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":161,"excludedTips":false,"filterName":"hasDescription","uniqueCount":"22,169,815","uniqueCountShort":"22.2M"},{"key":"has_title","type":"PATENT","camelKey":"","label":"Has Title","example":true,"definition":"Indicates if the title is available for the patent document","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":168,"excludedTips":false,"uniqueCount":"116,087,864","uniqueCountShort":"116.1M","filterName":"hasTitle"},{"key":"legal_status.granted","type":"PATENT","camelKey":"","label":"Application Has Granted Patent","example":true,"definition":"Indicates if the patent application has been granted in one or more jurisdictions.","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":271,"excludedTips":false,"uniqueCount":"89,166,851","uniqueCountShort":"89.2M"},{"key":"legal_status.has_disclaimer","filterName":"hasDisclaimer","type":"PATENT","camelKey":"","label":"Has Disclaimer","example":true,"definition":"Indicates if a US patent was subjected to a terminal disclaimer.","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":272,"excludedTips":false,"uniqueCount":"560,706","uniqueCountShort":"560.7K"},{"key":"application_reference.date","type":"PATENT","camelKey":"filingDate","label":"Application Filing Date","example":"2009-05-22","definition":"The application filing date is the date when a patent application is first filed at a patent office.","fieldType":"date","caseSensitive":"","filterGroup":"Date Range","group":"Application","excludedSearch":false,"excludeSupport":false,"fieldOrder":144,"excludedTips":false,"filterName":"filingDate"},{"key":"date_published","type":"PATENT","camelKey":"publicationDate","label":"Publication Date","example":"2009-05-22","definition":"Date of publication for the patent document","fieldType":"date","caseSensitive":"","filterGroup":"Date Range","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":133,"excludedTips":false,"filterName":"publishedDate"},{"key":"legal_status.grant_date","type":"PATENT","camelKey":"","label":"Granted Date","example":"2009-05-22","definition":"The date the patent application was granted (i.e. the application first grant date)","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":270,"excludedTips":false},{"key":"legal_status.application_expiry_date","type":"PATENT","camelKey":"","label":"Application Expiry Date","example":"2009-05-22","definition":"The expiry date of the patent application because of withdrawal or abandonment.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":268,"excludedTips":false,"excludedAnalysis":true},{"key":"legal_status.anticipated_term_date","type":"PATENT","camelKey":"","label":"Anticipated Termination Date","example":"2009-05-22","definition":"The anticipated termination date for granted patents. The anticipated termination date is calculated based on the natural term date plus any extensions.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":267,"excludedTips":false},{"key":"priority_claim.date","type":"PATENT","camelKey":"","label":"Priority Publication Date","example":"2009-05-22","definition":"The publication date of the priority document","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":false,"excludeSupport":false,"fieldOrder":148,"excludedTips":false,"fieldType":"date","excludedAnalysis":true,"isMulti":true},{"key":"lens_id","type":"SCHOLAR","camelKey":"","label":"Lens Id","example":"064-908-811-700-011","definition":"Every document in the Lens has a unique 15-digit identifier called a Lens ID","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":1,"excludedTips":false,"uniqueCount":"234,723,546","uniqueCountShort":"234.7M","excludedAnalysis":true},{"key":"title","type":"SCHOLAR","camelKey":"","label":"Title","example":"\\"Fidget Spinner\\"","definition":"Title of the scholarly work","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":2,"excludedTips":false,"excludedAnalysis":true},{"key":"abstract","type":"SCHOLAR","camelKey":"","label":"Abstract","example":"\\"Super Conductor\\"","definition":"Searches the scholarly work abstract text","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":3,"excludedTips":false,"excludedAnalysis":true},{"key":"has_fulltext","type":"SCHOLAR","filterName":"hasFullText","camelKey":"","label":"Indexed Fulltext","example":true,"definition":"Indicates whether the full text from CORE has been indexed for this record","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":4,"excludedTips":false,"uniqueCount":"1,986,791","uniqueCountShort":"2M"},{"key":"fulltext","type":"SCHOLAR","camelKey":"","label":"Full Text","example":"Malaria","definition":"Searches the full text of the scholarly work","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":5,"excludedTips":false,"excludedAnalysis":true},{"key":"date_published","type":"SCHOLAR","filterName":"publishedDate","camelKey":"","label":"Date Published","example":"2009-05-22","definition":"Date of publication","fieldType":"date","caseSensitive":"","filterGroup":"Date Range","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":6,"excludedTips":false},{"key":"year_published","type":"SCHOLAR","filterName":"publishedYear","camelKey":"","label":"Year Published","example":"1999","definition":"Year of publication","fieldType":"integer","caseSensitive":"","filterGroup":"Date Range","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":7,"excludedTips":false},{"key":"publication_type","type":"SCHOLAR","filterName":"publicationType","camelKey":"","label":"Publication Type","example":"\\"journal article\\"","definition":"Publication Type (eg. Journal Article, Conference Proceedings, Book, etc.)","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Publication Type","group":"General","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":8,"excludedTips":false,"uniqueCount":"25","uniqueCountShort":25},{"key":"publication_supplementary_type","type":"SCHOLAR","camelKey":"","label":"Publication Supplementary Type","example":"Review","definition":"Supplementary publication type","fieldType":"keyword","caseSensitive":"","filterGroup":"Publication Type","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":9,"excludedTips":false,"excludedAnalysis":true},{"key":"citation_id_type","type":"SCHOLAR","filterName":"externalIdType","camelKey":"","label":"External ID Type","example":"\\"doi\\"","definition":"The type(s) of extrenal identifiers for the scholarly work record (e.g. Crossref: \\"doi\\", Microsoft Academic: \\"magid\\", PubMed: \\"pmid\\", PubMed Central: \\"pmcid\\", CORE: \\"coreid\\")","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Data Source","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":10,"excludedTips":false},{"key":"citation_id","type":"SCHOLAR","camelKey":"","label":"External ID","example":"10.1143/jjap.42.1517","definition":"The external identifier(s) for a scholarly work (DOI, PubMed ID, PubMed Central ID, Microsoft Academic ID or CORE)","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":11,"excludedTips":false,"excludedAnalysis":true},{"key":"language","type":"SCHOLAR","camelKey":"","label":"Language","example":"es","definition":"Language","fieldType":"text","caseSensitive":"TRUE","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":12,"excludedTips":false,"excludedAnalysis":true},{"key":"end_page","type":"SCHOLAR","camelKey":"","label":"End Page","example":"","definition":"The last page number of the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":13,"excludedTips":false,"excludedAnalysis":true},{"key":"start_page","type":"SCHOLAR","camelKey":"","label":"Start Page","example":"","definition":"The first page number of the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":14,"excludedTips":false,"excludedAnalysis":true},{"key":"has_abstract","type":"SCHOLAR","filterName":"hasAbstract","uniqueCountLabel":"Have Abstract","camelKey":"","label":"Has Abstract","example":true,"definition":"Indicates if the scholarly work has author affiliations available","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":15,"excludedTips":false,"uniqueCount":"109,895,489","uniqueCountShort":"109.9M"},{"key":"has_affiliation","type":"SCHOLAR","filterName":"hasAffiliation","uniqueCountLabel":"Have Affiliation","camelKey":"","label":"Has Affiliation","example":true,"definition":"Indicates if the scholarly work has an abstract available","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":16,"excludedTips":false,"uniqueCount":"83,657,359","uniqueCountShort":"83.7M"},{"key":"has_conflicting_metadata","type":"SCHOLAR","filterName":"hasConflictingMetadata","camelKey":"","label":"Has Conflicting Metadata","example":"","definition":"","fieldType":"boolean","caseSensitive":"","filterGroup":"Flags","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":17,"excludedTips":false,"excludedAnalysis":true},{"key":"has_keyword","type":"SCHOLAR","filterName":"hasKeyword","uniqueCountLabel":"Have Keywords","camelKey":"","label":"Has Keyword","example":true,"definition":"Indicates if the scholarly work has associated keywords","fieldType":"boolean","caseSensitive":"","filterGroup":"Flags","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":18,"excludedTips":false,"uniqueCount":"7,698,850","uniqueCountShort":"7.7M"},{"key":"has_orcid","type":"SCHOLAR","filterName":"hasOrcid","uniqueCountLabel":"Have ORCID iD","camelKey":"","label":"Has ORCID iD","example":true,"definition":"Indicates if the scholarly work has one or more associated ORCID iDs.","fieldType":"boolean","caseSensitive":"","filterGroup":"Flags","group":"General","excludedSearch":true,"excludeSupport":false,"fieldOrder":19,"excludedTips":false,"uniqueCount":"23,958,758","uniqueCountShort":"24M"},{"key":"author.display_name","type":"SCHOLAR","camelKey":"","label":"Author Display Name","example":"David Smith","definition":"The author\'s full name (first name, middle name/initial, last name)","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":21,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.display_name.keyword","type":"SCHOLAR","filterName":"authorName","uniqueCountLabel":"Authors","camelKey":"","label":"Author Display Name","example":"David Smith","definition":"The author\'s full name (first name, middle name/initial, last name)","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"86","quickAnalysisDashboardLabel":"Authors","excludeSupport":true,"fieldOrder":22,"excludedTips":false,"uniqueCount":"34,282,144","uniqueCountShort":"34.3M","isMulti":true},{"key":"author.display_name.exact","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Author Display Name Exact","example":"David Smith","definition":"The author\'s full name (first name, middle name/initial, last name). N.B. Use this field for exact author matches.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":23,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author.display_name_id","type":"SCHOLAR","filterName":"authorId","uniqueCountLabel":"Authors","camelKey":"","label":"Author ID","example":"Richard A Jefferson~magid:2779337967","definition":"The author\'s full name and identifier. Format is name~type:id","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"86","quickAnalysisDashboardLabel":"Authors","excludeSupport":true,"fieldOrder":24,"excludedTips":false,"isMulti":true,"uniqueCount":"209,794,616","uniqueCountShort":"209.8M"},{"key":"author.display_name_orcid","type":"SCHOLAR","camelKey":"","label":"Author Display Name ORCID","example":"\\"Edward B Rastetter~orcid:0000-0002-8620-5431\\"","definition":"The author\'s full name and ORCID identifier. Format is name~orcid:id","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Authors","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":25,"excludedTips":false,"isMulti":true},{"key":"author.orcid","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Author ORCID","example":"0000-0001-5352-4498","definition":"The author\'s ORCID identifier","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":26,"excludedTips":false,"isMulti":true},{"key":"author.magid","type":"SCHOLAR","filterName":"authorMagid","camelKey":"","excludedAnalysis":true,"label":"Author MAGID","example":"2779337967","definition":"The author\'s MAGID","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":27,"excludedTips":false,"isMulti":true},{"key":"author.normalised_name","type":"SCHOLAR","camelKey":"","label":"Author Normalised Name","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":28,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.first_name","type":"SCHOLAR","camelKey":"","label":"Author First Name","example":"David","definition":"The author\'s first name","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":29,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.last_name","type":"SCHOLAR","camelKey":"","label":"Author Last Name","example":"Smith","definition":"The author\'s last name","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":30,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.initials","type":"SCHOLAR","camelKey":"","label":"Author Initials","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":31,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.collective_name","type":"SCHOLAR","camelKey":"","label":"Author Collective Name","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":32,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author_first.display_name","type":"SCHOLAR","camelKey":"","label":"First Author Display Name","example":"David Smith","definition":"The first author\'s full name (first name, middle name/initial, last name)","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":33,"excludedTips":false,"excludedAnalysis":true,"isMulti":true,"facetSearch":true},{"key":"author_first.display_name.keyword","type":"SCHOLAR","filterName":"firstAuthorName","camelKey":"","label":"First Author Display Name","example":"David Smith","definition":"The first author\'s full name (first name, middle name/initial, last name)","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":34,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author_first.display_name_id","type":"SCHOLAR","filterName":"firstAuthorId","camelKey":"","label":"First Author Display Name ID","example":"Richard A Jefferson~magid:2779337967","definition":"The first author\'s full name (first name, middle name/initial, last name) and identifier. Format is name~type:id","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":35,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author_first.orcid","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"First Author ORCID","example":"0000-0001-5352-4498","definition":"The author\'s ORCID identifier","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":36,"excludedTips":false,"isMulti":true},{"key":"author_first.magid","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"First Author MAGID","example":"2779337967","definition":"The author\'s MAGID","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":37,"excludedTips":false,"isMulti":true},{"key":"author_last.display_name","type":"SCHOLAR","camelKey":"","label":"Last Author Display Name","example":"David Smith","definition":"The last author\'s full name (first name, middle name/initial, last name)","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":38,"excludedTips":false,"excludedAnalysis":true,"isMulti":true,"facetSearch":true},{"key":"author_last.display_name.keyword","type":"SCHOLAR","filterName":"lastAuthorName","camelKey":"","label":"Last Author Display Name","example":"David Smith","definition":"The last author\'s full name (first name, middle name/initial, last name)","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":39,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author_last.display_name_id","type":"SCHOLAR","filterName":"lastAuthorId","camelKey":"","label":"Last Author Display Name ID","example":"Richard A Jefferson~magid:2779337967","definition":"The last author\'s full name (first name, middle name/initial, last name) and identifier. Format is name~type:id","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":40,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author_last.orcid","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Last Author ORCID","example":"0000-0001-5352-4498","definition":"The author\'s ORCID identifier","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":41,"excludedTips":false,"isMulti":true},{"key":"author_last.magid","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Last Author MAGID","example":"2779337967","definition":"The author\'s MAGID","fieldType":"keyword","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":true,"excludeSupport":true,"fieldOrder":42,"excludedTips":false,"isMulti":true},{"key":"author_count","type":"SCHOLAR","camelKey":"","label":"Author Count","example":"2","definition":"The number of authors on the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":43,"excludedTips":false},{"key":"author.affiliation.name","type":"SCHOLAR","camelKey":"","label":"Author Affiliation Name","example":"\\"School of Engineering and Applied Sciences, Harvard University\\"","definition":"The author\'s affiliated institution and address","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":44,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"affiliation_count","type":"SCHOLAR","camelKey":"","label":"Unique Affiliation Count","example":"1","definition":"The number of unique affiliations on the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"Authors","group":"Authors","excludedSearch":false,"excludeSupport":false,"fieldOrder":45,"excludedTips":false},{"key":"reference.id","type":"SCHOLAR","filterName":"referenceId","camelKey":"","label":"Cites","example":"6592954449518","definition":"The numeric Lens ID of a scholarly work cited in the reference list of other scholarly works.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":46,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"is_referenced_by_scholarly","type":"SCHOLAR","filterName":"isReferencedByScholarly","uniqueCountLabel":"Cited By Scholarly Works","camelKey":"","label":"Cited By Scholarly Works","example":true,"definition":"Indicates if the scholarly work has been cited by a another scholarly work at least once","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":48,"excludedTips":false,"uniqueCount":"80,208,712","uniqueCountShort":"80.2M"},{"key":"referenced_by","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Referenced By","example":"","definition":"The Lens ID of scholarly works that cite a given scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":49,"excludedTips":false},{"key":"referenced_by_count","type":"SCHOLAR","camelKey":"","label":"Citing Scholarly Works","example":"23","definition":"The number of scholarly works that cite a given scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"quickAnalysisDashboardId":"1427","quickAnalysisDashboardLabel":"Citations","excludeSupport":false,"fieldOrder":50,"excludedTips":false},{"key":"reference_count","type":"SCHOLAR","camelKey":"","label":"Reference count","example":"29","definition":"The number of works in the reference list of a scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":51,"excludedTips":false},{"key":"is_referenced_by_patent","type":"SCHOLAR","filterName":"isReferencedByPatent","uniqueCountLabel":"Cited By Patent","camelKey":"","label":"Cited By Patents","example":true,"definition":"Indicates if the scholarly work has been cited by a patent document","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":52,"excludedTips":false,"uniqueCount":"4,498,663","uniqueCountShort":"4.5M"},{"key":"referenced_by_patent.lens_id","type":"SCHOLAR","filterName":"patentCitationLensId","camelKey":"","label":"Referenced By Patent Lens Id","example":"049-552-240-321-916","definition":"Scholarly works that are cited by a given patent(s).","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":53,"excludedTips":false,"excludedAnalysis":true},{"key":"referenced_by_patent_count","type":"SCHOLAR","camelKey":"","label":"Citing Patents","example":"135","definition":"The number of patents that cite a scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"quickAnalysisDashboardId":"1427","quickAnalysisDashboardLabel":"Citations","excludeSupport":false,"fieldOrder":54,"excludedTips":false},{"key":"crossref_reference_count","type":"SCHOLAR","camelKey":"","label":"CrossRef Reference Count","example":"32","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":55,"excludedTips":false,"excludedAnalysis":true},{"key":"crossref_referenced_by_count","type":"SCHOLAR","camelKey":"","label":"CrossRef Referenced-By Count","example":"75","definition":"The number of citing works in CrossRef","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":56,"excludedTips":false,"excludedAnalysis":true},{"key":"reference.text","type":"SCHOLAR","camelKey":"","label":"Reference Text","example":"\\"N Engl J Med. 2004 Aug 26;351(9):893-901\\"","definition":"The the original text string in the references","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":57,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"referenced_by_patent.lens_id_num","type":"SCHOLAR","camelKey":"","label":"Referenced By Patent Lens Id Num","example":"18648823202205","definition":"Scholarly works that are cited by a given patent(s). Uses the numeric value of Lens ID (see https://support.lens.org/help-resources/basic-help/the-lens-id/)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":58,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"referenced_by_patent_hash","type":"SCHOLAR","camelKey":"","label":"Referenced By Patent Hash","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":59,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"doi","type":"SCHOLAR","camelKey":"","label":"Crossref DOI","example":"10.1002/j.1460-2075.1987.tb04762.x","definition":"The CrossRef Digital Object Identifier associated with the scholarly work","fieldType":"text","caseSensitive":"","filterGroup":"","group":"External Identifiers","excludedSearch":false,"excludeSupport":false,"fieldOrder":60,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"pmid","type":"SCHOLAR","camelKey":"","label":"PubMed ID","example":"3327686","definition":"The PubMed identifier associated with the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"External Identifiers","excludedSearch":false,"excludeSupport":false,"fieldOrder":61,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"pmcid","type":"SCHOLAR","camelKey":"","label":"PubMed Central ID","example":"553867","definition":"The PubMed Central identifier associated with the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"External Identifiers","excludedSearch":false,"excludeSupport":false,"fieldOrder":62,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"magid","type":"SCHOLAR","camelKey":"","label":"Microsoft Academic ID","example":"1539503448","definition":"The Microsoft Academic identifier associated with the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"External Identifiers","excludedSearch":false,"excludeSupport":false,"fieldOrder":63,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"coreid","type":"SCHOLAR","camelKey":"","label":"Core ID","example":"38456430","definition":"The CORE identifier associated with the scholarly work","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"External Identifiers","excludedSearch":false,"excludeSupport":false,"fieldOrder":64,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"source.title","type":"SCHOLAR","uniqueCountLabel":"Source Titles","camelKey":"","excludedAnalysis":true,"label":"Source Title","example":"Journal of Molecular Biology","definition":"The name of source publication in which the scholarly work appears e.g. Journal name, Book title, Conference proceedings, etc.","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Source","group":"Source","excludedSearch":false,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"91","quickAnalysisDashboardLabel":"Journal","excludeSupport":false,"fieldOrder":65,"excludedTips":false,"uniqueCount":"1,002,274","uniqueCountShort":"1M"},{"key":"source.title.keyword","type":"SCHOLAR","filterName":"sourceTitle","uniqueCountLabel":"Source Titles","camelKey":"","label":"Source Title","example":"Journal of Molecular Biology","definition":"The name of source publication in which the scholarly work appears e.g. Journal name, Book title, Conference proceedings, etc.","fieldType":"Keyword","caseSensitive":"TRUE","filterGroup":"Source","group":"Source","excludedSearch":true,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"91","quickAnalysisDashboardLabel":"Journal","excludeSupport":true,"fieldOrder":66,"excludedTips":false,"uniqueCount":"1,002,274","uniqueCountShort":"1M"},{"key":"source.title.exact","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Source Title Exact","example":"Journal of Molecular Biology","definition":"The name of source publication in which the scholarly work appears e.g. Journal name, Book title, Conference proceedings, etc. Use this field for exact matches on source titles (case sensetive).","fieldType":"Keyword","caseSensitive":"TRUE","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":67,"excludedTips":false,"facetSearch":true},{"key":"source.publisher","type":"SCHOLAR","camelKey":"","label":"Source Publisher","example":"Academic Press Inc.","definition":"The publisher of the source publication","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Source","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":68,"excludedTips":false,"excludedAnalysis":true},{"key":"source.country","type":"SCHOLAR","camelKey":"","label":"Source Country","example":"\\"United States\\"","definition":"The publisher\'s country","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":69,"excludedTips":false},{"key":"source.publisher.keyword","type":"SCHOLAR","filterName":"publisher","uniqueCountLabel":"Publishers","camelKey":"","label":"Publisher","example":"Academic Press Inc.","definition":"The publisher of the source publication","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":70,"excludedTips":false,"uniqueCount":"73,809","uniqueCountShort":"73.8K"},{"key":"source.asjc_code","type":"SCHOLAR","camelKey":"","label":"Source ASJC Code","example":"2105","definition":"The All Science Journal Classification (ASJC) code","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":71,"excludedTips":false},{"key":"source.issn","type":"SCHOLAR","camelKey":"","label":"Source Issn","example":"\\"00222836\\"","definition":"The International Standard Serial Number of the source publication, without hyphenation","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":72,"excludedTips":false,"excludedAnalysis":true},{"key":"source.nlmid","type":"SCHOLAR","camelKey":"","label":"Source Nlmid","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":true,"excludeSupport":true,"fieldOrder":73,"excludedTips":false,"excludedAnalysis":true},{"key":"source.ssid","type":"SCHOLAR","camelKey":"","label":"Source Ssid","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":true,"excludeSupport":true,"fieldOrder":74,"excludedTips":false,"excludedAnalysis":true},{"key":"source.type","type":"SCHOLAR","camelKey":"","label":"Source Type","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":true,"excludeSupport":true,"fieldOrder":75,"excludedTips":false},{"key":"volume","type":"SCHOLAR","camelKey":"","label":"Volume","example":"86","definition":"The journal volume","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":76,"excludedTips":false,"excludedAnalysis":true},{"key":"issue","type":"SCHOLAR","camelKey":"","label":"Issue","example":"3","definition":"The journal issue","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Source","excludedSearch":false,"excludeSupport":false,"fieldOrder":77,"excludedTips":false,"excludedAnalysis":true},{"key":"field_of_study","type":"SCHOLAR","filterName":"fieldOfStudy","uniqueCount":"712,998","uniqueCountShort":"713K","uniqueCountLabel":"Fields of Study","camelKey":"","label":"Field of Study","example":"Medicine","definition":"Microsoft Academic determines Field of study based on machine learning parsing of all accessible text in a record","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":78,"excludedTips":false,"isMulti":true},{"key":"has_field_of_study","type":"SCHOLAR","filterName":"hasFieldOfStudy","uniqueCountLabel":"Have Field of Study","camelKey":"","label":"Has Field of Study","example":true,"definition":"Indicates if the scholarly work has a Field of Study","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Subject Matter","excludedSearch":true,"excludeSupport":false,"fieldOrder":79,"excludedTips":false,"uniqueCount":"147,950,704","uniqueCountShort":"148M"},{"key":"source.asjc_subject","type":"SCHOLAR","uniqueCountLabel":"Journal Subjects","camelKey":"","label":"Subject","example":"Molecular Biology","definition":"Subject is derived from journals descriptions in Crossref metadata based on the Science Journal Classification Codes","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":false,"excludedAnalysis":true,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":80,"excludedTips":false,"uniqueCount":"333","uniqueCountShort":333},{"key":"source.asjc_subject.keyword","type":"SCHOLAR","filterName":"subject","camelKey":"","label":"Subject","example":"Molecular Biology","definition":"Subject is derived from journals descriptions in Crossref metadata based on the Science Journal Classification Codes","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":81,"excludedTips":false},{"key":"keyword","type":"SCHOLAR","filterName":"keyword","uniqueCountLabel":"Keywords","camelKey":"","label":"Keyword","example":"Malaria","definition":"Keywords for the scholarly work from PubMed","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":82,"excludedTips":false,"uniqueCount":"4,118,643","uniqueCountShort":"4.1M","isMulti":true},{"key":"chemical.mesh_ui","type":"SCHOLAR","camelKey":"","label":"Chemical Mesh ID","example":"D000953","definition":"The unique MeSH identifiers for names of the substance.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Subject Matter","excludedSearch":false,"excludeSupport":false,"fieldOrder":83,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"chemical.registry_number","type":"SCHOLAR","camelKey":"","label":"Chemical Registry Number","example":"2461-62-3","definition":"A unique 5 to 9 digit number in hyphenated format assigned by the Chemical Abstracts Service (Source: PubMed)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Subject Matter","excludedSearch":false,"excludeSupport":false,"fieldOrder":84,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"chemical.substance_name","type":"SCHOLAR","uniqueCountLabel":"Chemicals","camelKey":"","label":"Chemical Substance Name","example":"Calcium","definition":"Name of the chemical substance. Substance reflects the chemical field listed in PubMed records","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":85,"excludedTips":false,"uniqueCount":"250,778","uniqueCountShort":"250.8K","excludedAnalysis":true,"isMulti":true},{"key":"has_chemical","type":"SCHOLAR","filterName":"hasChemical","uniqueCountLabel":"Have Chemical Substance","camelKey":"","label":"Has Chemical","example":true,"definition":"Indicates if the scholarly work has an associated chemical substance ","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Subject Matter","excludedSearch":true,"excludeSupport":false,"fieldOrder":86,"excludedTips":false,"uniqueCount":"14,972,066","uniqueCountShort":"15M"},{"key":"chemical.substance_name.keyword","type":"SCHOLAR","filterName":"chemical","camelKey":"","label":"Chemical Substance Name","example":"Calcium","definition":"Name of the chemical substance. Substance reflects the chemical field listed in PubMed records","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":87,"excludedTips":false,"isMulti":true},{"key":"mesh_term.mesh_heading","type":"SCHOLAR","filterName":"meshTerm","uniqueCountLabel":"MeSH Headings","camelKey":"","label":"MeSH Heading","example":"Amino Acid Sequence","definition":"MeSH terms are the National Library of Medicine’s controlled vocabulary or medical subject headings assigned to PubMed entries. NB MeSH Headings are case sensitive e.g. Calcium not calcium.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Subject Matter","group":"Subject Matter","excludedSearch":false,"excludeSupport":false,"fieldOrder":88,"excludedTips":false,"uniqueCount":"29,761","uniqueCountShort":"29.8K","isMulti":true,"facetSearch":true},{"key":"mesh_term.mesh_ui","type":"SCHOLAR","camelKey":"","label":"Mesh Term Mesh ID","example":"D000595","definition":"MeSH term unique identifier. MeSH terms are the National Library of Medicine’s controlled vocabulary or subject heading list.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Subject Matter","excludedSearch":false,"excludeSupport":false,"fieldOrder":89,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"has_mesh_term","type":"SCHOLAR","filterName":"hasMeshTerm","uniqueCountLabel":"Have MeSH Term","camelKey":"","label":"Has Mesh Term","example":true,"definition":"Indicates if the scholarly work has an associated MeSH term","fieldType":"boolean","caseSensitive":"","filterGroup":"Flags","group":"Subject Matter","excludedSearch":true,"excludeSupport":false,"fieldOrder":90,"excludedTips":false,"uniqueCount":"27,842,709","uniqueCountShort":"27.8M"},{"key":"mesh_term.qualifier_name","type":"SCHOLAR","camelKey":"","label":"Mesh Term Qualifier Name","example":"Amino Acid Sequence","definition":"MeSH terms are the National Library of Medicine’s controlled vocabulary or medical subject headings assigned to PubMed entries. NB MeSH Headings are case sensitive e.g. Calcium not calcium.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Subject Matter","excludedSearch":true,"excludeSupport":true,"fieldOrder":91,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"mesh_term.qualifier_ui","type":"SCHOLAR","camelKey":"","label":"Mesh Term Qualifier ID","example":"D000595","definition":"MeSH term unique identifier. MeSH terms are the National Library of Medicine’s controlled vocabulary or subject heading list.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Subject Matter","excludedSearch":true,"excludeSupport":false,"fieldOrder":92,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.affiliation.name.keyword","type":"SCHOLAR","filterName":"institution","uniqueCountLabel":"Institutions","camelKey":"","label":"Institution Name","example":"Harvard University","definition":"The institution associated with the author affiliations.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Institutions","group":"Institutions","excludedSearch":false,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"83","quickAnalysisDashboardLabel":"Institutions","excludeSupport":false,"fieldOrder":93,"excludedTips":false,"uniqueCount":"19,849","uniqueCountShort":"19.8K","isMulti":true},{"key":"author.affiliation.name.exact","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Institution Name","example":"Harvard University","definition":"The institution associated with the author affiliations.","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Institutions","excludedSearch":true,"excludeSupport":true,"fieldOrder":94,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author.affiliation.grid.id","type":"SCHOLAR","camelKey":"","label":"Institution GRID","example":"\\"grid.1001.0\\"","definition":"The institution GRID identifier","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Institutions","excludedSearch":false,"excludeSupport":false,"fieldOrder":95,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"author.affiliation.grid.address.country_code","type":"SCHOLAR","filterName":"country","camelKey":"","label":"Institution Country/Region","example":"US","definition":"The alpha-2 country code of the author\'s institution (see https://www.iso.org/obp/ui/#search for a list of codes)","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Institutions","group":"Institutions","excludedSearch":false,"chooseMore":true,"quickAnalysisDashboardId":"84","quickAnalysisDashboardLabel":"Country/Region","excludeSupport":false,"fieldOrder":96,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author.affiliation.grid.type","type":"SCHOLAR","camelKey":"","label":"Institution Type","example":"Government","definition":"The institution type from GRID","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Institutions","group":"Institutions","excludedSearch":false,"excludeSupport":false,"fieldOrder":97,"excludedTips":false,"isMulti":true},{"key":"author.affiliation.grid.address.city","type":"SCHOLAR","filterName":"city","camelKey":"","label":"Institution City","example":"Tokyo","definition":"The institution city from GRID","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Institutions","group":"Institutions","excludedSearch":false,"excludeSupport":false,"fieldOrder":98,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"author.affiliation.grid.address.state_code","type":"SCHOLAR","filterName":"state","camelKey":"","label":"Institution State","example":"US-NY","definition":"The institution state from GRID","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Institutions","group":"Institutions","excludedSearch":false,"excludeSupport":false,"fieldOrder":99,"excludedTips":false,"isMulti":true},{"key":"funding.country","type":"SCHOLAR","camelKey":"","label":"Funding Country","example":"\\"United Kingdom\\"","definition":"The country of the funding body","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Funding","excludedSearch":false,"excludeSupport":false,"fieldOrder":100,"excludedTips":false,"isMulti":true},{"key":"funding.funding_id","type":"SCHOLAR","camelKey":"","label":"Funding Id","example":"MC_U117532072","definition":"The funder\'s project identifier","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Funding","excludedSearch":false,"excludeSupport":false,"fieldOrder":101,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"funding.funding_name","type":"SCHOLAR","camelKey":"","label":"Funding Project Name","example":"\\"NIH 5 T32 GM08349\\"","definition":"The funder\'s project name","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Funding","group":"Funding","excludedSearch":false,"excludeSupport":false,"fieldOrder":102,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"funding.organisation","type":"SCHOLAR","camelKey":"","label":"Funding Organisation","example":"\\"Medical Research Council\\"","definition":"Name of the funding organisation","fieldType":"text","caseSensitive":"FALSE","filterGroup":"","group":"Funding","excludedSearch":false,"excludeSupport":false,"fieldOrder":103,"excludedTips":false,"uniqueCount":"1,674,844","uniqueCountShort":"1.7M","excludedAnalysis":true,"isMulti":true},{"key":"has_funding","type":"SCHOLAR","filterName":"hasFunding","uniqueCountLabel":"Have Funding","camelKey":"","label":"Has Funding","example":true,"definition":"Indicates if the scholarly work has funding information","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Funding","excludedSearch":false,"excludeSupport":false,"fieldOrder":104,"excludedTips":false,"uniqueCount":"9,160,900","uniqueCountShort":"9.2M"},{"key":"funding.organisation.keyword","type":"SCHOLAR","filterName":"funding","uniqueCountLabel":"Funding Organisations","camelKey":"","label":"Funding","example":"National Science Foundation","definition":"The funding organisation","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Funding","group":"Funding","excludedSearch":false,"facetSearch":true,"chooseMore":true,"quickAnalysisDashboardId":"85","quickAnalysisDashboardLabel":"Funding","excludeSupport":false,"fieldOrder":105,"excludedTips":false,"uniqueCount":"1,710,483","uniqueCountShort":"1.7M","isMulti":true},{"key":"funding.organisation.exact","type":"SCHOLAR","camelKey":"","excludedAnalysis":true,"label":"Funding","example":"National Science Foundation","definition":"The funding organisation. Use this field for exact matches of full organisational name (case sensetive).","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Funding","excludedSearch":true,"excludeSupport":true,"fieldOrder":106,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"funding.organisation_id","type":"SCHOLAR","camelKey":"","label":"Funding Organisation Id","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Funding","excludedSearch":true,"excludeSupport":true,"fieldOrder":107,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"conference.name","type":"SCHOLAR","uniqueCountLabel":"Conferences","camelKey":"","label":"Conference Name","example":"International Electron Devices Meeting","definition":"The name of the conference","fieldType":"text","caseSensitive":"FALSE","filterGroup":"Conference Name","group":"Conferences","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":108,"excludedTips":false,"uniqueCount":"4,571","uniqueCountShort":"4.6K","excludedAnalysis":true},{"key":"conference.name.keyword","type":"SCHOLAR","filterName":"conference","camelKey":"","label":"Conference Name","example":"International Electron Devices Meeting","definition":"The name of the conference","fieldType":"keyword","caseSensitive":"FALSE","filterGroup":"Conference Name","group":"Conferences","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":109,"excludedTips":false},{"key":"conference.instance","type":"SCHOLAR","camelKey":"","label":"Conference Instance","example":"\\"CHI 1985\\"","definition":"The conference instance or edition","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Conferences","excludedSearch":false,"excludeSupport":false,"fieldOrder":110,"excludedTips":false,"excludedAnalysis":true},{"key":"conference.location","type":"SCHOLAR","camelKey":"","label":"Conference Location","example":"\\"Lihue, Kauai, HA, USA\\"","definition":"The location of the conference","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Conferences","excludedSearch":false,"excludeSupport":false,"fieldOrder":111,"excludedTips":false,"excludedAnalysis":true},{"key":"conference.date","type":"SCHOLAR","camelKey":"","label":"Conference Date","example":"1999-04-14","definition":"The date of the conference","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Conferences","excludedSearch":true,"excludeSupport":false,"fieldOrder":112,"excludedTips":false,"excludedAnalysis":true},{"key":"conference.year","type":"SCHOLAR","camelKey":"","label":"Conference Year","example":"2016","definition":"The year the conference was held","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Conferences","excludedSearch":false,"excludeSupport":false,"fieldOrder":113,"excludedTips":false,"excludedAnalysis":true},{"key":"clinical_trial.registry","type":"SCHOLAR","camelKey":"","label":"Clinical Trial Registry","example":"10.18810/clinical-trials-gov","definition":"The clinical trial registry","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Clinical Trials","excludedSearch":false,"excludeSupport":false,"fieldOrder":114,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"clinical_trial.trial_id","type":"SCHOLAR","filterName":"clinicalTrialId","camelKey":"","label":"Clinical Trial Id","example":"nct00483808","definition":"The clinical trial identifier","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"","group":"Clinical Trials","excludedSearch":false,"excludeSupport":false,"fieldOrder":115,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"has_clinical_trial","type":"SCHOLAR","filterName":"hasClinicalTrial","uniqueCountLabel":"Have Clinical Trial","camelKey":"","label":"Has Clinical Trial","example":true,"definition":"Indicates if the scholarly work has clinical trial information","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Clinical Trials","excludedSearch":false,"excludeSupport":false,"fieldOrder":116,"excludedTips":false,"uniqueCount":"16,117","uniqueCountShort":"16.1K"},{"key":"is_open_access","type":"SCHOLAR","filterName":"isOpenAccess","uniqueCountLabel":"Open Access","camelKey":"","label":"Open Access","example":true,"definition":"Flags if the scholarly work has is Open Access","fieldType":"boolean","caseSensitive":"TRUE","filterGroup":"Flags","group":"Open Access","excludedSearch":false,"excludeSupport":false,"fieldOrder":117,"excludedTips":false,"uniqueCount":"41,441,884","uniqueCountShort":"41.4M"},{"key":"open_access.colour","type":"SCHOLAR","filterName":"openAccessColour","camelKey":"","label":"Open Access Colour","example":"gold","definition":"The Open Access colour category","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Open Access","group":"Open Access","excludedSearch":false,"quickAnalysisDashboardId":"1229","quickAnalysisDashboardLabel":"Open Access","excludeSupport":false,"fieldOrder":118,"excludedTips":false},{"key":"open_access.license","type":"SCHOLAR","filterName":"openAccessLicense","camelKey":"","label":"Open Access License","example":"cc-by","definition":"The Open Access license type","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Open Access","group":"Open Access","excludedSearch":false,"quickAnalysisDashboardId":"1229","quickAnalysisDashboardLabel":"Open Access","excludeSupport":false,"fieldOrder":119,"excludedTips":false},{"key":"open_access.source","type":"SCHOLAR","camelKey":"","label":"Open Access Source","example":"\\"unpaywall\\"","definition":"The source(s) of open access information for the scholarly work record (e.g. Directory of Open Access Journals: \\"doaj\\", PubMed Central: \\"\'pmc-nih\\", Unpaywall.org: \\"unpaywall\\", Core Open Access Repository: \\"\'core\\")","fieldType":"keyword","caseSensitive":"TRUE","filterGroup":"Open Access","group":"Open Access","excludedSearch":false,"excludeSupport":false,"fieldOrder":120,"excludedTips":false},{"key":"id","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":121,"excludedTips":false},{"key":"ids","type":"PATENT","camelKey":"pubNum","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":122,"excludedTips":false},{"key":"lens_id_num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":124,"excludedTips":false},{"key":"record_lens_id","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":125,"excludedTips":false},{"key":"record_lens_id_num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludeSupport":true,"fieldOrder":126,"excludedTips":false},{"key":"doc_number","type":"PATENT","camelKey":"","label":"Publication Document Number","example":"\\"20130227762\\"","definition":"The document number assigned to a patent application on publication.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":135,"excludedTips":false,"excludedAnalysis":true},{"key":"docdb_id","type":"PATENT","camelKey":"","label":"DOCDB Identifier","example":"12654366","definition":"The DOCDB identifier for the patent document","fieldType":"long","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":136,"excludedTips":false,"excludedAnalysis":true},{"key":"lang","type":"PATENT","camelKey":"","label":"Language","example":"\\"EN\\"","definition":"The original language of the patent document. Languages include English (\\"EN\\"), Chinese (\\"ZH\\"), German (\\"DE\\"), Spanish (\\"ES\\"), French (\\"FR\\"), Italian (\\"IT\\"), Japanese (\\"JA\\"), Korean (\\"KO\\"), Portuguese (\\"PO\\"), Russian (\\"RU\\") and Aarbic (\\"AR\\"). ","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":132,"excludedTips":false,"excludedAnalysis":true},{"key":"year_published","type":"PATENT","filterName":"publishedYear","camelKey":"pubYear","excludedAnalysis":true,"label":"Publication Year","example":"2009","definition":"The year of publication for the patent document","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":134,"excludedTips":false},{"key":"publication_type","type":"PATENT","filterName":"types","camelKey":"docType","label":"Document Type","example":"\\"Granted Patent\\"","definition":"Type of patent document","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":128,"excludedTips":false},{"key":"application_reference.appl_type","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Application","excludedSearch":true,"excludeSupport":true,"fieldOrder":142,"excludedTips":false},{"key":"application_reference.jurisdiction","type":"PATENT","camelKey":"","label":"Application Filing Jurisdiction","example":"\\"US\\"","definition":"The jurisdiction of the application.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Application","excludedSearch":false,"excludeSupport":false,"fieldOrder":143,"excludedTips":false,"excludedAnalysis":true},{"key":"application_reference.doc_number","type":"PATENT","camelKey":"","label":"Application Document Number","example":"\\"201715824814\\"","definition":"The document number of the application","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Application","excludedSearch":false,"excludeSupport":false,"fieldOrder":145,"excludedTips":false,"excludedAnalysis":true},{"key":"application_reference.kind","type":"PATENT","camelKey":"","label":"Application Kind Code","example":"\\"A1\\"","definition":"The kind code of the application","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Application","excludedSearch":true,"excludeSupport":true,"fieldOrder":146,"excludedTips":false,"excludedAnalysis":true},{"key":"priority_claim.jurisdiction","type":"PATENT","camelKey":"","label":"Priority Jurisidiction","example":"\\"DE\\"","definition":"The jurisdiction of the priority document","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":false,"excludeSupport":false,"fieldOrder":147,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"priority_claim.doc_number","type":"PATENT","camelKey":"","label":"Priority Publication Number","example":"\\"1117265\\"","definition":"The document number of the priority document","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":false,"excludeSupport":false,"fieldOrder":149,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"priority_claim.kind","type":"PATENT","camelKey":"","label":"Priority Kind Code","example":"\\"A1\\"","definition":"The kind code of the priority document","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":false,"excludeSupport":false,"fieldOrder":150,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"priority_claim.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":true,"excludeSupport":true,"fieldOrder":151,"excludedTips":false,"isMulti":true},{"key":"cited_by_patent","type":"PATENT","camelKey":"","label":"Cited By Patent","example":true,"definition":"Indicates if a patent is cited by other patents","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":153,"excludedTips":false,"filterName":"citedByPatent","uniqueCount":"45,957,038","uniqueCountShort":"46M"},{"key":"cites_npl","type":"PATENT","camelKey":"","label":"Cites NPL","example":true,"definition":"Indicates if a patent has cited any non-patent literature in the references","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":154,"excludedTips":false,"filterName":"citesNpl","uniqueCount":"11,873,885","uniqueCountShort":"11.9M"},{"key":"cites_patent","type":"PATENT","camelKey":"","label":"Cites Patent","example":true,"definition":"Indicates if a patent cites other patents","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":155,"excludedTips":false,"filterName":"citesPatent","uniqueCount":"38,781,164","uniqueCountShort":"38.8M"},{"key":"cites_resolved_npl","type":"PATENT","camelKey":"","label":"Cites Resolved NPL","example":true,"definition":"Indicates if a patent document cites non-patent literature that have been resolved to a matching Lens Scholarly Work.","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":156,"excludedTips":false,"filterName":"citesResolvedNpl","uniqueCount":"3,428,128","uniqueCountShort":"3.4M"},{"key":"has_agent","type":"PATENT","camelKey":"","label":"Has Agent","example":true,"definition":"Indicates if the patent record has agent/attorney information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":158,"excludedTips":false,"filterName":"hasAgent","uniqueCount":"17,216,840","uniqueCountShort":"17.2M"},{"key":"has_applicant","type":"PATENT","camelKey":"","label":"Has Applicant","example":true,"definition":"Indicates if the patent record has applicant information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":159,"excludedTips":false,"uniqueCount":"116,460,571","uniqueCountShort":"116.5M","filterName":"hasApplicant"},{"key":"has_owner","type":"PATENT","camelKey":"","label":"Has Owner","example":true,"definition":"Indicates if the patent record has owner information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":163,"excludedTips":false,"filterName":"hasOwner","uniqueCount":"16,012,146","uniqueCountShort":"16M"},{"key":"has_inventor","type":"PATENT","camelKey":"","label":"Has Inventor","example":true,"definition":"Indicates if the patent record has inevntor information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":164,"excludedTips":false,"filterName":"hasInventor","uniqueCount":"107,986,629","uniqueCountShort":"108M"},{"key":"has_sequence","type":"PATENT","camelKey":"","label":"Has Sequence Listing","example":true,"definition":"Indicates if the patent record has sequence information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":167,"excludedTips":false,"uniqueCount":"777,437","uniqueCountShort":"777.4K","filterName":"hasSequence"},{"key":"has_docdb","type":"PATENT","camelKey":"","label":"Has DOCDB","example":true,"definition":"Indicates if the DOCDB information is available for the patent document","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":169,"excludedTips":false,"filterName":"hasDocdb","uniqueCount":"132,265,230","uniqueCountShort":"132.3M"},{"key":"abstract.unstemmed","type":"PATENT","camelKey":"","label":"Abstract Unstemmed","example":"","definition":"Searches the unstemmed patent document abstract text","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":true,"excludeSupport":true,"fieldOrder":171,"excludedTips":false,"excludedAnalysis":true},{"key":"claim","type":"PATENT","camelKey":"claims","excludedAnalysis":true,"label":"Claims","example":"\\"What is claimed is: 1. A method of performing a conditional vector output operation in a processor, the method comprising: receiving electrical signals representative of an input data vector…\\"","definition":"Searches the Claims recorded in the patent","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":false,"excludeSupport":false,"fieldOrder":172,"excludedTips":false},{"key":"claim.unstemmed","type":"PATENT","camelKey":"","label":"Claims Unstemmed","example":"","definition":"Searches the unstemmed Claims recorded in the patent","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":true,"excludeSupport":true,"fieldOrder":173,"excludedTips":false,"excludedAnalysis":true},{"key":"description","type":"PATENT","camelKey":"","label":"Description","example":"\\"This invention was made in conjuction with U.S. Government support under U.S. Army Grant No. DABT63-96-C-0037.” BACKGROUND OF THE INVENTION 1. Field of the Invention The present invention is directed to…\\"","definition":"The description text of the patent document.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":false,"excludeSupport":false,"fieldOrder":174,"excludedTips":false,"excludedAnalysis":true},{"key":"description.unstemmed","type":"PATENT","camelKey":"","label":"Description Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":true,"excludeSupport":true,"fieldOrder":175,"excludedTips":false,"excludedAnalysis":true},{"key":"title.unstemmed","type":"PATENT","camelKey":"","label":"Title Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":true,"excludeSupport":true,"fieldOrder":176,"excludedTips":false,"excludedAnalysis":true},{"key":"family.extended.id","filterName":"extendedFamilyOf","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Extended Family Id","example":"","definition":"INTERNAL ONLY","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":true,"fieldOrder":179,"excludedTips":false},{"key":"family.extended.member.document_id.jurisdiction","type":"PATENT","camelKey":"","label":"Extended Family Member Jurisidiction","example":"\\"EP\\"","definition":"The jurisdiction of the extended family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":false,"fieldOrder":180,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.extended.member.document_id.date","type":"PATENT","camelKey":"","label":"Extended Family Member Publication Date","example":"2009-05-22","definition":"The publication date of the extended family member","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":181,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.extended.member.document_id.doc_number","type":"PATENT","camelKey":"","label":"Extended Family Member Document Number","example":"\\"1117265\\"","definition":"The document number of the extended family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":182,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.extended.member.document_id.kind","type":"PATENT","camelKey":"","label":"Extended Family Member Kind Code","example":"\\"B2\\"","definition":"The kind code of the extended family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":false,"fieldOrder":183,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.extended.member.lens_id","type":"PATENT","camelKey":"","label":"Extended Family Member Lens Id","example":"\\"106-213-498-661-220\\"","definition":"The Lens Id of the extended family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":184,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.extended.size","type":"PATENT","camelKey":"","label":"Extended Family Size","example":"12","definition":"The number of extended family member documents","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":185,"excludedTips":false},{"key":"family.simple.id","type":"PATENT","filterName":"familyId","uniqueCount":"74,726,126","uniqueCountShort":"74.7M","uniqueCountLabel":"Simple Patent Families","camelKey":"simpleFamilyKeys","excludedAnalysis":true,"label":"Simple Family Id","example":"","definition":"INTERNAL ONLY","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":true,"fieldOrder":186,"excludedTips":false},{"key":"family.simple.member.document_id.jurisdiction","type":"PATENT","camelKey":"","label":"Simple Family Member Jurisidiction","example":"\\"EP\\"","definition":"The jurisdiction of the simple family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":false,"fieldOrder":187,"excludedTips":false,"filterName":"fj","excludedAnalysis":true,"isMulti":true},{"key":"family.simple.member.document_id.date","type":"PATENT","camelKey":"","label":"Simple Family Member Publication Date","example":"2009-05-22","definition":"The publication date of the simple family member","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":188,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.simple.member.document_id.doc_number","type":"PATENT","camelKey":"","label":"Simple Family Member Document Number","example":"\\"1117265\\"","definition":"The document number of the simple family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":189,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.simple.member.document_id.kind","type":"PATENT","camelKey":"","label":"Simple Family Member Kind Code","example":"\\"B2\\"","definition":"The kind code of the simple family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":true,"excludeSupport":false,"fieldOrder":190,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.simple.member.lens_id","type":"PATENT","camelKey":"","label":"Simple Family Member Lens Id","example":"\\"106-213-498-661-220\\"","definition":"The Lens Id of the simple family member","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":191,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"family.simple.size","type":"PATENT","camelKey":"simpleFamilySize","label":"Simple Family Size","example":"5","definition":"The number of simple family member documents","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Families","excludedSearch":false,"excludeSupport":false,"fieldOrder":192,"excludedTips":false},{"key":"applicant.address","type":"PATENT","camelKey":"","label":"Applicant Address","example":"\\"TORONTO, ONTARIA, CA\\"","definition":"The applicant address as recorded on the patent.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":false,"excludeSupport":false,"fieldOrder":197,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"applicant.address.unstemmed","type":"PATENT","camelKey":"","label":"Applicant Address Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":true,"excludeSupport":true,"fieldOrder":198,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"applicant.app_type","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Applicant Entity Type","example":"\\"applicant\\", \\"applicant-inventor\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":true,"excludeSupport":true,"fieldOrder":193,"excludedTips":false,"isMulti":true},{"key":"applicant.name","type":"PATENT","camelKey":"","label":"Applicant Name","example":"\\"CPS Technology Holdings LLC\\"","definition":"The patent applicant(s) name.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":194,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"applicant.residence","type":"PATENT","camelKey":"","label":"Applicant Country","example":"\\"CA\\"","definition":"The country of the applicant (ISO 2-digit country code)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":false,"excludeSupport":false,"fieldOrder":199,"excludedTips":false,"filterName":"applicantCountry","isMulti":true},{"key":"applicant.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Applicant Sequence","example":"1","definition":"The sequence number of the applicant as listed on the patent.","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":true,"excludeSupport":true,"fieldOrder":200,"excludedTips":false,"isMulti":true},{"key":"applicant_count","type":"PATENT","camelKey":"","label":"Applicant Count","example":"2","definition":"The number of applicants","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":false,"excludeSupport":false,"fieldOrder":201,"excludedTips":false},{"key":"inventor.address","type":"PATENT","camelKey":"","label":"Inventor Address","example":"\\"TORONTO, ONTARIA, CA\\"","definition":"The address of the inventor","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":false,"excludeSupport":false,"fieldOrder":205,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"inventor.address.unstemmed","type":"PATENT","camelKey":"","label":"Inventor Address Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":true,"excludeSupport":true,"fieldOrder":206,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"inventor.name","type":"PATENT","camelKey":"inventors","excludedAnalysis":true,"label":"Inventor Name","example":"\\"Engebretson Steven P\\"","definition":"The patent inventor(s) name.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":202,"excludedTips":false,"isMulti":true},{"key":"inventor.residence","type":"PATENT","camelKey":"","label":"Inventor Country","example":"\\"DE\\"","definition":"The country of residence of the inventor (ISO 2-digit country code)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":false,"excludeSupport":false,"fieldOrder":207,"excludedTips":false,"filterName":"inventorCountry","isMulti":true},{"key":"inventor.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Inventor Sequence","example":"1","definition":"The sequence number of the inventor as listed on the patent.","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":true,"excludeSupport":true,"fieldOrder":208,"excludedTips":false,"isMulti":true},{"key":"inventor_count","type":"PATENT","camelKey":"","label":"Inventor Count","example":"3","definition":"The number of inventors","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":false,"excludeSupport":false,"fieldOrder":209,"excludedTips":false},{"key":"owner_all.address","type":"PATENT","camelKey":"","label":"Owner Address","example":"\\"TORONTO, ONTARIA, CA\\"","definition":"The owner address as recorded on the patent or legal event.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":213,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"owner_all.address.unstemmed","type":"PATENT","camelKey":"","label":"Owner Address Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":true,"excludeSupport":true,"fieldOrder":214,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"owner_all.country","type":"PATENT","camelKey":"","label":"Owner Country","example":"\\"US\\"","definition":"The owner\'s country code (ISO 2-digit country code).","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":215,"excludedTips":false,"filterName":"ownerCountry","isMulti":true},{"key":"owner_all.execution_date","type":"PATENT","camelKey":"","label":"Owner Execution Date","example":"2009-05-22","definition":"The date of execution of ownership / assignment","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":217,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"owner_all.name","type":"PATENT","camelKey":"owners","excludedAnalysis":true,"label":"Owner Name","example":"\\"CPS Technology Holdings LLC\\"","definition":"The patent owner(s) name","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"facetSearch":true,"chooseMore":true,"excludeSupport":false,"fieldOrder":210,"excludedTips":false,"isMulti":true},{"key":"owner_all.name.keyword","type":"PATENT","filterName":"owner","camelKey":"","label":"Owner Name","example":"\\"CPS Technology Holdings LLC\\"","definition":"The patent owner(s) name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":true,"facetSearch":true,"chooseMore":true,"excludeSupport":true,"fieldOrder":211,"excludedTips":false,"uniqueCountLabel":"Owners","uniqueCount":"0","uniqueCountShort":0,"isMulti":true,"excludedAnalysis":true},{"key":"owner_all.recorded_date","type":"PATENT","camelKey":"","label":"Owner Record Date","example":"2009-05-22","definition":"The ownership / assignment event record date.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":216,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"owner_all.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":true,"excludeSupport":true,"fieldOrder":218,"excludedTips":false,"isMulti":true},{"key":"owner_all_count","type":"PATENT","camelKey":"","label":"Owner Count","example":"","definition":"The count of all owners of the patent. N.B. Includes current and former owners.","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":219,"excludedTips":false},{"key":"cited_by.patent.document_id.jurisdiction","type":"PATENT","camelKey":"","label":"Citing Patent Jurisidiction","example":"EP","definition":"The jurisdiction of the citing patent","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":221,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"cited_by.patent.document_id.doc_number","type":"PATENT","camelKey":"","label":"Citing Patent Document Number","example":"\\"EP2020/063503\\"","definition":"The document number of the citing patent","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":222,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"cited_by.patent.document_id.kind","type":"PATENT","camelKey":"","label":"Citing Patent Kind Code","example":"\\"B2\\"","definition":"The kind code of the citing patent.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":223,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"cited_by.patent.lens_id","type":"PATENT","camelKey":"","label":"Citing Patent Lens Id","example":"008-840-176-449-446","definition":"The Lens Id of the citing patent.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":224,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"cited_by.patent_count","type":"PATENT","camelKey":"citedByPatentCount","label":"Cited By Patent Count","example":"10","definition":"The count of citing patents (Cited by patent count)","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":225,"excludedTips":false},{"key":"reference_cited.npl.category","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"NPL Document Category","example":"\\"X\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":229,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.cited_date","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"NPL Citation Date Added","example":"2009-05-22","definition":"Date the NPL citation was added.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":230,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.cited_phase","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"NPL Document Phase","example":"\\"Examination\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":231,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.external_id","type":"PATENT","camelKey":"externalCitationsIds","excludedAnalysis":true,"label":"Cited NPL External Citation Identifier","example":"[\\"10.1038/nature03090\\"; \\"12345678919\\"]","definition":"The resolved external identifier(s) for cited non-patent literature (DOI, PubMed ID, PubMed Central ID or Microsoft Aacademic ID)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":232,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.lens_id","type":"PATENT","uniqueCount":"10,767,245","uniqueCountShort":"10.8M","uniqueCountLabel":"Resolved Scholarly Citations","camelKey":"nplLensId","excludedAnalysis":true,"label":"Cited NPL Lens ID","example":"\\"168-663-423-050-326\\"","definition":"The Lens Id of the resolved non-patent literature citations (i.e. scholarly work Lens Id)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":233,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.lens_id_num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":234,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.name","type":"PATENT","camelKey":"nonPatentCitations","excludedAnalysis":true,"label":"NPL Citation String","example":"\\"Cormen et al., \\\\\\"Introduction to Algorithms (MIT Electrical Engineering and Computer Science Series,\\\\\\" MIT Press, ISBN 0262031418, pp. 665-667, 695-697.\\"","definition":"The original non patent citation string","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":235,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.npl_type","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":237,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":238,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.record_lens_id","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Cited Works","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":239,"excludedTips":false,"filterName":"npl","isMulti":true},{"key":"reference_cited.npl.record_lens_id_num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":240,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Cited NPL Sequence","example":"","definition":"The sequence of the non-patent citation string","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":241,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.srep_office","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"NPL Data Source","example":"\\"EPO\\", \\"PatentsView\\", \\"USPTO\\", \\"Reliance on Science in Patenting\\", etc.","definition":"The data source of the NPL citation","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":242,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.text","type":"PATENT","camelKey":"","label":"Cited NPL Citation Text","example":"\\"Cormen et al., \\\\\\"Introduction to Algorithms (MIT Electrical Engineering and Computer Science Series,\\\\\\" MIT Press, ISBN 0262031418, pp. 665-667, 695-697.\\"","definition":"The original unresolved non-patent literature citation text","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":243,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.npl.text.unstemmed","type":"PATENT","camelKey":"","label":"Cited NPL Citation Text Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":244,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.npl.us_category","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"NPL Document Category","example":"\\"X\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":245,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl.xp_number","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"EPO citation number","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":246,"excludedTips":false,"isMulti":true},{"key":"reference_cited.npl_count","type":"PATENT","camelKey":"nonPatentCitationCount","label":"Cited NPL Count","example":"2","definition":"The number of original non-patent literature citations.","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":247,"excludedTips":false},{"key":"reference_cited.patent.category","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Cited Patent Category","example":"\\"Cited by Examiner\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":248,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.lens_id","type":"PATENT","filterName":"citingId","camelKey":"citesPatentKeys","excludedAnalysis":true,"label":"Cited Patent Lens Id","example":"","definition":"The Lens Id of the cited patent.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":249,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.cited_date","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Cited Patent Citation Date","example":"2009-05-22","definition":"Date the patent citation was added.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":250,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.cited_phase","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Cited Patent Citation Phase","example":"\\"Examination\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":251,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.document_id.jurisdiction","type":"PATENT","camelKey":"","label":"Cited Patent Jurisidiction","example":"\\"US\\"","definition":"The jurisdiction of the cited patent","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":252,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.patent.document_id.date","type":"PATENT","camelKey":"","label":"Cited Patent Publication Date","example":"2009-05-22","definition":"The publication date of the cited patent","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":253,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.patent.document_id.doc_number","type":"PATENT","camelKey":"","label":"Cited Patent Document Number","example":"\\"4590964\\"","definition":"The document number of the cited patent","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":254,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.patent.document_id.kind","type":"PATENT","camelKey":"","label":"Cited Patent Kind Code","example":"\\"A\\"","definition":"The kind code of the cited patent","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":255,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"reference_cited.patent.document_id.name","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":256,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.name","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Patent Citation String","example":"\\"4,881,168 * 11/1989 Inagami et al. …................... 712/5\\"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":258,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.num","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":260,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":261,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.srep_office","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":262,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent.us_category","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Patent Document Category","example":"\\"Cited by Examiner\\"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":263,"excludedTips":false,"isMulti":true},{"key":"reference_cited.patent_count","type":"PATENT","camelKey":"citesPatentCount","label":"Cited Patent Count","example":"21","definition":"Number of patents documents cited a given patent","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":264,"excludedTips":false},{"key":"reference_cited.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludeSupport":true,"fieldOrder":265,"excludedTips":false},{"key":"reference_cited.npl_resolved_count","type":"PATENT","camelKey":"","label":"Cited Resolved Scholarly Works Count","example":"12","definition":"The number of resolved scholalry works cited by a patent","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludeSupport":false,"fieldOrder":266,"excludedTips":false},{"key":"legal_status.discontinuation_date","type":"PATENT","camelKey":"","label":"Discontinuation Date","example":"2009-05-22","definition":"The discontinuation date of the patent due to \\"unnatural death\\" (i.e. lapse, withdrawn, abandoned). N.B. The patent can be revived within a certain time frame.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":269,"excludedTips":false,"excludedAnalysis":true},{"key":"legal_status.ipr_type","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"IP Right Type","example":"\\"patent of addition\\"","definition":"IP right type (\\"patent for invention\\", \\"utility model\\", \\"patent of addition\\", \\"patent of improvement\\", \\"patent of importation\\", \\"plant patent\\", \\"inventor\'s certificate\\", \\"inventor\'s certificate of addition\\", \\"utility certificate\\", \\"utility certificate of additon\\", \\"design\\", \\"industrial model\\", \\"OTHER\\")","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":true,"excludeSupport":true,"fieldOrder":273,"excludedTips":false},{"key":"legal_status.patent_status","type":"PATENT","camelKey":"","label":"Legal Status","example":"\\"expired\\", \\"inactive\\", \\"active\\", \\"patented\\", \\"discontinued\\", \\"withdrawn or rejected\\", \\"pending\\", \\"A\\"unknown\\"","definition":"The calculated legal status of the patent application","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":274,"excludedTips":false,"filterName":"patentStatus"},{"key":"legal_status.has_spc","type":"PATENT","camelKey":"","label":"Has SPC","example":true,"definition":"Indicates if the patent has a supplementary protection certificate","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Legal Events","excludedSearch":false,"excludeSupport":false,"fieldOrder":276,"excludedTips":false,"uniqueCount":"9,088","uniqueCountShort":"9.1K"},{"key":"agent.address","type":"PATENT","camelKey":"","label":"Agent Address","example":"\\"20 Red Lion Street, GB-London WC1R 4PJ(GB)\\"","definition":"The agent/attorney address as recorded on the patent.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":false,"excludeSupport":false,"fieldOrder":280,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"agent.address.unstemmed","type":"PATENT","camelKey":"","label":"Agent Address Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":true,"excludeSupport":true,"fieldOrder":281,"excludedTips":false,"excludedAnalysis":true,"isMulti":true},{"key":"agent.country","type":"PATENT","camelKey":"","label":"Agent Country","example":"\\"GB\\"","definition":"The country of the agent/attorney (ISO 2-digit country code)","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":false,"excludeSupport":false,"fieldOrder":282,"excludedTips":false,"filterName":"agentCountry","isMulti":true},{"key":"agent.name","type":"PATENT","camelKey":"","label":"Agent Name","example":"\\"Chapman, Paul William et al.\\"","definition":"The agent/attorney name","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":false,"excludeSupport":false,"fieldOrder":277,"excludedTips":false,"excludedAnalysis":true,"facetSearch":true,"chooseMore":true,"isMulti":true},{"key":"agent.name.keyword","type":"PATENT","camelKey":"","label":"Agent Name","example":"\\"Paul Chapman\\"","definition":"The patent agent/attorney name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":true,"excludeSupport":true,"fieldOrder":278,"excludedTips":false,"facetSearch":true,"chooseMore":true,"uniqueCount":"0","uniqueCountShort":0,"filterName":"agentName","isMulti":true,"uniqueCountLabel":"Agents","excludedAnalysis":true},{"key":"agent.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":true,"excludeSupport":true,"fieldOrder":283,"excludedTips":false,"isMulti":true},{"key":"agent_count","type":"PATENT","camelKey":"","label":"Agent Count","example":"","definition":"The number of agents/attorneys listed on the patent.","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":false,"excludeSupport":false,"fieldOrder":284,"excludedTips":false},{"key":"class_cpc.action_date","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":299,"excludedTips":false,"isMulti":true},{"key":"class_cpc.add_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Additional CPC Classification Code","example":"\\"A61F9/00781\\"","definition":"CPC classification codes identified as additional information","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":298,"excludedTips":false,"isMulti":true},{"key":"class_cpc.class_data_source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":300,"excludedTips":false,"isMulti":true},{"key":"class_cpc.class_status","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":301,"excludedTips":false,"isMulti":true},{"key":"class_cpc.class_symbol_position","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":302,"excludedTips":false,"isMulti":true},{"key":"class_cpc.class_value","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":303,"excludedTips":false,"isMulti":true},{"key":"class_cpc.first_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"First CPC Classification Code","example":"\\"A61K9/0051\\"","definition":"First CPC classifiction code","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":295,"excludedTips":false,"isMulti":true},{"key":"class_cpc.generating_office","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":304,"excludedTips":false,"isMulti":true},{"key":"class_cpc.inv_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Invention CPC Classification Code","example":"\\"A61K9/0051\\"","definition":"CPC classification codes identified as invention information","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":297,"excludedTips":false,"isMulti":true},{"key":"class_cpc.later_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Later CPC Classification Code","example":"\\"A61L31/143\\"","definition":"Later CPC classifiction codes","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":296,"excludedTips":false,"isMulti":true},{"key":"class_cpc.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":305,"excludedTips":false,"isMulti":true},{"key":"class_cpc.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":306,"excludedTips":false,"isMulti":true},{"key":"class_cpc.symbol","type":"PATENT","filterName":"classCpc","camelKey":"cpcClassifications","excludedAnalysis":false,"label":"CPC Classification Code","example":"\\"H01R11/01\\"","definition":"CPC patent classification codes","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":294,"excludedTips":false,"uniqueCount":"251,917","uniqueCountShort":"251.9K","isMulti":true},{"key":"class_cpc.version_indicator","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":307,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.action_date","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":308,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.class_data_source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":309,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.class_status","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":310,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.class_symbol_position","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":311,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.class_value","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":312,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.generating_office","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":313,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":314,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":315,"excludedTips":false,"isMulti":true},{"key":"class_cpc_cset.class_cpc.version_indicator","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":316,"excludedTips":false,"isMulti":true},{"key":"class_ipc.edition","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":317,"excludedTips":false,"isMulti":true},{"key":"class_ipc.later_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":318,"excludedTips":false,"isMulti":true},{"key":"class_ipc.main_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":319,"excludedTips":false,"isMulti":true},{"key":"class_ipc.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":320,"excludedTips":false,"isMulti":true},{"key":"class_ipc.symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":321,"excludedTips":false,"isMulti":true},{"key":"class_ipc.text","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":322,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.action_date","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":328,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.add_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Additional IPCR Classification Code","example":"\\"F21Y115/10\\"","definition":"IPCR classification codes identified as additional information","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":327,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.class_data_source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":329,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.class_status","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":330,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.class_symbol_position","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":331,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.class_value","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":332,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.first_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"First IPCR Classification Code","example":"\\"G06F17/30\\"","definition":"First IPCR classifiction code","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":324,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.generating_office","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":333,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.inv_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Invention IPCR Classification Code","example":"\\"A61K38/00\\"","definition":"IPCR classification codes identified as invention information","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":326,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.later_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"Later IPCR Classification Code","example":"\\"A61P35/00\\"","definition":"Later IPCR classifiction codes","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"excludeSupport":false,"fieldOrder":325,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.sequence","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"integer","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":334,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":335,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.symbol","type":"PATENT","filterName":"classIpcr","camelKey":"ipcrClassifications","excludedAnalysis":false,"label":"IPCR Classification Code","example":"\\"H01R13/115\\"","definition":"IPCR patent classification codes","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":323,"excludedTips":false,"isMulti":true},{"key":"class_ipcr.version_indicator","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":336,"excludedTips":false,"isMulti":true},{"key":"class_national.first_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":337,"excludedTips":false,"isMulti":true},{"key":"class_national.later_symbol","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":338,"excludedTips":false,"isMulti":true},{"key":"class_national.source","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":339,"excludedTips":false,"isMulti":true},{"key":"class_national.symbol","type":"PATENT","filterName":"classNat","camelKey":"natClassifications","excludedAnalysis":false,"label":"US Classification Code","example":"\\"439/535\\"","definition":"US patent classification codes","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":false,"chooseMore":true,"excludeSupport":false,"fieldOrder":340,"excludedTips":false,"isMulti":true},{"key":"class_national.symbol_position","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Classifications","excludedSearch":true,"excludeSupport":true,"fieldOrder":341,"excludedTips":false,"isMulti":true},{"key":"sequence.data_source","type":"PATENT","camelKey":"","label":"Sequence Data Source","example":"\\"DDBJPAT\\", \\"EMBLPAT_EBI\\", \\"USPTO_FULLTEXT_RB\\", \\"EP_SEQL\\", \\"GBPAT_NCBI\\", \\"WIPO_SEQL\\", \\"GBPAT_EBI\\", \\"CIPO_BSL\\", \\"GBPAT_DDBJ\\", \\"USPTO_FULLTEXT_GB\\", \\"USPTO_PSIPS\\", \\"DE_MEGA\\", \\"EP_MEGA\\"","definition":"The data source of the disclosed sequence. \\"DDBJPAT\\": DDBJ patent division, \\"EMBLPAT_EBI\\": EMBL-EBI patent division, \\"USPTO_FULLTEXT_RB\\": USPTO full-text, \\"EP_SEQL\\": EPO, \\"GBPAT_NCBI\\": GenBank patent division, \\"WIPO_SEQL\\": WIPO, \\"GBPAT_EBI\\", \\"CIPO_BSL\\": CIPO, \\"GBPAT_DDBJ\\", \\"USPTO_FULLTEXT_GB\\", \\"USPTO_PSIPS\\", \\"DE_MEGA\\", \\"EP_MEGA\\".","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":346,"excludedTips":false,"excludedAnalysis":true},{"key":"sequence.document_location","type":"PATENT","camelKey":"","label":"Sequence Document Location","example":"\\"DDESC\\", \\"CLAIM\\", \\"BSUMM\\", \\"BDRAW\\", \\"WDESC\\"","definition":"The patent document section of the disclosed sequence(s): \\"DDESC\\": detailed description, \\"CLAIM\\": claims, \\"BSUMM\\": summary, \\"BDRAW\\": drawings, \\"WDESC\\": full-text","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":347,"excludedTips":false,"excludedAnalysis":true},{"key":"sequence.length_bucket","type":"PATENT","camelKey":"sequenceLength","label":"Sequence Length Range","example":"\\"NT_1_100\\", \\"NT_101_5000\\", \\"NT_5001_100000\\", \\"NT_100001\\", \\"AA_1_50\\", \\"AA_51_300\\", \\"AA_301\\"","definition":"Preset sequence length range (nucleotide: \\"0-100\\", \\"101-5000\\", \\"5001-100k\\", \\">100k\\"; Peptide: \\"0-50\\", \\"51-300\\", \\">300\\")  e.g \\"NT_101_5000\\", \\"AA_301\\"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":348,"excludedTips":false,"excludedAnalysis":true},{"key":"sequence.seq_list_key","type":"PATENT","camelKey":"","excludedAnalysis":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":true,"excludeSupport":true,"fieldOrder":349,"excludedTips":false},{"key":"sequence.tax_id","type":"PATENT","filterName":"so","camelKey":"sequenceOrganismTaxid","label":"Biological Organism Tax Id","example":"9616","definition":"The NCBI taxonomic identifier of the organism which the biological sequence is from.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":350,"excludedTips":false,"uniqueCountLabel":"Organisms","uniqueCount":"0","uniqueCountShort":0,"excludedAnalysis":true,"isMulti":true,"facetSearch":true},{"key":"sequence.type","type":"PATENT","filterName":"sat","camelKey":"sequenceType","excludedAnalysis":true,"label":"Sequence Type","example":"\\"N\\", \\"RNA\\", \\"DNA\\", \\"P\\"","definition":"The type of sequence e.g. N - nucleotide (including DNA and RNA sub-types), P - peptides/proteins.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":353,"excludedTips":false},{"key":"applicant.name.exact","type":"PATENT","filterName":"applicant","camelKey":"applicants","label":"Applicant Name Exact","example":"\\"CPS TECHNOLOGY HOLDINGS LLC\\"","definition":"The patent applicant(s) name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Applicants","excludedSearch":false,"excludeSupport":false,"fieldOrder":196,"excludedTips":false,"isMulti":true,"facetSearch":true,"uniqueCountLabel":"Applicants","chooseMore":true,"uniqueCount":"15,804,344","uniqueCountShort":"15.8M","quickAnalysisDashboardId":"7111","quickAnalysisDashboardLabel":"Applicants"},{"key":"inventor.name.exact","type":"PATENT","camelKey":"","label":"Inventor Name Exact","example":"\\"ENGEBRETSON STEVEN P\\"","definition":"The patent inventor(s) name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Inventors","excludedSearch":false,"excludeSupport":false,"fieldOrder":204,"excludedTips":false,"isMulti":true,"facetSearch":true,"filterName":"inventor","uniqueCountLabel":"Inventors","chooseMore":true,"uniqueCount":"27,465,223","uniqueCountShort":"27.5M","quickAnalysisDashboardId":"7112","quickAnalysisDashboardLabel":"Inventors"},{"key":"owner_all.name.exact","type":"PATENT","filterName":"owner","camelKey":"","label":"Owner Name Exact","example":"\\"CPS Technology Holdings LLC\\"","definition":"The patent owner(s) name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Owners","excludedSearch":false,"excludeSupport":false,"fieldOrder":212,"excludedTips":false,"isMulti":true,"facetSearch":true,"uniqueCountLabel":"Owners","chooseMore":true,"uniqueCount":"1,495,801","uniqueCountShort":"1.5M","quickAnalysisDashboardId":"7114","quickAnalysisDashboardLabel":"Owners"},{"key":"agent.name.exact","type":"PATENT","camelKey":"","label":"Agent Name Exact","example":"\\"Paul Chapman\\"","definition":"The patent agent/attorney name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Agents & Attorneys","excludedSearch":false,"excludeSupport":false,"fieldOrder":279,"excludedTips":false,"isMulti":true,"facetSearch":true,"filterName":"agentName","uniqueCountLabel":"Agents","uniqueCount":"318,916","uniqueCountShort":"318.9K"},{"key":"earliest_priority_claim_date","type":"PATENT","label":"Earliest Priority Date","example":"2009-05-22","definition":"The earliest date of filing of a patent application, anywhere in the world, to protect an invention. The priority date may be earlier than the actual filing date of an application if an application claims priority to an earlier parent application, then its earliest priority date may be the same as the parent.","fieldType":"date","caseSensitive":"","filterGroup":"","group":"Priority","excludedSearch":false,"excludeSupport":false,"fieldOrder":152,"excludedTips":false},{"key":"has_inpadoc","type":"PATENT","label":"Has Legal Events","example":true,"definition":"Indicates if the patent document has associated legal events in INPADOC","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":166,"excludedTips":false,"filterName":"hasInpadoc","uniqueCount":"93,004,521","uniqueCountShort":"93M"},{"key":"type","type":"PATENT","label":"Document Type","example":"\\"Granted Patent\\"","definition":"Type of patent document","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"General","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":129,"excludedTips":false},{"key":"full_text","type":"PATENT","label":"Full Text","example":"","definition":"The full text of the patent document.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":177,"excludedTips":false},{"key":"full_text.unstemmed","type":"PATENT","label":"Full Text Unstemmed","example":"","definition":"","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Text Fields","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":178,"excludedTips":false},{"key":"sequence.organism.name.exact","filterName":"sequenceName","type":"PATENT","label":"Biological Organism Name Exact ","example":"\\"Homo sapiens\\"","definition":"The name of the organism which the biological sequence is from.  N.B. Use this field for exact organism name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludeSupport":false,"fieldOrder":352,"excludedTips":false,"isMulti":true,"facetSearch":true},{"key":"in_analytics_set","type":"SCHOLAR","label":"Analytics Set","example":true,"definition":"Indicates if the scholarly work is part of the analytic dataset.","fieldType":"boolean","caseSensitive":"","filterGroup":"Flags","group":"General","excludedSearch":false,"excludeSupport":false,"fieldOrder":20,"excludedTips":false,"uniqueCount":"106,585,490","uniqueCountShort":"106.6M","uniqueCountLabel":"Analytics Set","filterName":"inAnalyticsSet"},{"key":"sequence.organism.name","type":"PATENT","isMulti":true,"filterName":"sequenceName","label":"Biological Organism Name","example":"\\"Homo sapiens\\"","definition":"The name of the organism which the biological sequence is from.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Sequences","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":351,"excludedTips":false,"facetSearch":true},{"key":"reference.lens_id","type":"SCHOLAR","isMulti":true,"label":"Reference Lens Id","example":"007-899-176-416-740","definition":"The Lens ID of scholarly works cited in the reference list","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":47,"excludedTips":false},{"key":"reference_cited.npl.name.exact","type":"PATENT","isMulti":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":236,"excludedTips":false},{"key":"reference_cited.patent.document_id.name.exact","type":"PATENT","isMulti":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":257,"excludedTips":false},{"key":"reference_cited.patent.name.exact","type":"PATENT","isMulti":true,"label":"","example":"","definition":"","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Citations","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":259,"excludedTips":false},{"key":"has_examiner","type":"PATENT","filterName":"hasExaminer","label":"Has Examiner","example":true,"definition":"Indicates if the patent record has examiner information","fieldType":"boolean","caseSensitive":"","filterGroup":"","group":"Flags","excludedSearch":false,"excludeSupport":false,"fieldOrder":165,"excludedTips":false,"uniqueCount":"7,342,199","uniqueCountShort":"7.3M"},{"key":"examiner.name","type":"PATENT","isMulti":true,"label":"Examiner Name","example":"\\"Jack W Keith\\"","definition":"The patent examiner name.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":285,"excludedTips":false},{"key":"examiner.name.exact","type":"PATENT","isMulti":true,"label":"Examiner Name Exact","example":"\\"Jack W Keith\\"","definition":"The patent examiner name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludeSupport":false,"fieldOrder":286,"excludedTips":false},{"key":"examiner.department","type":"PATENT","isMulti":true,"label":"Examiner Department","example":"\\"3646\\"","definition":"The patent examiner department.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":287,"excludedTips":false},{"key":"primary_examiner.name","type":"PATENT","label":"Primary Examiner Name","example":"\\"Jack W Keith\\"","definition":"The primary patent examiner name.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":288,"excludedTips":false},{"key":"primary_examiner.name.exact","type":"PATENT","label":"Primary Examiner Name Exact","example":"\\"Jack W Keith\\"","definition":"The primary patent examiner name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludeSupport":false,"fieldOrder":289,"excludedTips":false},{"key":"primary_examiner.department","type":"PATENT","label":"Primary Examiner Department","example":"\\"3646\\"","definition":"The primary patent examiner department.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":290,"excludedTips":false},{"key":"assistant_examiner.name","type":"PATENT","label":"Assistant Examiner Name","example":"\\"Lily C Garner\\"","definition":"The assistant patent examiner name.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludedAnalysis":true,"excludeSupport":false,"fieldOrder":291,"excludedTips":false},{"key":"assistant_examiner.name.exact","type":"PATENT","label":"Assistant Examiner Name Exact","example":"\\"Lily C Garner\\"","definition":"The assistant patent examiner name. N.B. Use this field for exact name matches.","fieldType":"keyword","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":false,"excludeSupport":false,"fieldOrder":292,"excludedTips":false},{"key":"assistant_examiner.department","type":"PATENT","label":"Assistant Examiner Department","example":"\\"3646\\"","definition":"The assistant patent examiner department.","fieldType":"text","caseSensitive":"","filterGroup":"","group":"Examiners","excludedSearch":true,"excludedAnalysis":true,"excludeSupport":true,"fieldOrder":293,"excludedTips":false}]')},function(e,t,n){var i,a=a||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in i,r=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,d){d||(t=c(t));var p,f=this,m="application/octet-stream"===t.type,h=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var a=e["on"+t[i]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){s(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,a)return p=n().createObjectURL(t),void setTimeout((function(){var e,t;i.href=p,i.download=u,e=i,t=new MouseEvent("click"),e.dispatchEvent(t),h(),l(p),f.readyState=f.DONE}));!function(){if((o||m&&r)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=o?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,h()},i.readAsDataURL(t),void(f.readyState=f.INIT)}(p||(p=n().createObjectURL(t)),m)?e.location.href=p:e.open(p,"_blank")||(e.location.href=p);f.readyState=f.DONE,h(),l(p)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=a:null!==n(319)&&null!==n(320)&&(void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={scholar:{"author.affiliation.name.keyword":"fa-university","author.affiliation.grid.address.country_code":"fa-map-marker-alt","author.display_name_id":"fa-user","author_first.display_name_id":"fa-user","author_last.display_name_id":"fa-user","author.display_name.keyword":"fa-user","author_first.display_name.keyword":"fa-user","author_last.display_name.keyword":"fa-user",citation_id_type:"fa-fingerprint","funding.organisation.keyword":"fa-money-bill-alt","source.title.keyword":"fa-quote-left","source.title":"fa-quote-left","conference.name.keyword":"fa-podium-star",publication_type:"fa-book","source.publisher.keyword":"fa-books",Citations:"fa-quote-left",General:"fa-flag",Authors:"fa-user","External Identifiers":"fa-fingerprint",Source:"fa-quote-left","Subject Matter":"fa-tasks",Institutions:"fa-university",Funding:"fa-money-bill-alt",Conferences:"fa-podium-star","Clinical Trials":"fa-notes-medical","Open Access":"fa-lock-open","open_access.colour":"fa-lock-open","open_access.license":"fa-lock-open",referenced_by_count:"fa-quote-left",referenced_by_patent_count:"fa-quote-left"},patent:{"applicant.name.exact":"fa-user-check","agent.name.exact":"fa-user-edit",jurisdiction:"fa-map-marker-alt","inventor.name.exact":"fa-user-cog","legal_status.patent_status":"fa-gavel",kind:"fa-sort-numeric-up-alt","owner_all.name.exact":"fa-user-tie",publication_type:"fa-book","reference_cited.npl.record_lens_id":"fa-books","sequence.organism.name.exact":"fa-dna","Agents & Attorneys":"fa-user-edit",Applicants:"fa-user-check",Application:"fa-book",Citations:"fa-quote-left",Classifications:"fa-tasks",Families:"fa-users",Flags:"fa-flag",General:"fa-flag",Internal:"fa-cog",Inventors:"fa-user-cog","Legal Events":"fa-gavel",Owners:"fa-user-tie",Examiners:"fa-user-shield",Priority:"fa-book",Sequences:"fa-dna","Text Fields":"fa-book"}}},function(e,t,n){var i=n(55),a=n(34);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}},function(e,t,n){var i=n(6),a=n(56),r=n(107),o=n(131);e.exports=function(e,t){return i(e)?e:a(e,t)?[e]:r(o(e))}},function(e,t,n){var i=n(6),a=n(27),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!r.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var i=n(110),a=n(126),r=n(128),o=n(129),s=n(130);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(14)(n(10),"Map");e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.aggs={dates:{date_histogram:{field:"date_published_sort",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},"source.publisher.keyword":{terms:{field:"source.publisher.keyword"}},"author.display_name_id":{terms:{field:"author.display_name_id"}},"author.display_name_orcid":{terms:{field:"author.display_name_orcid"}},"source.title.keyword":{terms:{field:"source.title.keyword"}},"author.affiliation.grid.address.country_code":{terms:{field:"author.affiliation.grid.address.country_code",size:200}},citation_id_type:{terms:{field:"citation_id_type"}},"conference.name.keyword":{terms:{field:"conference.name.keyword"}},"author.affiliation.name.keyword":{terms:{field:"author.affiliation.name.keyword"}},publication_type:{terms:{field:"publication_type",size:20}},"funding.organisation.keyword":{terms:{field:"funding.organisation.keyword"}},"open_access.colour":{terms:{field:"open_access.colour"}},"open_access.license":{terms:{field:"open_access.license"}}},t.subjectMatterAggs={"source.asjc_subject.keyword":{terms:{field:"source.asjc_subject.keyword"}},"mesh_term.mesh_heading":{terms:{field:"mesh_term.mesh_heading"}},"chemical.substance_name.keyword":{terms:{field:"chemical.substance_name.keyword"}},field_of_study:{terms:{field:"field_of_study"}},keyword:{terms:{field:"keyword"}}},t.profileScholarAggs={"Patent Citations":{sum:{field:"referenced_by_patent_count"}},"Scholarly Citations":{sum:{field:"referenced_by_count"}},dates:{date_histogram:{field:"date_published_sort",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},field_of_study:{terms:{field:"field_of_study"}},authors:{terms:{field:"author.display_name.keyword",size:50}},coauthors:{terms:{field:"author.display_name_orcid"}},is_open_access:{filter:{term:{is_open_access:!0}}},collaboration_index:{filter:{range:{affiliation_count:{gte:2}}}},collaboration_index_denominator:{filter:{range:{affiliation_count:{gte:1}}}}};var i=t.flagAggs={};["has_abstract","has_affiliation","has_chemical","has_clinical_trial","has_field_of_study","has_fulltext","has_funding","has_keyword","has_mesh_term","has_orcid","is_open_access","is_referenced_by_patent","is_referenced_by_scholarly","in_analytics_set"].forEach((function(e){var t,n,a;i[e]={filter:{term:(t={},n=e,a=!0,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)}}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformQuery=void 0;var i=n(9);t.transformQuery=function(e){return i.dateFilterKeys.forEach((function(t){if(_.get(e,t)){var n=_.get(e,t),i=t.split(".").shift();e[t]=n,e.dateFilterField=i}})),_.keys(e).forEach((function(t){var n=e[t];_.isObject(n)&&_.keys(n).forEach((function(i){"must"===i||"mustNot"===i?(e[t+"."+i]=n[i],delete e[t]):"userId"!==i&&"orcidId"!==i||(e[t+"."+i]=n[i])}))})),e.dateFilterField&&delete e[e.dateFilterField],e}},function(e,t,n){var i=n(224),a=n(355),r=n(81);e.exports=function(e){return r(e)?i(e):a(e)}},function(e,t,n){"use strict";var i,a="object"==typeof Reflect?Reflect:null,r=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,i){function a(n){e.removeListener(t,r),i(n)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}g(e,t,r,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,a,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var a,r,o,s;if(c(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),void 0===o)o=r[t]=n,++e._eventsCount;else if("function"==typeof o?o=r[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(a=u(e))>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=p.bind(i);return a.listener=n,i.wrapFn=a,a}function m(e,t,n){var i=e._events;if(void 0===i)return[];var a=i[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):y(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(r){i.once&&e.removeEventListener(t,a),n(r)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=y(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,a,r,o;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){o=n[r].listener,a=r;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(a=r[i])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return m(this,e,!0)},s.prototype.rawListeners=function(e){return m(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),a=n(7),r=n(13),o=n(1),s=n(3),l=n(4),c=n(40),u=n(49),d=n(95),p=n(180),f=n(66),m=n(42),h=n(50),y=n(67),g=n(39),v=l.prop("self"),b=function(){function e(e,t,n){var i=this;if(this._deferred=a.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new p.HookBuilder(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=t,!t.valid())throw new Error(t.error());this._options=o.extend({current:l.val(this)},t.options()),this.$id=n.transitionService._transitionCount++;var r=f.PathUtils.buildToPath(e,t);this._treeChanges=f.PathUtils.treeChanges(e,r,this._options.reloadState),this.createTransitionHookRegFns();var s=this._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.CREATE);u.TransitionHook.invokeHooks(s,(function(){return null})),this.applyViewConfigs(n)}return e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter((function(e){return e.hookPhase!==c.TransitionHookPhase.CREATE})).forEach((function(t){return d.makeEvent(e,e.router.transitionService,t)}))},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map((function(e){return e.state}));f.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},e.prototype.$from=function(){return o.tail(this._treeChanges.from).state},e.prototype.$to=function(){return o.tail(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!d.matchState(this.$to(),t.to)||t.from&&!d.matchState(this.$from(),t.from))},e.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(l.prop("paramValues")).reduce(o.mergeR,{}))},e.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=f.PathUtils.subPath(n,(function(t){return t.state===e||t.state.name===e}))),new y.ResolveContext(n).injector()},e.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new y.ResolveContext(this._treeChanges[e]).getTokens()},e.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=l.is(h.Resolvable)(e)?e:new h.Resolvable(e);var n="string"==typeof t?t:t.name,i=this._treeChanges.to,a=o.find(i,(function(e){return e.state.name===n}));new y.ResolveContext(i).addResolvables([e],a.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return o.map(this._treeChanges.entering,l.prop("state")).map(v)},e.prototype.exiting=function(){return o.map(this._treeChanges.exiting,l.prop("state")).map(v).reverse()},e.prototype.retained=function(){return o.map(this._treeChanges.retained,l.prop("state")).map(v)},e.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(l.propEq("state",t)):n).map(l.prop("views")).filter(o.identity).reduce(o.unnestR,[])},e.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},e.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var i={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(i.location="replace");var a=o.extend({},this.options(),e.options(),i);e=e.withOptions(a,!0);var r,s=this.router.transitionService.create(this._treeChanges.from,e),c=this._treeChanges.entering,u=s._treeChanges.entering;return f.PathUtils.matching(u,c,f.PathUtils.nonDynamicParams).filter(l.not((r=e.options().reloadState,function(e){return r&&e.state.includes[r.name]}))).forEach((function(e,t){e.resolvables=c[t].resolvables})),s},e.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&(!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length&&!o.arrayTuples(e.to,e.from).map((function(e){return e[0].state!==e[1].state})).reduce(o.anyTrueR,!1))){var t=e.to.map((function(e){return e.paramSchema})),n=[e.to,e.from].map((function(e){return e.map((function(e){return e.paramValues}))})),i=n[0],a=n[1];return o.arrayTuples(t,i,a).map((function(e){var t=e[0],n=e[1],i=e[2];return m.Param.changed(t,n,i)})).reduce(o.unnestR,[])}},e.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map((function(e){return e.dynamic})).reduce(o.anyTrueR,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var e=this.router.globals.transition,t=this._options.reloadState,n=function(e,n){if(e.length!==n.length)return!1;var i=f.PathUtils.matching(e,n);return e.length===i.filter((function(e){return!t||!e.state.includes[t.name]})).length},i=this.treeChanges(),a=e&&e.treeChanges();return a&&n(a.to,i.to)&&n(a.exiting,i.exiting)?"SameAsPending":0===i.exiting.length&&0===i.entering.length&&n(i.from,i.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,t=u.TransitionHook.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},r=n(c.TransitionHookPhase.BEFORE);return u.TransitionHook.invokeHooks(r,(function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),i.trace.traceTransitionStart(e),a.services.$q.when(void 0)})).then((function(){var e=n(c.TransitionHookPhase.RUN);return u.TransitionHook.invokeHooks(e,(function(){return a.services.$q.when(void 0)}))})).then((function(){i.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),t(n(c.TransitionHookPhase.SUCCESS))}),(function(a){i.trace.traceError(a,e),e.success=!1,e._deferred.reject(a),e._error=a,t(n(c.TransitionHookPhase.ERROR))})),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){s.isUndefined(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var e=this.$to();if(e.self.abstract)return g.Rejection.invalid("Cannot transition to abstract state '"+e.name+"'");var t=e.parameters(),n=this.params(),i=t.filter((function(e){return!e.validates(n[e.id])}));if(i.length){var a=i.map((function(e){return"["+e.id+":"+r.stringify(n[e.id])+"]"})).join(", "),o="The following parameter values are not valid for state '"+e.name+"': "+a;return g.Rejection.invalid(o)}return!1===this.success?this._error:void 0},e.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:o.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(s.isObject(e)?e.name:e)+"'"+r.stringify(n(this._treeChanges.from.map(l.prop("paramValues")).reduce(o.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(s.isObject(t)?t.name:t)+"'"+r.stringify(n(this.params()))+" )"},e.diToken=e,e}();t.Transition=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(41),o=n(96),s=function(){function e(){}return e.makeTargetState=function(e,t){var n=i.tail(t).state;return new r.TargetState(e,n,t.map(a.prop("paramValues")).reduce(i.mergeR,{}),{})},e.buildPath=function(e){var t=e.params();return e.$state().path.map((function(e){return new o.PathNode(e).applyRawParams(t)}))},e.buildToPath=function(t,n){var i=e.buildPath(n);return n.options().inherit?e.inheritParams(t,i,Object.keys(n.params())):i},e.applyViewConfigs=function(t,n,a){n.filter((function(e){return i.inArray(a,e.state)})).forEach((function(a){var r=i.values(a.state.views||{}),o=e.subPath(n,(function(e){return e===a})),s=r.map((function(e){return t.createViewConfig(o,e)}));a.views=s.reduce(i.unnestR,[])}))},e.inheritParams=function(e,t,n){void 0===n&&(n=[]);var r=e.map((function(e){return e.paramSchema})).reduce(i.unnestR,[]).filter((function(e){return!e.inherit})).map(a.prop("id"));return t.map((function(t){var s=i.extend({},t&&t.paramValues),l=i.pick(s,n);s=i.omit(s,n);var c,u,d,p=i.omit((c=e,u=t.state,d=i.find(c,a.propEq("state",u)),i.extend({},d&&d.paramValues)||{}),r),f=i.extend(s,p,l);return new o.PathNode(t.state).applyRawParams(f)}))},e.treeChanges=function(t,n,i){for(var a,r,o,s,l,c,u=Math.min(t.length,n.length),d=0;d<u&&t[d].state!==i&&(a=t[d],r=n[d],a.equals(r,e.nonDynamicParams));)d++;s=(o=t).slice(0,d),l=o.slice(d);var p=s.map((function(e,t){var i=e.clone();return i.paramValues=n[t].paramValues,i}));return c=n.slice(d),{from:o,to:p.concat(c),retained:s,retainedWithToParams:p,exiting:l,entering:c}},e.matching=function(e,t,n){var a=!1;return i.arrayTuples(e,t).reduce((function(e,t){var i=t[0],r=t[1];return(a=a||!i.equals(r,n))?e:e.concat(i)}),[])},e.equals=function(t,n,i){return t.length===n.length&&e.matching(t,n,i).length===t.length},e.subPath=function(e,t){var n=i.find(e,t),a=e.indexOf(n);return-1===a?void 0:e.slice(0,a+1)},e.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter((function(e){return!e.dynamic}))},e.paramValues=function(e){return e.reduce((function(e,t){return i.extend(e,t.paramValues)}),{})},e}();t.PathUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(24),o=n(7),s=n(181),l=n(50),c=n(66),u=n(13),d=n(12),p=s.resolvePolicies.when,f=[p.EAGER,p.LAZY],m=[p.EAGER];t.NATIVE_INJECTOR_TOKEN="Native Injector";var h=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce((function(e,t){return e.concat(t.resolvables.map((function(e){return e.token})))}),[]).reduce(i.uniqR,[])},e.prototype.getResolvable=function(e){var t=this._path.map((function(e){return e.resolvables})).reduce(i.unnestR,[]).filter((function(t){return t.token===e}));return i.tail(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(c.PathUtils.subPath(this._path,(function(e){return e.state===t})))},e.prototype.addResolvables=function(e,t){var n=i.find(this._path,a.propEq("state",t)),r=e.map((function(e){return e.token}));n.resolvables=n.resolvables.filter((function(e){return-1===r.indexOf(e.token)})).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var l=(i.inArray(f,e)?e:"LAZY")===s.resolvePolicies.when.EAGER?m:f;r.trace.traceResolvePath(this._path,e,t);var c=function(e,t){return function(a){return i.inArray(e,n.getPolicy(a)[t])}},u=this._path.reduce((function(e,i){var r=i.resolvables.filter(c(l,"when")),o=r.filter(c(["NOWAIT"],"async")),s=r.filter(a.not(c(["NOWAIT"],"async"))),u=n.subContext(i.state),d=function(e){return e.get(u,t).then((function(t){return{token:e.token,value:t}}))};return o.forEach(d),e.concat(s.map(d))}),[]);return o.services.$q.all(u)},e.prototype.injector=function(){return this._injector||(this._injector=new y(this))},e.prototype.findNode=function(e){return i.find(this._path,(function(t){return i.inArray(t.resolvables,e)}))},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),a=(c.PathUtils.subPath(this._path,(function(e){return e===n}))||this._path).reduce((function(e,t){return e.concat(t.resolvables)}),[]).filter((function(t){return t!==e}));return e.deps.map((function(e){var n=a.filter((function(t){return t.token===e}));if(n.length)return i.tail(n);var r=t.injector().getNative(e);if(d.isUndefined(r))throw new Error("Could not find Dependency Injection token: "+u.stringify(e));return new l.Resolvable(e,(function(){return r}),[],r)}))},e}();t.ResolveContext=h;var y=function(){function e(e){this.context=e,this.native=this.get(t.NATIVE_INJECTOR_TOKEN)||o.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+u.stringify(t.token));return t.data}return this.getNative(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):o.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(3),o=n(42),s=n(13);function l(e,t){var n=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return i+n[0]+t.type.pattern.source+n[1]}var c=s.splitOnDelim("/"),u=function(){function e(t,n,r,o){var s=this;this.config=o,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=i.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:i.identity});for(var c,u,d,p=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m=[],h=0,y=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(i.find(s._params,a.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},g=function(e,a){var r,o=e[2]||e[3],l=a?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:o,regexp:l,cfg:s.config.params[o],segment:t.substring(h,e.index),type:l?n.type(l)||(r=l,i.inherit(n.type(a?"query":"path"),{pattern:new RegExp(r,s.config.caseInsensitive?"i":void 0)})):null}};(c=p.exec(t))&&!((u=g(c,!1)).segment.indexOf("?")>=0);)y(u.id),this._params.push(r.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),m.push([u.segment,i.tail(this._params)]),h=p.lastIndex;var v=(d=t.substring(h)).indexOf("?");if(v>=0){var b=d.substring(v);if(d=d.substring(0,v),b.length>0)for(h=0;c=f.exec(b);)y((u=g(c,!0)).id),this._params.push(r.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),h=p.lastIndex}this._segments.push(d),this._compiled=m.map((function(e){return l.apply(null,e)})).concat(l(d))}return e.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,(function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()}))},e.pathSegmentsAndParams=function(e){var t=e._segments,n=e._params.filter((function(e){return e.location===o.DefType.PATH}));return i.arrayTuples(t,n.concat(void 0)).reduce(i.unnestR,[]).filter((function(e){return""!==e&&r.isDefined(e)}))},e.queryParams=function(e){return e._params.filter((function(e){return e.location===o.DefType.SEARCH}))},e.compare=function(t,n){var a=function(t){return t._cache.weights=t._cache.weights||function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(i.unnestR,[]).reduce(s.joinNeighborsR,[]).map((function(e){return r.isString(e)?c(e):e})).reduce(i.unnestR,[])}(t).map((function(e){return"/"===e?1:r.isString(e)?2:e instanceof o.Param?3:void 0}))},l=a(t),u=a(n);!function(e,t,n){for(var i=Math.max(e.length,t.length);e.length<i;)e.push(n);for(;t.length<i;)t.push(n)}(l,u,0);var d,p,f=i.arrayTuples(l,u);for(p=0;p<f.length;p++)if(0!==(d=f[p][0]-f[p][1]))return d;return 0},e.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(e,t,n,o){var s=this;void 0===t&&(t={}),void 0===o&&(o={});var l,c,u,d=(l=this._cache,c="pattern",u=function(){return new RegExp(["^",i.unnest(s._cache.path.map(a.prop("_compiled"))).join(""),!1===s.config.strict?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)},l[c]=l[c]||u()).exec(e);if(!d)return null;var p,f,m,h=this.parameters(),y=h.filter((function(e){return!e.isSearch()})),g=h.filter((function(e){return e.isSearch()})),v=this._cache.path.map((function(e){return e._segments.length-1})).reduce((function(e,t){return e+t})),b={};if(v!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var S=0;S<v;S++){for(var _=y[S],C=d[S+1],k=0;k<_.replace.length;k++)_.replace[k].from===C&&(C=_.replace[k].to);C&&!0===_.array&&(p=void 0,f=void 0,m=void 0,f=(p=function(e){return e.split("").reverse().join("")})(C).split(/-(?!\\)/),m=i.map(f,p),C=i.map(m,(function(e){return e.replace(/\\-/g,"-")})).reverse()),r.isDefined(C)&&(C=_.type.decode(C)),b[_.id]=_.value(C)}return g.forEach((function(e){for(var n=t[e.id],i=0;i<e.replace.length;i++)e.replace[i].from===n&&(n=e.replace[i].to);r.isDefined(n)&&(n=e.type.decode(n)),b[e.id]=e.value(n)})),n&&(b["#"]=n),b},e.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:i.unnest(this._cache.path.map((function(e){return e._params})))},e.prototype.parameter=function(e,t){var n=this;void 0===t&&(t={});var i=this._cache.parent;return function(){for(var t=0,i=n._params;t<i.length;t++){var a=i[t];if(a.id===e)return a}}()||!1!==t.inherit&&i&&i.parameter(e,t)||null},e.prototype.validates=function(e){return e=e||{},this.parameters().filter((function(t){return e.hasOwnProperty(t.id)})).map((function(t){return n=t,i=e[t.id],!n||n.validates(i);var n,i})).reduce(i.allTrueR,!0)},e.prototype.format=function(t){void 0===t&&(t={});var n=this._cache.path,a=n.map(e.pathSegmentsAndParams).reduce(i.unnestR,[]).map((function(e){return r.isString(e)?e:s(e)})),o=n.map(e.queryParams).reduce(i.unnestR,[]).map(s);if(a.concat(o).filter((function(e){return!1===e.isValid})).length)return null;function s(e){var n=e.value(t[e.id]),i=e.validates(n),a=e.isDefaultValue(n),r=!!a&&e.squash,o=e.type.encode(n);return{param:e,value:n,isValid:i,isDefaultValue:a,squash:r,encoded:o}}var l=a.reduce((function(t,n){if(r.isString(n))return t+n;var a=n.squash,o=n.encoded,s=n.param;return!0===a?t.match(/\/$/)?t.slice(0,-1):t:r.isString(a)?t+a:!1!==a||null==o?t:r.isArray(o)?t+i.map(o,e.encodeDashes).join("-"):s.raw?t+o:t+encodeURIComponent(o)}),""),c=o.map((function(e){var t=e.param,n=e.squash,a=e.encoded,o=e.isDefaultValue;if(!(null==a||o&&!1!==n)&&(r.isArray(a)||(a=[a]),0!==a.length))return t.raw||(a=i.map(a,encodeURIComponent)),a.map((function(e){return t.id+"="+e}))})).filter(i.identity).reduce(i.unnestR,[]).join("&");return l+(c?"?"+c:"")+(t["#"]?"#"+t["#"]:"")},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}();t.UrlMatcher=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(99),r=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(e){return n._listeners.forEach((function(t){return t(e)}))},this.hash=function(){return a.parseUrl(n._get()).hash},this.path=function(){return a.parseUrl(n._get()).path},this.search=function(){return a.getParams(a.parseUrl(n._get()).search)},this._location=i.root.location,this._history=i.root.history}return e.prototype.url=function(e,t){return void 0===t&&(t=!0),i.isDefined(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate&&this._listeners.forEach((function(t){return t({url:e})}))),a.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return i.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){i.deregAll(this._listeners)},e}();t.BaseLocationServices=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getParam=function(e){var t=$.deparam(window.location.search);return t[e]||t["?"+e]};var i=t._updateSearchParams=function(e,t){var n=window.location.search.slice(1),i=$.deparam(n);return i[e]=t,$.param(i,!0)};t.setParam=function(e,t,n){var a=i(e,t);if(history.replaceState&&!n){var r=window.location.pathname+"?"+a;window.history.replaceState({path:r},"",r)}else window.location.search=a}},function(e,t,n){"use strict";var i;function a(e){return(i=i||document.createElement("textarea")).innerHTML="&"+e+";",i.value}n.r(t),n.d(t,"Remarkable",(function(){return Pe})),n.d(t,"utils",(function(){return _}));var r=Object.prototype.hasOwnProperty;function o(e,t){return!!e&&r.call(e,t)}function s(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var l=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function c(e){return e.indexOf("\\")<0?e:e.replace(l,"$1")}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function d(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var p=/&([a-z#][a-z0-9]{1,31});/gi,f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function m(e,t){var n=0,i=a(t);return t!==i?i:35===t.charCodeAt(0)&&f.test(t)&&u(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?d(n):e}function h(e){return e.indexOf("&")<0?e:e.replace(p,m)}var y=/[&<>"]/,g=/[&<>"]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function b(e){return v[e]}function S(e){return y.test(e)?e.replace(g,b):e}var _=Object.freeze({isString:function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},has:o,assign:s,unescapeMd:c,isValidEntityCode:u,fromCodePoint:d,replaceEntities:h,escapeHtml:S}),C={};C.blockquote_open=function(){return"<blockquote>\n"},C.blockquote_close=function(e,t){return"</blockquote>"+k(e,t)},C.code=function(e,t){return e[t].block?"<pre><code>"+S(e[t].content)+"</code></pre>"+k(e,t):"<code>"+S(e[t].content)+"</code>"},C.fence=function(e,t,n,i,a){var r,s,l=e[t],u="",d=n.langPrefix;if(l.params){if(s=(r=l.params.split(/\s+/g)).join(" "),o(a.rules.fence_custom,r[0]))return a.rules.fence_custom[r[0]](e,t,n,i,a);u=' class="'+d+S(h(c(s)))+'"'}return"<pre><code"+u+">"+(n.highlight&&n.highlight.apply(n.highlight,[l.content].concat(r))||S(l.content))+"</code></pre>"+k(e,t)},C.fence_custom={},C.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},C.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},C.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+k(e,t)},C.bullet_list_open=function(){return"<ul>\n"},C.bullet_list_close=function(e,t){return"</ul>"+k(e,t)},C.list_item_open=function(){return"<li>"},C.list_item_close=function(){return"</li>\n"},C.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},C.ordered_list_close=function(e,t){return"</ol>"+k(e,t)},C.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},C.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?k(e,t):"")},C.link_open=function(e,t,n){var i=e[t].title?' title="'+S(h(e[t].title))+'"':"",a=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+S(e[t].href)+'"'+i+a+">"},C.link_close=function(){return"</a>"},C.image=function(e,t,n){var i=' src="'+S(e[t].src)+'"',a=e[t].title?' title="'+S(h(e[t].title))+'"':"";return"<img"+i+(' alt="'+(e[t].alt?S(h(c(e[t].alt))):"")+'"')+a+(n.xhtmlOut?" /":"")+">"},C.table_open=function(){return"<table>\n"},C.table_close=function(){return"</table>\n"},C.thead_open=function(){return"<thead>\n"},C.thead_close=function(){return"</thead>\n"},C.tbody_open=function(){return"<tbody>\n"},C.tbody_close=function(){return"</tbody>\n"},C.tr_open=function(){return"<tr>"},C.tr_close=function(){return"</tr>\n"},C.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},C.th_close=function(){return"</th>"},C.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},C.td_close=function(){return"</td>"},C.strong_open=function(){return"<strong>"},C.strong_close=function(){return"</strong>"},C.em_open=function(){return"<em>"},C.em_close=function(){return"</em>"},C.del_open=function(){return"<del>"},C.del_close=function(){return"</del>"},C.ins_open=function(){return"<ins>"},C.ins_close=function(){return"</ins>"},C.mark_open=function(){return"<mark>"},C.mark_close=function(){return"</mark>"},C.sub=function(e,t){return"<sub>"+S(e[t].content)+"</sub>"},C.sup=function(e,t){return"<sup>"+S(e[t].content)+"</sup>"},C.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},C.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},C.text=function(e,t){return S(e[t].content)},C.htmlblock=function(e,t){return e[t].content},C.htmltag=function(e,t){return e[t].content},C.abbr_open=function(e,t){return'<abbr title="'+S(h(e[t].title))+'">'},C.abbr_close=function(){return"</abbr>"},C.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),i="fnref"+n;return e[t].subId>0&&(i+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+i+'">['+n+"]</a></sup>"},C.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},C.footnote_block_close=function(){return"</ol>\n</section>\n"},C.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},C.footnote_close=function(){return"</li>\n"},C.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'},C.dl_open=function(){return"<dl>\n"},C.dt_open=function(){return"<dt>"},C.dd_open=function(){return"<dd>"},C.dl_close=function(){return"</dl>\n"},C.dt_close=function(){return"</dt>\n"},C.dd_close=function(){return"</dd>\n"};var k=C.getBreak=function(e,t){return(t=function e(t,n){return++n>=t.length-2?n:"paragraph_open"===t[n].type&&t[n].tight&&"inline"===t[n+1].type&&0===t[n+1].content.length&&"paragraph_close"===t[n+2].type&&t[n+2].tight?e(t,n+2):n}(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function A(){this.rules=s({},C),this.getBreak=C.getBreak}function w(){this.__rules__=[],this.__cache__=null}function P(e,t,n,i,a){this.src=e,this.env=i,this.options=n,this.parser=t,this.tokens=a,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function T(e,t){var n,i,a,r=-1,o=e.posMax,s=e.pos,l=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<o;){if(91===(a=e.src.charCodeAt(e.pos)))n++;else if(93===a&&0===--n){i=!0;break}e.parser.skipToken(e)}return i?(r=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=s,e.isInLabel=l,r}function x(e,t,n,i){var a,r,o,s,l,c;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((r=T(a=new P(e,t,n,i,[]),1))<0||58!==e.charCodeAt(r+1))return-1;for(s=a.posMax,o=r+2;o<s&&10!==a.src.charCodeAt(o);o++);return l=e.slice(2,r),0===(c=e.slice(r+2,o).trim()).length?-1:(i.abbreviations||(i.abbreviations={}),void 0===i.abbreviations[":"+l]&&(i.abbreviations[":"+l]=c),o)}function M(e){var t=h(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}function I(e,t){var n,i,a,r=t,o=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<o;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return a=M(c(e.src.slice(r+1,t))),!!e.parser.validateLink(a)&&(e.pos=t+1,e.linkContent=a,!0);92===n&&t+1<o?t+=2:t++}return!1}for(i=0;t<o&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<o)t+=2;else{if(40===n&&++i>1)break;if(41===n&&--i<0)break;t++}return r!==t&&(a=c(e.src.slice(r,t)),!!e.parser.validateLink(a)&&(e.linkContent=a,e.pos=t,!0))}function R(e,t){var n,i=t,a=e.posMax,r=e.src.charCodeAt(t);if(34!==r&&39!==r&&40!==r)return!1;for(t++,40===r&&(r=41);t<a;){if((n=e.src.charCodeAt(t))===r)return e.pos=t+1,e.linkContent=c(e.src.slice(i+1,t)),!0;92===n&&t+1<a?t+=2:t++}return!1}function E(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function D(e,t,n,i){var a,r,o,s,l,c,u,d,p;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((r=T(a=new P(e,t,n,i,[]),0))<0||58!==e.charCodeAt(r+1))return-1;for(s=a.posMax,o=r+2;o<s&&(32===(l=a.src.charCodeAt(o))||10===l);o++);if(!I(a,o))return-1;for(u=a.linkContent,c=o=a.pos,o+=1;o<s&&(32===(l=a.src.charCodeAt(o))||10===l);o++);for(o<s&&c!==o&&R(a,o)?(d=a.linkContent,o=a.pos):(d="",o=c);o<s&&32===a.src.charCodeAt(o);)o++;return o<s&&10!==a.src.charCodeAt(o)?-1:(p=E(e.slice(1,r)),void 0===i.references[p]&&(i.references[p]={title:d,href:u}),o)}A.prototype.renderInline=function(e,t,n){for(var i=this.rules,a=e.length,r=0,o="";a--;)o+=i[e[r].type](e,r++,t,n,this);return o},A.prototype.render=function(e,t,n){for(var i=this.rules,a=e.length,r=-1,o="";++r<a;)"inline"===e[r].type?o+=this.renderInline(e[r].children,t,n):o+=i[e[r].type](e,r,t,n,this);return o},w.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},w.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},w.prototype.at=function(e,t,n){var i=this.__find__(e),a=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=a.alt||[],this.__cache__=null},w.prototype.before=function(e,t,n,i){var a=this.__find__(e),r=i||{};if(-1===a)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},w.prototype.after=function(e,t,n,i){var a=this.__find__(e),r=i||{};if(-1===a)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},w.prototype.push=function(e,t,n){var i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},w.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},w.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},w.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},P.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},P.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},P.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},P.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function L(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var N=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,O=/\((c|tm|r|p)\)/gi,U={c:"©",r:"®",p:"§",tm:"™"};var B=/['"]/,F=/['"]/g,G=/[-\s()\[\]]/;function H(e,t){return!(t<0||t>=e.length)&&!G.test(e[t])}function j(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var K=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,i,a,r=e.tokens;if(!e.inlineMode)for(t=1,n=r.length-1;t<n;t++)if("paragraph_open"===r[t-1].type&&"inline"===r[t].type&&"paragraph_close"===r[t+1].type){for(i=r[t].content;i.length&&!((a=x(i,e.inline,e.options,e.env))<0);)i=i.slice(a).trim();r[t].content=i,i.length||(r[t-1].tight=!0,r[t+1].tight=!0)}}],["references",function(e){var t,n,i,a,r=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=r.length-1;t<n;t++)if("inline"===r[t].type&&"paragraph_open"===r[t-1].type&&"paragraph_close"===r[t+1].type){for(i=r[t].content;i.length&&!((a=D(i,e.inline,e.options,e.env))<0);)i=i.slice(a).trim();r[t].content=i,i.length||(r[t-1].tight=!0,r[t+1].tight=!0)}}],["inline",function(e){var t,n,i,a=e.tokens;for(n=0,i=a.length;n<i;n++)"inline"===(t=a[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,i,a,r,o,s,l,c,u=0,d=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(d=!0,l=[],c=e.label,!1):"footnote_reference_close"===e.type?(d=!1,p[":"+c]=l,!1):(d&&l.push(e),!d)})),e.env.footnotes.list)){for(o=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),t=0,n=o.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:u++}),o[t].tokens?((s=[]).push({type:"paragraph_open",tight:!1,level:u++}),s.push({type:"inline",content:"",level:u,children:o[t].tokens}),s.push({type:"paragraph_close",tight:!1,level:--u})):o[t].label&&(s=p[":"+o[t].label]),e.tokens=e.tokens.concat(s),r="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,a=o[t].count>0?o[t].count:1,i=0;i<a;i++)e.tokens.push({type:"footnote_anchor",id:t,subId:i,level:u});r&&e.tokens.push(r),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}],["abbr2",function(e){var t,n,i,a,r,o,s,l,c,u,d,p,f=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(p="(^|["+" \n()[]'\".,!?-".split("").map(L).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(L).join("|")+")($|["+" \n()[]'\".,!?-".split("").map(L).join("")+"])",e.env.abbrRegExp=new RegExp(p,"g")),u=e.env.abbrRegExp,n=0,i=f.length;n<i;n++)if("inline"===f[n].type)for(t=(a=f[n].children).length-1;t>=0;t--)if("text"===(r=a[t]).type){for(l=0,o=r.content,u.lastIndex=0,c=r.level,s=[];d=u.exec(o);)u.lastIndex>l&&s.push({type:"text",content:o.slice(l,d.index+d[1].length),level:c}),s.push({type:"abbr_open",title:e.env.abbreviations[":"+d[2]],level:c++}),s.push({type:"text",content:d[2],level:c}),s.push({type:"abbr_close",level:--c}),l=u.lastIndex-d[3].length;s.length&&(l<o.length&&s.push({type:"text",content:o.slice(l),level:c}),f[n].children=a=[].concat(a.slice(0,t),s,a.slice(t+1)))}}],["replacements",function(e){var t,n,i,a,r,o;if(e.options.typographer)for(r=e.tokens.length-1;r>=0;r--)if("inline"===e.tokens[r].type)for(t=(a=e.tokens[r].children).length-1;t>=0;t--)"text"===(n=a[t]).type&&(i=n.content,i=(o=i).indexOf("(")<0?o:o.replace(O,(function(e,t){return U[t.toLowerCase()]})),N.test(i)&&(i=i.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=i)}],["smartquotes",function(e){var t,n,i,a,r,o,s,l,c,u,d,p,f,m,h,y,g;if(e.options.typographer)for(g=[],h=e.tokens.length-1;h>=0;h--)if("inline"===e.tokens[h].type)for(y=e.tokens[h].children,g.length=0,t=0;t<y.length;t++)if("text"===(n=y[t]).type&&!B.test(n.text)){for(s=y[t].level,f=g.length-1;f>=0&&!(g[f].level<=s);f--);g.length=f+1,r=0,o=(i=n.content).length;e:for(;r<o&&(F.lastIndex=r,a=F.exec(i));)if(l=!H(i,a.index-1),r=a.index+1,m="'"===a[0],(c=!H(i,r))||l){if(d=!c,p=!l)for(f=g.length-1;f>=0&&(u=g[f],!(g[f].level<s));f--)if(u.single===m&&g[f].level===s){u=g[f],m?(y[u.token].content=j(y[u.token].content,u.pos,e.options.quotes[2]),n.content=j(n.content,a.index,e.options.quotes[3])):(y[u.token].content=j(y[u.token].content,u.pos,e.options.quotes[0]),n.content=j(n.content,a.index,e.options.quotes[1])),g.length=f;continue e}d?g.push({token:t,pos:a.index,single:m,level:s}):p&&m&&(n.content=j(n.content,a.index,"’"))}else m&&(n.content=j(n.content,a.index,"’"))}}]];function $(){this.options={},this.ruler=new w;for(var e=0;e<K.length;e++)this.ruler.push(K[e][0],K[e][1])}function q(e,t,n,i,a){var r,o,s,l,c,u,d;for(this.src=e,this.parser=t,this.options=n,this.env=i,this.tokens=a,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=0,d=!1,s=l=u=0,c=(o=this.src).length;l<c;l++){if(r=o.charCodeAt(l),!d){if(32===r){u++;continue}d=!0}10!==r&&l!==c-1||(10!==r&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),d=!1,u=0,s=l+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function z(e,t){var n,i,a;return(i=e.bMarks[t]+e.tShift[t])>=(a=e.eMarks[t])||42!==(n=e.src.charCodeAt(i++))&&45!==n&&43!==n||i<a&&32!==e.src.charCodeAt(i)?-1:i}function V(e,t){var n,i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return i<a&&32!==e.src.charCodeAt(i)?-1:i}$.prototype.process=function(e){var t,n,i;for(t=0,n=(i=this.ruler.getRules("")).length;t<n;t++)i[t](e)},q.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},q.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},q.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},q.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},q.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},q.prototype.getLines=function(e,t,n,i){var a,r,o,s,l,c=e;if(e>=t)return"";if(c+1===t)return r=this.bMarks[c]+Math.min(this.tShift[c],n),o=i?this.eMarks[c]+1:this.eMarks[c],this.src.slice(r,o);for(s=new Array(t-e),a=0;c<t;c++,a++)(l=this.tShift[c])>n&&(l=n),l<0&&(l=0),r=this.bMarks[c]+l,o=c+1<t||i?this.eMarks[c]+1:this.eMarks[c],s[a]=this.src.slice(r,o);return s.join("")};var W={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){W[e]=!0}));var J=/^<([a-zA-Z]{1,15})[\s\/>]/,Z=/^<\/([a-zA-Z]{1,15})[\s>]/;function Y(e,t){var n=e.bMarks[t]+e.blkIndent,i=e.eMarks[t];return e.src.substr(n,i-n)}function Q(e,t){var n,i,a=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return a>=r||126!==(i=e.src.charCodeAt(a++))&&58!==i||a===(n=e.skipSpaces(a))||n>=r?-1:n}var X=[["code",function(e,t,n){var i,a;if(e.tShift[t]-e.blkIndent<4)return!1;for(a=i=t+1;i<n;)if(e.isEmpty(i))i++;else{if(!(e.tShift[i]-e.blkIndent>=4))break;a=++i}return e.line=i,e.tokens.push({type:"code",content:e.getLines(t,a,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,i){var a,r,o,s,l,c=!1,u=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(u+3>d)return!1;if(126!==(a=e.src.charCodeAt(u))&&96!==a)return!1;if(l=u,(r=(u=e.skipChars(u,a))-l)<3)return!1;if((o=e.src.slice(u,d).trim()).indexOf("`")>=0)return!1;if(i)return!0;for(s=t;!(++s>=n)&&!((u=l=e.bMarks[s]+e.tShift[s])<(d=e.eMarks[s])&&e.tShift[s]<e.blkIndent);)if(e.src.charCodeAt(u)===a&&!(e.tShift[s]-e.blkIndent>=4||(u=e.skipChars(u,a))-l<r||(u=e.skipSpaces(u))<d)){c=!0;break}return r=e.tShift[t],e.line=s+(c?1:0),e.tokens.push({type:"fence",params:o,content:e.getLines(t+1,s,r,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,i){var a,r,o,s,l,c,u,d,p,f,m,h=e.bMarks[t]+e.tShift[t],y=e.eMarks[t];if(h>y)return!1;if(62!==e.src.charCodeAt(h++))return!1;if(e.level>=e.options.maxNesting)return!1;if(i)return!0;for(32===e.src.charCodeAt(h)&&h++,l=e.blkIndent,e.blkIndent=0,s=[e.bMarks[t]],e.bMarks[t]=h,r=(h=h<y?e.skipSpaces(h):h)>=y,o=[e.tShift[t]],e.tShift[t]=h-e.bMarks[t],d=e.parser.ruler.getRules("blockquote"),a=t+1;a<n&&!((h=e.bMarks[a]+e.tShift[a])>=(y=e.eMarks[a]));a++)if(62!==e.src.charCodeAt(h++)){if(r)break;for(m=!1,p=0,f=d.length;p<f;p++)if(d[p](e,a,n,!0)){m=!0;break}if(m)break;s.push(e.bMarks[a]),o.push(e.tShift[a]),e.tShift[a]=-1337}else 32===e.src.charCodeAt(h)&&h++,s.push(e.bMarks[a]),e.bMarks[a]=h,r=(h=h<y?e.skipSpaces(h):h)>=y,o.push(e.tShift[a]),e.tShift[a]=h-e.bMarks[a];for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[t,0],level:e.level++}),e.parser.tokenize(e,t,a),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,u[1]=e.line,p=0;p<o.length;p++)e.bMarks[p+t]=s[p],e.tShift[p+t]=o[p];return e.blkIndent=l,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,i){var a,r,o,s=e.bMarks[t],l=e.eMarks[t];if((s+=e.tShift[t])>l)return!1;if(42!==(a=e.src.charCodeAt(s++))&&45!==a&&95!==a)return!1;for(r=1;s<l;){if((o=e.src.charCodeAt(s++))!==a&&32!==o)return!1;o===a&&r++}return!(r<3)&&(i||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,i){var a,r,o,s,l,c,u,d,p,f,m,h,y,g,v,b,S,_,C,k,A,w=!0;if((d=V(e,t))>=0)h=!0;else{if(!((d=z(e,t))>=0))return!1;h=!1}if(e.level>=e.options.maxNesting)return!1;if(m=e.src.charCodeAt(d-1),i)return!0;for(g=e.tokens.length,h?(u=e.bMarks[t]+e.tShift[t],f=Number(e.src.substr(u,d-u-1)),e.tokens.push({type:"ordered_list_open",order:f,lines:b=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:b=[t,0],level:e.level++}),a=t,v=!1,_=e.parser.ruler.getRules("list");!(!(a<n)||((p=(y=e.skipSpaces(d))>=e.eMarks[a]?1:y-d)>4&&(p=1),p<1&&(p=1),r=d-e.bMarks[a]+p,e.tokens.push({type:"list_item_open",lines:S=[t,0],level:e.level++}),s=e.blkIndent,l=e.tight,o=e.tShift[t],c=e.parentType,e.tShift[t]=y-e.bMarks[t],e.blkIndent=r,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!v||(w=!1),v=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=s,e.tShift[t]=o,e.tight=l,e.parentType=c,e.tokens.push({type:"list_item_close",level:--e.level}),a=t=e.line,S[1]=a,y=e.bMarks[t],a>=n)||e.isEmpty(a)||e.tShift[a]<e.blkIndent);){for(A=!1,C=0,k=_.length;C<k;C++)if(_[C](e,a,n,!0)){A=!0;break}if(A)break;if(h){if((d=V(e,a))<0)break}else if((d=z(e,a))<0)break;if(m!==e.src.charCodeAt(d-1))break}return e.tokens.push({type:h?"ordered_list_close":"bullet_list_close",level:--e.level}),b[1]=a,e.line=a,w&&function(e,t){var n,i,a=e.level+2;for(n=t+2,i=e.tokens.length-2;n<i;n++)e.tokens[n].level===a&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,g),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,i){var a,r,o,s,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(c+4>u)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(s=c+2;s<u;s++){if(32===e.src.charCodeAt(s))return!1;if(93===e.src.charCodeAt(s))break}return s!==c+2&&(!(s+1>=u||58!==e.src.charCodeAt(++s))&&(i||(s++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),l=e.src.slice(c+2,s-2),e.env.footnotes.refs[":"+l]=-1,e.tokens.push({type:"footnote_reference_open",label:l,level:e.level++}),a=e.bMarks[t],r=e.tShift[t],o=e.parentType,e.tShift[t]=e.skipSpaces(s)-s,e.bMarks[t]=s,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=o,e.blkIndent-=4,e.tShift[t]=r,e.bMarks[t]=a,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,i){var a,r,o,s=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(s>=l)return!1;if(35!==(a=e.src.charCodeAt(s))||s>=l)return!1;for(r=1,a=e.src.charCodeAt(++s);35===a&&s<l&&r<=6;)r++,a=e.src.charCodeAt(++s);return!(r>6||s<l&&32!==a)&&(i||(l=e.skipCharsBack(l,32,s),(o=e.skipCharsBack(l,35,s))>s&&32===e.src.charCodeAt(o-1)&&(l=o),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:r,lines:[t,e.line],level:e.level}),s<l&&e.tokens.push({type:"inline",content:e.src.slice(s,l).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:r,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var i,a,r,o=t+1;return!(o>=n)&&(!(e.tShift[o]<e.blkIndent)&&(!(e.tShift[o]-e.blkIndent>3)&&(!((a=e.bMarks[o]+e.tShift[o])>=(r=e.eMarks[o]))&&((45===(i=e.src.charCodeAt(a))||61===i)&&(a=e.skipChars(a,i),!((a=e.skipSpaces(a))<r)&&(a=e.bMarks[t]+e.tShift[t],e.line=o+1,e.tokens.push({type:"heading_open",hLevel:61===i?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(a,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===i?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,i){var a,r,o,s=e.bMarks[t],l=e.eMarks[t],c=e.tShift[t];if(s+=c,!e.options.html)return!1;if(c>3||s+2>=l)return!1;if(60!==e.src.charCodeAt(s))return!1;if(33===(a=e.src.charCodeAt(s+1))||63===a){if(i)return!0}else{if(47!==a&&!function(e){var t=32|e;return t>=97&&t<=122}(a))return!1;if(47===a){if(!(r=e.src.slice(s,l).match(Z)))return!1}else if(!(r=e.src.slice(s,l).match(J)))return!1;if(!0!==W[r[1].toLowerCase()])return!1;if(i)return!0}for(o=t+1;o<e.lineMax&&!e.isEmpty(o);)o++;return e.line=o,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,o,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,i){var a,r,o,s,l,c,u,d,p,f,m;if(t+2>n)return!1;if(l=t+1,e.tShift[l]<e.blkIndent)return!1;if((o=e.bMarks[l]+e.tShift[l])>=e.eMarks[l])return!1;if(124!==(a=e.src.charCodeAt(o))&&45!==a&&58!==a)return!1;if(r=Y(e,t+1),!/^[-:| ]+$/.test(r))return!1;if((c=r.split("|"))<=2)return!1;for(d=[],s=0;s<c.length;s++){if(!(p=c[s].trim())){if(0===s||s===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?d.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(r=Y(e,t).trim()).indexOf("|"))return!1;if(c=r.replace(/^\||\|$/g,"").split("|"),d.length!==c.length)return!1;if(i)return!0;for(e.tokens.push({type:"table_open",lines:f=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),s=0;s<c.length;s++)e.tokens.push({type:"th_open",align:d[s],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:c[s].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:m=[t+2,0],level:e.level++}),l=t+2;l<n&&!(e.tShift[l]<e.blkIndent)&&-1!==(r=Y(e,l).trim()).indexOf("|");l++){for(c=r.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),s=0;s<c.length;s++)e.tokens.push({type:"td_open",align:d[s],level:e.level++}),u=c[s].substring(124===c[s].charCodeAt(0)?1:0,124===c[s].charCodeAt(c[s].length-1)?c[s].length-1:c[s].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),f[1]=m[1]=l,e.line=l,!0},["paragraph"]],["deflist",function(e,t,n,i){var a,r,o,s,l,c,u,d,p,f,m,h,y,g;if(i)return!(e.ddIndent<0)&&Q(e,t)>=0;if(u=t+1,e.isEmpty(u)&&++u>n)return!1;if(e.tShift[u]<e.blkIndent)return!1;if((a=Q(e,u))<0)return!1;if(e.level>=e.options.maxNesting)return!1;c=e.tokens.length,e.tokens.push({type:"dl_open",lines:l=[t,0],level:e.level++}),o=t,r=u;e:for(;;){for(g=!0,y=!1,e.tokens.push({type:"dt_open",lines:[o,o],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(o,o+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[o,o],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:s=[u,0],level:e.level++}),h=e.tight,p=e.ddIndent,d=e.blkIndent,m=e.tShift[r],f=e.parentType,e.blkIndent=e.ddIndent=e.tShift[r]+2,e.tShift[r]=a-e.bMarks[r],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,r,n,!0),e.tight&&!y||(g=!1),y=e.line-r>1&&e.isEmpty(e.line-1),e.tShift[r]=m,e.tight=h,e.parentType=f,e.blkIndent=d,e.ddIndent=p,e.tokens.push({type:"dd_close",level:--e.level}),s[1]=u=e.line,u>=n)break e;if(e.tShift[u]<e.blkIndent)break e;if((a=Q(e,u))<0)break;r=u}if(u>=n)break;if(o=u,e.isEmpty(o))break;if(e.tShift[o]<e.blkIndent)break;if((r=o+1)>=n)break;if(e.isEmpty(r)&&r++,r>=n)break;if(e.tShift[r]<e.blkIndent)break;if((a=Q(e,r))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),l[1]=u,e.line=u,g&&function(e,t){var n,i,a=e.level+2;for(n=t+2,i=e.tokens.length-2;n<i;n++)e.tokens[n].level===a&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,c),!0},["paragraph"]],["paragraph",function(e,t){var n,i,a,r,o,s,l=t+1;if(l<(n=e.lineMax)&&!e.isEmpty(l))for(s=e.parser.ruler.getRules("paragraph");l<n&&!e.isEmpty(l);l++)if(!(e.tShift[l]-e.blkIndent>3)){for(a=!1,r=0,o=s.length;r<o;r++)if(s[r](e,l,n,!0)){a=!0;break}if(a)break}return i=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,i.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:i,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function ee(){this.ruler=new w;for(var e=0;e<X.length;e++)this.ruler.push(X[e][0],X[e][1],{alt:(X[e][2]||[]).slice()})}ee.prototype.tokenize=function(e,t,n){for(var i,a=this.ruler.getRules(""),r=a.length,o=t,s=!1;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n))&&!(e.tShift[o]<e.blkIndent);){for(i=0;i<r&&!a[i](e,o,n,!1);i++);if(e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(o=e.line)<n&&e.isEmpty(o)){if(s=!0,++o<n&&"list"===e.parentType&&e.isEmpty(o))break;e.line=o}}};var te=/[\n\t]/g,ne=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,ie=/\u00a0/g;function ae(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}ee.prototype.parse=function(e,t,n,i){var a,r=0,o=0;if(!e)return[];(e=(e=e.replace(ie," ")).replace(ne,"\n")).indexOf("\t")>=0&&(e=e.replace(te,(function(t,n){var i;return 10===e.charCodeAt(n)?(r=n+1,o=0,t):(i="    ".slice((n-r-o)%4),o=n-r+1,i)}))),a=new q(e,this,t,n,i),this.tokenize(a,a.line,a.lineMax)};for(var re=[],oe=0;oe<256;oe++)re.push(0);function se(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function le(e,t){var n,i,a,r=t,o=!0,s=!0,l=e.posMax,c=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;r<l&&e.src.charCodeAt(r)===c;)r++;return r>=l&&(o=!1),(a=r-t)>=4?o=s=!1:(32!==(i=r<l?e.src.charCodeAt(r):-1)&&10!==i||(o=!1),32!==n&&10!==n||(s=!1),95===c&&(se(n)&&(o=!1),se(i)&&(s=!1))),{can_open:o,can_close:s,delims:a}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){re[e.charCodeAt(0)]=1}));var ce=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var ue=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var de=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],pe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,fe=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function me(e,t){return e=e.source,t=t||"",function n(i,a){return i?(a=a.source||a,e=e.replace(i,a),n):new RegExp(e,t)}}var he=me(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),ye=me(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",he)(),ge=me(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",ye)(),ve=me(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",ge)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var be=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Se=/^&([a-z][a-z0-9]{1,31});/i;var _e=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!ae(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,i=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var r=n-2;r>=0;r--)if(32!==e.pending.charCodeAt(r)){e.pending=e.pending.substring(0,r+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(a++;a<i&&32===e.src.charCodeAt(a);)a++;return e.pos=a,!0}],["escape",function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==re[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),i++;i<a&&32===e.src.charCodeAt(i);)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,i,a,r,o,s=e.pos;if(96!==e.src.charCodeAt(s))return!1;for(n=s,s++,i=e.posMax;s<i&&96===e.src.charCodeAt(s);)s++;for(a=e.src.slice(n,s),r=o=s;-1!==(r=e.src.indexOf("`",o));){for(o=r+1;o<i&&96===e.src.charCodeAt(o);)o++;if(o-r===a.length)return t||e.push({type:"code",content:e.src.slice(s,r).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=o,!0}return t||(e.pending+=a),e.pos+=a.length,!0}],["del",function(e,t){var n,i,a,r,o,s=e.posMax,l=e.pos;if(126!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=s)return!1;if(126!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=l>0?e.src.charCodeAt(l-1):-1,o=e.src.charCodeAt(l+2),126===r)return!1;if(126===o)return!1;if(32===o||10===o)return!1;for(i=l+2;i<s&&126===e.src.charCodeAt(i);)i++;if(i>l+3)return e.pos+=i-l,t||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,a=1;e.pos+1<s;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),126!==(o=e.pos+2<s?e.src.charCodeAt(e.pos+2):-1)&&126!==r&&(32!==r&&10!==r?a--:32!==o&&10!==o&&a++,a<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=s,!0):(e.pos=l,!1)}],["ins",function(e,t){var n,i,a,r,o,s=e.posMax,l=e.pos;if(43!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=s)return!1;if(43!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=l>0?e.src.charCodeAt(l-1):-1,o=e.src.charCodeAt(l+2),43===r)return!1;if(43===o)return!1;if(32===o||10===o)return!1;for(i=l+2;i<s&&43===e.src.charCodeAt(i);)i++;if(i!==l+2)return e.pos+=i-l,t||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,a=1;e.pos+1<s;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),43!==(o=e.pos+2<s?e.src.charCodeAt(e.pos+2):-1)&&43!==r&&(32!==r&&10!==r?a--:32!==o&&10!==o&&a++,a<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=s,!0):(e.pos=l,!1)}],["mark",function(e,t){var n,i,a,r,o,s=e.posMax,l=e.pos;if(61!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=s)return!1;if(61!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(r=l>0?e.src.charCodeAt(l-1):-1,o=e.src.charCodeAt(l+2),61===r)return!1;if(61===o)return!1;if(32===o||10===o)return!1;for(i=l+2;i<s&&61===e.src.charCodeAt(i);)i++;if(i!==l+2)return e.pos+=i-l,t||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,a=1;e.pos+1<s;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(r=e.src.charCodeAt(e.pos-1),61!==(o=e.pos+2<s?e.src.charCodeAt(e.pos+2):-1)&&61!==r&&(32!==r&&10!==r?a--:32!==o&&10!==o&&a++,a<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=s,!0):(e.pos=l,!1)}],["emphasis",function(e,t){var n,i,a,r,o,s,l,c=e.posMax,u=e.pos,d=e.src.charCodeAt(u);if(95!==d&&42!==d)return!1;if(t)return!1;if(n=(l=le(e,u)).delims,!l.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+n,s=[n];e.pos<c;)if(e.src.charCodeAt(e.pos)!==d)e.parser.skipToken(e);else{if(i=(l=le(e,e.pos)).delims,l.can_close){for(r=s.pop(),o=i;r!==o;){if(o<r){s.push(r-o);break}if(o-=r,0===s.length)break;e.pos+=r,r=s.pop()}if(0===s.length){n=r,a=!0;break}e.pos+=i;continue}l.can_open&&s.push(i),e.pos+=i}return a?(e.posMax=e.pos,e.pos=u+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=c,!0):(e.pos=u,!1)}],["sub",function(e,t){var n,i,a=e.posMax,r=e.pos;if(126!==e.src.charCodeAt(r))return!1;if(t)return!1;if(r+2>=a)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=r+1;e.pos<a;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&r+1!==e.pos?(i=e.src.slice(r+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=r,!1):(e.posMax=e.pos,e.pos=r+1,t||e.push({type:"sub",level:e.level,content:i.replace(ce,"$1")}),e.pos=e.posMax+1,e.posMax=a,!0):(e.pos=r,!1)}],["sup",function(e,t){var n,i,a=e.posMax,r=e.pos;if(94!==e.src.charCodeAt(r))return!1;if(t)return!1;if(r+2>=a)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=r+1;e.pos<a;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&r+1!==e.pos?(i=e.src.slice(r+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=r,!1):(e.posMax=e.pos,e.pos=r+1,t||e.push({type:"sup",level:e.level,content:i.replace(ue,"$1")}),e.pos=e.posMax+1,e.posMax=a,!0):(e.pos=r,!1)}],["links",function(e,t){var n,i,a,r,o,s,l,c,u=!1,d=e.pos,p=e.posMax,f=e.pos,m=e.src.charCodeAt(f);if(33===m&&(u=!0,m=e.src.charCodeAt(++f)),91!==m)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=f+1,(i=T(e,f))<0)return!1;if((s=i+1)<p&&40===e.src.charCodeAt(s)){for(s++;s<p&&(32===(c=e.src.charCodeAt(s))||10===c);s++);if(s>=p)return!1;for(f=s,I(e,s)?(r=e.linkContent,s=e.pos):r="",f=s;s<p&&(32===(c=e.src.charCodeAt(s))||10===c);s++);if(s<p&&f!==s&&R(e,s))for(o=e.linkContent,s=e.pos;s<p&&(32===(c=e.src.charCodeAt(s))||10===c);s++);else o="";if(s>=p||41!==e.src.charCodeAt(s))return e.pos=d,!1;s++}else{if(e.linkLevel>0)return!1;for(;s<p&&(32===(c=e.src.charCodeAt(s))||10===c);s++);if(s<p&&91===e.src.charCodeAt(s)&&(f=s+1,(s=T(e,s))>=0?a=e.src.slice(f,s++):s=f-1),a||(void 0===a&&(s=i+1),a=e.src.slice(n,i)),!(l=e.env.references[E(a)]))return e.pos=d,!1;r=l.href,o=l.title}return t||(e.pos=n,e.posMax=i,u?e.push({type:"image",src:r,title:o,alt:e.src.substr(n,i-n),level:e.level}):(e.push({type:"link_open",href:r,title:o,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=s,e.posMax=p,!0}],["footnote_inline",function(e,t){var n,i,a,r,o=e.posMax,s=e.pos;return!(s+2>=o)&&(94===e.src.charCodeAt(s)&&(91===e.src.charCodeAt(s+1)&&(!(e.level>=e.options.maxNesting)&&(n=s+2,!((i=T(e,s+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),a=e.env.footnotes.list.length,e.pos=n,e.posMax=i,e.push({type:"footnote_ref",id:a,level:e.level}),e.linkLevel++,r=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[a]={tokens:e.tokens.splice(r)},e.linkLevel--),e.pos=i+1,e.posMax=o,!0)))))}],["footnote_ref",function(e,t){var n,i,a,r,o=e.posMax,s=e.pos;if(s+3>o)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(s))return!1;if(94!==e.src.charCodeAt(s+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(i=s+2;i<o;i++){if(32===e.src.charCodeAt(i))return!1;if(10===e.src.charCodeAt(i))return!1;if(93===e.src.charCodeAt(i))break}return i!==s+2&&(!(i>=o)&&(i++,n=e.src.slice(s+2,i-1),void 0!==e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(a=e.env.footnotes.list.length,e.env.footnotes.list[a]={label:n,count:0},e.env.footnotes.refs[":"+n]=a):a=e.env.footnotes.refs[":"+n],r=e.env.footnotes.list[a].count,e.env.footnotes.list[a].count++,e.push({type:"footnote_ref",id:a,subId:r,level:e.level})),e.pos=i,e.posMax=o,!0)))}],["autolink",function(e,t){var n,i,a,r,o,s=e.pos;return 60===e.src.charCodeAt(s)&&(!((n=e.src.slice(s)).indexOf(">")<0)&&((i=n.match(fe))?!(de.indexOf(i[1].toLowerCase())<0)&&(o=M(r=i[0].slice(1,-1)),!!e.parser.validateLink(r)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:r,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0)):!!(a=n.match(pe))&&(o=M("mailto:"+(r=a[0].slice(1,-1))),!!e.parser.validateLink(o)&&(t||(e.push({type:"link_open",href:o,level:e.level}),e.push({type:"text",content:r,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=a[0].length,!0))))}],["htmltag",function(e,t){var n,i,a,r=e.pos;return!!e.options.html&&(a=e.posMax,!(60!==e.src.charCodeAt(r)||r+2>=a)&&(!(33!==(n=e.src.charCodeAt(r+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(i=e.src.slice(r).match(ve))&&(t||e.push({type:"htmltag",content:e.src.slice(r,r+i[0].length),level:e.level}),e.pos+=i[0].length,!0))))}],["entity",function(e,t){var n,i,r=e.pos,o=e.posMax;if(38!==e.src.charCodeAt(r))return!1;if(r+1<o)if(35===e.src.charCodeAt(r+1)){if(i=e.src.slice(r).match(be))return t||(n="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),e.pending+=u(n)?d(n):d(65533)),e.pos+=i[0].length,!0}else if(i=e.src.slice(r).match(Se)){var s=a(i[1]);if(i[1]!==s)return t||(e.pending+=s),e.pos+=i[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function Ce(){this.ruler=new w;for(var e=0;e<_e.length;e++)this.ruler.push(_e[e][0],_e[e][1]);this.validateLink=ke}function ke(e){var t=e.trim().toLowerCase();return-1===(t=h(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}Ce.prototype.skipToken=function(e){var t,n,i=this.ruler.getRules(""),a=i.length,r=e.pos;if((n=e.cacheGet(r))>0)e.pos=n;else{for(t=0;t<a;t++)if(i[t](e,!0))return void e.cacheSet(r,e.pos);e.pos++,e.cacheSet(r,e.pos)}},Ce.prototype.tokenize=function(e){for(var t,n,i=this.ruler.getRules(""),a=i.length,r=e.posMax;e.pos<r;){for(n=0;n<a&&!(t=i[n](e,!1));n++);if(t){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Ce.prototype.parse=function(e,t,n,i){var a=new P(e,this,t,n,i);this.tokenize(a)};var Ae={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function we(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Pe(e,t){"string"!=typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new Ce,this.block=new ee,this.core=new $,this.renderer=new A,this.ruler=new w,this.options={},this.configure(Ae[e]),this.set(t||{})}Pe.prototype.set=function(e){s(this.options,e)},Pe.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Pe.prototype.use=function(e,t){return e(this,t),this},Pe.prototype.parse=function(e,t){var n=new we(this,e,t);return this.core.process(n),n.tokens},Pe.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Pe.prototype.parseInline=function(e,t){var n=new we(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Pe.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)}},function(e,t,n){var i;i=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"\'","’":"\'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}'),t=JSON.parse('{"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"}}');function n(n,i){if("string"!=typeof n)throw new Error("slugify: string argument expected");var a=t[(i="string"==typeof i?{replacement:i}:i||{}).locale]||{},r=void 0===i.replacement?"-":i.replacement,o=n.normalize().split("").reduce((function(t,n){return t+(a[n]||e[n]||(n===r?" ":n)).replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"").trim().replace(/\s+/g,r);return i.lower&&(o=o.toLowerCase()),i.strict&&(o=o.replace(new RegExp("[^a-zA-Z0-9"+r+"]","g"),"").replace(new RegExp("[\\s"+r+"]+","g"),r)),o}return n.extend=function(t){Object.assign(e,t)},n},e.exports=i(),e.exports.default=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window.messages.prop;t.default={"+_score":i("sorting.rank"),"-title.sort":"Title (A-Z)","+title.sort":"Title (Z-A)","+referenced_by_count":"Scholarly Citations (highest)","-referenced_by_count":"Scholarly Citations (lowest)","+referenced_by_patent_count":i("scholar.sort.patent.citations")+" (highest)","-referenced_by_patent_count":i("scholar.sort.patent.citations")+" (lowest)","+date_published_sort":i("sorting.pub.date.desc")||"Date Published (newest)","-date_published_sort":i("sorting.pub.date.asce")||"Date Published (oldest)","-source.title.keyword":"Source Title (A-Z)","+source.title.keyword":"Source Title (Z-A)"}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(48))},function(e,t,n){var i=n(28),a=n(15);e.exports=function(e){if(!a(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.patentFilterAggs={"agent.name.exact":{terms:{field:"agent.name.exact"}},"applicant.name.exact":{terms:{field:"applicant.name.exact"}},"inventor.name.exact":{terms:{field:"inventor.name.exact"}},"owner_all.name.exact":{terms:{field:"owner_all.name.exact"}},"legal_status.patent_status":{terms:{field:"legal_status.patent_status",size:10}},"sequence.type":{terms:{field:"sequence.type"}},"sequence.tax_id":{terms:{field:"sequence.tax_id",exclude:"-1"}},"sequence.organism.name.exact":{terms:{field:"sequence.organism.name.exact"}},publication_type:{terms:{field:"publication_type",size:20}},jurisdiction:{terms:{field:"jurisdiction",size:300}},citing_patent_country:{terms:{field:"reference_cited.patent_citation.document_id.country",size:300}},kind:{terms:{field:"kind"}},"reference_cited.npl.record_lens_id":{terms:{field:"reference_cited.npl.record_lens_id"}},"class_cpc.symbol":{terms:{field:"class_cpc.symbol"}},"class_ipcr.symbol":{terms:{field:"class_ipcr.symbol"}},"class_national.symbol":{terms:{field:"class_national.symbol"}},dates:{date_histogram:{field:"date_published",calendar_interval:"year",min_doc_count:1,format:"yyyy"}}},t.patentFlagAggs={has_title:{filter:{term:{has_title:!0}}},has_abstract:{filter:{term:{has_abstract:!0}}},has_claim:{filter:{term:{has_claim:!0}}},has_description:{filter:{term:{has_description:!0}}},has_full_text:{filter:{term:{has_full_text:!0}}},"legal_status.has_disclaimer":{filter:{term:{"legal_status.has_disclaimer":!0}}},has_inpadoc:{filter:{term:{has_inpadoc:!0}}},has_docdb:{filter:{term:{has_docdb:!0}}},has_applicant:{filter:{term:{has_applicant:!0}}},has_owner:{filter:{term:{has_owner:!0}}},has_inventor:{filter:{term:{has_inventor:!0}}},has_agent:{filter:{term:{has_agent:!0}}},has_examiner:{filter:{term:{has_examiner:!0}}},has_sequence:{filter:{term:{has_sequence:!0}}},cited_by_patent:{filter:{term:{cited_by_patent:!0}}},cites_npl:{filter:{term:{cites_npl:!0}}},cites_patent:{filter:{term:{cites_patent:!0}}},cites_resolved_npl:{filter:{term:{cites_resolved_npl:!0}}}}},function(e,t,n){var i=n(134),a=n(135);e.exports=function(e,t,n,r){var o=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?a(n,c,u):i(n,c,u)}return n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var i=n(75),a=n(144);e.exports=function(e){return null!=e&&a(e.length)&&!i(e)}},function(e,t,n){var i=n(366),a=n(59),r=n(367),o=n(368),s=n(369),l=n(28),c=n(76),u=c(i),d=c(a),p=c(r),f=c(o),m=c(s),h=l;(i&&"[object DataView]"!=h(new i(new ArrayBuffer(1)))||a&&"[object Map]"!=h(new a)||r&&"[object Promise]"!=h(r.resolve())||o&&"[object Set]"!=h(new o)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case m:return"[object WeakMap]"}return t}),e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HistoricalAnalysisSpec=function(e){var t=e.data,n=e.width,i=e.mark,a=e.height,r=e.yAxisLabel,o=e.colourAxisLabel,s=e.colourScale,l=e.hidePoint,c=e.minimal,u=e.max,d=e.interval,p=e.temporalLabel,f=(new Date).getFullYear();if(c){var m=t.map((function(e){return parseFloat(e.label)})),h=_.max(m),y=_.min(m);if(h-y<10){if(h<f){var g=Math.min(f,h+5);t.push({value:0,label:g+""})}t.push({value:0,label:y-5+""})}}var v=c?{title:r||null,titlePadding:10,labelFontSize:10,orient:"right",labelAngle:90,labelAlign:"top",domain:!1,offset:12,ticks:!1,titleBaseline:"top"}:{title:r||null,titlePadding:10,labelFontSize:10};p||(p="Date Published",d&&"year"!==d||(p="Year Published"));var b={x:{field:"label",type:"temporal",axis:window.vegaLegend({title:!c&&p,titlePadding:10,labelFontSize:10,domain:!c,grid:!1})},y:{field:"value",type:"quantitative",format:",",axis:window.vegaLegend(v)},tooltip:[{field:"value",type:"quantitative",title:r||"Document Count",format:","},{field:"label",type:"temporal",timeUnit:d&&"year"!==d?null:"utcyear",scale:{type:"utc"},title:p}],color:{field:"color",type:"nominal",scale:s||{scheme:"category20c"},legend:window.vegaLegend({orient:"bottom",columns:3,columnPadding:10,rowPadding:1,labelFontSize:12})}};o?(b.color.axis={title:o},b.tooltip.push({field:"color",type:"nominal",title:o})):b.color.legend=null,u&&(b.y.scale={domain:[0,u]}),d?"month"===d&&(b.x.timeUnit="yearmonth"):(b.x.timeUnit="utcyear",b.x.scale={type:"utc"});var S={$schema:"https://vega.github.io/schema/vega-lite/v5.json",autosize:c?"pad":"fit",background:"transparent",view:{stroke:null},width:n-(c?40:35),config:c?{view:{fill:(window.THEME,"transparent")}}:null,padding:c?{left:0,top:10,right:0,bottom:0}:null,height:a||Math.max(400,n/2.5),selection:{grid:{encodings:["x"],type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},mark:{type:i||"line",point:l?null:{cursor:"pointer",size:80}},encoding:b,data:{values:t}};return d&&"year"!==d||(S.data.format={parse:{label:"utc:'%Y'"}}),"circle"===i&&(S.mark.size=200),S}},function(e,t,n){var i,a,r;a=[],void 0===(r="function"==typeof(i=function(){"use strict";function e(t,n,i,a){this.message=t,this.expected=n,this.found=i,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?r(e.parts[t][0])+"-"+r(e.parts[t][1]):r(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function r(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}return"Expected "+function(e){var t,i,a,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=(a=e[t],n[a.type](a));if(r.sort(),r.length>0){for(t=1,i=1;t<r.length;t++)r[t-1]!==r[t]&&(r[i]=r[t],i++);r.length=i}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,n){n=void 0!==n?n:{};var i,a={},r={start:se},o=se,s=function(e){return e[0]},l=ee("(",!1),c=ee(")",!1),u=/^[:]/,d=te([":"],!1,!1),p=ee(".",!1),f=/^[^: \t\r\n\f{}()"+-\/\^~[\]]/,m=te([":"," ","\t","\r","\n","\f","{","}","(",")",'"',["+","/"],"^","~","[","]"],!0,!1),h=ee("\\",!1),y=/^[: \t\r\n\f{}()"\/\^~[\]]/,g=te([":"," ","\t","\r","\n","\f","{","}","(",")",'"',"/","^","~","[","]"],!1,!1),v=ee("+",!1),b=ee("-",!1),S=ee("/",!1),_=ee("\\/",!1),C=/^[^\/]/,k=te(["/"],!0,!1),A=ee('"',!1),w=/^[^"]/,P=te(['"'],!0,!1),T=ee("~",!1),x=ee("^",!1),M=ee("0.",!1),I=/^[0-9]/,R=te([["0","9"]],!1,!1),E=ee("[",!1),D=ee("TO",!1),L=ee("]",!1),N=ee("{",!1),O=ee("}",!1),U=ee("OR",!1),B=ee("AND",!1),F=ee("NOT",!1),G=ee("||",!1),H=ee("&&",!1),j=ee("!",!1),K=ne("whitespace"),$=/^[ \t\r\n\f]/,q=te([" ","\t","\r","\n","\f"],!1,!1),z={type:"any"},V=0,W=0,J=[{line:1,column:1}],Z=0,Y=[],Q=0;if("startRule"in n){if(!(n.startRule in r))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=r[n.startRule]}function X(){return ae(W,V)}function ee(e,t){return{type:"literal",text:e,ignoreCase:t}}function te(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ne(e){return{type:"other",description:e}}function ie(e){var n,i=J[e];if(i)return i;for(n=e-1;!J[n];)n--;for(i={line:(i=J[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return J[e]=i,i}function ae(e,t){var n=ie(e),i=ie(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function re(e){V<Z||(V>Z&&(Z=V,Y=[]),Y.push(e))}function oe(t,n,i){return new e(e.buildMessage(t,n),t,n,i)}function se(){var e,t,n,i;for(e=V,t=[],n=Ce();n!==a;)t.push(n),n=Ce();if(t!==a){if(n=[],(i=le())!==a)for(;i!==a;)n.push(i),i=le();else n=a;n!==a?(W=e,e=t=s(n)):(V=e,e=a)}else V=e,e=a;if(e===a){for(e=V,t=[],n=Ce();n!==a;)t.push(n),n=Ce();t!==a&&(W=e,t={}),(e=t)===a&&(e=V,(t=ke())!==a&&(W=e,t={}),e=t)}return e}function le(){var e,n,i,r,o;if(e=V,(n=be())!==a&&(i=ke())!==a?(W=e,e=n={operator:n}):(V=e,e=a),e===a&&(e=V,(n=be())!==a&&(i=le())!==a?(W=e,e=n=i):(V=e,e=a),e===a))if(e=V,(n=function(){var e,n,i,r;if(e=V,(n=function(){var e,n,i,r,o;return e=V,(n=ue())===a&&(n=null),n!==a&&(i=function(){var e,n,i,r,o,s,l,c;if(e=V,91===t.charCodeAt(V)?(n="[",V++):(n=a,0===Q&&re(E)),n!==a)if((i=de())!==a){for(r=[],o=Ce();o!==a;)r.push(o),o=Ce();if(r!==a)if("TO"===t.substr(V,2)?(o="TO",V+=2):(o=a,0===Q&&re(D)),o!==a){if(s=[],(l=Ce())!==a)for(;l!==a;)s.push(l),l=Ce();else s=a;s!==a&&(l=de())!==a?(93===t.charCodeAt(V)?(c="]",V++):(c=a,0===Q&&re(L)),c!==a?(W=e,e=n={term_min:i,term_max:l,inclusive:!0,inclusive_min:!0,inclusive_max:!0}):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;else V=e,e=a;if(e===a){if(e=V,123===t.charCodeAt(V)?(n="{",V++):(n=a,0===Q&&re(N)),n!==a)if((i=de())!==a){for(r=[],o=Ce();o!==a;)r.push(o),o=Ce();if(r!==a)if("TO"===t.substr(V,2)?(o="TO",V+=2):(o=a,0===Q&&re(D)),o!==a){if(s=[],(l=Ce())!==a)for(;l!==a;)s.push(l),l=Ce();else s=a;s!==a&&(l=de())!==a?(125===t.charCodeAt(V)?(c="}",V++):(c=a,0===Q&&re(O)),c!==a?(W=e,n=function(e,t){return{term_min:e,term_max:t,inclusive:!1,inclusive_min:!1,inclusive_max:!1}}(i,l),e=n):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;else V=e,e=a;if(e===a){if(e=V,123===t.charCodeAt(V)?(n="{",V++):(n=a,0===Q&&re(N)),n!==a)if((i=de())!==a){for(r=[],o=Ce();o!==a;)r.push(o),o=Ce();if(r!==a)if("TO"===t.substr(V,2)?(o="TO",V+=2):(o=a,0===Q&&re(D)),o!==a){if(s=[],(l=Ce())!==a)for(;l!==a;)s.push(l),l=Ce();else s=a;s!==a&&(l=de())!==a?(93===t.charCodeAt(V)?(c="]",V++):(c=a,0===Q&&re(L)),c!==a?(W=e,n=function(e,t){return{term_min:e,term_max:t,inclusive:!1,inclusive_min:!1,inclusive_max:!0}}(i,l),e=n):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;else V=e,e=a;if(e===a)if(e=V,91===t.charCodeAt(V)?(n="[",V++):(n=a,0===Q&&re(E)),n!==a)if((i=de())!==a){for(r=[],o=Ce();o!==a;)r.push(o),o=Ce();if(r!==a)if("TO"===t.substr(V,2)?(o="TO",V+=2):(o=a,0===Q&&re(D)),o!==a){if(s=[],(l=Ce())!==a)for(;l!==a;)s.push(l),l=Ce();else s=a;s!==a&&(l=de())!==a?(125===t.charCodeAt(V)?(c="}",V++):(c=a,0===Q&&re(O)),c!==a?(W=e,n=function(e,t){return{term_min:e,term_max:t,inclusive:!1,inclusive_min:!0,inclusive_max:!1}}(i,l),e=n):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;else V=e,e=a}}return e}())!==a?(W=e,r=n,(o=i).field=""==r||null==r?"<implicit>":r,e=n=o):(V=e,e=a),e===a&&(e=V,(n=ue())!==a&&(i=ce())!==a?(W=e,n=function(e,t){return t.field=e,t}(n,i),e=n):(V=e,e=a),e===a&&(e=V,(n=ue())===a&&(n=null),n!==a&&(i=function(){var e,n,i,r,o,s,l,c,u,d,p;if(e=V,(n=_e())===a&&(n=null),n!==a)if((i=function(){var e,n,i,r;if(e=V,34===t.charCodeAt(V)?(n='"',V++):(n=a,0===Q&&re(A)),n!==a){if(i=[],w.test(t.charAt(V))?(r=t.charAt(V),V++):(r=a,0===Q&&re(P)),r!==a)for(;r!==a;)i.push(r),w.test(t.charAt(V))?(r=t.charAt(V),V++):(r=a,0===Q&&re(P));else i=a;i!==a?(34===t.charCodeAt(V)?(r='"',V++):(r=a,0===Q&&re(A)),r!==a?(W=e,n=i.join(""),e=n):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;return e}())!==a)if((r=function(){var e,n,i;return e=V,126===t.charCodeAt(V)?(n="~",V++):(n=a,0===Q&&re(T)),n!==a&&(i=ve())!==a?(W=e,e=n=i):(V=e,e=a),e}())===a&&(r=null),r!==a)if((o=ye())===a&&(o=null),o!==a){for(s=[],l=Ce();l!==a;)s.push(l),l=Ce();s!==a?(W=e,c=n,d=o,p={term:i},""!=(u=r)&&(p.proximity=u),""!=d&&(p.boost=d),""!=c&&(p.prefix=c),e=n=p):(V=e,e=a)}else V=e,e=a;else V=e,e=a;else V=e,e=a;else V=e,e=a;if(e===a){if(e=V,(n=_e())===a&&(n=null),n!==a)if((i=de())!==a)if((r=function(){var e,n,i,r;return e=V,126===t.charCodeAt(V)?(n="~",V++):(n=a,0===Q&&re(T)),n!==a?((i=ge())===a&&(i=null),i!==a?(W=e,e=n=""==(r=i)||null==r?.5:r):(V=e,e=a)):(V=e,e=a),e}())===a&&(r=null),r!==a)if((o=ye())===a&&(o=null),o!==a){for(s=[],l=Ce();l!==a;)s.push(l),l=Ce();s!==a?(W=e,n=function(e,t,n,i){var a={term:t};return""!=n&&(a.similarity=n),""!=i&&(a.boost=i),""!=e&&(a.prefix=e),a}(n,i,r,o),e=n):(V=e,e=a)}else V=e,e=a;else V=e,e=a;else V=e,e=a;else V=e,e=a;if(e===a)if(e=V,(n=_e())===a&&(n=null),n!==a)if((i=function(){var e,n,i,r;if(e=V,47===t.charCodeAt(V)?(n="/",V++):(n=a,0===Q&&re(S)),n!==a){if(i=[],(r=he())!==a)for(;r!==a;)i.push(r),r=he();else i=a;i!==a?(47===t.charCodeAt(V)?(r="/",V++):(r=a,0===Q&&re(S)),r!==a?(W=e,n=i.join("").replace("\\/","/"),e=n):(V=e,e=a)):(V=e,e=a)}else V=e,e=a;return e}())!==a)if((r=ye())===a&&(r=null),r!==a){for(o=[],s=Ce();s!==a;)o.push(s),s=Ce();o!==a?(W=e,n=function(e,t,n){var i={term:t,regexpr:!0};return""!=n&&(i.boost=n),""!=e&&(i.prefix=e),i}(n,i,r),e=n):(V=e,e=a)}else V=e,e=a;else V=e,e=a;else V=e,e=a}return e}())!==a?(W=e,n=function(e,t){var n={field:""==e||null==e?"<implicit>":e};for(var i in t)n[i]=t[i];return n}(n,i),e=n):(V=e,e=a))),e}())!==a){for(i=[],r=Ce();r!==a;)i.push(r),r=Ce();i!==a?(W=e,e=n=n):(V=e,e=a)}else V=e,e=a;return e===a&&(e=ce()),e}())!==a){for(i=[],r=be();r!==a;)i.push(r),r=be();if(i!==a){for(r=[],o=le();o!==a;)r.push(o),o=le();r!==a?(W=e,e=n=function(e,t,n){var i={left:e};return null!=(n=0==n.length?null:null==n[0].right?n[0].left:n[0])&&(i.operator=""==t||null==t?"<implicit>":t[0],i.right=n),i}(n,i,r)):(V=e,e=a)}else V=e,e=a}else V=e,e=a;return e}function ce(){var e,n,i,r,o,u;if(e=V,40===t.charCodeAt(V)?(n="(",V++):(n=a,0===Q&&re(l)),n!==a){if(i=[],(r=le())!==a)for(;r!==a;)i.push(r),r=le();else i=a;if(i!==a)if(41===t.charCodeAt(V)?(r=")",V++):(r=a,0===Q&&re(c)),r!==a){for(o=[],u=Ce();u!==a;)o.push(u),u=Ce();o!==a?(W=e,e=n=s(i)):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;return e}function ue(){var e,n,i,r,o,s;if(e=V,(n=de())!==a){for(i=[],r=Ce();r!==a;)i.push(r),r=Ce();if(i!==a)if(u.test(t.charAt(V))?(r=t.charAt(V),V++):(r=a,0===Q&&re(d)),r!==a){for(o=[],s=Ce();s!==a;)o.push(s),s=Ce();o!==a?(W=e,e=n=n):(V=e,e=a)}else V=e,e=a;else V=e,e=a}else V=e,e=a;return e}function de(){var e,t,n,i;if(e=V,(t=pe())!==a){for(n=[],i=me();i!==a;)n.push(i),i=me();n!==a?(W=e,e=t=function(e,t){var n=e+t.join("");if(/^(?:AND|OR|NOT|\|\||&&)$/.test(n)){var i=new Error("Term can not be AND, OR, NOT, ||, &&");throw i.name="SyntaxError",i.column=X,i}return n}(t,n)):(V=e,e=a)}else V=e,e=a;return e}function pe(){var e;return 46===t.charCodeAt(V)?(e=".",V++):(e=a,0===Q&&re(p)),e===a&&(e=fe())===a&&(f.test(t.charAt(V))?(e=t.charAt(V),V++):(e=a,0===Q&&re(m))),e}function fe(){var e,n,i;return e=V,92===t.charCodeAt(V)?(n="\\",V++):(n=a,0===Q&&re(h)),n!==a?(y.test(t.charAt(V))?(i=t.charAt(V),V++):(i=a,0===Q&&re(g)),i!==a?(W=e,e=n="\\"+i):(V=e,e=a)):(V=e,e=a),e}function me(){var e;return 43===t.charCodeAt(V)?(e="+",V++):(e=a,0===Q&&re(v)),e===a&&(45===t.charCodeAt(V)?(e="-",V++):(e=a,0===Q&&re(b)),e===a&&(e=fe())===a&&(e=pe())),e}function he(){var e;return 46===t.charCodeAt(V)?(e=".",V++):(e=a,0===Q&&re(p)),e===a&&("\\/"===t.substr(V,2)?(e="\\/",V+=2):(e=a,0===Q&&re(_)),e===a&&(C.test(t.charAt(V))?(e=t.charAt(V),V++):(e=a,0===Q&&re(k)))),e}function ye(){var e,n,i;return e=V,94===t.charCodeAt(V)?(n="^",V++):(n=a,0===Q&&re(x)),n!==a&&(i=function(){var e;return(e=ge())===a&&(e=ve()),e}())!==a?(W=e,e=n=i):(V=e,e=a),e}function ge(){var e,n,i,r;if(e=V,"0."===t.substr(V,2)?(n="0.",V+=2):(n=a,0===Q&&re(M)),n!==a){if(i=[],I.test(t.charAt(V))?(r=t.charAt(V),V++):(r=a,0===Q&&re(R)),r!==a)for(;r!==a;)i.push(r),I.test(t.charAt(V))?(r=t.charAt(V),V++):(r=a,0===Q&&re(R));else i=a;i!==a?(W=e,e=n=parseFloat("0."+i.join(""))):(V=e,e=a)}else V=e,e=a;return e}function ve(){var e,n,i;if(e=V,n=[],I.test(t.charAt(V))?(i=t.charAt(V),V++):(i=a,0===Q&&re(R)),i!==a)for(;i!==a;)n.push(i),I.test(t.charAt(V))?(i=t.charAt(V),V++):(i=a,0===Q&&re(R));else n=a;return n!==a&&(W=e,n=parseInt(n.join(""))),e=n}function be(){var e,t,n,i,r;for(e=V,t=[],n=Ce();n!==a;)t.push(n),n=Ce();if(t!==a)if((n=Se())!==a){if(i=[],(r=Ce())!==a)for(;r!==a;)i.push(r),r=Ce();else i=a;i!==a?(W=e,e=t=n):(V=e,e=a)}else V=e,e=a;else V=e,e=a;if(e===a){for(e=V,t=[],n=Ce();n!==a;)t.push(n),n=Ce();t!==a&&(n=Se())!==a&&(i=ke())!==a?(W=e,e=t=n):(V=e,e=a)}return e}function Se(){var e,n;return"OR"===t.substr(V,2)?(e="OR",V+=2):(e=a,0===Q&&re(U)),e===a&&("AND"===t.substr(V,3)?(e="AND",V+=3):(e=a,0===Q&&re(B)),e===a&&("NOT"===t.substr(V,3)?(e="NOT",V+=3):(e=a,0===Q&&re(F)),e===a&&(e=V,"||"===t.substr(V,2)?(n="||",V+=2):(n=a,0===Q&&re(G)),n!==a&&(W=e,n="OR"),(e=n)===a&&(e=V,"&&"===t.substr(V,2)?(n="&&",V+=2):(n=a,0===Q&&re(H)),n!==a&&(W=e,n="AND"),(e=n)===a&&(e=V,33===t.charCodeAt(V)?(n="!",V++):(n=a,0===Q&&re(j)),n!==a&&(W=e,n="NOT"),e=n))))),e}function _e(){var e,n,i;for(e=V,n=[],i=Ce();i!==a;)n.push(i),i=Ce();return n!==a&&(i=function(){var e;return 43===t.charCodeAt(V)?(e="+",V++):(e=a,0===Q&&re(v)),e===a&&(45===t.charCodeAt(V)?(e="-",V++):(e=a,0===Q&&re(b))),e}())!==a?(W=e,e=n=i):(V=e,e=a),e}function Ce(){var e,n;if(Q++,e=[],$.test(t.charAt(V))?(n=t.charAt(V),V++):(n=a,0===Q&&re(q)),n!==a)for(;n!==a;)e.push(n),$.test(t.charAt(V))?(n=t.charAt(V),V++):(n=a,0===Q&&re(q));else e=a;return Q--,e===a&&(n=a,0===Q&&re(K)),e}function ke(){var e,n;return e=V,Q++,t.length>V?(n=t.charAt(V),V++):(n=a,0===Q&&re(z)),Q--,n===a?e=void 0:(V=e,e=a),e}if((i=o())!==a&&V===t.length)return i;throw i!==a&&V<t.length&&re({type:"end"}),oe(Y,Z<t.length?t.charAt(Z):null,Z<t.length?ae(Z,Z+1):ae(Z,Z))}}})?i.apply(t,a):i)||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getKeywordField=function(e){["source.asjc_subject","source.title","conference.name","chemical.substance_name","author.affiliation.name","author.display_name","author_first.display_name","author_last.display_name","source.publisher"].forEach((function(t){e===t&&(e=t+".keyword")}));var t=!0,n=!1,i=void 0;try{for(var a,r=["inventor.name","applicant.name","owner.name","owner_all.name","agent.name"][Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(e===o+".exact")return e;if(e===o)return o+".exact"}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return e.endsWith(".exact")?e.replace(".exact",".keyword"):e}},function(e,t,n){var i;self,i=function(){return function(){var e={3099:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:function(e,t,n){var i=n(111);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:function(e,t,n){var i=n(5112),a=n(30),r=n(3070),o=i("unscopables"),s=Array.prototype;null==s[o]&&r.f(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},1530:function(e,t,n){"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:function(e){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},9670:function(e,t,n){var i=n(111);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var i,a=n(4019),r=n(9781),o=n(7854),s=n(111),l=n(6656),c=n(648),u=n(8880),d=n(1320),p=n(3070).f,f=n(9518),m=n(7674),h=n(5112),y=n(9711),g=o.Int8Array,v=g&&g.prototype,b=o.Uint8ClampedArray,S=b&&b.prototype,_=g&&f(g),C=v&&f(v),k=Object.prototype,A=k.isPrototypeOf,w=h("toStringTag"),P=y("TYPED_ARRAY_TAG"),T=a&&!!m&&"Opera"!==c(o.opera),x=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!s(e))return!1;var t=c(e);return l(M,t)||l(I,t)};for(i in M)o[i]||(T=!1);if((!T||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},T))for(i in M)o[i]&&m(o[i],_);if((!T||!C||C===k)&&(C=_.prototype,T))for(i in M)o[i]&&m(o[i].prototype,C);if(T&&f(S)!==C&&m(S,C),r&&!l(C,w))for(i in x=!0,p(C,w,{get:function(){return s(this)?this[P]:void 0}}),M)o[i]&&u(o[i],P,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:x&&P,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(A.call(_,e))return e}else for(var t in M)if(l(M,i)){var n=o[t];if(n&&(e===n||A.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(r){if(n)for(var i in M){var a=o[i];a&&l(a.prototype,e)&&delete a.prototype[e]}C[e]&&!n||d(C,e,n?t:T&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,a;if(r){if(m){if(n)for(i in M)(a=o[i])&&l(a,e)&&delete a[e];if(_[e]&&!n)return;try{return d(_,e,n?t:T&&g[e]||t)}catch(e){}}for(i in M)!(a=o[i])||a[e]&&!n||d(a,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(M,t)||l(I,t)},isTypedArray:R,TypedArray:_,TypedArrayPrototype:C}},3331:function(e,t,n){"use strict";var i=n(7854),a=n(9781),r=n(4019),o=n(8880),s=n(2248),l=n(7293),c=n(5787),u=n(9958),d=n(7466),p=n(7067),f=n(1179),m=n(9518),h=n(7674),y=n(8006).f,g=n(3070).f,v=n(1285),b=n(8003),S=n(9909),_=S.get,C=S.set,k=i.ArrayBuffer,A=k,w=i.DataView,P=w&&w.prototype,T=Object.prototype,x=i.RangeError,M=f.pack,I=f.unpack,R=function(e){return[255&e]},E=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},L=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},N=function(e){return M(e,23,4)},O=function(e){return M(e,52,8)},U=function(e,t){g(e.prototype,t,{get:function(){return _(this)[t]}})},B=function(e,t,n,i){var a=p(n),r=_(e);if(a+t>r.byteLength)throw x("Wrong index");var o=_(r.buffer).bytes,s=a+r.byteOffset,l=o.slice(s,s+t);return i?l:l.reverse()},F=function(e,t,n,i,a,r){var o=p(n),s=_(e);if(o+t>s.byteLength)throw x("Wrong index");for(var l=_(s.buffer).bytes,c=o+s.byteOffset,u=i(+a),d=0;d<t;d++)l[c+d]=u[r?d:t-d-1]};if(r){if(!l((function(){k(1)}))||!l((function(){new k(-1)}))||l((function(){return new k,new k(1.5),new k(NaN),"ArrayBuffer"!=k.name}))){for(var G,H=(A=function(e){return c(this,A),new k(p(e))}).prototype=k.prototype,j=y(k),K=0;j.length>K;)(G=j[K++])in A||o(A,G,k[G]);H.constructor=A}h&&m(P)!==T&&h(P,T);var $=new w(new A(2)),q=P.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(P,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){c(this,A,"ArrayBuffer");var t=p(e);C(this,{bytes:v.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},w=function(e,t,n){c(this,w,"DataView"),c(e,A,"DataView");var i=_(e).byteLength,r=u(t);if(r<0||r>i)throw x("Wrong offset");if(r+(n=void 0===n?i-r:d(n))>i)throw x("Wrong length");C(this,{buffer:e,byteLength:n,byteOffset:r}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},a&&(U(A,"byteLength"),U(w,"buffer"),U(w,"byteLength"),U(w,"byteOffset")),s(w.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return L(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return L(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return I(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return I(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){F(this,1,e,R,t)},setUint8:function(e,t){F(this,1,e,R,t)},setInt16:function(e,t){F(this,2,e,E,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){F(this,2,e,E,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){F(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){F(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){F(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){F(this,8,e,O,t,arguments.length>2?arguments[2]:void 0)}});b(A,"ArrayBuffer"),b(w,"DataView"),e.exports={ArrayBuffer:A,DataView:w}},1048:function(e,t,n){"use strict";var i=n(7908),a=n(1400),r=n(7466),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),s=r(n.length),l=a(e,s),c=a(t,s),u=arguments.length>2?arguments[2]:void 0,d=o((void 0===u?s:a(u,s))-c,s-l),p=1;for(c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=p,c+=p;return n}},1285:function(e,t,n){"use strict";var i=n(7908),a=n(1400),r=n(7466);e.exports=function(e){for(var t=i(this),n=r(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:a(l,n);c>s;)t[s++]=e;return t}},8533:function(e,t,n){"use strict";var i=n(2092).forEach,a=n(9341)("forEach");e.exports=a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},8457:function(e,t,n){"use strict";var i=n(9974),a=n(7908),r=n(3411),o=n(7659),s=n(7466),l=n(6135),c=n(1246);e.exports=function(e){var t,n,u,d,p,f,m=a(e),h="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,v=void 0!==g,b=c(m),S=0;if(v&&(g=i(g,y>2?arguments[2]:void 0,2)),null==b||h==Array&&o(b))for(n=new h(t=s(m.length));t>S;S++)f=v?g(m[S],S):m[S],l(n,S,f);else for(p=(d=b.call(m)).next,n=new h;!(u=p.call(d)).done;S++)f=v?r(d,g,[u.value,S],!0):u.value,l(n,S,f);return n.length=S,n}},1318:function(e,t,n){var i=n(5656),a=n(7466),r=n(1400),o=function(e){return function(t,n,o){var s,l=i(t),c=a(l.length),u=r(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2092:function(e,t,n){var i=n(9974),a=n(8361),r=n(7908),o=n(7466),s=n(5417),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,p=7==e,f=5==e||d;return function(m,h,y,g){for(var v,b,S=r(m),_=a(S),C=i(h,y,3),k=o(_.length),A=0,w=g||s,P=t?w(m,k):n||p?w(m,0):void 0;k>A;A++)if((f||A in _)&&(b=C(v=_[A],A,S),e))if(t)P[A]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:l.call(P,v)}else switch(e){case 4:return!1;case 7:l.call(P,v)}return d?-1:c||u?u:P}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6583:function(e,t,n){"use strict";var i=n(5656),a=n(9958),r=n(7466),o=n(9341),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=o("lastIndexOf"),d=c||!u;e.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),n=r(t.length),o=n-1;for(arguments.length>1&&(o=s(o,a(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},1194:function(e,t,n){var i=n(7293),a=n(5112),r=n(7392),o=a("species");e.exports=function(e){return r>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var i=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},3671:function(e,t,n){var i=n(3099),a=n(7908),r=n(8361),o=n(7466),s=function(e){return function(t,n,s,l){i(n);var c=a(t),u=r(c),d=o(c.length),p=e?d-1:0,f=e?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in u&&(l=n(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},5417:function(e,t,n){var i=n(111),a=n(3157),r=n(5112)("species");e.exports=function(e,t){var n;return a(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[r])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},3411:function(e,t,n){var i=n(9670),a=n(9212);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){throw a(e),t}}},7072:function(e,t,n){var i=n(5112)("iterator"),a=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},4326:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:function(e,t,n){var i=n(1694),a=n(4326),r=n(5112)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?a(t):"Object"==(i=a(t))&&"function"==typeof t.callee?"Arguments":i}},9920:function(e,t,n){var i=n(6656),a=n(3887),r=n(1236),o=n(3070);e.exports=function(e,t){for(var n=a(t),s=o.f,l=r.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},8544:function(e,t,n){var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){"use strict";var i=n(3383).IteratorPrototype,a=n(30),r=n(9114),o=n(8003),s=n(7497),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=a(i,{next:r(1,n)}),o(e,c,!1,!0),s[c]=l,e}},8880:function(e,t,n){var i=n(9781),a=n(3070),r=n(9114);e.exports=i?function(e,t,n){return a.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var i=n(7593),a=n(3070),r=n(9114);e.exports=function(e,t,n){var o=i(t);o in e?a.f(e,o,r(0,n)):e[o]=n}},654:function(e,t,n){"use strict";var i=n(2109),a=n(4994),r=n(9518),o=n(7674),s=n(8003),l=n(8880),c=n(1320),u=n(5112),d=n(1913),p=n(7497),f=n(3383),m=f.IteratorPrototype,h=f.BUGGY_SAFARI_ITERATORS,y=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,f,v,b){a(n,t,u);var S,_,C,k=function(e){if(e===f&&x)return x;if(!h&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",w=!1,P=e.prototype,T=P[y]||P["@@iterator"]||f&&P[f],x=!h&&T||k(f),M="Array"==t&&P.entries||T;if(M&&(S=r(M.call(new e)),m!==Object.prototype&&S.next&&(d||r(S)===m||(o?o(S,m):"function"!=typeof S[y]&&l(S,y,g)),s(S,A,!0,!0),d&&(p[A]=g))),"values"==f&&T&&"values"!==T.name&&(w=!0,x=function(){return T.call(this)}),d&&!b||P[y]===x||l(P,y,x),p[t]=x,f)if(_={values:k("values"),keys:v?x:k("keys"),entries:k("entries")},b)for(C in _)(h||w||!(C in P))&&c(P,C,_[C]);else i({target:t,proto:!0,forced:h||w},_);return _}},9781:function(e,t,n){var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var i=n(7854),a=n(111),r=i.document,o=a(r)&&a(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(e,t,n){var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,n){var i,a,r=n(7854),o=n(8113),s=r.process,l=s&&s.versions,c=l&&l.v8;c?a=(i=c.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(a=i[1]),e.exports=a&&+a},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var i=n(7854),a=n(1236).f,r=n(8880),o=n(1320),s=n(3505),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,p,f,m=e.target,h=e.global,y=e.stat;if(n=h?i:y?i[m]||s(m,{}):(i[m]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(f=a(n,u))&&f.value:n[u],!c(h?u:m+(y?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&r(p,"sham",!0),o(n,u,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,n){"use strict";n(4916);var i=n(1320),a=n(7293),r=n(5112),o=n(2261),s=n(8880),l=r("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=r("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),f=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var m=r(e),h=!a((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),y=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return t=!0,null},n[m](""),!t}));if(!h||!y||"replace"===e&&(!c||!u||p)||"split"===e&&!f){var g=/./[m],v=n(m,""[e],(function(e,t,n,i,a){return t.exec===o?h&&!a?{done:!0,value:g.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=v[0],S=v[1];i(String.prototype,e,b),i(RegExp.prototype,m,2==t?function(e,t){return S.call(e,this,t)}:function(e){return S.call(e,this)})}d&&s(RegExp.prototype[m],"sham",!0)}},9974:function(e,t,n){var i=n(3099);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},5005:function(e,t,n){var i=n(857),a=n(7854),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e])||r(a[e]):i[e]&&i[e][t]||a[e]&&a[e][t]}},1246:function(e,t,n){var i=n(648),a=n(7497),r=n(5112)("iterator");e.exports=function(e){if(null!=e)return e[r]||e["@@iterator"]||a[i(e)]}},8554:function(e,t,n){var i=n(9670),a=n(1246);e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},647:function(e,t,n){var i=n(7908),a=Math.floor,r="".replace,o=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,l,c,u){var d=n+e.length,p=l.length,f=s;return void 0!==c&&(c=i(c),f=o),r.call(u,f,(function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":o=c[r.slice(1,-1)];break;default:var s=+r;if(0===s)return i;if(s>p){var u=a(s/10);return 0===u?i:u<=p?void 0===l[u-1]?r.charAt(1):l[u-1]+r.charAt(1):i}o=l[s-1]}return void 0===o?"":o}))}},7854:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},3501:function(e){e.exports={}},490:function(e,t,n){var i=n(5005);e.exports=i("document","documentElement")},4664:function(e,t,n){var i=n(9781),a=n(7293),r=n(317);e.exports=!i&&!a((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,r=Math.LN2;e.exports={pack:function(e,o,s){var l,c,u,d=new Array(s),p=8*s-o-1,f=(1<<p)-1,m=f>>1,h=23===o?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for((e=t(e))!=e||e===1/0?(c=e!=e?1:0,l=f):(l=i(a(e)/r),e*(u=n(2,-l))<1&&(l--,u*=2),(e+=l+m>=1?h/u:h*n(2,1-m))*u>=2&&(l++,u/=2),l+m>=f?(c=0,l=f):l+m>=1?(c=(e*u-1)*n(2,o),l+=m):(c=e*n(2,m-1)*n(2,o),l=0));o>=8;d[g++]=255&c,c/=256,o-=8);for(l=l<<o|c,p+=o;p>0;d[g++]=255&l,l/=256,p-=8);return d[--g]|=128*y,d},unpack:function(e,t){var i,a=e.length,r=8*a-t-1,o=(1<<r)-1,s=o>>1,l=r-7,c=a-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(i=d&(1<<-l)-1,d>>=-l,l+=t;l>0;i=256*i+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===o)return i?NaN:u?-1/0:1/0;i+=n(2,t),d-=s}return(u?-1:1)*i*n(2,d-t)}}},8361:function(e,t,n){var i=n(7293),a=n(4326),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?r.call(e,""):Object(e)}:Object},9587:function(e,t,n){var i=n(111),a=n(7674);e.exports=function(e,t,n){var r,o;return a&&"function"==typeof(r=t.constructor)&&r!==n&&i(o=r.prototype)&&o!==n.prototype&&a(e,o),e}},2788:function(e,t,n){var i=n(5465),a=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return a.call(e)}),e.exports=i.inspectSource},9909:function(e,t,n){var i,a,r,o=n(8536),s=n(7854),l=n(111),c=n(8880),u=n(6656),d=n(5465),p=n(6200),f=n(3501),m=s.WeakMap;if(o){var h=d.state||(d.state=new m),y=h.get,g=h.has,v=h.set;i=function(e,t){return t.facade=e,v.call(h,e,t),t},a=function(e){return y.call(h,e)||{}},r=function(e){return g.call(h,e)}}else{var b=p("state");f[b]=!0,i=function(e,t){return t.facade=e,c(e,b,t),t},a=function(e){return u(e,b)?e[b]:{}},r=function(e){return u(e,b)}}e.exports={set:i,get:a,has:r,enforce:function(e){return r(e)?a(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var i=n(5112),a=n(7497),r=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[r]===e)}},3157:function(e,t,n){var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},4705:function(e,t,n){var i=n(7293),a=/#|\.prototype\./,r=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},o=r.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},111:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:function(e){e.exports=!1},7850:function(e,t,n){var i=n(111),a=n(4326),r=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},9212:function(e,t,n){var i=n(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return i(t.call(e)).value}},3383:function(e,t,n){"use strict";var i,a,r,o=n(7293),s=n(9518),l=n(8880),c=n(6656),u=n(5112),d=n(1913),p=u("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(a=s(s(r)))!==Object.prototype&&(i=a):f=!0);var m=null==i||o((function(){var e={};return i[p].call(e)!==e}));m&&(i={}),d&&!m||c(i,p)||l(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:function(e){e.exports={}},133:function(e,t,n){var i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},590:function(e,t,n){var i=n(7293),a=n(5112),r=n(1913),o=a("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(e,t,n){var i=n(7854),a=n(2788),r=i.WeakMap;e.exports="function"==typeof r&&/native code/.test(a(r))},1574:function(e,t,n){"use strict";var i=n(9781),a=n(7293),r=n(1956),o=n(5181),s=n(5296),l=n(7908),c=n(8361),u=Object.assign,d=Object.defineProperty;e.exports=!u||a((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=r(u({},t)).join("")}))?function(e,t){for(var n=l(e),a=arguments.length,u=1,d=o.f,p=s.f;a>u;)for(var f,m=c(arguments[u++]),h=d?r(m).concat(d(m)):r(m),y=h.length,g=0;y>g;)f=h[g++],i&&!p.call(m,f)||(n[f]=m[f]);return n}:u},30:function(e,t,n){var i,a=n(9670),r=n(6048),o=n(748),s=n(3501),l=n(490),c=n(317),u=n(6200),d=u("IE_PROTO"),p=function(){},f=function(e){return"<script>"+e+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=i?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete m.prototype[o[n]];return m()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=a(e),n=new p,p.prototype=null,n[d]=e):n=m(),void 0===t?n:r(n,t)}},6048:function(e,t,n){var i=n(9781),a=n(3070),r=n(9670),o=n(1956);e.exports=i?Object.defineProperties:function(e,t){r(e);for(var n,i=o(t),s=i.length,l=0;s>l;)a.f(e,n=i[l++],t[n]);return e}},3070:function(e,t,n){var i=n(9781),a=n(4664),r=n(9670),o=n(7593),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var i=n(9781),a=n(5296),r=n(9114),o=n(5656),s=n(7593),l=n(6656),c=n(4664),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return r(!a.f.call(e,t),e[t])}},8006:function(e,t,n){var i=n(6324),a=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var i=n(6656),a=n(7908),r=n(6200),o=n(8544),s=r("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:function(e,t,n){var i=n(6656),a=n(5656),r=n(1318).indexOf,o=n(3501);e.exports=function(e,t){var n,s=a(e),l=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~r(c,n)||c.push(n));return c}},1956:function(e,t,n){var i=n(6324),a=n(748);e.exports=Object.keys||function(e){return i(e,a)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var i=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),a(r),t?e.call(n,r):n.__proto__=r,n}}():void 0)},288:function(e,t,n){"use strict";var i=n(1694),a=n(648);e.exports=i?{}.toString:function(){return"[object "+a(this)+"]"}},3887:function(e,t,n){var i=n(5005),a=n(8006),r=n(5181),o=n(9670);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},857:function(e,t,n){var i=n(7854);e.exports=i},2248:function(e,t,n){var i=n(1320);e.exports=function(e,t,n){for(var a in t)i(e,a,t[a],n);return e}},1320:function(e,t,n){var i=n(7854),a=n(8880),r=n(6656),o=n(3505),s=n(2788),l=n(9909),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||r(n,"name")||a(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(p=!0):delete e[t],p?e[t]=n:a(e,t,n)):p?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7651:function(e,t,n){var i=n(4326),a=n(2261);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},2261:function(e,t,n){"use strict";var i,a,r=n(7066),o=n(2999),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(i=/a/,a=/b*/g,s.call(i,"a"),s.call(a,"a"),0!==i.lastIndex||0!==a.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(c=function(e){var t,n,i,a,o=this,c=d&&o.sticky,f=r.call(o),m=o.source,h=0,y=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),y=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(m="(?: "+m+")",y=" "+y,h++),n=new RegExp("^(?:"+m+")",f)),p&&(n=new RegExp("^"+m+"$(?!\\s)",f)),u&&(t=o.lastIndex),i=s.call(c?n:o,y),c?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:u&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),p&&i&&i.length>1&&l.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=c},7066:function(e,t,n){"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,n){"use strict";var i=n(7293);function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:function(e,t,n){var i=n(7854),a=n(8880);e.exports=function(e,t){try{a(i,e,t)}catch(n){i[e]=t}return t}},6340:function(e,t,n){"use strict";var i=n(5005),a=n(3070),r=n(5112),o=n(9781),s=r("species");e.exports=function(e){var t=i(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var i=n(3070).f,a=n(6656),r=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},6200:function(e,t,n){var i=n(2309),a=n(9711),r=i("keys");e.exports=function(e){return r[e]||(r[e]=a(e))}},5465:function(e,t,n){var i=n(7854),a=n(3505),r=i["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=r},2309:function(e,t,n){var i=n(1913),a=n(5465);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(e,t,n){var i=n(9670),a=n(3099),r=n(5112)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[r])?t:a(n)}},8710:function(e,t,n){var i=n(9958),a=n(4488),r=function(e){return function(t,n){var r,o,s=String(a(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):r:e?s.slice(l,l+2):o-56320+(r-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},3197:function(e){"use strict";var t=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,r=String.fromCharCode,o=function(e){return e+22+75*(e<26)},s=function(e,t,n){var i=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;i+=36)e=a(e/35);return a(i+36*e/(e+38))},l=function(e){var t,n,l=[],c=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<i){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e)).length,u=128,d=0,p=72;for(t=0;t<e.length;t++)(n=e[t])<128&&l.push(r(n));var f=l.length,m=f;for(f&&l.push("-");m<c;){var h=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<h&&(h=n);var y=m+1;if(h-u>a((2147483647-d)/y))throw RangeError(i);for(d+=(h-u)*y,u=h,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(i);if(n==u){for(var g=d,v=36;;v+=36){var b=v<=p?1:v>=p+26?26:v-p;if(g<b)break;var S=g-b,_=36-b;l.push(r(o(b+S%_))),g=a(S/_)}l.push(r(o(g))),p=s(d,y,m==f),d=0,++m}}++d,++u}return l.join("")};e.exports=function(e){var i,a,r=[],o=e.toLowerCase().replace(n,".").split(".");for(i=0;i<o.length;i++)a=o[i],r.push(t.test(a)?"xn--"+l(a):a);return r.join(".")}},6091:function(e,t,n){var i=n(7293),a=n(1361);e.exports=function(e){return i((function(){return!!a[e]()||"​
᠎"!="​
᠎"[e]()||a[e].name!==e}))}},3111:function(e,t,n){var i=n(4488),a="["+n(1361)+"]",r=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},1400:function(e,t,n){var i=n(9958),a=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?a(n+t,0):r(n,t)}},7067:function(e,t,n){var i=n(9958),a=n(7466);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=a(t);if(t!==n)throw RangeError("Wrong length or index");return n}},5656:function(e,t,n){var i=n(8361),a=n(4488);e.exports=function(e){return i(a(e))}},9958:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},7466:function(e,t,n){var i=n(9958),a=Math.min;e.exports=function(e){return e>0?a(i(e),9007199254740991):0}},7908:function(e,t,n){var i=n(4488);e.exports=function(e){return Object(i(e))}},4590:function(e,t,n){var i=n(3002);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},3002:function(e,t,n){var i=n(9958);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:function(e,t,n){var i=n(111);e.exports=function(e,t){if(!i(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!i(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!i(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},1694:function(e,t,n){var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},9843:function(e,t,n){"use strict";var i=n(2109),a=n(7854),r=n(9781),o=n(3832),s=n(260),l=n(3331),c=n(5787),u=n(9114),d=n(8880),p=n(7466),f=n(7067),m=n(4590),h=n(7593),y=n(6656),g=n(648),v=n(111),b=n(30),S=n(7674),_=n(8006).f,C=n(7321),k=n(2092).forEach,A=n(6340),w=n(3070),P=n(1236),T=n(9909),x=n(9587),M=T.get,I=T.set,R=w.f,E=P.f,D=Math.round,L=a.RangeError,N=l.ArrayBuffer,O=l.DataView,U=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,F=s.TypedArray,G=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,j=s.isTypedArray,K=function(e,t){for(var n=0,i=t.length,a=new(H(e))(i);i>n;)a[n]=t[n++];return a},$=function(e,t){R(e,t,{get:function(){return M(this)[t]}})},q=function(e){var t;return e instanceof N||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},z=function(e,t){return j(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},V=function(e,t){return z(e,t=h(t,!0))?u(2,e[t]):E(e,t)},W=function(e,t,n){return!(z(e,t=h(t,!0))&&v(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?R(e,t,n):(e[t]=n.value,e)};r?(U||(P.f=V,w.f=W,$(G,"buffer"),$(G,"byteOffset"),$(G,"byteLength"),$(G,"length")),i({target:"Object",stat:!0,forced:!U},{getOwnPropertyDescriptor:V,defineProperty:W}),e.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,h=a[s],y=h,g=y&&y.prototype,w={},P=function(e,t){R(e,t,{get:function(){return function(e,t){var n=M(e);return n.view[l](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var a=M(e);n&&(i=(i=D(i))<0?0:i>255?255:255&i),a.view[u](t*r+a.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};U?o&&(y=t((function(e,t,n,i){return c(e,y,s),x(v(t)?q(t)?void 0!==i?new h(t,m(n,r),i):void 0!==n?new h(t,m(n,r)):new h(t):j(t)?K(y,t):C.call(y,t):new h(f(t)),e,y)})),S&&S(y,F),k(_(h),(function(e){e in y||d(y,e,h[e])})),y.prototype=g):(y=t((function(e,t,n,i){c(e,y,s);var a,o,l,u=0,d=0;if(v(t)){if(!q(t))return j(t)?K(y,t):C.call(y,t);a=t,d=m(n,r);var h=t.byteLength;if(void 0===i){if(h%r)throw L("Wrong length");if((o=h-d)<0)throw L("Wrong length")}else if((o=p(i)*r)+d>h)throw L("Wrong length");l=o/r}else l=f(t),a=new N(o=l*r);for(I(e,{buffer:a,byteOffset:d,byteLength:o,length:l,view:new O(a)});u<l;)P(e,u++)})),S&&S(y,F),g=y.prototype=b(G)),g.constructor!==y&&d(g,"constructor",y),B&&d(g,B,s),w[s]=y,i({global:!0,forced:y!=h,sham:!U},w),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",r),A(s)}):e.exports=function(){}},3832:function(e,t,n){var i=n(7854),a=n(7293),r=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!a((function(){l(1)}))||!a((function(){new l(-1)}))||!r((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||a((function(){return 1!==new l(new s(2),1,void 0).length}))},3074:function(e,t,n){var i=n(260).aTypedArrayConstructor,a=n(6707);e.exports=function(e,t){for(var n=a(e,e.constructor),r=0,o=t.length,s=new(i(n))(o);o>r;)s[r]=t[r++];return s}},7321:function(e,t,n){var i=n(7908),a=n(7466),r=n(1246),o=n(7659),s=n(9974),l=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,p,f=i(e),m=arguments.length,h=m>1?arguments[1]:void 0,y=void 0!==h,g=r(f);if(null!=g&&!o(g))for(p=(d=g.call(f)).next,f=[];!(u=p.call(d)).done;)f.push(u.value);for(y&&m>2&&(h=s(h,arguments[2],2)),n=a(f.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=y?h(f[t],t):f[t];return c}},9711:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},3307:function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(e,t,n){var i=n(7854),a=n(2309),r=n(6656),o=n(9711),s=n(133),l=n(3307),c=a("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){return r(c,e)||(s&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},8264:function(e,t,n){"use strict";var i=n(2109),a=n(7854),r=n(3331),o=n(6340),s=r.ArrayBuffer;i({global:!0,forced:a.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},2222:function(e,t,n){"use strict";var i=n(2109),a=n(7293),r=n(3157),o=n(111),s=n(7908),l=n(7466),c=n(6135),u=n(5417),d=n(1194),p=n(5112),f=n(7392),m=p("isConcatSpreadable"),h=f>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=d("concat"),g=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:r(e)};i({target:"Array",proto:!0,forced:!h||!y},{concat:function(e){var t,n,i,a,r,o=s(this),d=u(o,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(g(r=-1===t?o:arguments[t])){if(p+(a=l(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<a;n++,p++)n in r&&c(d,p,r[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,p++,r)}return d.length=p,d}})},7327:function(e,t,n){"use strict";var i=n(2109),a=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},2772:function(e,t,n){"use strict";var i=n(2109),a=n(1318).indexOf,r=n(9341),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=r("indexOf");i({target:"Array",proto:!0,forced:s||!l},{indexOf:function(e){return s?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},6992:function(e,t,n){"use strict";var i=n(5656),a=n(1223),r=n(7497),o=n(9909),s=n(654),l=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},1249:function(e,t,n){"use strict";var i=n(2109),a=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:function(e,t,n){"use strict";var i=n(2109),a=n(111),r=n(3157),o=n(1400),s=n(7466),l=n(5656),c=n(6135),u=n(5112),d=n(1194)("slice"),p=u("species"),f=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,i,u,d=l(this),h=s(d.length),y=o(e,h),g=o(void 0===t?h:t,h);if(r(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!r(n.prototype)?a(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(d,y,g);for(i=new(void 0===n?Array:n)(m(g-y,0)),u=0;y<g;y++,u++)y in d&&c(i,u,d[y]);return i.length=u,i}})},561:function(e,t,n){"use strict";var i=n(2109),a=n(1400),r=n(9958),o=n(7466),s=n(7908),l=n(5417),c=n(6135),u=n(1194)("splice"),d=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,i,u,f,m,h,y=s(this),g=o(y.length),v=a(e,g),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=g-v):(n=b-2,i=p(d(r(t),0),g-v)),g+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(y,i),f=0;f<i;f++)(m=v+f)in y&&c(u,f,y[m]);if(u.length=i,n<i){for(f=v;f<g-i;f++)h=f+n,(m=f+i)in y?y[h]=y[m]:delete y[h];for(f=g;f>g-i+n;f--)delete y[f-1]}else if(n>i)for(f=g-i;f>v;f--)h=f+n-1,(m=f+i-1)in y?y[h]=y[m]:delete y[h];for(f=0;f<n;f++)y[f+v]=arguments[f+2];return y.length=g-i+n,u}})},8309:function(e,t,n){var i=n(9781),a=n(3070).f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in r)&&a(r,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},489:function(e,t,n){var i=n(2109),a=n(7293),r=n(7908),o=n(9518),s=n(8544);i({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(r(e))}})},1539:function(e,t,n){var i=n(1694),a=n(1320),r=n(288);i||a(Object.prototype,"toString",r,{unsafe:!0})},4916:function(e,t,n){"use strict";var i=n(2109),a=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},9714:function(e,t,n){"use strict";var i=n(1320),a=n(9670),r=n(7293),o=n(7066),s=RegExp.prototype,l=s.toString,c=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u="toString"!=l.name;(c||u)&&i(RegExp.prototype,"toString",(function(){var e=a(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n)}),{unsafe:!0})},8783:function(e,t,n){"use strict";var i=n(8710).charAt,a=n(9909),r=n(654),o=a.set,s=a.getterFor("String Iterator");r(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,a=t.index;return a>=n.length?{value:void 0,done:!0}:(e=i(n,a),t.index+=e.length,{value:e,done:!1})}))},4723:function(e,t,n){"use strict";var i=n(7007),a=n(9670),r=n(7466),o=n(4488),s=n(1530),l=n(7651);i("match",1,(function(e,t,n){return[function(t){var n=o(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var o=a(e),c=String(this);if(!o.global)return l(o,c);var u=o.unicode;o.lastIndex=0;for(var d,p=[],f=0;null!==(d=l(o,c));){var m=String(d[0]);p[f]=m,""===m&&(o.lastIndex=s(c,r(o.lastIndex),u)),f++}return 0===f?null:p}]}))},5306:function(e,t,n){"use strict";var i=n(7007),a=n(9670),r=n(7466),o=n(9958),s=n(4488),l=n(1530),c=n(647),u=n(7651),d=Math.max,p=Math.min;i("replace",2,(function(e,t,n,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=i.REPLACE_KEEPS_$0,h=f?"$":"$0";return[function(n,i){var a=s(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,a,i):t.call(String(a),n,i)},function(e,i){if(!f&&m||"string"==typeof i&&-1===i.indexOf(h)){var s=n(t,e,this,i);if(s.done)return s.value}var y=a(e),g=String(this),v="function"==typeof i;v||(i=String(i));var b=y.global;if(b){var S=y.unicode;y.lastIndex=0}for(var _=[];;){var C=u(y,g);if(null===C)break;if(_.push(C),!b)break;""===String(C[0])&&(y.lastIndex=l(g,r(y.lastIndex),S))}for(var k,A="",w=0,P=0;P<_.length;P++){C=_[P];for(var T=String(C[0]),x=d(p(o(C.index),g.length),0),M=[],I=1;I<C.length;I++)M.push(void 0===(k=C[I])?k:String(k));var R=C.groups;if(v){var E=[T].concat(M,x,g);void 0!==R&&E.push(R);var D=String(i.apply(void 0,E))}else D=c(T,g,x,M,R,i);x>=w&&(A+=g.slice(w,x)+D,w=x+T.length)}return A+g.slice(w)}]}))},3123:function(e,t,n){"use strict";var i=n(7007),a=n(7850),r=n(9670),o=n(4488),s=n(6707),l=n(1530),c=n(7466),u=n(7651),d=n(2261),p=n(7293),f=[].push,m=Math.min,h=!p((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),r=void 0===n?4294967295:n>>>0;if(0===r)return[];if(void 0===e)return[i];if(!a(e))return t.call(i,e,r);for(var s,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=new RegExp(e.source,p+"g");(s=d.call(h,i))&&!((l=h.lastIndex)>m&&(u.push(i.slice(m,s.index)),s.length>1&&s.index<i.length&&f.apply(u,s.slice(1)),c=s[0].length,m=l,u.length>=r));)h.lastIndex===s.index&&h.lastIndex++;return m===i.length?!c&&h.test("")||u.push(""):u.push(i.slice(m)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,a,n):i.call(String(a),t,n)},function(e,a){var o=n(i,e,this,a,i!==t);if(o.done)return o.value;var d=r(e),p=String(this),f=s(d,RegExp),y=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),v=new f(h?d:"^(?:"+d.source+")",g),b=void 0===a?4294967295:a>>>0;if(0===b)return[];if(0===p.length)return null===u(v,p)?[p]:[];for(var S=0,_=0,C=[];_<p.length;){v.lastIndex=h?_:0;var k,A=u(v,h?p:p.slice(_));if(null===A||(k=m(c(v.lastIndex+(h?0:_)),p.length))===S)_=l(p,_,y);else{if(C.push(p.slice(S,_)),C.length===b)return C;for(var w=1;w<=A.length-1;w++)if(C.push(A[w]),C.length===b)return C;_=S=k}}return C.push(p.slice(S)),C}]}),!h)},3210:function(e,t,n){"use strict";var i=n(2109),a=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return a(this)}})},2990:function(e,t,n){"use strict";var i=n(260),a=n(1048),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a.call(r(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,n){"use strict";var i=n(260),a=n(2092).every,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,n){"use strict";var i=n(260),a=n(1285),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(e){return a.apply(r(this),arguments)}))},5035:function(e,t,n){"use strict";var i=n(260),a=n(2092).filter,r=n(3074),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",(function(e){var t=a(o(this),e,arguments.length>1?arguments[1]:void 0);return r(this,t)}))},7174:function(e,t,n){"use strict";var i=n(260),a=n(2092).findIndex,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,n){"use strict";var i=n(260),a=n(2092).find,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,n){"use strict";var i=n(260),a=n(2092).forEach,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:function(e,t,n){"use strict";var i=n(260),a=n(1318).includes,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,n){"use strict";var i=n(260),a=n(1318).indexOf,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,n){"use strict";var i=n(7854),a=n(260),r=n(6992),o=n(5112)("iterator"),s=i.Uint8Array,l=r.values,c=r.keys,u=r.entries,d=a.aTypedArray,p=a.exportTypedArrayMethod,f=s&&s.prototype[o],m=!!f&&("values"==f.name||null==f.name),h=function(){return l.call(d(this))};p("entries",(function(){return u.call(d(this))})),p("keys",(function(){return c.call(d(this))})),p("values",h,!m),p(o,h,!m)},8867:function(e,t,n){"use strict";var i=n(260),a=i.aTypedArray,r=i.exportTypedArrayMethod,o=[].join;r("join",(function(e){return o.apply(a(this),arguments)}))},7789:function(e,t,n){"use strict";var i=n(260),a=n(6583),r=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){return a.apply(r(this),arguments)}))},3739:function(e,t,n){"use strict";var i=n(260),a=n(2092).map,r=n(6707),o=i.aTypedArray,s=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(r(e,e.constructor)))(t)}))}))},4483:function(e,t,n){"use strict";var i=n(260),a=n(3671).right,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){return a(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:function(e,t,n){"use strict";var i=n(260),a=n(3671).left,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){return a(r(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:function(e,t,n){"use strict";var i=n(260),a=i.aTypedArray,r=i.exportTypedArrayMethod,o=Math.floor;r("reverse",(function(){for(var e,t=a(this).length,n=o(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this}))},3462:function(e,t,n){"use strict";var i=n(260),a=n(7466),r=n(4590),o=n(7908),s=n(7293),l=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){l(this);var t=r(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=o(e),s=a(i.length),c=0;if(s+t>n)throw RangeError("Wrong length");for(;c<s;)this[t+c]=i[c++]}),s((function(){new Int8Array(1).set({})})))},678:function(e,t,n){"use strict";var i=n(260),a=n(6707),r=n(7293),o=i.aTypedArray,s=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var n=c.call(o(this),e,t),i=a(this,this.constructor),r=0,l=n.length,u=new(s(i))(l);l>r;)u[r]=n[r++];return u}),r((function(){new Int8Array(1).slice()})))},7462:function(e,t,n){"use strict";var i=n(260),a=n(2092).some,r=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,n){"use strict";var i=n(260),a=i.aTypedArray,r=i.exportTypedArrayMethod,o=[].sort;r("sort",(function(e){return o.call(a(this),e)}))},5021:function(e,t,n){"use strict";var i=n(260),a=n(7466),r=n(1400),o=n(6707),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),i=n.length,l=r(e,i);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,a((void 0===t?i:r(t,i))-l))}))},2974:function(e,t,n){"use strict";var i=n(7854),a=n(260),r=n(7293),o=i.Int8Array,s=a.aTypedArray,l=a.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!o&&r((function(){c.call(new o(1))}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),r((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!r((function(){o.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,n){"use strict";var i=n(260).exportTypedArrayMethod,a=n(7293),r=n(7854).Uint8Array,o=r&&r.prototype||{},s=[].toString,l=[].join;a((function(){s.call({})}))&&(s=function(){return l.call(this)});var c=o.toString!=s;i("toString",s,c)},2472:function(e,t,n){n(9843)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},4747:function(e,t,n){var i=n(7854),a=n(8324),r=n(8533),o=n(8880);for(var s in a){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==r)try{o(c,"forEach",r)}catch(e){c.forEach=r}}},3948:function(e,t,n){var i=n(7854),a=n(8324),r=n(6992),o=n(8880),s=n(5112),l=s("iterator"),c=s("toStringTag"),u=r.values;for(var d in a){var p=i[d],f=p&&p.prototype;if(f){if(f[l]!==u)try{o(f,l,u)}catch(e){f[l]=u}if(f[c]||o(f,c,d),a[d])for(var m in r)if(f[m]!==r[m])try{o(f,m,r[m])}catch(e){f[m]=r[m]}}}},1637:function(e,t,n){"use strict";n(6992);var i=n(2109),a=n(5005),r=n(590),o=n(1320),s=n(2248),l=n(8003),c=n(4994),u=n(9909),d=n(5787),p=n(6656),f=n(9974),m=n(648),h=n(9670),y=n(111),g=n(30),v=n(9114),b=n(8554),S=n(1246),_=n(5112),C=a("fetch"),k=a("Headers"),A=_("iterator"),w=u.set,P=u.getterFor("URLSearchParams"),T=u.getterFor("URLSearchParamsIterator"),x=/\+/g,M=Array(4),I=function(e){return M[e-1]||(M[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},E=function(e){var t=e.replace(x," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(I(n--),R);return t}},D=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(e){return L[e]},O=function(e){return encodeURIComponent(e).replace(D,N)},U=function(e,t){if(t)for(var n,i,a=t.split("&"),r=0;r<a.length;)(n=a[r++]).length&&(i=n.split("="),e.push({key:E(i.shift()),value:E(i.join("="))}))},B=function(e){this.entries.length=0,U(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},G=c((function(e,t){w(this,{type:"URLSearchParamsIterator",iterator:b(P(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),H=function(){d(this,H,"URLSearchParams");var e,t,n,i,a,r,o,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(w(u,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(y(c))if("function"==typeof(e=S(c)))for(n=(t=e.call(c)).next;!(i=n.call(t)).done;){if((o=(r=(a=b(h(i.value))).next).call(a)).done||(s=r.call(a)).done||!r.call(a).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:s.value+""})}else for(l in c)p(c,l)&&f.push({key:l,value:c[l]+""});else U(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},j=H.prototype;s(j,{append:function(e,t){F(arguments.length,2);var n=P(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);for(var t=P(this),n=t.entries,i=e+"",a=0;a<n.length;)n[a].key===i?n.splice(a,1):a++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=P(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){F(arguments.length,1);for(var t=P(this).entries,n=e+"",i=[],a=0;a<t.length;a++)t[a].key===n&&i.push(t[a].value);return i},has:function(e){F(arguments.length,1);for(var t=P(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,i=P(this),a=i.entries,r=!1,o=e+"",s=t+"",l=0;l<a.length;l++)(n=a[l]).key===o&&(r?a.splice(l--,1):(r=!0,n.value=s));r||a.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,n,i=P(this),a=i.entries,r=a.slice();for(a.length=0,n=0;n<r.length;n++){for(e=r[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}i.updateURL()},forEach:function(e){for(var t,n=P(this).entries,i=f(e,arguments.length>1?arguments[1]:void 0,3),a=0;a<n.length;)i((t=n[a++]).value,t.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),o(j,A,j.entries),o(j,"toString",(function(){for(var e,t=P(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(O(e.key)+"="+O(e.value));return n.join("&")}),{enumerable:!0}),l(H,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:H}),r||"function"!=typeof C||"function"!=typeof k||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,a=[e];return arguments.length>1&&(y(t=arguments[1])&&(n=t.body,"URLSearchParams"===m(n)&&((i=t.headers?new k(t.headers):new k).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(n)),headers:v(0,i)}))),a.push(t)),C.apply(this,a)}}),e.exports={URLSearchParams:H,getState:P}},285:function(e,t,n){"use strict";n(8783);var i,a=n(2109),r=n(9781),o=n(590),s=n(7854),l=n(6048),c=n(1320),u=n(5787),d=n(6656),p=n(1574),f=n(8457),m=n(8710).codeAt,h=n(3197),y=n(8003),g=n(1637),v=n(9909),b=s.URL,S=g.URLSearchParams,_=g.getState,C=v.set,k=v.getterFor("URL"),A=Math.floor,w=Math.pow,P=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,x=/\d/,M=/^(0x|0X)/,I=/^[0-7]+$/,R=/^\d+$/,E=/^[\dA-Fa-f]+$/,D=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\t\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,O=/[\t\u000A\u000D]/g,U=function(e,t){var n,i,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=F(t.slice(1,-1))))return"Invalid host";e.host=n}else if(V(e)){if(t=h(t),D.test(t))return"Invalid host";if(null===(n=B(t)))return"Invalid host";e.host=n}else{if(L.test(t))return"Invalid host";for(n="",i=f(t),a=0;a<i.length;a++)n+=q(i[a],H);e.host=n}},B=function(e){var t,n,i,a,r,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(a=l[i]))return e;if(r=10,a.length>1&&"0"==a.charAt(0)&&(r=M.test(a)?16:8,a=a.slice(8==r?1:2)),""===a)o=0;else{if(!(10==r?R:8==r?I:E).test(a))return e;o=parseInt(a,r)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=w(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*w(256,3-i);return s},F=function(e){var t,n,i,a,r,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=n=0;n<4&&E.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,c>6)return;for(i=0;p();){if(a=null,i>0){if(!("."==p()&&i<4))return;d++}if(!x.test(p()))return;for(;x.test(p());){if(r=parseInt(p(),10),null===a)a=r;else{if(0==a)return;a=10*a+r}if(a>255)return;d++}l[c]=256*l[c]+a,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},G=function(e){var t,n,i,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=A(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,a=0,r=0;r<8;r++)0!==e[r]?(a>n&&(t=i,n=a),i=null,a=0):(null===i&&(i=r),++a);return a>n&&(t=i,n=a),t}(e),n=0;n<8;n++)a&&0===e[n]||(a&&(a=!1),i===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},H={},j=p({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),K=p({},j,{"#":1,"?":1,"{":1,"}":1}),$=p({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var n=m(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},V=function(e){return d(z,e.scheme)},W=function(e){return""!=e.username||""!=e.password},J=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Z=function(e,t){var n;return 2==e.length&&P.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Y=function(e){var t;return e.length>1&&Z(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Z(t[0],!0)||t.pop()},X=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},ie={},ae={},re={},oe={},se={},le={},ce={},ue={},de={},pe={},fe={},me={},he={},ye={},ge={},ve={},be={},Se={},_e=function(e,t,n,a){var r,o,s,l,c,u=n||ee,p=0,m="",h=!1,y=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(O,""),r=f(t);p<=r.length;){switch(o=r[p],u){case ee:if(!o||!P.test(o)){if(n)return"Invalid scheme";u=ne;continue}m+=o.toLowerCase(),u=te;break;case te:if(o&&(T.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";m="",u=ne,p=0;continue}if(n&&(V(e)!=d(z,m)||"file"==m&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,n)return void(V(e)&&z[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?u=fe:V(e)&&a&&a.scheme==e.scheme?u=ie:V(e)?u=se:"/"==r[p+1]?(u=ae,p++):(e.cannotBeABaseURL=!0,e.path.push(""),u=ve)}break;case ne:if(!a||a.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,u=Se;break}u="file"==a.scheme?fe:re;continue;case ie:if("/"!=o||"/"!=r[p+1]){u=re;continue}u=le,p++;break;case ae:if("/"==o){u=ce;break}u=ge;continue;case re:if(e.scheme=a.scheme,o==i)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&V(e))u=oe;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",u=be;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),u=ge;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",u=Se}break;case oe:if(!V(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,u=ge;continue}u=ce}else u=le;break;case se:if(u=le,"/"!=o||"/"!=m.charAt(p+1))continue;p++;break;case le:if("/"!=o&&"\\"!=o){u=ce;continue}break;case ce:if("@"==o){h&&(m="%40"+m),h=!0,s=f(m);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||g){var S=q(b,$);g?e.password+=S:e.username+=S}else g=!0}m=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)){if(h&&""==m)return"Invalid authority";p-=f(m).length+1,m="",u=ue}else m+=o;break;case ue:case de:if(n&&"file"==e.scheme){u=he;continue}if(":"!=o||y){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)){if(V(e)&&""==m)return"Invalid host";if(n&&""==m&&(W(e)||null!==e.port))return;if(l=U(e,m))return l;if(m="",u=ye,n)return;continue}"["==o?y=!0:"]"==o&&(y=!1),m+=o}else{if(""==m)return"Invalid host";if(l=U(e,m))return l;if(m="",u=pe,n==de)return}break;case pe:if(!x.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)||n){if(""!=m){var _=parseInt(m,10);if(_>65535)return"Invalid port";e.port=V(e)&&_===z[e.scheme]?null:_,m=""}if(n)return;u=ye;continue}return"Invalid port"}m+=o;break;case fe:if(e.scheme="file","/"==o||"\\"==o)u=me;else{if(!a||"file"!=a.scheme){u=ge;continue}if(o==i)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",u=be;else{if("#"!=o){Y(r.slice(p).join(""))||(e.host=a.host,e.path=a.path.slice(),Q(e)),u=ge;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",u=Se}}break;case me:if("/"==o||"\\"==o){u=he;break}a&&"file"==a.scheme&&!Y(r.slice(p).join(""))&&(Z(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),u=ge;continue;case he:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Z(m))u=ge;else if(""==m){if(e.host="",n)return;u=ye}else{if(l=U(e,m))return l;if("localhost"==e.host&&(e.host=""),n)return;m="",u=ye}continue}m+=o;break;case ye:if(V(e)){if(u=ge,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(u=ge,"/"!=o))continue}else e.fragment="",u=Se;else e.query="",u=be;break;case ge:if(o==i||"/"==o||"\\"==o&&V(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=m).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Q(e),"/"==o||"\\"==o&&V(e)||e.path.push("")):X(m)?"/"==o||"\\"==o&&V(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Z(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=be):"#"==o&&(e.fragment="",u=Se)}else m+=q(o,K);break;case ve:"?"==o?(e.query="",u=be):"#"==o?(e.fragment="",u=Se):o!=i&&(e.path[0]+=q(o,H));break;case be:n||"#"!=o?o!=i&&("'"==o&&V(e)?e.query+="%27":e.query+="#"==o?"%23":q(o,H)):(e.fragment="",u=Se);break;case Se:o!=i&&(e.fragment+=q(o,j))}p++}},Ce=function(e){var t,n,i=u(this,Ce,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=C(i,{type:"URL"});if(void 0!==a)if(a instanceof Ce)t=k(a);else if(n=_e(t={},String(a)))throw TypeError(n);if(n=_e(s,o,null,t))throw TypeError(n);var l=s.searchParams=new S,c=_(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},r||(i.href=Ae.call(i),i.origin=we.call(i),i.protocol=Pe.call(i),i.username=Te.call(i),i.password=xe.call(i),i.host=Me.call(i),i.hostname=Ie.call(i),i.port=Re.call(i),i.pathname=Ee.call(i),i.search=De.call(i),i.searchParams=Le.call(i),i.hash=Ne.call(i))},ke=Ce.prototype,Ae=function(){var e=k(this),t=e.scheme,n=e.username,i=e.password,a=e.host,r=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==a?(c+="//",W(e)&&(c+=n+(i?":"+i:"")+"@"),c+=G(a),null!==r&&(c+=":"+r)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},we=function(){var e=k(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&V(e)?t+"://"+G(e.host)+(null!==n?":"+n:""):"null"},Pe=function(){return k(this).scheme+":"},Te=function(){return k(this).username},xe=function(){return k(this).password},Me=function(){var e=k(this),t=e.host,n=e.port;return null===t?"":null===n?G(t):G(t)+":"+n},Ie=function(){var e=k(this).host;return null===e?"":G(e)},Re=function(){var e=k(this).port;return null===e?"":String(e)},Ee=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=k(this).query;return e?"?"+e:""},Le=function(){return k(this).searchParams},Ne=function(){var e=k(this).fragment;return e?"#"+e:""},Oe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(r&&l(ke,{href:Oe(Ae,(function(e){var t=k(this),n=String(e),i=_e(t,n);if(i)throw TypeError(i);_(t.searchParams).updateSearchParams(t.query)})),origin:Oe(we),protocol:Oe(Pe,(function(e){var t=k(this);_e(t,String(e)+":",ee)})),username:Oe(Te,(function(e){var t=k(this),n=f(String(e));if(!J(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=q(n[i],$)}})),password:Oe(xe,(function(e){var t=k(this),n=f(String(e));if(!J(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=q(n[i],$)}})),host:Oe(Me,(function(e){var t=k(this);t.cannotBeABaseURL||_e(t,String(e),ue)})),hostname:Oe(Ie,(function(e){var t=k(this);t.cannotBeABaseURL||_e(t,String(e),de)})),port:Oe(Re,(function(e){var t=k(this);J(t)||(""==(e=String(e))?t.port=null:_e(t,e,pe))})),pathname:Oe(Ee,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],_e(t,e+"",ye))})),search:Oe(De,(function(e){var t=k(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_e(t,e,be)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:Oe(Le),hash:Oe(Ne,(function(e){var t=k(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_e(t,e,Se)):t.fragment=null}))}),c(ke,"toJSON",(function(){return Ae.call(this)}),{enumerable:!0}),c(ke,"toString",(function(){return Ae.call(this)}),{enumerable:!0}),b){var Ue=b.createObjectURL,Be=b.revokeObjectURL;Ue&&c(Ce,"createObjectURL",(function(e){return Ue.apply(b,arguments)})),Be&&c(Ce,"revokeObjectURL",(function(e){return Be.apply(b,arguments)}))}y(Ce,"URL"),a({global:!0,forced:!o,sham:!r},{URL:Ce})}},t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw o}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(i),n.d(i,{Dropzone:function(){return S},default:function(){return w}}),n(2222),n(7327),n(2772),n(6992),n(1249),n(7042),n(561),n(8264),n(8309),n(489),n(1539),n(4916),n(9714),n(8783),n(4723),n(5306),n(3123),n(3210),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4747),n(3948),n(285);var r=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,i,r;return n=t,(i=[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};for(var n=this._callbacks[t],i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];if(n){var o,s=e(n,!0);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.apply(this,a)}}catch(e){s.e(e)}finally{s.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+t,{args:a})),this}},{key:"makeEvent",value:function(e,t){var n={bubbles:!0,cancelable:!0,detail:t};if("function"==typeof window.CustomEvent)return new CustomEvent(e,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){var a=n[i];if(a===t){n.splice(i,1);break}}return this}}])&&a(n.prototype,i),r&&a(n,r),t}();function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e;this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n=o(this.element.getElementsByTagName("div"),!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )dz-message($| )/.test(i.className)){e=i,i.className="dz-message";break}}}catch(e){n.e(e)}finally{n.f()}e||(e=S.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var a={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==n?(t=a.srcWidth,n=a.srcHeight):null==t?t=n*r:null==n&&(n=t/r);var o=(t=Math.min(t,a.srcWidth))/(n=Math.min(n,a.srcHeight));if(a.srcWidth>t||a.srcHeight>n)if("crop"===i)r>o?(a.srcHeight=e.height,a.srcWidth=a.srcHeight*o):(a.srcWidth=e.width,a.srcHeight=a.srcWidth/o);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));r>o?n=t/r:t=n*r}return a.srcX=(e.width-a.srcWidth)/2,a.srcY=(e.height-a.srcHeight)/2,a.trgWidth=t,a.trgHeight=n,a},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){e.previewElement=S.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var n,i=o(e.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.textContent=e.name}}catch(e){i.e(e)}finally{i.f()}var r,s=o(e.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(s.s();!(r=s.n()).done;)(a=r.value).innerHTML=this.filesize(e.size)}catch(e){s.e(e)}finally{s.f()}this.options.addRemoveLinks&&(e._removeLink=S.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var l,c=function(n){return n.preventDefault(),n.stopPropagation(),e.status===S.UPLOADING?S.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?S.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},u=o(e.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(u.s();!(l=u.n()).done;)l.value.addEventListener("click",c)}catch(e){u.e(e)}finally{u.f()}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,i=o(e.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.alt=e.name,a.src=t}}catch(e){i.e(e)}finally{i.f()}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,i=o(e.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(i.s();!(n=i.n()).done;)n.value.textContent=t}catch(e){i.e(e)}finally{i.f()}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement){var i,a=o(e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(a.s();!(i=a.n()).done;){var r=i.value;"PROGRESS"===r.nodeName?r.value=t:r.style.width="".concat(t,"%")}}catch(e){a.e(e)}finally{a.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=y(n);function n(e,i){var a,r,o;if(p(this,n),(a=t.call(this)).element=e,a.version=n.version,a.clickableElements=[],a.listeners=[],a.files=[],"string"==typeof a.element&&(a.element=document.querySelector(a.element)),!a.element||null==a.element.nodeType)throw new Error("Invalid dropzone element.");if(a.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(v(a)),a.element.dropzone=v(a);var s=null!=(o=n.optionsForElement(a.element))?o:{};if(a.options=n.extend({},l,s,null!=i?i:{}),a.options.previewTemplate=a.options.previewTemplate.replace(/\n*/g,""),a.options.forceFallback||!n.isBrowserSupported())return g(a,a.options.fallback.call(v(a)));if(null==a.options.url&&(a.options.url=a.element.getAttribute("action")),!a.options.url)throw new Error("No URL provided.");if(a.options.acceptedFiles&&a.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(a.options.uploadMultiple&&a.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return a.options.acceptedMimeTypes&&(a.options.acceptedFiles=a.options.acceptedMimeTypes,delete a.options.acceptedMimeTypes),null!=a.options.renameFilename&&(a.options.renameFile=function(e){return a.options.renameFilename.call(v(a),e.name,e)}),"string"==typeof a.options.method&&(a.options.method=a.options.method.toUpperCase()),(r=a.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==a.options.previewsContainer&&(a.options.previewsContainer?a.previewsContainer=n.getElement(a.options.previewsContainer,"previewsContainer"):a.previewsContainer=a.element),a.options.clickable&&(!0===a.options.clickable?a.clickableElements=[a.element]:a.clickableElements=n.getElements(a.options.clickable,"clickable")),a.init(),a}return m(n,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===n.UPLOADING||e.status===n.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function t(){e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.setAttribute("tabindex","-1"),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",n.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var n=e.hiddenFileInput.files;if(n.length){var i,a=u(n,!0);try{for(a.s();!(i=a.n()).done;){var r=i.value;e.addFile(r)}}catch(e){a.e(e)}finally{a.f()}}e.emit("addedfiles",n),t()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var t,i=u(this.events,!0);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.on(a,this.options[a])}}catch(e){i.e(e)}finally{i.f()}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var r=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e,t=0,n=0;if(this.getActiveFiles().length){var i,a=u(this.getActiveFiles(),!0);try{for(a.s();!(i=a.n()).done;){var r=i.value;t+=r.upload.bytesSent,n+=r.upload.total}}catch(e){a.e(e)}finally{a.f()}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>")),i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var a=n.createElement(i);return"FORM"!==this.element.tagName?(t=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(a):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:a}},{key:"getExistingFallback",value:function(){for(var e=function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(e){n.e(e)}finally{n.f()}},t=0,n=["div","form"];t<n.length;t++){var i,a=n[t];if(i=e(this.element.getElementsByTagName(a)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],a=0;a<i.length;a++){var r=i[a];if(e>=Math.pow(this.options.filesizeBase,4-a)/10){t=e/Math.pow(this.options.filesizeBase,4-a),n=r;break}}t=Math.round(10*t)/10}return"<strong>".concat(t,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,n=function(e){return e.items},null!=t?n(t):void 0)){var t,n;this.emit("paste",e);var i=e.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.addFile(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n,i=[],a=u(e,!0);try{for(a.s();!(n=a.n()).done;){var r,o=n.value;null!=o.webkitGetAsEntry&&(r=o.webkitGetAsEntry())?r.isFile?i.push(t.addFile(o.getAsFile())):r.isDirectory?i.push(t._addFilesFromDirectory(r,r.name)):i.push(void 0):null==o.getAsFile||null!=o.kind&&"file"!==o.kind?i.push(void 0):i.push(t.addFile(o.getAsFile()))}}catch(e){a.e(e)}finally{a.f()}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),a=function(e){return t=console,n="log",i=function(t){return t.log(e)},null!=t&&"function"==typeof t[n]?i(t,n):void 0;var t,n,i};return function e(){return i.readEntries((function(i){if(i.length>0){var a,r=u(i,!0);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.isFile?o.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),n.addFile(e)})):o.isDirectory&&n._addFilesFromDirectory(o,"".concat(t,"/").concat(o.name))}}catch(e){r.e(e)}finally{r.f()}e()}return null}),a)}()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;e.upload={uuid:n.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(n){n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){var t,n=u(e,!0);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.enqueueFile(i)}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==n.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===n.UPLOADING&&this.cancelUpload(e),this.files=_(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);var t,i=u(this.files.slice(),!0);try{for(i.s();!(t=i.n()).done;){var a=t.value;(a.status!==n.UPLOADING||e)&&this.removeFile(a)}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"resizeImage",value:function(e,t,i,a,r){var o=this;return this.createThumbnail(e,t,i,a,!0,(function(t,i){if(null==i)return r(e);var a=o.options.resizeMimeType;null==a&&(a=e.type);var s=i.toDataURL(a,o.options.resizeQuality);return"image/jpeg"!==a&&"image/jpg"!==a||(s=A.restore(e.dataURL,s)),r(n.dataURItoBlob(s))}))}},{key:"createThumbnail",value:function(e,t,n,i,a,r){var o=this,s=new FileReader;s.onload=function(){e.dataURL=s.result,"image/svg+xml"!==e.type?o.createThumbnailFromUrl(e,t,n,i,a,r):null!=r&&r(s.result)},s.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,i){var a=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",e),this.emit("complete",e),r){var o=function(t){a.emit("thumbnail",e,t),n&&n()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,o,i)}else this.emit("thumbnail",e,t),n&&n()}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,a,r,o){var s=this,l=document.createElement("img");return o&&(l.crossOrigin=o),a="from-image"!=getComputedStyle(document.body).imageOrientation&&a,l.onload=function(){var o=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&a&&(o=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),o((function(a){e.width=l.width,e.height=l.height;var o=s.options.resize.call(s,e,t,n,i),c=document.createElement("canvas"),u=c.getContext("2d");switch(c.width=o.trgWidth,c.height=o.trgHeight,a>4&&(c.width=o.trgHeight,c.height=o.trgWidth),a){case 2:u.translate(c.width,0),u.scale(-1,1);break;case 3:u.translate(c.width,c.height),u.rotate(Math.PI);break;case 4:u.translate(0,c.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-c.width);break;case 7:u.rotate(.5*Math.PI),u.translate(c.height,-c.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-c.height,0)}k(u,l,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var d=c.toDataURL("image/png");if(null!=r)return r(d,c)}))},null!=r&&(l.onerror=r),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,i=u(e,!0);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.processing=!0,a.status=n.UPLOADING,this.emit("processing",a)}}catch(e){i.e(e)}finally{i.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===n.UPLOADING){var t,i=this._getFilesWithXhr(e.xhr),a=u(i,!0);try{for(a.s();!(t=a.n()).done;)t.value.status=n.CANCELED}catch(e){a.e(e)}finally{a.f()}void 0!==e.xhr&&e.xhr.abort();var r,o=u(i,!0);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.emit("canceled",s)}}catch(e){o.e(e)}finally{o.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else e.status!==n.ADDED&&e.status!==n.QUEUED||(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(i){if(t.options.chunking){var a=i[0];e[0].upload.chunked=t.options.chunking&&(t.options.forceChunking||a.size>t.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(a.size/t.options.chunkSize)}if(e[0].upload.chunked){var r=e[0],o=i[0];r.upload.chunks=[];var s=function(){for(var i=0;void 0!==r.upload.chunks[i];)i++;if(!(i>=r.upload.totalChunkCount)){var a=i*t.options.chunkSize,s=Math.min(a+t.options.chunkSize,o.size),l={name:t._getParamName(0),data:o.webkitSlice?o.webkitSlice(a,s):o.slice(a,s),filename:r.upload.filename,chunkIndex:i};r.upload.chunks[i]={file:r,index:i,dataBlock:l,status:n.UPLOADING,progress:0,retries:0},t._uploadData(e,[l])}};if(r.upload.finishedChunkUpload=function(i,a){var o=!0;i.status=n.SUCCESS,i.dataBlock=null,i.xhr=null;for(var l=0;l<r.upload.totalChunkCount;l++){if(void 0===r.upload.chunks[l])return s();r.upload.chunks[l].status!==n.SUCCESS&&(o=!1)}o&&t.options.chunksUploaded(r,(function(){t._finished(e,a,null)}))},t.options.parallelChunkUploads)for(var l=0;l<r.upload.totalChunkCount;l++)s();else s()}else{for(var c=[],u=0;u<e.length;u++)c[u]={name:t._getParamName(u),data:i[u],filename:e[u].upload.filename};t._uploadData(e,c)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){var i,a=this,r=new XMLHttpRequest,o=u(e,!0);try{for(o.s();!(i=o.n()).done;)i.value.xhr=r}catch(e){o.e(e)}finally{o.f()}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var s=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);r.open(s,l,!0),this.resolveOption(this.options.timeout,e)&&(r.timeout=this.resolveOption(this.options.timeout,e)),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){a._finishedUploading(e,r,t)},r.ontimeout=function(){a._handleUploadError(e,r,"Request timedout after ".concat(a.options.timeout/1e3," seconds"))},r.onerror=function(){a._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return a._updateFilesUploadProgress(e,r,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&n.extend(c,this.options.headers),c){var p=c[d];p&&r.setRequestHeader(d,p)}var f=new FormData;if(this.options.params){var m=this.options.params;for(var h in"function"==typeof m&&(m=m.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),m){var y=m[h];if(Array.isArray(y))for(var g=0;g<y.length;g++)f.append(h,y[g]);else f.append(h,y)}}var v,b=u(e,!0);try{for(b.s();!(v=b.n()).done;){var S=v.value;this.emit("sending",S,r,f)}}catch(e){b.e(e)}finally{b.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,f),this._addFormElementData(f);for(var _=0;_<t.length;_++){var C=t[_];f.append(C.name,C.data,C.filename)}this.submitRequest(r,f,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],a=0,r=function(r){n.options.transformFile.call(n,e[r],(function(n){i[r]=n,++a===e.length&&t(i)}))},o=0;o<e.length;o++)r(o)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName){var t,n=u(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.getAttribute("name"),r=i.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=a)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var o,s=u(i.options,!0);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.selected&&e.append(a,l.value)}}catch(e){s.e(e)}finally{s.f()}}else(!r||"checkbox"!==r&&"radio"!==r||i.checked)&&e.append(a,i.value)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){if(e[0].upload.chunked){var i=e[0],a=this._getChunk(i,t);n?(a.progress=100*n.loaded/n.total,a.total=n.total,a.bytesSent=n.loaded):(a.progress=100,a.bytesSent=a.total),i.upload.progress=0,i.upload.total=0,i.upload.bytesSent=0;for(var r=0;r<i.upload.totalChunkCount;r++)i.upload.chunks[r]&&void 0!==i.upload.chunks[r].progress&&(i.upload.progress+=i.upload.chunks[r].progress,i.upload.total+=i.upload.chunks[r].total,i.upload.bytesSent+=i.upload.chunks[r].bytesSent);i.upload.progress=i.upload.progress/i.upload.totalChunkCount,this.emit("uploadprogress",i,i.upload.progress,i.upload.bytesSent)}else{var o,s=u(e,!0);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.upload.total&&l.upload.bytesSent&&l.upload.bytesSent==l.upload.total||(n?(l.upload.progress=100*n.loaded/n.total,l.upload.total=n.total,l.upload.bytesSent=n.loaded):(l.upload.progress=100,l.upload.bytesSent=l.upload.total),this.emit("uploadprogress",l,l.upload.progress,l.upload.bytesSent))}}catch(e){s.e(e)}finally{s.f()}}}},{key:"_finishedUploading",value:function(e,t,i){var a;if(e[0].status!==n.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(a=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{a=JSON.parse(a)}catch(e){i=e,a="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),a):this._finished(e,a,i):this._handleUploadError(e,t,a)}}},{key:"_handleUploadError",value:function(e,t,i){if(e[0].status!==n.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var a=this._getChunk(e[0],t);if(a.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[a.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){1==e.readyState?e.send(t):console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(e,t,i){var a,r=u(e,!0);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.status=n.SUCCESS,this.emit("success",o,t,i),this.emit("complete",o)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,i){var a,r=u(e,!0);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.status=n.ERROR,this.emit("error",o,t,i),this.emit("complete",o)}}catch(e){r.e(e)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=r,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var a=0,r=n;a<r.length;a++){var o=r[a];for(var s in o){var l=o[s];e[s]=l}}return e}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),n}(r);S.initClass(),S.version="5.9.2",S.options={},S.optionsForElement=function(e){return e.getAttribute("id")?S.options[C(e.getAttribute("id"))]:void 0},S.instances=[],S.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},S.autoDiscover=!0,S.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){var n,i=[],a=u(t,!0);try{for(a.s();!(n=a.n()).done;){var r=n.value;/(^| )dropzone($| )/.test(r.className)?i.push(e.push(r)):i.push(void 0)}}catch(e){a.e(e)}finally{a.f()}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t,n=[],i=u(e,!0);try{for(i.s();!(t=i.n()).done;){var a=t.value;!1!==S.optionsForElement(a)?n.push(new S(a)):n.push(void 0)}}catch(e){i.e(e)}finally{i.f()}return n}()},S.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],S.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==S.blacklistedBrowsers&&(S.blockedBrowsers=S.blacklistedBrowsers);var t,n=u(S.blockedBrowsers,!0);try{for(n.s();!(t=n.n()).done;)t.value.test(navigator.userAgent)&&(e=!1)}catch(e){n.e(e)}finally{n.f()}}else e=!1;else e=!1;return e},S.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),a=new Uint8Array(i),r=0,o=t.length,s=0<=o;s?r<=o:r>=o;s?r++:r--)a[r]=t.charCodeAt(r);return new Blob([i],{type:n})};var _=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},C=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};S.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},S.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},S.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},S.getElements=function(e,t){var n,i;if(e instanceof Array){i=[];try{var a,r=u(e,!0);try{for(r.s();!(a=r.n()).done;)n=a.value,i.push(this.getElement(n,t))}catch(e){r.e(e)}finally{r.f()}}catch(e){i=null}}else if("string"==typeof e){i=[];var o,s=u(document.querySelectorAll(e),!0);try{for(s.s();!(o=s.n()).done;)n=o.value,i.push(n)}catch(e){s.e(e)}finally{s.f()}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},S.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},S.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,i=e.type,a=i.replace(/\/.*$/,""),r=u(t,!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("."===(o=o.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(a===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0}}catch(e){r.e(e)}finally{r.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new S(this,e)}))}),S.ADDED="added",S.QUEUED="queued",S.ACCEPTED=S.QUEUED,S.UPLOADING="uploading",S.PROCESSING=S.UPLOADING,S.CANCELED="canceled",S.ERROR="error",S.SUCCESS="success";var k=function(e,t,n,i,a,r,o,s,l,c){var u=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var a=i.getImageData(1,0,1,t).data,r=0,o=t,s=t;s>r;)0===a[4*(s-1)+3]?o=s:r=s,s=o+r>>1;var l=s/t;return 0===l?1:l}(t);return e.drawImage(t,n,i,a,r,o,s,l,c/u)},A=function(){function e(){p(this,e)}return m(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,a="",r=void 0,o=void 0,s=void 0,l="",c=0;r=(n=e[c++])>>2,o=(3&n)<<4|(i=e[c++])>>4,s=(15&i)<<2|(a=e[c++])>>6,l=63&a,isNaN(i)?s=l=64:isNaN(a)&&(l=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),n=i=a="",r=o=s=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),a=this.exifManipulation(t,i);return"data:image/jpeg;base64,".concat(this.encode64(a))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),a=i.indexOf(255,3),r=i.slice(0,a),o=i.slice(a),s=r;return s=(s=s.concat(t)).concat(o)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,a=e.slice(t,i);n.push(a),t=i}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",a=void 0,r=void 0,o="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(a=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&a)<<4|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>2,i=(3&r)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==r&&l.push(n),64!==o&&l.push(i),t=n=i="",a=r=o="",s<e.length;);return l}}]),e}();A.initClass(),S._autoDiscoverFunction=function(){if(S.autoDiscover)return S.discover()},function(e,t){var n=!1,i=!0,a=e.document,r=a.documentElement,o=a.addEventListener?"addEventListener":"attachEvent",s=a.addEventListener?"removeEventListener":"detachEvent",l=a.addEventListener?"":"on",c=function i(r){if("readystatechange"!==r.type||"complete"===a.readyState)return("load"===r.type?e:a)[s](l+r.type,i,!1),!n&&(n=!0)?t.call(e,r.type||r):void 0};if("complete"!==a.readyState){if(a.createEventObject&&r.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{r.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}a[o](l+"DOMContentLoaded",c,!1),a[o](l+"readystatechange",c,!1),e[o](l+"load",c,!1)}}(window,S._autoDiscoverFunction),window.Dropzone=S;var w=S}(),i}()},e.exports=i()},function(e,t,n){"use strict";e.exports=["#cc3233","#cc8732","#bccc32","#68cc32","#32cc51","#32cca5","#329ecc","#3249cc","#7032cc","#c432cc"]},function(e,t){e.exports=function(e,t){var n=(t=t||{}).delimiter||",",i=t.separator||".";return(e=e.toString().split("."))[0]=e[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n),e.join(i)}},function(e,t,n){"use strict";function i(){return[]}t.a=function(e){return null==e?i:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return this.matches(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var i=n(47);function a(e){return function(){this.style.removeProperty(e)}}function r(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function s(e,t){return e.style.getPropertyValue(t)||Object(i.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.a=function(e,t,n){return arguments.length>1?this.each((null==t?a:"function"==typeof t?o:r)(e,t,null==n?"":n)):s(this.node(),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(93),o=n(3),s=function(){function e(t){return e.create(t||{})}return e.create=function(t){t=e.isStateClass(t)?new t:t;var n=i.inherit(i.inherit(t,e.prototype));return t.$$state=function(){return n},n.self=t,n.__stateObjectCache={nameGlob:r.Glob.fromString(n.name)},n},e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){return((e=i.defaults(e,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(i.values(this.params)).filter((function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)}))},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||i.find(i.values(this.params),a.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e.isStateClass=function(e){return o.isFunction(e)&&!0===e.__uiRouterState},e.isState=function(e){return o.isObject(e.__stateObjectCache)},e}();t.StateObject=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map((function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e})).join("");this.regexp=new RegExp("^"+t+"$")}return e.is=function(e){return!!/[!,*]+/.exec(e)},e.fromString=function(t){return e.is(t)?new e(t):null},e.prototype.matches=function(e){return this.regexp.test("."+e)},e}();t.Glob=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t,this._evictListeners=[],this.onEvict=i.pushTo(this._evictListeners)}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},e.prototype.evict=function(){var e=this._items.shift();return this._evictListeners.forEach((function(t){return t(e)})),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();t.Queue=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(40);function r(e,t){var n=i.isString(t)?[t]:t;return!!(i.isFunction(n)?n:function(e){for(var t=n,a=0;a<t.length;a++){var r=new i.Glob(t[a]);if(r&&r.matches(e.name)||!r&&t[a]===e.name)return!0}return!1})(e)}t.matchState=r;var o=function(){function e(e,t,n,i,a,r){void 0===r&&(r={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=i,this.removeHookFromRegistry=a,this.invokeCount=0,this._deregistered=!1,this.priority=r.priority||0,this.bind=r.bind||null,this.invokeLimit=r.invokeLimit}return e.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter((function(e){return r(e.state,t)}));return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return i.mapObj(this.tranSvc._pluginapi._getPathTypes(),(function(){return!0}))},e.prototype._getMatchingNodes=function(e){var t=this,n=i.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return i.values(this.tranSvc._pluginapi._getPathTypes()).reduce((function(r,o){var s=o.scope===a.TransitionHookScope.STATE,l=e[o.name]||[],c=s?l:[i.tail(l)];return r[o.name]=t._matchingNodes(c,n[o.name]),r}),{})},e.prototype.matches=function(e){var t=this._getMatchingNodes(e);return i.values(t).every(i.identity)?t:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}();t.RegisteredHook=o,t.makeEvent=function(e,t,n){var a=(e._registeredHooks=e._registeredHooks||{})[n.name]=[],r=i.removeFrom(a);function s(e,i,s){void 0===s&&(s={});var l=new o(t,n,i,e,r,s);return a.push(l),l.deregister.bind(l)}return e[n.name]=s,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(42),o=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=i.extend({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var a=t;this.state=a,this.paramSchema=a.parameters({inherit:!1}),this.paramValues={},this.resolvables=a.resolvables.map((function(e){return e.clone()}))}}return e.prototype.clone=function(){return new e(this)},e.prototype.applyRawParams=function(e){return this.paramValues=this.paramSchema.reduce((function(t,n){return i.applyPairs(t,[(a=n).id,a.value(e[a.id])]);var a}),{}),this},e.prototype.parameter=function(e){return i.find(this.paramSchema,a.propEq("id",e))},e.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},e.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return r.Param.changed(n,this.paramValues,e.paramValues)},e.clone=function(e){return e.clone()},e}();t.PathNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=function(){function e(e){this.pattern=/.*/,this.inherit=!0,i.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new o(this,e)},e}();function o(e,t){var n=this;function r(e){return a.isArray(e)?e:a.isDefined(e)?[e]:[]}function o(e,n){return function(o){if(a.isArray(o)&&0===o.length)return o;var s=r(o),l=i.map(s,e);return!0===n?0===i.filter(l,(function(e){return!e})).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(l)}}function s(e){return function(t,n){var i=r(t),a=r(n);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],a[o]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach((function(t){var i=e[t].bind(e),a="equals"===t?s:o;n[t]=a(i)})),i.extend(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:o(e.is.bind(e),!0),$arrayMode:t})}t.ParamType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=n(65),r=n(95),o=n(289),s=n(290),l=n(291),c=n(292),u=n(293),d=n(294),p=n(295),f=n(197),m=n(198),h=n(49),y=n(3),g=n(1),v=n(4),b=n(296),S=n(297);t.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var _=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=g.createProxyFunctions(v.val(this),{},v.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(o.treeChangesCleanup)}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){g.values(this._registeredHooks).forEach((function(e){return e.forEach((function(t){t._deregistered=!0,g.removeFrom(e,t)}))}))},e.prototype.create=function(e,t){return new a.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=i.TransitionHookPhase,t=h.TransitionHook,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=i.TransitionHookScope.STATE,t=i.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,i,a,o,s,l){void 0===a&&(a=!1),void 0===o&&(o=h.TransitionHook.HANDLE_RESULT),void 0===s&&(s=h.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1);var c=new m.TransitionEventType(e,t,n,i,a,o,s,l);this._eventTypes.push(c),r.makeEvent(this,this,c)},e.prototype._getEvents=function(e){return(y.isDefined(e)?this._eventTypes.filter((function(t){return t.hookPhase===e})):this._eventTypes.slice()).sort((function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n}))},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=o.registerAddCoreResolvables(this),e.ignored=b.registerIgnoredTransitionHook(this),e.invalid=S.registerInvalidTransitionHook(this),e.redirectTo=s.registerRedirectToHook(this),e.onExit=l.registerOnExitHook(this),e.onRetain=l.registerOnRetainHook(this),e.onEnter=l.registerOnEnterHook(this),e.eagerResolve=c.registerEagerResolvePath(this),e.lazyResolve=c.registerLazyResolveState(this),e.resolveAll=c.registerResolveRemaining(this),e.loadViews=u.registerLoadEnteringViews(this),e.activateViews=u.registerActivateViews(this),e.updateGlobals=d.registerUpdateGlobalState(this),e.updateUrl=p.registerUpdateUrl(this),e.lazyLoad=f.registerLazyLoadHook(this)},e}();t.TransitionService=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12);t.keyValsToObjectR=function(e,t){var n=t[0],a=t[1];return e.hasOwnProperty(n)?i.isArray(e[n])?e[n].push(a):e[n]=[e[n],a]:e[n]=a,e},t.getParams=function(e){return e.split("&").filter(i.identity).map(i.splitEqual).reduce(t.keyValsToObjectR,{})},t.parseUrl=function(e){var t=function(e){return e||""},n=i.splitHash(e).map(t),a=n[0],r=n[1],o=i.splitQuery(a).map(t);return{path:o[0],search:o[1],hash:r,url:e}},t.buildUrl=function(e){var t=e.path(),n=e.search(),a=e.hash(),r=Object.keys(n).map((function(e){var t=n[e];return(i.isArray(t)?t:[t]).map((function(t){return e+"="+t}))})).reduce(i.unnestR,[]).join("&");return t+(r?"?"+r:"")+(a?"#"+a:"")},t.locationPluginFactory=function(e,t,n,i){return function(a){var r=a.locationService=new n(a),o=a.locationConfig=new i(a,t);return{name:e,service:r,configuration:o,dispose:function(e){e.dispose(r),e.dispose(o)}}}}},function(e){e.exports=JSON.parse('{"classification_national":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]},"inventor.name.exact":{"doc_count_error_upper_bound":32102,"sum_other_doc_count":270883969,"buckets":[{"key":"THE INVENTOR HAS WAIVED THE RIGHT TO BE MENTIONED","doc_count":153793},{"key":"WANG WEI","doc_count":77901},{"key":"ZHANG WEI","doc_count":68638},{"key":"LI WEI","doc_count":58367},{"key":"WANG JUN","doc_count":56970},{"key":"WANG LEI","doc_count":54077},{"key":"ZHANG LEI","doc_count":52449},{"key":"LIU WEI","doc_count":51847},{"key":"LI JUN","doc_count":50796},{"key":"ZHANG JUN","doc_count":43308}]},"citing_patent_country":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]},"applicant.name.exact":{"doc_count_error_upper_bound":174336,"sum_other_doc_count":136564374,"buckets":[{"key":"SAMSUNG ELECTRONICS CO LTD","doc_count":653658},{"key":"CANON KK","doc_count":615417},{"key":"MATSUSHITA ELECTRIC IND CO LTD","doc_count":593601},{"key":"HITACHI LTD","doc_count":569300},{"key":"MITSUBISHI ELECTRIC CORP","doc_count":499901},{"key":"SIEMENS AG","doc_count":499348},{"key":"IBM","doc_count":465742},{"key":"SONY CORP","doc_count":462332},{"key":"FUJITSU LTD","doc_count":407217},{"key":"NEC CORP","doc_count":365110}]},"kind":{"doc_count_error_upper_bound":259439,"sum_other_doc_count":13783079,"buckets":[{"key":"A","doc_count":46629514},{"key":"A1","doc_count":21102347},{"key":"U","doc_count":18434069},{"key":"B2","doc_count":10476898},{"key":"B","doc_count":6983817},{"key":"B1","doc_count":6846388},{"key":"C","doc_count":2492525},{"key":"A2","doc_count":2222867},{"key":"A3","doc_count":2147903},{"key":"D0","doc_count":1835942}]},"jurisdiction":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"CN","doc_count":30775272,"label":"China"},{"key":"JP","doc_count":25773004,"label":"Japan"},{"key":"US","doc_count":18264956,"label":"United States"},{"key":"DE","doc_count":7850996,"label":"Germany"},{"key":"EP","doc_count":7283391,"label":"EP"},{"key":"KR","doc_count":6483828,"label":"Korea, Republic of"},{"key":"WO","doc_count":5446644,"label":"WO"},{"key":"GB","doc_count":3829659,"label":"United Kingdom"},{"key":"FR","doc_count":3225602,"label":"France"},{"key":"CA","doc_count":3001358,"label":"Canada"},{"key":"AU","doc_count":2251508,"label":"Australia"},{"key":"ES","doc_count":1964595,"label":"Spain"},{"key":"TW","doc_count":1953134,"label":"Taiwan"},{"key":"RU","doc_count":1444631,"label":"Russia"},{"key":"SU","doc_count":1254461,"label":"SU"},{"key":"AT","doc_count":1121488,"label":"Austria"},{"key":"IT","doc_count":1117431,"label":"Italy"},{"key":"BR","doc_count":935304,"label":"Brazil"},{"key":"SE","doc_count":748785,"label":"Sweden"},{"key":"CH","doc_count":729998,"label":"Switzerland"},{"key":"NL","doc_count":650813,"label":"Netherlands"},{"key":"BE","doc_count":596469,"label":"Belgium"},{"key":"DK","doc_count":576757,"label":"Denmark"},{"key":"PL","doc_count":533523,"label":"Poland"},{"key":"NO","doc_count":453284,"label":"Norway"},{"key":"FI","doc_count":447231,"label":"Finland"},{"key":"MX","doc_count":358315,"label":"Mexico"},{"key":"IL","doc_count":339523,"label":"Israel"},{"key":"ZA","doc_count":291884,"label":"South Africa"},{"key":"UA","doc_count":259442,"label":"Ukraine"},{"key":"HU","doc_count":249162,"label":"Hungary"},{"key":"DD","doc_count":242846,"label":"DD"},{"key":"CS","doc_count":174258,"label":"CS"},{"key":"HK","doc_count":169970,"label":"Hong Kong"},{"key":"PT","doc_count":168576,"label":"Portugal"},{"key":"AR","doc_count":165236,"label":"Argentina"},{"key":"SG","doc_count":143903,"label":"Singapore"},{"key":"NZ","doc_count":136281,"label":"New Zealand"},{"key":"CZ","doc_count":125857,"label":"Czech Republic"},{"key":"IE","doc_count":121387,"label":"Ireland"},{"key":"GR","doc_count":105005,"label":"Greece"},{"key":"EA","doc_count":99814,"label":"EA"},{"key":"TR","doc_count":96458,"label":"Turkey"},{"key":"RO","doc_count":93038,"label":"Romania"},{"key":"IN","doc_count":81934,"label":"India"},{"key":"LU","doc_count":64327,"label":"Luxembourg"},{"key":"PH","doc_count":59744,"label":"Philippines"},{"key":"MY","doc_count":58661,"label":"Malaysia"},{"key":"BG","doc_count":58390,"label":"Bulgaria"},{"key":"YU","doc_count":57072,"label":"YU"},{"key":"SI","doc_count":48193,"label":"Slovenia"},{"key":"CL","doc_count":43746,"label":"Chile"},{"key":"SK","doc_count":43190,"label":"Slovakia"},{"key":"HR","doc_count":33647,"label":"Croatia"},{"key":"CO","doc_count":33229,"label":"Colombia"},{"key":"PE","doc_count":27428,"label":"Peru"},{"key":"MA","doc_count":23090,"label":"Morocco"},{"key":"LT","doc_count":18197,"label":"Lithuania"},{"key":"RS","doc_count":17345,"label":"Serbia"},{"key":"CY","doc_count":17236,"label":"Cyprus"},{"key":"UY","doc_count":16076,"label":"Uruguay"},{"key":"EC","doc_count":15304,"label":"Ecuador"},{"key":"AP","doc_count":14772,"label":"AP"},{"key":"ID","doc_count":14647,"label":"Indonesia"},{"key":"MD","doc_count":14406,"label":"Moldova"},{"key":"EG","doc_count":13801,"label":"Egypt"},{"key":"OA","doc_count":13433,"label":"OA"},{"key":"TN","doc_count":10639,"label":"Tunisia"},{"key":"CR","doc_count":10579,"label":"Costa Rica"},{"key":"LV","doc_count":10501,"label":"Latvia"},{"key":"IS","doc_count":10471,"label":"Iceland"},{"key":"EE","doc_count":9644,"label":"Estonia"},{"key":"GT","doc_count":7712,"label":"Guatemala"},{"key":"CU","doc_count":6216,"label":"Cuba"},{"key":"GE","doc_count":5608,"label":"Georgia"},{"key":"DO","doc_count":4938,"label":"Dominican Republic"},{"key":"JO","doc_count":3778,"label":"Jordan"},{"key":"SA","doc_count":3630,"label":"Saudi Arabia"},{"key":"SM","doc_count":3135,"label":"San Marino"},{"key":"ME","doc_count":2911,"label":"Montenegro"},{"key":"MC","doc_count":2826,"label":"Monaco"},{"key":"ZM","doc_count":2730,"label":"Zambia"},{"key":"ZW","doc_count":2639,"label":"Zimbabwe"},{"key":"PA","doc_count":2386,"label":"Panama"},{"key":"HN","doc_count":2010,"label":"Honduras"},{"key":"SV","doc_count":1943,"label":"El Salvador"},{"key":"NI","doc_count":1866,"label":"Nicaragua"},{"key":"DZ","doc_count":1755,"label":"Algeria"},{"key":"KE","doc_count":1352,"label":"Kenya"},{"key":"MW","doc_count":732,"label":"Malawi"},{"key":"MT","doc_count":573,"label":"Malta"},{"key":"TJ","doc_count":535,"label":"Tajikistan"},{"key":"GC","doc_count":419,"label":"GC"},{"key":"MN","doc_count":233,"label":"Mongolia"},{"key":"VN","doc_count":217,"label":"Viet Nam"},{"key":"BA","doc_count":216,"label":"Bosnia and Herzegovina"},{"key":"KZ","doc_count":83,"label":"Kazakhstan"},{"key":"BY","doc_count":77,"label":"Belarus"},{"key":"UZ","doc_count":20,"label":"Uzbekistan"},{"key":"TH","doc_count":12,"label":"Thailand"},{"key":"KG","doc_count":7,"label":"Kyrgyzstan"},{"key":"AM","doc_count":6,"label":"Armenia"},{"key":"TT","doc_count":3,"label":"Trinidad and Tobago"},{"key":"EM","doc_count":1,"label":"EM"},{"key":"MO","doc_count":1,"label":"Macau"}]},"classification_ipcr":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]},"agent.name.exact":{"doc_count_error_upper_bound":25675,"sum_other_doc_count":17887798,"buckets":[{"key":"HOFFMANN EITLE","doc_count":90683},{"key":"SUGHRUE MION PLLC","doc_count":72252},{"key":"VOSSIUS & PARTNER","doc_count":71849},{"key":"BIRCH STEWART KOLASCH & BIRCH LLP","doc_count":62515},{"key":"FISH & RICHARDSON PC","doc_count":56140},{"key":"FITZPATRICK CELLA HARPER & SCINTO","doc_count":51447},{"key":"HARNESS DICKEY & PIERCE PLC","doc_count":45922},{"key":"KNOBBE MARTENS OLSON & BEAR LLP","doc_count":43918},{"key":"OBLON SPIVAK MCCLELLAND MAIER & NEUSTADT PC","doc_count":43255},{"key":"GRÜNECKER PATENT- UND RECHTSANWÄLTE \\nPARTG MBB","doc_count":39427}]},"publication_type":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"PATENT_APPLICATION","doc_count":61351474},{"key":"GRANTED_PATENT","doc_count":41040957},{"key":"LIMITED_PATENT","doc_count":21993059},{"key":"UNKNOWN","doc_count":2979569},{"key":"SEARCH_REPORT","doc_count":2630293},{"key":"DESIGN_RIGHT","doc_count":1134210},{"key":"PATENT_OF_ADDITION","doc_count":817865},{"key":"ABSTRACT","doc_count":439804},{"key":"AMENDED_PATENT","doc_count":290533},{"key":"AMBIGUOUS","doc_count":206017},{"key":"PLANT_PATENT","doc_count":34772},{"key":"AMENDED_APPLICATION","doc_count":29179},{"key":"STATUTORY_INVENTION_REGISTRATION","doc_count":4147},{"key":"SPC","doc_count":3470}]},"legal_status.patent_status":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"expired","doc_count":41773691},{"key":"active","doc_count":35455643},{"key":"discontinued","doc_count":21396199},{"key":"pending","doc_count":20327892},{"key":"inactive","doc_count":11544689},{"key":"unknown","doc_count":2064407},{"key":"patented","doc_count":392828}]},"classification_cpc":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]},"sequence.organism.name.exact":{"doc_count_error_upper_bound":3708,"sum_other_doc_count":1242856,"buckets":[{"key":"Unknown/Artificial","doc_count":670541},{"key":"Homo sapiens","doc_count":275030},{"key":"Mus musculus","doc_count":50548},{"key":"Rattus norvegicus","doc_count":18859},{"key":"Arabidopsis thaliana","doc_count":15883},{"key":"Zea mays","doc_count":11639},{"key":"Bos taurus","doc_count":11064},{"key":"Oryza sativa","doc_count":10712},{"key":"Saccharomyces cerevisiae","doc_count":9075},{"key":"Glycine max","doc_count":7056}]},"owner_all.name.exact":{"doc_count_error_upper_bound":50214,"sum_other_doc_count":21159867,"buckets":[{"key":"INTERNATIONAL BUSINESS MACHINES CORPORATION","doc_count":246811},{"key":"SAMSUNG ELECTRONICS CO LTD","doc_count":217104},{"key":"MICROSOFT TECHNOLOGY LICENSING LLC","doc_count":122864},{"key":"CANON KABUSHIKI KAISHA","doc_count":114299},{"key":"SONY CORPORATION","doc_count":89565},{"key":"KABUSHIKI KAISHA TOSHIBA","doc_count":88839},{"key":"INTEL CORPORATION","doc_count":83095},{"key":"LG ELECTRONICS INC","doc_count":79839},{"key":"HEWLETT-PACKARD DEVELOPMENT COMPANY LP","doc_count":77696},{"key":"GENERAL ELECTRIC COMPANY","doc_count":73917}]},"sequence.type":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"N","doc_count":617364},{"key":"P","doc_count":555840},{"key":"DNA","doc_count":372394},{"key":"RNA","doc_count":49272}]},"dates":{"buckets":[{"key_as_string":"1790","key":-5680195200000,"doc_count":1},{"key_as_string":"1799","key":-5396198400000,"doc_count":1},{"key_as_string":"1817","key":-4828204800000,"doc_count":1},{"key_as_string":"1827","key":-4512672000000,"doc_count":2},{"key_as_string":"1828","key":-4481136000000,"doc_count":14},{"key_as_string":"1829","key":-4449513600000,"doc_count":2},{"key_as_string":"1830","key":-4417977600000,"doc_count":4},{"key_as_string":"1831","key":-4386441600000,"doc_count":10},{"key_as_string":"1832","key":-4354905600000,"doc_count":8},{"key_as_string":"1833","key":-4323283200000,"doc_count":21},{"key_as_string":"1834","key":-4291747200000,"doc_count":13},{"key_as_string":"1835","key":-4260211200000,"doc_count":18},{"key_as_string":"1836","key":-4228675200000,"doc_count":126},{"key_as_string":"1837","key":-4197052800000,"doc_count":458},{"key_as_string":"1838","key":-4165516800000,"doc_count":530},{"key_as_string":"1839","key":-4133980800000,"doc_count":425},{"key_as_string":"1840","key":-4102444800000,"doc_count":471},{"key_as_string":"1841","key":-4070822400000,"doc_count":508},{"key_as_string":"1842","key":-4039286400000,"doc_count":510},{"key_as_string":"1843","key":-4007750400000,"doc_count":515},{"key_as_string":"1844","key":-3976214400000,"doc_count":499},{"key_as_string":"1845","key":-3944592000000,"doc_count":512},{"key_as_string":"1846","key":-3913056000000,"doc_count":621},{"key_as_string":"1847","key":-3881520000000,"doc_count":573},{"key_as_string":"1848","key":-3849984000000,"doc_count":656},{"key_as_string":"1849","key":-3818361600000,"doc_count":1051},{"key_as_string":"1850","key":-3786825600000,"doc_count":960},{"key_as_string":"1851","key":-3755289600000,"doc_count":847},{"key_as_string":"1852","key":-3723753600000,"doc_count":974},{"key_as_string":"1853","key":-3692131200000,"doc_count":938},{"key_as_string":"1854","key":-3660595200000,"doc_count":1866},{"key_as_string":"1855","key":-3629059200000,"doc_count":1994},{"key_as_string":"1856","key":-3597523200000,"doc_count":2423},{"key_as_string":"1857","key":-3565900800000,"doc_count":2830},{"key_as_string":"1858","key":-3534364800000,"doc_count":3602},{"key_as_string":"1859","key":-3502828800000,"doc_count":4318},{"key_as_string":"1860","key":-3471292800000,"doc_count":4548},{"key_as_string":"1861","key":-3439670400000,"doc_count":3234},{"key_as_string":"1862","key":-3408134400000,"doc_count":3377},{"key_as_string":"1863","key":-3376598400000,"doc_count":3973},{"key_as_string":"1864","key":-3345062400000,"doc_count":4810},{"key_as_string":"1865","key":-3313440000000,"doc_count":6304},{"key_as_string":"1866","key":-3281904000000,"doc_count":9048},{"key_as_string":"1867","key":-3250368000000,"doc_count":12453},{"key_as_string":"1868","key":-3218832000000,"doc_count":12739},{"key_as_string":"1869","key":-3187209600000,"doc_count":13293},{"key_as_string":"1870","key":-3155673600000,"doc_count":12822},{"key_as_string":"1871","key":-3124137600000,"doc_count":12312},{"key_as_string":"1872","key":-3092601600000,"doc_count":13011},{"key_as_string":"1873","key":-3060979200000,"doc_count":12836},{"key_as_string":"1874","key":-3029443200000,"doc_count":13647},{"key_as_string":"1875","key":-2997907200000,"doc_count":14753},{"key_as_string":"1876","key":-2966371200000,"doc_count":15734},{"key_as_string":"1877","key":-2934748800000,"doc_count":14468},{"key_as_string":"1878","key":-2903212800000,"doc_count":13885},{"key_as_string":"1879","key":-2871676800000,"doc_count":14002},{"key_as_string":"1880","key":-2840140800000,"doc_count":14841},{"key_as_string":"1881","key":-2808518400000,"doc_count":18072},{"key_as_string":"1882","key":-2776982400000,"doc_count":21169},{"key_as_string":"1883","key":-2745446400000,"doc_count":24642},{"key_as_string":"1884","key":-2713910400000,"doc_count":22495},{"key_as_string":"1885","key":-2682288000000,"doc_count":26683},{"key_as_string":"1886","key":-2650752000000,"doc_count":26129},{"key_as_string":"1887","key":-2619216000000,"doc_count":24646},{"key_as_string":"1888","key":-2587680000000,"doc_count":23921},{"key_as_string":"1889","key":-2556057600000,"doc_count":29342},{"key_as_string":"1890","key":-2524521600000,"doc_count":30812},{"key_as_string":"1891","key":-2492985600000,"doc_count":28229},{"key_as_string":"1892","key":-2461449600000,"doc_count":29801},{"key_as_string":"1893","key":-2429827200000,"doc_count":31717},{"key_as_string":"1894","key":-2398291200000,"doc_count":35627},{"key_as_string":"1895","key":-2366755200000,"doc_count":39740},{"key_as_string":"1896","key":-2335219200000,"doc_count":42073},{"key_as_string":"1897","key":-2303596800000,"doc_count":46305},{"key_as_string":"1898","key":-2272060800000,"doc_count":43117},{"key_as_string":"1899","key":-2240524800000,"doc_count":46831},{"key_as_string":"1900","key":-2208988800000,"doc_count":49958},{"key_as_string":"1901","key":-2177452800000,"doc_count":53316},{"key_as_string":"1902","key":-2145916800000,"doc_count":59991},{"key_as_string":"1903","key":-2114380800000,"doc_count":80290},{"key_as_string":"1904","key":-2082844800000,"doc_count":76572},{"key_as_string":"1905","key":-2051222400000,"doc_count":77329},{"key_as_string":"1906","key":-2019686400000,"doc_count":78190},{"key_as_string":"1907","key":-1988150400000,"doc_count":86454},{"key_as_string":"1908","key":-1956614400000,"doc_count":83711},{"key_as_string":"1909","key":-1924992000000,"doc_count":87178},{"key_as_string":"1910","key":-1893456000000,"doc_count":89198},{"key_as_string":"1911","key":-1861920000000,"doc_count":89806},{"key_as_string":"1912","key":-1830384000000,"doc_count":93111},{"key_as_string":"1913","key":-1798761600000,"doc_count":94543},{"key_as_string":"1914","key":-1767225600000,"doc_count":92867},{"key_as_string":"1915","key":-1735689600000,"doc_count":80333},{"key_as_string":"1916","key":-1704153600000,"doc_count":71742},{"key_as_string":"1917","key":-1672531200000,"doc_count":67793},{"key_as_string":"1918","key":-1640995200000,"doc_count":66263},{"key_as_string":"1919","key":-1609459200000,"doc_count":78938},{"key_as_string":"1920","key":-1577923200000,"doc_count":102161},{"key_as_string":"1921","key":-1546300800000,"doc_count":114825},{"key_as_string":"1922","key":-1514764800000,"doc_count":120816},{"key_as_string":"1923","key":-1483228800000,"doc_count":122257},{"key_as_string":"1924","key":-1451692800000,"doc_count":125204},{"key_as_string":"1925","key":-1420070400000,"doc_count":123273},{"key_as_string":"1926","key":-1388534400000,"doc_count":120943},{"key_as_string":"1927","key":-1356998400000,"doc_count":119913},{"key_as_string":"1928","key":-1325462400000,"doc_count":124702},{"key_as_string":"1929","key":-1293840000000,"doc_count":140870},{"key_as_string":"1930","key":-1262304000000,"doc_count":157588},{"key_as_string":"1931","key":-1230768000000,"doc_count":161977},{"key_as_string":"1932","key":-1199232000000,"doc_count":158720},{"key_as_string":"1933","key":-1167609600000,"doc_count":143061},{"key_as_string":"1934","key":-1136073600000,"doc_count":132076},{"key_as_string":"1935","key":-1104537600000,"doc_count":125423},{"key_as_string":"1936","key":-1073001600000,"doc_count":121087},{"key_as_string":"1937","key":-1041379200000,"doc_count":110670},{"key_as_string":"1938","key":-1009843200000,"doc_count":111117},{"key_as_string":"1939","key":-978307200000,"doc_count":114239},{"key_as_string":"1940","key":-946771200000,"doc_count":101856},{"key_as_string":"1941","key":-915148800000,"doc_count":98139},{"key_as_string":"1942","key":-883612800000,"doc_count":91655},{"key_as_string":"1943","key":-852076800000,"doc_count":90323},{"key_as_string":"1944","key":-820540800000,"doc_count":72834},{"key_as_string":"1945","key":-788918400000,"doc_count":70316},{"key_as_string":"1946","key":-757382400000,"doc_count":66354},{"key_as_string":"1947","key":-725846400000,"doc_count":72487},{"key_as_string":"1948","key":-694310400000,"doc_count":86432},{"key_as_string":"1949","key":-662688000000,"doc_count":106151},{"key_as_string":"1950","key":-631152000000,"doc_count":124346},{"key_as_string":"1951","key":-599616000000,"doc_count":159650},{"key_as_string":"1952","key":-568080000000,"doc_count":176517},{"key_as_string":"1953","key":-536457600000,"doc_count":191490},{"key_as_string":"1954","key":-504921600000,"doc_count":174780},{"key_as_string":"1955","key":-473385600000,"doc_count":165910},{"key_as_string":"1956","key":-441849600000,"doc_count":181261},{"key_as_string":"1957","key":-410227200000,"doc_count":203067},{"key_as_string":"1958","key":-378691200000,"doc_count":202907},{"key_as_string":"1959","key":-347155200000,"doc_count":219018},{"key_as_string":"1960","key":-315619200000,"doc_count":254798},{"key_as_string":"1961","key":-283996800000,"doc_count":237853},{"key_as_string":"1962","key":-252460800000,"doc_count":234666},{"key_as_string":"1963","key":-220924800000,"doc_count":219412},{"key_as_string":"1964","key":-189388800000,"doc_count":254284},{"key_as_string":"1965","key":-157766400000,"doc_count":301745},{"key_as_string":"1966","key":-126230400000,"doc_count":322198},{"key_as_string":"1967","key":-94694400000,"doc_count":343458},{"key_as_string":"1968","key":-63158400000,"doc_count":375202},{"key_as_string":"1969","key":-31536000000,"doc_count":441825},{"key_as_string":"1970","key":0,"doc_count":479157},{"key_as_string":"1971","key":31536000000,"doc_count":507234},{"key_as_string":"1972","key":63072000000,"doc_count":508344},{"key_as_string":"1973","key":94694400000,"doc_count":825232},{"key_as_string":"1974","key":126230400000,"doc_count":927650},{"key_as_string":"1975","key":157766400000,"doc_count":954053},{"key_as_string":"1976","key":189302400000,"doc_count":1013617},{"key_as_string":"1977","key":220924800000,"doc_count":992334},{"key_as_string":"1978","key":252460800000,"doc_count":1023600},{"key_as_string":"1979","key":283996800000,"doc_count":1032211},{"key_as_string":"1980","key":315532800000,"doc_count":1078927},{"key_as_string":"1981","key":347155200000,"doc_count":1076487},{"key_as_string":"1982","key":378691200000,"doc_count":1173743},{"key_as_string":"1983","key":410227200000,"doc_count":1201103},{"key_as_string":"1984","key":441763200000,"doc_count":1187679},{"key_as_string":"1985","key":473385600000,"doc_count":1301495},{"key_as_string":"1986","key":504921600000,"doc_count":1352624},{"key_as_string":"1987","key":536457600000,"doc_count":1364542},{"key_as_string":"1988","key":567993600000,"doc_count":1384696},{"key_as_string":"1989","key":599616000000,"doc_count":1401071},{"key_as_string":"1990","key":631152000000,"doc_count":1384922},{"key_as_string":"1991","key":662688000000,"doc_count":1420670},{"key_as_string":"1992","key":694224000000,"doc_count":1545629},{"key_as_string":"1993","key":725846400000,"doc_count":1472907},{"key_as_string":"1994","key":757382400000,"doc_count":1526821},{"key_as_string":"1995","key":788918400000,"doc_count":1552804},{"key_as_string":"1996","key":820454400000,"doc_count":1514612},{"key_as_string":"1997","key":852076800000,"doc_count":1657896},{"key_as_string":"1998","key":883612800000,"doc_count":1792204},{"key_as_string":"1999","key":915148800000,"doc_count":1905015},{"key_as_string":"2000","key":946684800000,"doc_count":1869917},{"key_as_string":"2001","key":978307200000,"doc_count":2057757},{"key_as_string":"2002","key":1009843200000,"doc_count":2307723},{"key_as_string":"2003","key":1041379200000,"doc_count":2430985},{"key_as_string":"2004","key":1072915200000,"doc_count":2603995},{"key_as_string":"2005","key":1104537600000,"doc_count":2659387},{"key_as_string":"2006","key":1136073600000,"doc_count":2854863},{"key_as_string":"2007","key":1167609600000,"doc_count":2929401},{"key_as_string":"2008","key":1199145600000,"doc_count":3030181},{"key_as_string":"2009","key":1230768000000,"doc_count":3093984},{"key_as_string":"2010","key":1262304000000,"doc_count":3277801},{"key_as_string":"2011","key":1293840000000,"doc_count":3486125},{"key_as_string":"2012","key":1325376000000,"doc_count":3937484},{"key_as_string":"2013","key":1356998400000,"doc_count":4297950},{"key_as_string":"2014","key":1388534400000,"doc_count":4482106},{"key_as_string":"2015","key":1420070400000,"doc_count":4865186},{"key_as_string":"2016","key":1451606400000,"doc_count":5153205},{"key_as_string":"2017","key":1483228800000,"doc_count":5554460},{"key_as_string":"2018","key":1514764800000,"doc_count":6296341},{"key_as_string":"2019","key":1546300800000,"doc_count":6470078},{"key_as_string":"2020","key":1577836800000,"doc_count":7292749},{"key_as_string":"2021","key":1609459200000,"doc_count":3480754}]}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.chartMetadata=[{label:"Vertical Bar Chart",icon:"vert-bar",criteria:{view:"basic",basicChartType:"bar-chart",flip:!0}},{label:"Horizontal Bar Chart",icon:"hoz-bar",criteria:{view:"basic",basicChartType:"bar-chart",flip:!1}},{label:"Grouped Bar Chart",icon:"hoz-grouped",criteria:{view:"x-by-y",barChartType:"grouped"}},{label:"Stacked Bar Chart",icon:"hoz-stacked",criteria:{view:"x-by-y",barChartType:"stacked"}},{label:"Line Chart",icon:"line",criteria:{view:"over-time"}},{label:"Line Chart",icon:"line",criteria:{view:"basic",basicChartType:"line"}},{label:"Logo Grid",icon:"logo",criteria:{view:"basic",basicChartType:"logo-grid"}},{label:"World Map",icon:"map",criteria:{view:"basic",basicChartType:"map"}},{label:"Word Cloud",icon:"word",criteria:{view:"basic",basicChartType:"cloud"}},{label:"Scatter Plot (Scholarly Works)",icon:"scatter",criteria:{view:"article-scatter"}},{label:"Scatter Plot (Citation Comparison)",icon:"scatter",criteria:{view:"scatter-plot"}},{label:"Histogram",icon:"vert-bar",criteria:{view:"histogram"}},{label:"Pie Chart",icon:"pie",criteria:{view:"basic",basicChartType:"pie"}},{label:"Heat Map",icon:"heat",criteria:{view:"basic",basicChartType:"heatmap"}},{label:"Document List",icon:"top-hits",criteria:{view:"top-hits"}},{label:"Individual Scholarly Work",icon:"single-hit",criteria:{view:"top-hits"}}];t.getChartMetadata=function(e){var t=null;return i.forEach((function(n){var i=!0;_.keys(n.criteria).forEach((function(t){n.criteria[t]!==e[t]&&(i=!1)})),i&&(t=n)})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=window.messages.prop;t.default={"+_score":a("sorting.rank"),"+date_published":a("sorting.pub.date.desc"),"-date_published":a("sorting.pub.date.asce"),"+application_reference.date":a("sorting.filing.date.desc"),"-application_reference.date":a("sorting.filing.date.asce"),"+earliest_priority_claim_date":"Earliest Priority (newest)","-earliest_priority_claim_date":"Earliest Priority (oldest)","+family.extended.size":"Extended Family Size","+family.extended.id":"Extended Family ID","+sequence.count":a("sorting.sequences"),"+family.simple.size":"Simple Family Size","+family.simple.id":"Simple Family ID","+cited_by.patent_count":i.fieldsMap["cited_by.patent_count"].label,"+reference_cited.npl_count":i.fieldsMap["reference_cited.npl_count"].label,"+reference_cited.npl_resolved_count":i.fieldsMap["reference_cited.npl_resolved_count"].label,"+reference_cited.patent_count":i.fieldsMap["reference_cited.patent_count"].label}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={gold:"Published in an open-access journal.",green:"Toll-access on the publisher page, but there is an open copy in an OA repository.",hybrid:"Free under an open license in a toll-access journal.",bronze:"Free to read on the publisher page, but without a clearly identifiable creative commons license.",closed:"All other articles, including those shared only on an ASN or in Sci-Hub."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={unknown:"License information unavailable or does not exist.",missing:"License information unavailable or does not exist.","cc-by":"This license lets others distribute, remix, tweak, and build upon your work, even commercially, as long as they credit you for the original creation. This is the most accommodating of licenses offered. Recommended for maximum dissemination and use of licensed materials.","cc-by-nc-nd":"This license is the most restrictive of our six main licenses, only allowing others to download your works and share them with others as long as they credit you, but they can’t change them in any way or use them commercially.","cc-by-nc":"This license lets others remix, tweak, and build upon your work non-commercially, and although their new works must also acknowledge you and be non-commercial, they don’t have to license their derivative works on the same terms.","cc-by-nc-sa":"This license lets others remix, tweak, and build upon your work non-commercially, as long as they credit you and license their new creations under the identical terms.","cc-by-sa":"This license lets others remix, tweak, and build upon your work even for commercial purposes, as long as they credit you and license their new creations under the identical terms. This license is often compared to “copyleft” free and open source software licenses. All new works based on yours will carry the same license, so any derivatives will also allow commercial use. This is the license used by Wikipedia, and is recommended for materials that would benefit from incorporating content from Wikipedia and similarly licensed projects.",cc0:"Public Domain Dedication, allows others may freely build upon, enhance and reuse the works for any purposes without restriction under copyright or database law.","cc-by-nd":"This license allows for redistribution, commercial and non-commercial, as long as it is passed along unchanged and in whole, with credit to you.","implied-oa":"Has evidence that an OA license of some kind was used, but it’s not reported directly on the webpage at this location.","elsevier-specific: oa user license":"Articles published under an Elsevier user license are protected by copyright and may be used for non-commercial purposes. Users may access, download, copy, translate, text mine and data mine the articles.","publisher-specific":"Each license is specific to the publishers terms and conditions. ",pd:"Public domain equivalent license are licenses that grant public-domain-like rights or/and act as waivers. "}},function(e,t,n){var i=n(19),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var a=o.call(e);return i&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i=n(108),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,i,a){t.push(i?a.replace(r,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var i=n(109);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var i=n(57);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var o=e.apply(this,i);return n.cache=r.set(a,o)||r,o};return n.cache=new(a.Cache||i),n}a.Cache=i,e.exports=a},function(e,t,n){var i=n(111),a=n(43),r=n(59);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||a),string:new i}}},function(e,t,n){var i=n(112),a=n(117),r=n(118),o=n(119),s=n(120);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var i=n(21);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t,n){var i=n(75),a=n(114),r=n(15),o=n(76),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||a(e))&&(i(e)?p:s).test(o(e))}},function(e,t,n){var i,a=n(115),r=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!r&&r in e}},function(e,t,n){var i=n(10)["__core-js_shared__"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(21),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(21),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var i=n(21);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(22),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(22);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(22);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(22);e.exports=function(e,t){var n=this.__data__,a=i(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var i=n(23);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(23);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(23);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(23);e.exports=function(e,t){var n=i(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var i=n(132);e.exports=function(e){return null==e?"":i(e)}},function(e,t,n){var i=n(19),a=n(77),r=n(6),o=n(27),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var i=n(322);e.exports=function(e,t,n){return null==e?e:i(e,t,n)}},function(e,t,n){var i=n(135),a=n(58),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];r.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(323);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";var i={open_access:{icon:"open-access",prefix:"is_",colour:"#78bd4c",label:"Open Access",tooltip:"Open Access",pill:!0},referenced_by_patent:{icon:"quote-left",prefix:"is_",colour:"#0e9ca6",label:"Patents",tooltip:"Cited by Patent",pill:!0},referenced_by_scholarly:{prefix:"is_",label:"Cited by Scholarly",tooltip:"Cited by Scholarly Works",pill:!1},abstract:{icon:"file-alt",prefix:"has_",colour:"#0094d3",label:"Abstract",tooltip:"Has Abstract",pill:!1},fulltext:{icon:"file-alt",prefix:"has_",colour:"#0094d3",label:"Full Text",tooltip:"Has Full Text",pill:!0},chemical:{icon:"flask",prefix:"has_",colour:"#6278d8",label:"Substance",tooltip:"Has Substance Info",pill:!0},funding:{icon:"dollar-sign",prefix:"has_",colour:"#9c5ee1",label:"Funding",tooltip:"Has Funding Info",pill:!0},clinical_trial:{icon:"heartbeat",prefix:"has_",colour:"#ce68d1",label:"Clinical Trial",tooltip:"Has Clinical Trial",pill:!0},affiliation:{icon:"address-card",prefix:"has_",colour:"#e28604",label:"Affiliation",tooltip:"Has Author Affliation",pill:!0},field_of_study:{icon:"tasks",prefix:"has_",colour:"#f4c901",label:"Field of Study",tooltip:"Has Field of Study",pill:!0},keyword:{label:"Keywords",prefix:"has_",tooltip:"Has Keywords",pill:!1},mesh_term:{label:"MeSH Terms",prefix:"has_",tooltip:"Has MeSH Terms",pill:!1}};"en"!==window.UI_CONFIG.locale&&_.keys(i).forEach((function(e){i[e].key=e;var t=window.messages.prop("scholar.field."+e)||window.messages.prop("scholar.common."+e);t&&(i[e].label=t,i[e].tooltip=t)})),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSearchController=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(220)),o=n(139),s=n(35),l=n(60),c=n(18),u=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}var p=new c.SessionStorageService,f=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=i,this.PatentService=t,this.ScholarService=n,this.state={FieldInformation:r.default}}return a(e,[{key:"getResults",value:function(){return("scholar"===this.state.type?this.state.scholarlyWorks:this.state.patents)||[]}},{key:"getSelected",value:function(){return this.getResults().filter((function(e){return e.checked}))}},{key:"getPatent",value:function(e,t){if(!e.expanded||t)return e.expanded=!0,this._getPatent(e,t);e.expanded=!1}},{key:"_getPatent",value:function(e,t){e.loading=!0;var n=this.PatentService.get(e.lensId||e.record_lens_id);return this.$q.when(n).then((function(t){return _.keys(t).forEach((function(n){e[n]=t[n]})),e.loading=!1,t})).catch((function(t){console.error(t),e.expanded=!1,e.loading=!1,(new Notification).error("Could not preview Patent")}))}},{key:"getScholarlyWork",value:function(e,t){if(!e.expanded||t){e.loading=!0,e.expanded=!0;var n=this.ScholarService.get(e.record_lens_id);return this.$q.when(n).then((function(t){_.keys(t).forEach((function(n){e[n]=t[n]})),e.loading=!1})).catch((function(t){console.error(t),e.expanded=!1,e.loading=!1,(new Notification).error("Could not preview Scholarly Work")}))}e.expanded=!1}},{key:"getName",value:function(){return _.get(this.state,"userProfile.displayName")||_.get(this.state,"orcidProfile.name")}},{key:"initUser",value:function(){var e=this,t=this.$http.get("/lens/service/user/"+this.state.userId+"/linked-identities");this.$q.when(t).then((function(t){var n=t.data.filter((function(e){return"ORCID"===e.provider})).pop(),i=e.$http.get("/lens/service/user/"+e.state.userId+"/publicProfile");e.$q.when(i).then((function(t){e.state.userProfile=t.data,n?(e.state.orcid=n.profileUrl.replace("https://orcid.org/",""),e.initOrcid()):(e.state.loading=!1,e.state.noLinkedOrcid=!0,e.fetchScholar(),e.fetchPatents())})).catch((function(t){if(console.error(t),e.state.loading=!1,console.log({linkedAccount:n}),n){var i=n.profileUrl.replace("https://orcid.org/",""),a=e.$rootScope.currentState.name.split(".").pop();e.$state.go("orcidProfile."+a,{orcid:i},{inherit:!1,location:"replace"})}else e.state.notFound=!0}))})).catch((function(e){console.error(e)}))}},{key:"_initOrcid",value:function(e){var t=e.person,n=e.activities;this.state.loading=!1,console.log({person:t,activities:n}),this.state.rawOrcid={person:t,activities:n};var i=this.OrcidService.extractFunding(n),a=this.OrcidService.extractPeerReviews(n),r=this.OrcidService.extractVerboseEmployments(n);console.log({funding:i,reviews:a});var o=this.OrcidService.extractVerboseEducations(n),s=this.OrcidService.extractAliases(t),l=this.OrcidService.extractUrls(t),c=_.get(t["last-modified-date"],"value")||0,u=_.get(n["last-modified-date"],"value")||0,d=Math.max(c,u);this.state.orcidProfile={aliases:s,biography:_.get(t,"biography.content"),educations:o,email:_.get(t,"emails.email[0].email"),employments:r,funding:i,lastModified:d,name:this.OrcidService.extractName(t),reviews:a,urls:l},r.length?this.state.tab="employment":!r.length&&o.length?this.state.tab="education":o.length||r.length||!l.length?!l.length&&this.currentUserIsOwner&&this.currentUserIsOwner()?this.state.tab="profile":this.state.tab="coauthors":this.state.tab="links",this.fetchScholar(),this.fetchPatents();var p=this.getName();window.document.title=p?p+" | Author Profile | The Lens":"Author Profile | The Lens",this.$scope.$broadcast("UPDATE_GREEDY_NAV"),this.state.showMetadataNav=!0}},{key:"initOrcid",value:function(){var e=this;Promise.all([fetch("/lens/service/user/orcid/"+this.state.orcid).then((function(e){return 200===e.status?e.json():null})),this.OrcidService.getPerson(this.state.orcid),this.OrcidService.getActivities(this.state.orcid)]).then((function(t){var n=i(t,3),a=n[0],r=n[1],o=n[2],s=e.$rootScope.currentState.name;if(a&&s.startsWith("orcidProfile")){var l=s.split(".").pop();e.$state.go("userProfile."+l,{userId:a.id},{inherit:!1,location:"replace"})}else{var c={person:r,activities:o};p.set("orcidProfile:"+e.state.orcid,c),e._initOrcid(c),e.$scope.$digest()}}))}},{key:"wizardNameValid",value:function(e){return e&&e.length>5&&e.includes(" ")}},{key:"submitWizard",value:function(){"scholar"===this.state.type?this._submitScholarWizard():this._submitPatentWizard()}},{key:"_submitScholarWizard",value:function(){var e=this,t=this.state.importScholarWizard;if(this.state.wizardError=!1,1===t.step){if(!this.wizardNameValid(t.name))return;this.state.wizardName=t.name,this.state.wizardLoading=!0,this.state.wizardAuthors=null,t.authorName={};var n=this.ScholarService.facetSearch("author.display_name",t.name,{},100);this.$q.when(n).then((function(n){n=(0,o.authorSearch)(n,t.name),e.state.wizardLoading=!1,e.state.wizardAuthors=n.map((function(e){return e.item}))})).catch((function(t){console.error(t),e.state.wizardLoading=!1,e.state.wizardError=t}))}if(2===t.step){var a=_.pickBy(t.authorName||{},_.identity),r=(0,s.filterMapToQueryParams)({authorName:a});if(0===_.keys(a).length)return void(new Notification).error("You must select at least one author name");this.state.scholarLoading=!0,r.authorName||delete r.authorName;var c=Promise.all([this.ScholarService.search(r,this.scholarRequestBody),this.ScholarService.facets(r,l.profileScholarAggs)]);this.$q.when(c).then((function(t){var n=i(t,2),r=n[0],o=n[1];e.state.suggestingScholar=!0,e.initScholar(r,o),e.autoSelectUnclaimed&&e.autoSelectUnclaimed(),e.state.scholarlyWorks.filter((function(e){return!e.claimed})).length&&(e.state.promptAuthorNames=_.keys(a),e.bulkClaimScholar())})).catch((function(t){console.error(t),e.state.scholarError=!0})).finally((function(){e.state.scholarLoading=!1}))}2===t.step?this.state.importScholarWizard=null:this.state.importScholarWizard.step++}},{key:"_submitPatentWizard",value:function(){var e=this,t=this.state.importPatentWizard;if(1===t.step){if(!this.wizardNameValid(t.name))return;this.state.wizardLoading=!0,this.state.wizardName=t.name||this.getName();var n=this.PatentService.facetSearch("inventor.name.exact",t.name,{},100);this.$q.when(n).then((function(t){var n=e.state.wizardName,i=new u.default(t,window.FUSE_OPTS).search(n).map((function(e){return e.item}));e.state.wizardInventors=i})).catch((function(t){console.error(t),e.state.wizardError=t})).finally((function(){e.state.wizardLoading=!1}))}if(2===t.step){if(console.log("wizard.inventorName",t.inventorName),!t.inventorName)return void(new Notification).error("You must select at least one inventor name");var a=_.pickBy(t.inventorName||{},_.identity),r=(0,s.filterMapToQueryParams)({inventor:a}),o=[this.PatentService.search(r,{size:100,sort:this.patentSort,_source:{includes:this.PatentService.MOST_FIELDS}})],l=Promise.all(o);this.state.patentLoading=!0,this.$q.when(l).then((function(t){var n=i(t,1)[0];e.state.suggestingPatents=!0,e.state.patentLoading=!1,e.state.totalPatentHits=n.totalHits||n.size,e.state.patents=n.hits,e.autoSelectUnclaimed(),e.state.promptInventorNames=_.keys(a),e.bulkClaimPatents()})).catch((function(t){console.error(t),e.state.wizardError=t}))}2===t.step?this.state.importPatentWizard=null:this.state.importPatentWizard.step++}},{key:"bulkClaim",value:function(){"scholar"===this.state.type?this.bulkClaimScholar():"patent"===this.state.type&&this.bulkClaimPatents()}},{key:"showAllBulkClaimAuthors",value:function(){this.state.wizardAuthors=this.state.authors,this.state.filteredBulkClaimAuthors=!1}},{key:"_bulkClaimScholar",value:function(){var e=this;if(this.state.promptAuthorNames&&this.state.promptAuthorNames.length)if(this.state.bulkClaimAgreeWarning=!1,this.state.bulkClaimAgree){var t=this.state.scholarlyWorks.filter((function(e){return e.checked})),n=this.state.promptAuthorNames,i=this.ScholarService.bulkClaim(t,n);this.state.bulkClaiming=!0,this.$q.when(i).then((function(t){console.log(t),400!==t.status&&500!==t.status?(e.state.bulkClaimSuccess=!0,e.state.suggestingScholar=!1):t.json().then((function(e){(new Notification).error(e.message||"Bulk Claim Failed")}))})).catch((function(t){console.error(t),(new Notification).error(t),e.state.bulkClaimError=!0})).finally((function(){e.resetBulkClaimState(),e.ScholarService.clearCache(),e.fetchScholar()}))}else this.state.bulkClaimAgreeWarning=!0;else{var a=_.pickBy(this.state.authorName||{},_.identity);this.state.promptAuthorNames=_.keys(a),this.state.promptAuthorNames.length||(new Notification).error("You must select at least one author name")}}},{key:"bulkClaimScholar",value:function(){if(!this.state.promptAuthorNames){if(!this.state.authors){var e={};this.getSelected().map((function(t){t.authors.forEach((function(t){if(t.orcid){var n=t.display_name;e[n]?e[n]++:e[n]=1}}))}),[]);var t=_.keys(e).map((function(t){return{key:t,label:t,value:e[t]}}));this.state.authors=_.sortBy(t,(function(e){return e.value})).reverse().slice(0,10)}var n=new u.default(this.state.authors,{keys:["key"],threshold:.5,shouldSort:!0}).search(this.getName()).map((function(e){return e.item})).slice(0,10);n.length?(this.state.wizardAuthors=n,this.state.filteredBulkClaimAuthors=!0):(this.state.wizardAuthors=this.state.authors,this.state.filteredBulkClaimAuthors=!1)}this.state.bulkClaimScholar=!0}},{key:"_bulkClaimPatents",value:function(){var e=this;if(this.state.bulkClaimAgree){var t=this.state.patents.filter((function(e){return e.checked})),n=this.state.promptInventorNames,i=this.PatentService.bulkClaim(t,n);this.state.bulkClaiming=!0,this.$q.when(i).then((function(t){e.state.bulkClaimSuccess=!0,e.state.suggestingPatents=!1})).catch((function(e){console.error(e)})).finally((function(){e.resetBulkClaimState(),e.PatentService.clearCache(),e.fetchPatents()}))}else this.state.bulkClaimAgreeWarning=!0}},{key:"bulkClaimPatents",value:function(){this.state.bulkClaimPatents=!0,_.keys(this.state.inventorNameVariants||{}).length&&this._bulkClaimPatents()}},{key:"resetBulkClaimState",value:function(){(this.state.authors=null,this.state.authorNames=null,this.state.promptAuthorNames=null,this.state.promptInventorNames=null,this.state.bulkClaimScholar=null,this.state.bulkClaimPatents=null,this.state.bulkClaiming=!1,this.state.bulkClaimAgree=!1,this.state.bulkClaimAgreeWarning=!1,this.state.suggestBulkClaim=!1,this.state.bulkClaimError=null,this.state.suggestingPatents||this.state.suggestingScholar)?(this.state.suggestingPatents=!1,this.state.suggestingScholar=!1,"scholar"===this.state.type?this.fetchScholar():this.fetchPatents()):("scholar"===this.state.type?this.state.scholarlyWorks:this.state.patents).forEach((function(e){e.checked=!1}))}},{key:"autoSelectUnclaimed",value:function(){var e=this;"scholar"===this.state.type&&this.state.scholarlyWorks?(this.state.scholarlyWorks.forEach((function(t){t.claimed=!1,t.metadata.authorship.forEach((function(n){n.user.id===e.state.userId?t.claimed=!0:n.user.orcidId&&n.user.orcidId===e.state.orcid&&console.log("TODO: Add",n.name,"to authors list")})),t.claimed||(t.checked=!0)})),this.state.scholarlyWorks=_.orderBy(this.state.scholarlyWorks,["claimed","referenced_by_count"],["asc","desc"])):"patent"===this.state.type&&this.state.patents&&(this.state.patents.forEach((function(t){t.claimed=!1,t.metadata.inventorships.forEach((function(n){n.user.id===e.state.userId&&(t.claimed=!0)})),t.claimed||(t.checked=!0)})),this.state.patents=_.orderBy(this.state.patents,["claimed","cited_by.patent_count"],["asc","desc"]))}},{key:"initCitedWorksFilter",value:function(e){var t=this;this.state.facetLoading["reference_cited.npl.record_lens_id"]=!0,this.state.citedWorksMetadata={};var n=e.map((function(e){return"record_lens_id:"+e})).join(" OR "),i={size:10,_source:{includes:this.ScholarService.MOST_FIELDS}},a=this.ScholarService.search({q:n},i);this.$q.when(a).then((function(e){t.state.facetLoading["reference_cited.npl.record_lens_id"]=!1,e.hits.forEach((function(e){t.state.citedWorksMetadata[e.record_lens_id]=e}))})).catch((function(e){t.state.facetLoading["reference_cited.npl.record_lens_id"]=!1,console.error(e)}))}}]),e}();t.BaseSearchController=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authorSearch=void 0;var i,a=n(25),r=(i=a)&&i.__esModule?i:{default:i};t.authorSearch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return t=t.replace(/[\&\"\(\)]+/g,""),e.forEach((function(e){e.noMiddleNames=e.key.split(" ")[0]+" "+e.key.split(" ").pop()})),e=new r.default(e,{shouldSort:!0,tokenize:!0,matchAllTokens:!0,findAllMatches:!0,location:0,distance:100,maxPatternLength:32,keys:[{name:"key",weight:1},{name:"noMiddleNames",weight:.5}]}).search(t).slice(0,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SCHOLAR_EXPORT_FIELDS=["LENS_ID","TITLE","DATE_PUBLISHED","YEAR_PUBLISHED","PUBLICATION_TYPE","JOURNAL_TITLE","JOURNAL_ISSN","JOURNAL_PUBLISHER","JOURNAL_COUNTRY","AUTHORS","ABSTRACT","VOLUME","ISSUE","START_PAGE","END_PAGE","FIELDS_OF_STUDY","KEYWORDS","MESH_TERMS","CHEMICALS","FUNDING","SOURCE_URLS","EXTERNAL_URL","PMID","DOI","MAG_ID","PMCID","REFERENCED_BY_PATENT_COUNT","REFERENCES_LENS_IDS","REFERENCED_BY_COUNT"],t.PATENT_EXPORT_FIELDS=["JURISDICTION","KIND","DISPLAY_KEY","LENS_ID","PUBLICATION_DATE","PUBLICATION_YEAR","APPLICATION_NUMBER","APPLICATION_DATE","PRIORITY_NUMBERS","EARLIEST_PRIORITY_DATE","TITLE","ABSTRACT","APPLICANTS","INVENTORS","OWNERS","URL","PUBLICATION_TYPE","HAS_FULL_TEXT","CITES_PATENT_COUNT","CITED_BY_PATENT_COUNT","SIMPLE_FAMILY_SIZE","EXTENDED_FAMILY_SIZE","SEQUENCE_COUNT","CPC_CLASSIFICATIONS","IPCR_CLASSIFICATIONS","US_CLASSIFICATIONS","NPL_CITATION_COUNT","NPL_RESOLVED_CITATION_COUNT","NPL_RESOLVED_LENS_IDS","NPL_RESOLVED_EXTERNAL_IDS","NPL_CITATIONS"],t.UNSUPPORTED_EXPORT_FIELDS={CSV:["CLINICAL_TRIALS","CITATION_IDS","PUBLICATION_SUPPLEMENTARY_TYPE"],RIS:["PMID","DOI","MAG_ID","PMCID"],BIBTEX:["PMID","DOI","MAG_ID","PMCID"],JSON:["PMID","DOI","MAG_ID","PMCID","PUBLICATION_SUPPLEMENTARY_TYPE","EXTERNAL_URL"]},t.PATENT_UNSUPPORTED_EXPORT_FIELDS={CSV:["CLAIMS","PUBLICATION_KEY"],JSON:["PUBLICATION_YEAR"],JSONL:["PUBLICATION_YEAR","HAS_FULL_TEXT","PRIORITY_NUMBERS"]}},function(e,t){e.exports='<div>\n    <h3 class="modal-heading">{{::\'common.action.add\' | message}} {{selectedAll ? \'all\' : checkedItems.length}} {{::\'generalResults.collection.items.collection\' | message}}</h3>\n    <p class="alert alert-info">\n        <em class="far fa-info-circle"></em>\n        {{::\'common.limit\' | message}}: {{$root.user.collectionSizeLimits[type] | customNumber}}\n    </p>\n    \n    <div>\n        <label>{{::\'user.collections.select\' | message}}</label>\n        \n        <div ng-if="vm.collections.length > 1">\n            <form>\n                <label class="input">\n                    <em class="fal fa-search icon_append"></em>\n                    <input type="text"\n                        placeholder="Filter collections"\n                        class="search-term"\n                        ng-model="vm.collectionFilter.title"\n                    >\n                </label>\n            </form>\n        </div>\n\n        <div ng-if="vm.loading">{{::\'common.loading\' | message}}</div>\n\n        <div lens-select-collections-list\n            collections="vm.collections"\n            filter="vm.collectionFilter"\n            checked="vm.checkedCollections"\n            ng-if="!vm.loading"\n        ></div>\n\n        <br>\n        <div class="pull-right">\n            <a hidden class="btn btn-sm btn-default" ng-click="close()">\n                {{::\'common.action.cancel\' | message}}\n            </a>\n            <a class="btn btn-sm btn-default" ng-click="doNewCollection()">\n                {{::\'user.collections.createNew.title\' | message}}\n            </a>\n            <a class="btn btn-sm btn-pri"\n                ng-click="addToCollection()"\n                ng-disabled="vm.submitting"\n                ng-class="{\'btn-submitting\': vm.submitting}">\n                <em class="fa fa-sync fa-spin" ng-if="vm.submitting"></em>\n                {{::\'collectionManageWidget.btnAdd\' | message}}\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){var i=n(43),a=n(344),r=n(345),o=n(346),s=n(347),l=n(348);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t,n){(function(e){var i=n(10),a=n(353),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l}).call(this,n(64)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var i=n(74),a=t&&!t.nodeType&&t,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a&&i.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(64)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(224),a=n(358),r=n(81);e.exports=function(e){return r(e)?i(e,!0):a(e)}},function(e,t,n){var i=n(363),a=n(228),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return r.call(e,t)})))}:a;e.exports=s},function(e,t,n){var i=n(234);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.legalStatusColourScale={domain:["Active","Inactive","Expired","Discontinued","Pending","Patented","Unknown"],range:["#f32d34","rgb(226, 134, 4)","#479c1a","#479c1a","#0099a5","#f32d34","#778490"]}},function(e,t){e.exports='<div class="listing-header clearfix">\n\n    <div class="listing-with-sidebar">\n        \x3c!--\n        <div class="pull-right" ng-if="item.metadata.authorship.length">\n            <a class="" ng-click="vm.showAuthorship = true" tooltip-title="Authorship claimed! Check it out" ng-hide="vm.showAuthorship">\n                <img ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="user" style="width: 40px;">\n            </a>\n            <div ng-if="vm.showAuthorship">\n                <div ng-repeat="authorship in item.metadata.authorship track by $index">\n                    <a ui-sref="userProfile.scholar({userId: authorship.user.id})" tooltip-title="{{authorship.name}}">\n                        <img ng-if="authorship.user.profilePictureKey" lens-avatar-fallback ng-src="{{$root.userProfilePictureUrl(authorship.user.profilePictureKey)}}" alt="user" style="width: 40px;">\n                        <span class="btn btn-xs" ng-if="!authorship.user.profilePictureKey">{{authorship.name}}</span>\n                    </a>\n                </div>\n            </div>\n        </div>\n        --\x3e\n        <h3>\n            <a ui-sref="article.main(::{id: item.record_lens_id, article: item})" ng-bind-html="( item.title || item.record_lens_id ) | unsafe"></a>\n        </h3>\n        <ul class="list-unstyled header-meta header-meta-scholarly {{$root.highlightedInstitutions}}">\n            <li class="header-meta-inline-item" ng-if="!displayFields || displayFields.pubtype">\n                <strong>\n                    {{::(!item.publication_type || item.publication_type === \'unknown\' ? \'Unknown Document\' : item.publication_type) | titleCase}}\n                </strong>\n            </li>\n            \n            <li class="header-meta-inline-item" ng-show="item.open_access || item.is_open_access" ng-if="!displayFields || displayFields.openaccess">\n                <img class="doc-open-access" style="margin: 0; top: 2px;" tooltip-title="Open Access" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/open-access-color.svg">\n                Open Access\n            </li>\n            \n            <li class="header-meta-inline-item" ng-if="!displayFields || displayFields.journal">\n                <a class="link" ng-if="!item.journal.title && item.conference.name" ng-click="search(\'conference\', item.conference.name)">\n                    {{::item.conference.name}}\n                </a>\n                <span class="link" ng-if="::item.journal.title">\n                    <a class="link" ng-click="search(\'sourceTitle\', item.journal.title)"> {{::item.journal.title}}</a>,&nbsp;\n                </span>\n                <span ng-if="::item.volume">\n                    {{::\'journal.volume\' | message}}:\n                    {{::item.volume}},&nbsp;\n                </span>\n                <span ng-if="::item.issue">\n                    {{::\'journal.issue\' | message}}:\n                    {{::item.issue}},&nbsp;\n                </span>\n                <span ng-if="::item.pages">\n                    {{::\'journal.pages\' | message}}:\n                    {{::item.pages}}.&nbsp;\n                </span>\n                <span class="published-date" ng-if="::item.year_published">\n                    <span ng-if="::!item.date_published">{{::item.year_published}}</span>\n                    <span ng-if="::item.date_published">{{::item.date_published | date}}</span>\n                </span>\n            </li>\n            \n            <li ng-if="!displayFields || displayFields.authors">\n                <span>\n                    Authors:\n                </span>\n                <span ng-repeat="author in item.authors | limitTo:(item.showAllAuthors ? 500 : 20)"\n                    ng-mouseenter="$root.hoverAuthor(author)"\n                    ng-mouseout="$root.highlightedInstitutions = \'\'"\n                    ng-class="$root.institutionClasses(author)"\n                >\n                    {{::author.display_name}}\n                    <sup class="col-meta">{{::author.affiliationIndices}}</sup>\n                    <em ng-if="::!$last">,</em>\n                </span>\n                <a ng-if="item.authors.length > 20" ng-click="item.showAllAuthors = !item.showAllAuthors">\n                    Show {{item.showAllAuthors ? \'less\' : \'all\'}}...\n                </a>\n            </li>\n            \n            <li class="header-meta-inline-item" ng-if="!displayFields || displayFields.citations">\n                <a ui-sref="article.citations.patents.list(::{id: item.record_lens_id})">\n                    {{::\'scholar.sort.patent.citations\' | message}}:\n                    {{::item.referenced_by_patent_count | customNumber}}\n                </a>\n            </li>\n            <li class="header-meta-inline-item" ng-if="!displayFields || displayFields.citations">\n                <a ui-sref="article.citations.citing(::{id: item.record_lens_id})">\n                    {{::\'scholar.sort.scholarly.citations\' | message}}:\n                    {{::item.referenced_by_count | customNumber}}\n                </a>\n            </li>\n            <li class="header-meta-inline-item" ng-if="!displayFields || displayFields.citations">\n                <a ui-sref="article.citations.articles(::{id: item.record_lens_id})">\n                    {{::\'scholar.field.reference_count.cited\' | message}}: {{item.reference_count}}\n                </a>\n            </li>\n            \n            <li ng-if="!isTitle && (!displayFields || displayFields.lensid)" class="header-meta-inline-item">\n                <a href="/{{item.record_lens_id}}" >\n                    <img class="lens-id-img" style="width: 12px; position: relative; top: 2px;" \n                        ng-src="{{::$root.assetLocation}}/fonts/svg-icons/icon-lens.svg">\n                    <span>{{item.record_lens_id}}</span>\n                </a>\n            </li>\n            \n            <li ng-if="!isTitle && (!displayFields || displayFields.identifiers)" class="meta-sources">\n                <a ng-href="{{linkout(id)}}" ng-repeat="id in item.external_ids" target="_blank" rel="noopener noreferrer" ng-class="{\'cursor-default\': id.type===\'pii\'}">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pub-med.png" ng-if="::id.type===\'pmid\'">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-cross-ref.png" ng-if="::id.type===\'doi\'">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pub-med-central.png" ng-if="::id.type===\'pmc\' || id.type === \'pmcid\'">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pii.png" ng-if="::id.type===\'pii\'">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-mag.png" ng-if="id.type===\'magid\'">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-core.png" ng-if="id.type===\'coreid\'">\n                    <span>{{::id.value}}</span>\n                </a>\n                \n                <a target="_blank" ng-if="item.doi.length || item.pmid.length" ng-href="http://libkey.io/{{item.doi[0] || item.pmid[0]}}?utm_source=lens" title="Find full-text at your institution with LibKey">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-libkey.png">\n                    LibKey\n                </a>\n                \n                <lens-coins item="item"></lens-coins>\n\n            </li>\n            \n            <li class="meta-notices" ng-if="(item.hasFlags || item.metadata.authorship.length || item.metadata.collections.length) && (!displayFields || displayFields.flags)">\n                <span>\n                    <span>{{::\'common.info\' | message}}:</span>\n                    <a ng-repeat="(k, badge) in ::vm.badges"\n                        ng-if="::(item[\'has_\' + k] || item[\'has_\' + k + \'s\'] || item[\'is_\' + k]) && badge.pill"\n                        ui-sref="article.main(::{id: item.record_lens_id, section: k})"\n                        ng-style="{\'background-color\': badge.colour}"\n                        tooltip-title="{{::badge.tooltip}}"\n                        tooltip-options="::{delay: 1200}"\n                    >\n                        <em class="fa" ng-class="::{[\'fa-\' + (badge.icon || \'file-alt\')]: true}"></em> {{::badge.label || k}}\n                    </a>\n                    <a ng-if="item.metadata.collections.length" style="margin-left: -3px;"\n                        ui-sref="article.collections(::{id: item.record_lens_id })"\n                    >\n                        <em class="fa fa-folder-open"></em> \n                        Collection\n                    </a>\n                    <a ng-if="item.metadata.authorship.length" class="meta-claimed" style="margin-left: -3px;"\n                        ui-sref="article.main(::{id: item.record_lens_id })"\n                    >\n                        <em class="far fa-graduation-cap"></em>\n                        Authorship\n                    </a>\n                </span>\n            </li>\n                    \n        </ul>\n        \n        <div ng-if="!displayFields || displayFields.snippet">\n            <div class="result-snippet" ng-if="::item.fullTextSnippet && !isTitle">\n                <strong>Full Text match:</strong>\n                <span ng-bind-html="::item.fullTextSnippet | unsafe"></span>\n            </div>\n            \n            <div class="result-snippet" ng-if="::item.abstractSnippet && !isTitle">\n                <strong>Abstract match:</strong>\n                <span ng-bind-html="::item.abstractSnippet | unsafe"></span>\n            </div>\n        </div>\n    </div>\n\n    <div class="listing-sidebar results-doc-id" ng-if="::isTitle">\n        <div class="results-doc-id-inner">\n            <div class="doc-id">\n                {{::(!item.publication_type || item.publication_type === \'unknown\' ? \'Unknown Document\' : item.publication_type) | titleCase}}\n                <img class="doc-open-access" tooltip-title="Open Access" ng-show="item.open_access || item.is_open_access" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/open-access-color.svg">\n            </div>\n            <div class="doc-type">\n                <a href="/{{item.record_lens_id}}">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/favicon-32x32.png">\n                    <span>{{item.record_lens_id}}</span>\n                </a>\n            </div>\n            <span ng-if="item.doi.length || item.pmid.length">\n                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-libkey.png">\n                <a target="_blank" ng-href="http://libkey.io/{{item.doi[0] || item.pmid[0]}}?utm_source=lens" title="Find full-text at your institution with LibKey">\n                    LibKey\n                </a>\n            </span>\n            <lens-coins item="item"/>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="breadcrumbs breadcrumbs-chevron pull-left-md">\n\n    <a href="/lens/">\n        <svg class="breadcrumb-home" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="home" class="svg-inline--fa fa-home fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M541 229.16l-61-49.83v-77.4a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v51.33L308.19 39.14a32.16 32.16 0 0 0-40.38 0L35 229.16a8 8 0 0 0-1.16 11.24l10.1 12.41a8 8 0 0 0 11.2 1.19L96 220.62v243a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-128l64 .3V464a16 16 0 0 0 16 16l128-.33a16 16 0 0 0 16-16V220.62L520.86 254a8 8 0 0 0 11.25-1.16l10.1-12.41a8 8 0 0 0-1.21-11.27zm-93.11 218.59h.1l-96 .3V319.88a16.05 16.05 0 0 0-15.95-16l-96-.27a16 16 0 0 0-16.05 16v128.14H128V194.51L288 63.94l160 130.57z"></path></svg>\n    </a>\n\n    <span ng-if="::$root.isIn4M">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a class="breadnum" ui-sref="rankings.locations(::{dataset:\'australia\'})">{{::\'breadcrumb.australia\' | message}}</a>\n        <span>{{::\'common.or\' | message}}</span>\n        <a class="breadnum" ui-sref="rankings.locations(::{dataset:\'global\'})">{{::\'breadcrumb.global\' | message}}</a>\n\n        <span>\n            <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n            <a class="breadnum" href="#"> {{currentState}}</a>\n        </span>\n    </span>\n\n    <span ng-if="$ctrl.state.collection.title">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        {{$ctrl.state.collection.title}}\n    </span>\n\n    <span ng-if="$ctrl.state.type && $ctrl.state.totalHits && !$ctrl.state.isProfile">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n\n        <a ng-if="$ctrl.state.patentQueryId" ui-sref-opts="{inherit: false}" ui-sref="search.results($ctrl.state.joinQuery)" class="breadnum">\n            \x3c!-- {{::\'breadcrumb.patents\' | message}} --\x3e\n            <span ng-if="$ctrl.state.joinStats.unjoinedResultSize">{{$ctrl.state.joinStats.unjoinedResultSize | customNumber}}</span>\n            Patents\n        </a>\n\n        <a ng-if="$ctrl.state.scholarQueryId" ui-sref-opts="{inherit: false}" ui-sref="search.results($ctrl.state.joinQuery)" class="breadnum">\n            <span ng-if="$ctrl.state.joinStats.unjoinedResultSize">{{$ctrl.state.joinStats.unjoinedResultSize | customNumber}}</span>\n            Scholarly Works\n        </a>\n\n        <div ng-if="$ctrl.state.patentQueryId || $ctrl.state.scholarQueryId" class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n\n        <span class="breadnum">\n            <a class="breadnum" ui-sref="search.results($ctrl.state)">\n                <strong ng-if="$ctrl.state.totalHits">\n                    {{$ctrl.state.totalHits | customNumber}}\n                </strong>\n                <span ng-if="$ctrl.state.type === \'patent\'">{{::$ctrl.state.scholarQueryId ? \'Citing Patents\' : \'Patents\'}}</span>\n                <span ng-if="$ctrl.state.type === \'scholar\'">{{::$ctrl.state.patentQueryId ? \'Cited Works\' : \'Scholarly Works\'}}</span>\n            </a>\n            <span ng-if="$ctrl.state.numFamilies && $ctrl.state.type === \'patent\'" tooltip-title="Group by Families" class="link">\n                ({{$ctrl.state.numFamilies | customNumber}} {{$ctrl.state.groupByExtendedFamily ? \'Extended\' : \'Simple\'}} Families)\n            </span>\n        </span>\n    </span>\n\n    <span ng-if="($ctrl.state.isViewArticle || $ctrl.state.isViewPatent) && $ctrl.state.previousSearch">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="search.results($ctrl.state.previousSearch)">\n            <strong ng-if="$ctrl.state.previousSearchTotalHits">{{$ctrl.state.previousSearchTotalHits | customNumber}}</strong>\n            {{$ctrl.state.isViewArticle ? \'Scholarly\' : \'Patent\'}} Results\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.isViewArticle && $ctrl.state.model">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a class="breadnum" ui-sref="article.main(::{id: $ctrl.state.model.record_lens_id})">\n            {{$ctrl.state.model.record_lens_id}}\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.isViewPatent && $ctrl.state.patent">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a class="breadnum" ui-sref="patent.main({id: $ctrl.state.patent.record_lens_id, patent: $ctrl.state.patent})">\n            {{$ctrl.state.patent.record_lens_id}}\n        </a>\n    </span>\n\n    <span ng-if="($ctrl.state.isViewPatent || $ctrl.state.isViewArticle) && $ctrl.state.subPage">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a class="breadnum" href="#">\n            {{$ctrl.state.subPage}}\n        </a>\n    </span>\n\n    <span ng-if="$root.currentState.name === \'landscapes\'">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="landscapes">\n            Innovation Landscapes\n        </a>\n    </span>\n\n    <span ng-if="$root.currentState.name === \'user.editAccount\'">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="user.editAccount">\n            Account\n        </a>\n    </span>\n\n    <span ng-if="$root.currentState.name === \'user.subscriptions\'">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="user.subscriptions">\n            API &amp; Data\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.isProfile">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="profiles">\n            Profiles\n        </a>\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a href="" style="text-transform: capitalize;">\n            {{$ctrl.getName() || ($ctrl.currentUserIsOwner() ? \'Your Profile\' : \'Unknown Author\')}}\n        </a>\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a>\n            {{$ctrl.state.type | titleCase}}\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.isWorkArea">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="workArea.queries.savedQueries">\n            Work Area\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.isWorkArea">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a>\n            {{$ctrl.state.currentStateTitle | titleCase}}\n        </a>\n    </span>\n\n    <span ng-if="$ctrl.state.page && $ctrl.state.report">\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        \x3c!-- <a ui-sref="landscapes" ng-if="$ctrl.state.reportInClimateLandscapes"> --\x3e\n        <a ui-sref="reports" ng-if="!$root.hasPermission(\'MANAGE_REPORT\')">\n            Reports\n        </a>\n        <a ui-sref="workArea.reports" ng-if="!$ctrl.state.reportInClimateLandscapes && $root.hasPermission(\'MANAGE_REPORT\')">\n            Reports\n        </a>\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n        <a ui-sref="viewReport.page({id: $ctrl.state.report.id, slug: $ctrl.slugify($ctrl.state.report.title), pageId: $ctrl.state.report.pages[0].id})">\n            {{$ctrl.toPlaintext($ctrl.state.report.title)}}\n        </a>\n        <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'" ng-if="$ctrl.state.page.title !== $ctrl.state.report.title"></div>\n        <a ui-sref="viewReport.page({id: $ctrl.state.report.id, slug: $ctrl.slugify($ctrl.state.report.title), pageId: $ctrl.state.page.id})" ng-if="$ctrl.state.page.title !== $ctrl.state.report.title">\n            {{$ctrl.toPlaintext($ctrl.state.page.title)}}\n        </a>\n    </span>\n\n    <div class="crumb-sep" ng-include="\'breadcrumb-seperator\'"></div>\n</div>\n'},function(e,t){e.exports='<div>\n    \x3c!-- Cites Scholarly --\x3e\n    <div class="div-table-results div-table-reverse table-stretch" ng-if="$ctrl.state.view === \'publications\'">\n        <div ng-if="$ctrl.state.errorStatus === 403" class="no-content alert alert-danger">\n            <em class="fa fa-exclamation-triangle"></em>\n            There was an error loading citations.\n            Please reload the page to try again.\n            If you get this error after reloading the page, please <a href="mailto:support@lens.org">Contact Support</a>\n        </div>\n        \n        <div ng-if="$ctrl.state.scholarError" class="no-content">\n            <em class="fa fa-exclamation-triangle"></em>\n            {{\'scholar.common.meta.error.loading\' | message}}\n        </div>\n            \n        <div class="div-table-results-body div-table-no-row-tools">\n            <div class="div-table-results-row no-selects clearfix">\n                <div class="results-notice--large">\n                    <em class="results-notice--icon far fa-graduation-cap col-feat"></em>\n                    <div class="results-notice--text">\n                        <div ng-include="\'citation-string-toggle\'"></div>\n                        <h3>\n                            {{::\'common.inThisRelease\' | message}}\n                            <strong>\n                                <span lens-flag jurisdiction="patent.jurisdiction"></span>\n                                {{patent.display_key}}\n                            </strong>\n                            {{\'scholar.works.cites.heading\' | message:[$ctrl.state.patent[\'reference_cited.npl_count\'].toLocaleString()]}}\n                        </h3>\n                        <p class="col-meta">\n                            <span ng-if="!$ctrl.state.showOriginalCitations && $ctrl.state.articles.length">\n                            Metadata fetched for {{$ctrl.state.articles.length}} scholarly works.\n                            </span>\n                            <span ng-if="$ctrl.state.patent[\'reference_cited.npl_count\'] > $ctrl.state.articles.length && !$ctrl.state.showOriginalCitations">\n                                Not all cited works have been resolved to an open persistent identifier\n                                ({{$ctrl.state.totalArticles}} of {{$ctrl.state.patent[\'reference_cited.npl_count\']}}).\n                            </span>\n                        </p>\n                \n                        <a ng-if="$ctrl.state.articles.length" ui-sref="search.results({type: \'scholar\', view: \'list\', \'patentCitationLensId.must\': $ctrl.state.patent.record_lens_id})" class="btn btn-xs btn-pri">\n                            View in scholarly search\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n            <div ng-if="$ctrl.state.citationsLoading" class="content">\n                <em class="far fa-spinner fa-spin col-feat"></em>\n                Loading...\n            </div>\n\n            <div\n                class="div-table-results-row"\n                ng-repeat="item in $ctrl.state.articles"\n                ng-include="\'article-list-item\'"\n                ng-if="!$ctrl.state.showOriginalCitations"\n            >\n            </div>\n\n            <div class="div-table-results-row no-selects"\n                ng-repeat="citation in $ctrl.state.reference_cited_npl"\n                ng-if="$ctrl.state.showOriginalCitations"\n            >\n                <div class="listing-with-sidebar">\n                    {{::citation.text}}\n                </div>\n            </div>\n\n            <div ng-if="!$ctrl.state.showOriginalCitations && !$ctrl.state.loading">\n                <div class="div-table-results-row no-selects" ng-repeat="citation in $ctrl.state.unresolvedCitations">\n                    {{::citation.text}}\n                </div>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Cited By Patents --\x3e\n    <div class="div-table-results div-table-reverse table-stretch"  ng-if="$ctrl.state.view === \'in\'">\n        <div ng-if="$ctrl.incomingCitations.errorStatus === 403" class="no-content alert alert-danger">\n            <em class="fa fa-exclamation-triangle"></em>\n            There was an error loading citations.\n            Please reload the page to try again.\n            If you get this error after reloading the page, please <a href="mailto:support@lens.org">Contact Support</a>\n        </div>\n        <div class="div-table-results-body div-table-no-row-tools">\n            <div class="div-table-results-row no-selects">\n                <div class="results-notice--large">\n                    <em class="results-notice--icon far fa-file-certificate col-feat"></em>\n                    <div class="results-notice--text">\n                        <h3>\n                            {{::\'common.inThisRelease\' | message}}\n                            <strong>\n                                <span lens-flag jurisdiction="patent.jurisdiction"></span>\n                                {{patent.display_key}}\n                            </strong>\n                            {{\'patent.cited.heading\' | message:[patent.cited_by.patent_count]}}\n                        </h3>\n                        <p class="col-meta">\n                            {{::\'patent.citations.loadAsNewSearch.intro\' | message}}\n                        </p>\n                        <a class="btn btn-xs btn-pri"\n                           ui-sref="search.results({type: \'patent\', q: \'reference_cited.patent.lens_id:\' + $ctrl.state.patent.record_lens_id})"\n                           ng-if="patent.cited_by.patent_count"\n                        >\n                            View Results in Patent Search\n                        </a>\n                    </div>\n                </div>\n            </div>\n            \n            <div ng-if="$ctrl.state.citationsLoading" class="content">\n                <em class="far fa-spinner fa-spin col-feat"></em>\n                {{::\'common.loading\' | message}}\n            </div>\n            <div ng-repeat="patent in $ctrl.state.incomingCitations" ng-include="\'patent-list-item\'" include-replace>\n            </div>\n\n        </div>\n    </div>\n\n    \x3c!-- Cites Patents --\x3e\n    <div class="div-table-results div-table-reverse table-stretch"  ng-if="$ctrl.state.view === \'out\'">\n        <div ng-if="$ctrl.outgoingCitations.errorStatus === 403" class="no-content alert alert-danger">\n            <em class="fa fa-exclamation-triangle"></em>\n            There was an error loading citations.\n            Please reload the page to try again.\n            If you get this error after reloading the page, please <a href="mailto:support@lens.org">Contact Support</a>\n        </div>\n        <div class="div-table-results-body div-table-no-row-tools">\n            <div class="div-table-results-row no-selects">\n                \n                <div class="results-notice--large">\n                    <em class="results-notice--icon far fa-file-certificate col-feat"></em>\n                    <div class="results-notice--text">\n                        <h3>\n                            {{::\'common.inThisRelease\' | message}}\n                            <strong>\n                                <span lens-flag jurisdiction="patent.jurisdiction"></span>\n                                {{patent.display_key}}\n                            </strong>\n                            {{\'patent.cites.heading\' | message:[$ctrl.state.patent[\'reference_cited.patent_count\']]}}\n                        </h3>\n                        <p class="col-meta">\n                            {{::\'patent.citations.loadAsNewSearch.intro\' | message}}\n                        </p>\n                        <a class="btn btn-xs btn-pri"\n                            ui-sref="search.results({type: \'patent\', q: \'cited_by.patent.lens_id:\' + $ctrl.state.patent.record_lens_id})"\n                            ng-if="$ctrl.state.patent[\'reference_cited.patent_count\']"\n                        >\n                            View Results in Patent Search\n                        </a>\n                    </div>\n                </div>\n            </div>\n            \n            <div ng-if="$ctrl.state.citationsLoading" class="content">\n                <em class="far fa-spinner fa-spin col-feat"></em>\n                {{\'common.loading\' | message}}\n            </div>\n\n            <div ng-repeat="patent in $ctrl.state.outgoingCitations" ng-include="\'patent-list-item\'" include-replace></div>\n        </div>\n    </div>\n\n</div>\n'},function(e,t){e.exports='<div class="exp-window draggable" ng-class="{fullscreen: fullscreen}" lens-explorer-window>\n    <header class="clearfix draggable-handle">\n        <h5 class="explorer-title pull-left">{{\'classification.viewer.title\' | message}}</h5>\n        <a class="pull-right" ng-click="$root.classificationViewer = null" style="cursor: pointer">\n            <em class="fa fa-times col-error"></em>\n        </a>\n        \x3c!--\n        <a class="pull-right" ng-click="fullscreen = !fullscreen" style="cursor: pointer">\n            <em class="fa" ng-class="{ \'fa-caret-square-down\': fullscreen, \'fa-caret-square-up\': !fullscreen }"></em>\n        </a>\n        --\x3e\n    </header>\n\n    <div class="exp-window-body exp-class-viewer">\n        <div lens-classification-viewer\n            type="$root.classificationViewer.type"\n            term="$root.classificationViewer.term"\n        ></div>\n    </div>\n</div>\n'},function(e,t){e.exports='<form ng-submit="search()" class="classification-viewer-form">\n    <div class="input-group input-group-sm">\n        <input\n            type="text"\n            class="form-control classification-viewer-search-input"\n            ng-model="term"\n            ng-model-options="{debounce:800}"\n            ng-change="searched = false"\n            placeholder="{{\'classification.viewer.searchPlaceholder\' | message}}"\n        />\n\n        <div class="input-group-btn">\n            <button title="Submit Search" aria-label="Submit Search" class="btn btn-pri" type="submit">\n                <i class="far col-sec" ng-class="{ \'fa-search\': !loading, \'fa-sync fa-spin\': loading }"></i>\n            </button>\n        </div>\n    </div>\n\n    <div class="inline-group">\n        <label class="radio" tooltip-title="CPC Version 2021.02">\n            <input ng-model="type" value="CPC" type="radio" name="radio-inline" ng-change="fetchRoot()">\n            <i></i>\n            {{ \'patentField.cpc\' | message }}\n        </label>\n        <label class="radio" tooltip-title="IPC Version 2021.01">\n            <input ng-model="type" value="IPC" type="radio" name="radio-inline" ng-change="fetchRoot()">\n            <i></i>\n            {{ \'patentField.ipc\' | message }}\n        </label>\n        <label class="radio" tooltip-title="USPC Version 201502">\n            <input ng-model="type" value="USPC" type="radio" name="radio-inline" ng-change="fetchRoot()">\n            <i></i>\n            {{ \'patentField.us\' | message }}\n        </label>\n\n        <div ng-if="hideActionButtons" class="pull-right">\n            <button class="btn btn-danger btn-xxs" ng-if="hasSelected()" ng-click="clearSelected($event)">{{ \'filters.common.clear\' | message }}</button>\n        </div>\n\n    </div>\n\n    <div class="class-select-tool" ng-if="!hideActionButtons">\n        <button class="btn btn-danger btn-xxs" ng-if="hasSelected()" ng-click="clearSelected($event)">{{ \'filters.common.clear\' | message }}</button>\n        <button class="btn btn-pri btn-xxs" ng-if="hasSelected()" ng-click="applySelections($event, true)">{{ \'searchBar.newSearch\' | message }}</button>\n        <button class="btn btn-pri btn-xxs" ng-if="hasSelected() && isSearchInitialized()" ng-click="applySelections($event)">{{ \'searchBar.refineSearch\' | message }}</button>\n    </div>\n</form>\n\n<div class="exp-class-viewer-results">\n\n    <div ng-if="about" ng-bind-html="\'classification.viewer.about\' | message | unsafe"> </div>\n\n    <div ng-if="loading && !items.length" class="classification-viewer-loading">\n        <em class="far col-sec fa-sync fa-spin"></em>\n        {{\'common.loading\' | message}}\n    </div>\n\n    <div ng-if="!loading && !items.length && type===\'USPC\'" class="classification-viewer-loading">\n        {{\'classification.viewer.uspcInfo\' | message}}\n    </div>\n\n    <div ng-if="!loading && !items.length && searched && type!==\'USPC\' && searchType===\'search\'" class="classification-viewer-loading">\n        {{\'common.no.results.found\' | message}}\n        <strong>{{term}}</strong>\n    </div>\n\n    <div ng-if="!loading && !items.length && type!==\'USPC\' && searchType!==\'search\'" class="classification-viewer-loading">\n        {{\'common.no.results.found\' | message}}\n        <strong>{{symbol}}</strong>\n    </div>\n\n    <div ng-if="error" class="alert alert-danger">\n        {{ error }}\n    </div>\n\n    <lens-classification-viewer-item ng-repeat="item in items track by $index" item="item" selected="symbol" classifications="classifications" />\n</div>\n'},function(e,t){e.exports='<div class="classification-viewer-item" ng-attr-id="{{ \'classification-viewer-item-\' + item.id }}" ng-class="{ selected: selected === item.symbol || (item.type === \'IPC\' && item.symbol === parseIPC(selected)) }">\n    <form class="inline-block">\n        <label class="checkbox">\n            <input type="checkbox" value="{{ item.symbol }}" ng-model="classifications[item.symbol]" ng-click="$event.stopPropagation()" />\n            <i></i>\n        </label>\n    </form>\n    <div class="symbol inline-block" ng-click="toggleChildren()" ng-class="{active: item.showChildren}">\n\n\n        <i class="fa fa-caret-right" ng-if="$parent.searchType !== \'search\'" ng-show="hasChildren()"></i>\n        {{ item.symbol }}\n        <i class="fa fa-folder" ng-show="hasChildren()" tooltip-title="Expand Section"></i>\n    </div>\n    <div class="tooltip_templates">\n        <ul id="{{ tooltipContentId() }}">\n            <li>\n                <a ng-click="searchBySymbol($event, item, true)">\n                    {{ newSearchText() }}\n                </a>\n            </li>\n            <li ng-if="isSearchInitialized()">\n                <a ng-click="searchBySymbol($event, item)">\n                    {{ filterExistingSearchText() }}\n                </a>\n            </li>\n        </ul>\n        <div>\n            <ul ng-if="canFilter(item.symbol)">\n                <li>\n                    <a ng-href="{{getFilterLink(item)}}" ng-click="applyFilter($event, item, true)">\n                        {{:: \'classification.viewer.startNewSearch\' | message:[item.symbol] }}\n                    </a>\n                </li>\n                <li ng-if="isSearchInitialized()">\n                    <a ng-href="{{getFilterLink(item)}}" ng-click="applyFilter($event, item)">\n                        {{:: \'classification.viewer.filterExistingSearch\' | message:[item.symbol] }}\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <a tooltip-title tooltip-content-selector="#{{ tooltipContentId() }}">\n        <i class="fa fa-search classification-viewer-filter-link" ng-show="!canFilter(item.symbol)"></i>\n        <i class="fa fa-filter classification-viewer-filter-link" ng-show="canFilter(item.symbol)"></i>\n    </a>\n    <br/>\n    <span ng-if="$parent.searchType !== \'search\'">\n        <span class="classTitle">\n            {{ item.classTitle || item.textBody }}\n            {{ item.subClassDescription }}\n        </span>\n    </span>\n    <span ng-if="$parent.searchType === \'search\'">\n        <span ng-if="item.textBody">\n            <span class="classTitle" ng-bind-html="item.textBody"></span>\n        </span>\n        <span ng-if="item.classTitle">\n            <span class="classTitle" ng-bind-html="item.classTitle"></span>\n        </span>\n        <span ng-if="item.textBody">\n            <span class="classTitle" ng-bind-html="item.textBody"></span>\n        </span>\n        <span ng-if="item.subClassTitle">\n            <span class="classTitle" ng-bind-html="item.subClassTitle"></span>\n        </span>\n        <span ng-if="item.subClassDescription">\n            <span class="classTitle" ng-bind-html="item.subClassDescription"></span>\n        </span>\n    </span>\n    <span class="link" ng-show="!item.childrenFetched && item.children.length > 0 && !item.loading" ng-click="toggleChildren(true)">{{\'classification.viewer.load.children\' | message}}</span>\n    <span ng-if="item.notesAndWarnings.length" ng-click="item.showNotesAndWarnings = !item.showNotesAndWarnings" class="link notes">\n        <span ng-bind-html="\'classification.viewer.notes\' | message | unsafe"></span>\n    </span>\n    <pre ng-show="item.showNotesAndWarnings">{{ item.notesAndWarnings }}</pre>\n\n    <div ng-show="item.showChildren">\n        <div ng-if="!item.loading && item.children.length === 0">\n            {{\'classification.viewer.no.children\' | message}}\n        </div>\n        <div ng-if="item.loading" class="classification-viewer-loading">\n            <em class="far fa-spinner fa-spin col-sec"></em>\n            {{\'common.loading\' | message}}\n        </div>\n        <lens-classification-viewer-item ng-repeat="x in item.children track by $index" item="x" selected="selected" classifications="classifications"></lens-classification-viewer-item>\n    </div>\n</div>\n'},function(e,t){e.exports='<span class="collection-controls">\n    <a href="/lens/user/login" ng-if="$root.isAnon" class="btn btn-xs login-link">\n        <em class="fa fa-plus-circle"></em>\n        Add to Collection\n    </a>\n\n    <span ng-show="!$root.isAnon">\n        <a class="btn btn-xs"\n            ng-click="doNewCollection()"\n        >\n            <em class="fa fa-folder-open col-pri"></em>\n            {{::\'collectionManageWidget.btnCreateAlt\' | message}}\n        </a>\n        <a class="btn btn-xs"\n            ng-click="doAddToCollection()"\n        >\n            <em class="fa fa-plus-circle col-pri"></em>\n            {{::\'collectionManageWidget.btnAdd.tip\' | message}}\n            \n        </a>\n        <a class="btn btn-xs"\n            ng-click="doRemoveFromCollection()"\n        >\n            <em class="fa fa-minus-circle col-error"></em>\n            {{::\'collectionManageWidget.btnRemove.tip\' | message}}\n        </a>\n    </span>\n\n</span>\n'},function(e,t){e.exports='<div ng-if="vm.loading">\n    <div class="content">\n        <em class="far fa-spinner fa-spin col-feat"></em>\n        Loading...\n    </div>\n</div>\n\n<div class="content" ng-if="::collection.hasLinkedSavedQueries" class="collection--linked-saved-queries">\n    <b>Linked Queries:</b>\n    <span ng-repeat="item in collection.savedQueries">\n        <a ui-sref="search.results({queryId: item.queryId})" ui-sref-opts="{inherit: false}">\n            {{::item.title}}\n        </a>\n        <em ng-if="::!$last">,</em>\n    </span>\n</div>\n\n<form class="clearfix content" ng-if="!vm.loading && vm.items.length">\n    <h4 style="margin: 0" class="pull-left">\n        Collection History\n        <em style="font-size: 1rem" class="far fa-info-circle col-sec link" ng-click="vm.showInfoModal = true"></em>\n    </h4>\n    \n    <div class="dd-dropdown-alt pull-right">\n       <a ng-click="$root.ddBtnHistory = !$root.ddBtnHistory" class="dd-btn btn btn-xs pull-right" ng-class="{active: $root.ddBtnHistory}">\n           <em class="far fa-filter"></em>\n            Filter History\n       </a>\n       <div class="dd-content content" ng-class="{active: $root.ddBtnHistory}">\n           <ul class="dd-menu dd-menu--list size--250 x-list-icons dd-menu--list-hovers" style="padding: 8px; padding-bottom: 0;">\n               <li ng-repeat="(k, label) in vm.actionMap" ng-if="vm.hasAction[k]"> \n                  <label class="checkbox" >\n                       <input type="checkbox" ng-model="vm.actionFilter[k]" ng-change="updateFilter()">\n                       <i></i>\n                       {{::label}}\n                   </label>\n              </li>\n           </ul>\n       </div>\n    </div>    \n\n    \n    <label class="select select-sm pull-right" hidden>\n       <select ng-model="vm.orderBy">\n           <option value="created">Sort by Date</option>\n           <option value="itemCount"># Items</option>\n           <option value="action">Action</option>\n       </select>\n       <i></i>\n    </label>\n</form>\n\n<div class="div-table table-stretch table--collection-history" ng-if="!vm.loading && vm.items.length">\n    <div class="div-table-heading">\n        <div class="div-table-row">\n            <div class="div-table-cell">Action</div>\n            <div class="div-table-cell">Query</div>\n            <div class="div-table-cell">Views</div>\n        </div>\n    </div>\n    <div class="div-table-body" ng-repeat="(date, items) in vm.grouped">\n        <div class="div-table-row">\n            <div class="div-table-cell">\n                <em class="far fa-calendar-alt col-feat" style="margin-right: 4px"></em>\n                <strong>{{date}}</strong>\n            </div>\n        </div>\n        <div class="div-table-row" ng-repeat="item in items" ng-class="{\'active\': item.id == eventId}">\n            <div class="div-table-cell">\n                <em ng-if="item.action === \'SEARCH_RESULT_REMOVE\' || item.action === \'MANUAL_ID_REMOVE\'" \n                    class="far fa-minus-square col-error text-small" style="margin-right: 6px">\n                </em> \n                <em ng-if="item.action === \'SEARCH_RESULT_ADD\' || item.action === \'MANUAL_ID_ADD\' || item.action === \'LINKED_QUERY_ADD\'" \n                    class="far fa-plus-square col-ter text-small" style="margin-right: 6px">\n                </em>\n                <b>{{::item.itemCount | customNumber}}</b> items\n                {{::vm.actionMap[item.action] || item.action}}\n            </div>\n            <div class="div-table-cell">\n               <div style="display: flex; align-items: flex-start;">\n                  <span style="margin-right: 6px;" ng-if="item.action === \'SEARCH_RESULT_ADD\' || item.action === \'SEARCH_RESULT_REMOVE\' || item.action === \'LINKED_QUERY_ADD\'">\n                     <em class="far fa-search col-feat" style="font-size: .9rem;"></em>\n                  </span> \n                  <span>\n                      <span ng-if="item.action === \'SEARCH_RESULT_ADD\' || item.action === \'SEARCH_RESULT_REMOVE\'">\n                          <div lens-inline-query query-id="item.actionId" type="type"></div>\n                      </span>\n                      <span ng-if="item.action === \'LINKED_QUERY_ADD\'">\n                          <div lens-saved-query query-id="item.actionId"></div>\n                      </span>\n                  </span> \n               </div>   \n            </div>\n            <div class="div-table-cell">\n                <div ng-if="item.action === \'SEARCH_RESULT_ADD\' || item.action === \'LINKED_QUERY_ADD\'">\n                    <a style="font-size: .95rem"\n                       class="x-text-link"\n                       ui-sref="search.results({collectionEventId: item.id, view: \'list\', type: type, collectionId: collectionId})"\n                       tooltip-title="The number of results may not match this event if the collection has since changed"\n                       tooltip-options="::{side: \'left\', delay: 100}"\n                   >\n                       <em class="fa fa-eye col-feat" style="margin-right: 6px;"></em>\n                        View in Collection\n                    </a>\n                </div>\n                <div>\n                    <a style="font-size: .95rem"\n                       class="x-text-link"\n                       ui-sref="search.results({collectionEventId: item.id, view: \'list\', type: type})"\n                       ui-sref-opts="{inherit: false}"\n                       tooltip-title="Load these {{item.itemCount | customNumber}} in new search"\n                       tooltip-options="::{side: \'left\', delay: 100}"\n                   >\n                       <em class="fa fa-eye col-feat" style="margin-right: 6px;"></em>\n                       View {{type === \'scholar\' ? \'Scholarly Works\': \'Patents\'}}\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div ng-if="!vm.loading && vm.items.length === 0">\n    <div class="content">\n        <div class="blank-page--notice">\n            <h2>\n                <em class="far fa-history blank-page--notice--icon"></em><br>\n                No <b>Collection History</b> Yet\n            </h2>\n            <p class="blank-page-text">Collection history was introduced in Lens release 7.3, retrospective events can\'t be added to your collection history.</p>\n        </div>\n    </div>\n</div>\n\n<div lens-modal size="\'600\'" visible="vm.showInfoModal" ng-if="vm.showInfoModal">\n   <h3 class="modal-heading">About Collection History</h3>\n   <div>\n       <p>History event types include Add and Remove events which can either be triggered manually or from an automated event. A "manual" event is when the user specifies the items to add or remove from a collection. This includes:\n       </p>\n       <ul class="list-styled">\n           <li>Importing items into a collection by uploading a list of identifiers</li>\n           <li>Selecting one or more results in a search results list </li>\n           <li>Adding to collection from an individual patent / scholarly work page</li>\n       </ul>\n       <p><b>The types of Add and Remove events include:</b></p>\n       <ul class="list-styled">\n           <li><strong>Added Manually:</strong> Add event for items added manually to a collection.</li>\n           <li><strong>Added via Search:</strong> Add event for items manually added to a collection from a search and includes the originating search query details for the add event.</li>\n           <li><strong>Added via Linked Query:</strong> Add event for dynamic collections when new items are added to the collection from a linked saved query and includes the saved query details for the add event.</li>\n           <li><strong>Removed Manually:</strong> Remove event for items manually removed from a collection.</li>\n           <li><strong>Removed via Search:</strong> Remove event for items manually removed from a collection via a search and includes the originating search query details for the remove event.</li>\n       </ul>\n   </div>\n   <div>\n       <span ng-click="vm.showInfoModal = false" class="btn btn-danger-txt">Close</span>\n   </div>\n</div>\n'},function(e,t){e.exports='<div class="div-table-results-body" ng-class="{loading: loading}">\n\n    <div lens-collection-list-item class="no-selects" ng-repeat="item in items | orderBy:\'updated\':true" collection="item"></div>\n\n    <div class="lens-colleciton-list-controls">\n        \n        <div ng-show="!loading && items.length === 0" class="content">\n\n            \x3c!-- Empty States - with CTA if current user --\x3e\n            \x3c!-- Warning: loose equality check due to different types --\x3e\n            <div ng-include="\'about-collections\'" ng-if="$root.user.id == userId"></div>\n            <div ng-if="$root.user.id != userId">\n                <section class="blank-page--notice">\n                    <h2>\n                        <em class="fal fa-folder-open blank-page--notice--icon"></em>\n                        <br>\n                        Sorry, no published <strong>collections</strong> yet.\n                    </h2>\n                </section>\n            </div>\n\n            <p class="hidden">\n                <a class="styled-link" ng-click="filter={}">{{\'filters.common.clear.filter\' | message}}</a>\n            </p>\n        </div>\n        <div ng-show="limit < items.length && term === \'\'" class="no-content">\n            <a class="styled-link" ng-click="increaseLimit()">{{\'common.show.50\' | message}}</a>\n        </div>\n\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="div-table-results-row div-table-results-row--collection">\n    <form hidden>\n        <label class="checkbox">\n            <input type="checkbox" name="" value="" />\n            <i></i>\n        </label>\n        <div class="favResult">\n            <em class="fa"\n                ng-click="favourite(collection.id)"\n                ng-class="starIcon(collection.id)"\n            ></em>\n        </div>\n    </form>\n\n    <header>\n    <div class="listing-header clearfix">\n        <div class="listing-with-sidebar">\n            <h3>\n                <a ui-sref="search.results({collectionId: collection.id, type: collection.type === \'PATENT\' ? \'patent\' : \'scholar\'})">\n                    {{::collection.title}}\n                </a>\n            </h3>\n            \n            <div class="collection-row-flex-container">\n                <div class="listing-logo">\n                    <a ng-if="collection.user.type === \'personal\' && !item.type" \n                        ui-sref="search.results({collectionId: collection.id, type: collection.type === \'PATENT\' ? \'patent\' : \'scholar\'})">\n                        <span ng-if="collection.avatar">\n                            <img ng-src="{{$root.imageUploadUrl(collection.avatar.key)}}" alt="">\n                        </span>\n                        <span ng-if="!collection.avatar">\n                            <img ng-if="collection.user.profilePictureKey" lens-avatar-fallback ng-src="{{$root.userProfilePictureUrl(collection.user.profilePictureKey)}}" alt="user">\n                            <img ng-if="!collection.user.profilePictureKey" ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="user">\n                        </span>\n                    </a>\n        \n                    <a ng-if="item.type === \'faux\'"\n                        ng-href="{{item.link}}"\n                    >\n                        <span ng-if="item.user.metadata.logoUrl">\n                            <img alt="Curator" ng-src="{{item.user.metadata.logoUrl}}" style="background: none;">\n                        </span>\n                    </a>\n        \n                    <a ng-if="item.type === \'institution\'"\n                        ng-click="vm.lightbox = !vm.lightbox"\n                    >\n                        <span ng-if="item.user.metadata.logoUrl">\n                            <img alt="Curator" ng-src="{{item.user.metadata.logoUrl}}">\n                        </span>\n                        <em class="fa fa-ellipsis-h"></em>\n                    </a>\n                </div>\n                    \n                <ul class="list-inline header-meta">\n                    <li ng-if="item.user.metadata.GRID">\n                        <div class="lens-university-grid-container">\n                            <a ng-href="https://grid.ac/institutes/{{item.user.metadata.GRID}}">\n                                <img alt="GRID ID" class="grid-id-logo" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/grid-id.svg">\n                                {{item.user.metadata.GRID}}\n                            </a>\n                        </div>\n                    </li>\n                    <li>\n                        <strong>{{\'common.curator\' | message}}:</strong> {{::collection.user.displayName.substr(0, 18)}}\n                        <span ng-if="collection.user.displayName.length > 18">...</span>\n                    </li>\n                    \n                    <li class="meta-notices">\n                        <strong>{{\'common.type\' | message}}:</strong>\n                        <span class="meta-notice" ng-class="{ \'is-patent\': collection.type === \'PATENT\', \'is-scholar\': collection.type === \'SCHOLARLY_WORK\' }">\n                            <em class="fa" ng-class="{ \'fa-file-certificate\': collection.type === \'PATENT\', \'fa-graduation-cap\': collection.type === \'SCHOLARLY_WORK\' }"></em>\n                            {{:: collection.type | collectionType }}\n                        </span>\n                    </li>\n                    \n                    <li>\n                        <strong>{{\'common.items.alt\' | message}}:</strong>\n                        <a ui-sref="search.results({collectionId: collection.id, type: collection.type === \'PATENT\' ? \'patent\' : \'scholar\'})" class="styled-link" tooltip-title="View {{::collection.title}} in the Lens">\n                            {{::collection.itemCount | customNumber}}\n                        </a>\n                    </li>\n                    \n                    <br>\n                    \n                    <li class="collection-date">\n                        <strong>{{\'common.dateCreated\' | message}}:</strong> \n                        {{::collection.created | date}}\n                    </li>\n                    <li class="collection-date">\n                        <strong>{{\'common.Updated\' | message}}:</strong> \n                        {{::collection.updated | date}}\n                    </li>\n                    \n                    \x3c!--<li>{{\'common.numberItems\' | message}}: {{::collection.itemCount | customNumber}}</li>--\x3e\n\n                    <li class="meta-notices">\n                        <strong>{{\'common.info\' | message}}:</strong>\n                        <span class="span meta-notice" ng-if="collection.access === \'OPEN_ACCESS\'">\n                            <i class="fa fa-unlock-alt meta-notice-icon"></i>\n                            {{\'user.collections.public\' | message}}\n                        </span>\n                        <span>\n                            <a ng-if="collection.user.metadata.GRID" class="meta-grid" ng-href="https://grid.ac/institutes/{{collection.user.metadata.GRID}}">\n                                <i class="fa fa-folder-open meta-notice-icon"></i>\n                                {{collection.user.metadata.GRID}}\n                            </a>\n                        </span>\n                        <span class="meta-notice meta-notice-purple" ng-if="collection.user.type === \'institution\'">\n                            <i class="fa fa-university meta-notice-icon"></i>\n                            {{\'scholar.common.dossier\' | message}}\n                        </span>\n                        <span class="meta-notice meta-notice-secondary" ng-if="collection.notes.length">\n                            <i class="fa fa-sticky-note meta-notice-icon"></i>\n                            {{collection.notes.length}} {{\'notes.notes\' | message}}\n                        </span>\n                    </li>\n                    \n                    <li style="display: block;">\n                        <strong>Description:</strong> \n                        \n                        <span ng-if="item.slug" ng-include="$root.institutionDataLocation + \'/public/descriptions/\' + item.slug + \'.html\'"></span>\n    \n                        {{collection.showFullDescription ? collection.description : collection.description.substr(0, MAX_DESCRIPTION_LENGTH) + (collection.description.length ? \'...\' : \'No Description\')}}\n                        <span class="link show-more" ng-click="collection.showFullDescription = !collection.showFullDescription" ng-if="collection.description.length > MAX_DESCRIPTION_LENGTH">\n                            {{collection.showFullDescription ? \'Show Less\' : \'More...\'}}\n                        </span>\n                    </li>\n                </ul>\n            </div>\n\n        </div>\n        \n        \x3c!-- \n        <div class="listing-sidebar">\n            <div class="content">\n               ...\n            </div>\n        </div>\n         --\x3e \n    </div>\n    </header>\n\n    <div lens-modal visible="vm.lightbox">\n        <div lens-institution-details visible="vm.lightbox" item="item"></div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="patents-custom-nav"></div>\n<div ng-if="vm.error">\n    Error: Could not load featured patents.\n    <a class="styled-link" ng-click="refresh()">Retry</a>\n</div>\n<div ng-if="vm.loading">\n     <em class="far fa-spinner fa-spin col-feat"></em>\n     Loading...\n</div>\n<div class="owl-carousel" lens-featured-patent-carousel items="1" ng-if="vm.items.length">\n     <div class="item" ng-repeat="group in vm.grouped">\n           <div class="feature-patent--item" ng-repeat="item in group">\n               <a ng-href="/lens/patent/{{::item.record_lens_id}}/frontpage">\n                   <div>{{::item.title | titleCase}}</div>\n               </a>\n               <div class="text-small col-meta">\n                   <span>\n                       <div style="display: inline-block;" lens-flag jurisdiction="item.jurisdiction"></div>\n                       {{::item.display_key}}\n                   </span>\n                   <span>\n                       {{::item.publication_type | patentType }}\n                   </span>\n                   <span>\n                       Application No: {{::item.application_reference.doc_number}}\n                   </span>\n                   <a class="meta-bio" ng-if="::item.sequence.count" ng-href="/lens/patent/{{::item.record_lens_id}}/sequences">\n                        <em class="far fa-dna"></em>\n                        Sequences\n                   </a>\n                   <br>\n                   <span>\n                       Filed: {{::item.application_reference.date | date}}\n                   </span>\n                   <span>\n                       {{::\'patent.publishedTitle\' | message}} {{::item.date_published | date}}\n                   </span>\n                   <span ng-if="item.earliest_priority_claim_date">\n                       Earliest Priority: {{::item.earliest_priority_claim_date |  date}}\n                   </span>\n                   \n                    <br>\n                    \n                    <span ng-if="::item.owner_all.length">\n                         Owners:\n                         <span ng-repeat="owner in item.owner_all | limitTo:(item.showAllOwners ? 500 : 5)">\n                              \x3c!--<div lens-applicant-logo name="owner.name" image-fallback="true" type="\'institution\'" class="applicant-logo"></div>--\x3e\n                              {{::owner.name | titleCase}}\n                              <em ng-if="::!$last">,</em>\n                         </span>\n                         <span ng-if="item.owner_all.length > 20">\n                              ...\n                         </span>\n                    </span>\n                    <span ng-if="::item.applicant.length">\n                         Applicants:\n                         <span ng-repeat="applicant in item.applicant | limitTo:(item.showAllApplicants ? 500 : 5)">\n                              \x3c!--<div lens-applicant-logo name="applicant.name" image-fallback="true" type="\'institution\'" class="applicant-logo"></div>--\x3e\n                              {{::applicant.name | titleCase}}\n                              <em ng-if="::!$last">,</em>\n                         </span>\n                         <span ng-if="item.applicant.length > 5">\n                              ...\n                         </span>\n                    </span>\n               </div>\n           </div>\n     </div>\n </div>\n \n\n  \n\n \n\n'},function(e,t){e.exports='<div>\n    <div style="position: relative;">\n        <div class="heatmap-container">\n            <div class="heatmap-item" ng-repeat="item in data | orderBy:orderBy:(orderBy===\'value\')">\n                <div class="heatmap-item-inner" data-ng-attr-style="{{ fieldItemStyle(item.value) }}">\n                    <span ng-click="clickItem(item)"\n                        ng-class="{link: clickItem !== undefined}"\n                    >\n                        {{::item.label}}\n                        <div ng-if="showInlineClassifications">\n                            <div lens-inline-classification type="k" symbol="item.label" minimal="false"></div>\n                        </div>\n                    </span>\n                    <strong ng-click="clickItem(item)">{{::item.value | customNumber}}</strong>\n                </div>\n            </div>\n        </div>\n\n        <div class="clearfix">\n            <div class="heatmap-legend-container">\n                <span class="hm-max">&gt;{{displayMax | customNumber}}</span>\n                <span class="hm-min">0</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){
/*!
 * Cropper.js v1.5.11
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-02-17T11:53:27.572Z
 */
e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l="undefined"!=typeof window&&void 0!==window.document,c=l?window:{},u=!(!l||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!l&&"PointerEvent"in c,p="".concat("cropper","-crop"),f="".concat("cropper","-disabled"),m="".concat("cropper","-hidden"),h="".concat("cropper","-hide"),y="".concat("cropper","-invisible"),g="".concat("cropper","-modal"),v="".concat("cropper","-move"),b="".concat("cropper","Action"),S="".concat("cropper","Preview"),_=u?"touchstart":"mousedown",C=u?"touchmove":"mousemove",k=u?"touchend touchcancel":"mouseup",A=d?"pointerdown":_,w=d?"pointermove":C,P=d?"pointerup pointercancel":k,T=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,x=/^data:/,M=/^data:image\/jpeg;base64,/,I=/^img|canvas$/i,R={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},E=Number.isNaN||c.isNaN;function D(e){return"number"==typeof e&&!E(e)}var L=function(e){return e>0&&e<1/0};function N(e){return void 0===e}function O(t){return"object"===e(t)&&null!==t}var U=Object.prototype.hasOwnProperty;function B(e){if(!O(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&U.call(n,"isPrototypeOf")}catch(e){return!1}}function F(e){return"function"==typeof e}var G=Array.prototype.slice;function H(e){return Array.from?Array.from(e):G.call(e)}function j(e,t){return e&&F(t)&&(Array.isArray(e)||D(e.length)?H(e).forEach((function(n,i){t.call(e,n,i,e)})):O(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var K=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return O(e)&&n.length>0&&n.forEach((function(t){O(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},$=/\.\d*(?:0|9){12}\d*$/;function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return $.test(e)?Math.round(e*t)/t:e}var z=/^width|height|left|top|marginLeft|marginTop$/;function V(e,t){var n=e.style;j(t,(function(e,t){z.test(t)&&D(e)&&(e="".concat(e,"px")),n[t]=e}))}function W(e,t){if(t)if(D(e.length))j(e,(function(e){W(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function J(e,t){t&&(D(e.length)?j(e,(function(e){J(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Z(e,t,n){t&&(D(e.length)?j(e,(function(e){Z(e,t,n)})):n?W(e,t):J(e,t))}var Y=/([a-z\d])([A-Z])/g;function Q(e){return e.replace(Y,"$1-$2").toLowerCase()}function X(e,t){return O(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Q(t)))}function ee(e,t,n){O(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Q(t)),n)}var te=/\s\s*/,ne=function(){var e=!1;if(l){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});c.addEventListener("test",n,i),c.removeEventListener("test",n,i)}return e}();function ie(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(te).forEach((function(t){if(!ne){var r=e.listeners;r&&r[t]&&r[t][n]&&(a=r[t][n],delete r[t][n],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,a,i)}))}function ae(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(te).forEach((function(t){if(i.once&&!ne){var r=e.listeners,o=void 0===r?{}:r;a=function(){delete o[t][n],e.removeEventListener(t,a,i);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];n.apply(e,s)},o[t]||(o[t]={}),o[t][n]&&e.removeEventListener(t,o[t][n],i),o[t][n]=a,e.listeners=o}e.addEventListener(t,a,i)}))}function re(e,t,n){var i;return F(Event)&&F(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function oe(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var se=c.location,le=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ce(e){var t=e.match(le);return null!==t&&(t[1]!==se.protocol||t[2]!==se.hostname||t[3]!==se.port)}function ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function de(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,a=e.translateX,r=e.translateY,o=[];D(a)&&0!==a&&o.push("translateX(".concat(a,"px)")),D(r)&&0!==r&&o.push("translateY(".concat(r,"px)")),D(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),D(n)&&1!==n&&o.push("scaleX(".concat(n,")")),D(i)&&1!==i&&o.push("scaleY(".concat(i,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function pe(e,t){var n=e.pageX,i=e.pageY,a={endX:n,endY:i};return t?a:r({startX:n,startY:i},a)}function fe(e){var t=e.aspectRatio,n=e.height,i=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=L(i),o=L(n);if(r&&o){var s=n*t;"contain"===a&&s>i||"cover"===a&&s<i?n=i/t:i=n*t}else r?n=i/t:o&&(i=n*t);return{width:i,height:n}}function me(e,t,n,i){var a=t.aspectRatio,r=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,u=t.scaleX,d=void 0===u?1:u,p=t.scaleY,f=void 0===p?1:p,m=n.aspectRatio,h=n.naturalWidth,y=n.naturalHeight,g=i.fillColor,v=void 0===g?"transparent":g,b=i.imageSmoothingEnabled,S=void 0===b||b,_=i.imageSmoothingQuality,C=void 0===_?"low":_,k=i.maxWidth,A=void 0===k?1/0:k,w=i.maxHeight,P=void 0===w?1/0:w,T=i.minWidth,x=void 0===T?0:T,M=i.minHeight,I=void 0===M?0:M,R=document.createElement("canvas"),E=R.getContext("2d"),D=fe({aspectRatio:m,width:A,height:P}),L=fe({aspectRatio:m,width:x,height:I},"cover"),N=Math.min(D.width,Math.max(L.width,h)),O=Math.min(D.height,Math.max(L.height,y)),U=fe({aspectRatio:a,width:A,height:P}),B=fe({aspectRatio:a,width:x,height:I},"cover"),F=Math.min(U.width,Math.max(B.width,r)),G=Math.min(U.height,Math.max(B.height,s)),H=[-F/2,-G/2,F,G];return R.width=q(N),R.height=q(O),E.fillStyle=v,E.fillRect(0,0,N,O),E.save(),E.translate(N/2,O/2),E.rotate(c*Math.PI/180),E.scale(d,f),E.imageSmoothingEnabled=S,E.imageSmoothingQuality=C,E.drawImage.apply(E,[e].concat(o(H.map((function(e){return Math.floor(q(e))}))))),E.restore(),R}var he=String.fromCharCode,ye=/^data:.*,/;function ge(e){var t,n=new DataView(e);try{var i,a,r;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var o=n.byteLength,s=2;s+1<o;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){a=s;break}s+=1}if(a){var l=a+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var a=t;a<n;a+=1)i+=he(e.getUint8(a));return i}(n,a+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var u=n.getUint32(l+4,i);u>=8&&(r=l+u)}}}if(r){var d,p,f=n.getUint16(r,i);for(p=0;p<f;p+=1)if(d=r+12*p+2,274===n.getUint16(d,i)){d+=8,t=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(e){t=1}return t}var ve={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,a=Number(t.minContainerWidth),r=Number(t.minContainerHeight);W(i,m),J(e,m);var o={width:Math.max(n.offsetWidth,a>=0?a:200),height:Math.max(n.offsetHeight,r>=0?r:100)};this.containerData=o,V(i,{width:o.width,height:o.height}),W(e,m),J(i,m)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,a=i?t.naturalHeight:t.naturalWidth,r=i?t.naturalWidth:t.naturalHeight,o=a/r,s=e.width,l=e.height;e.height*o>e.width?3===n?s=e.height*o:l=e.width/o:3===n?l=e.width/o:s=e.height*o;var c={aspectRatio:o,naturalWidth:a,naturalHeight:r,width:s,height:l};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=K({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,a=this.canvasData,r=this.cropBoxData,o=n.viewMode,s=a.aspectRatio,l=this.cropped&&r;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;o>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===o&&(u*s>c?c=u*s:u=c/s)):o>0&&(c?c=Math.max(c,l?r.width:0):u?u=Math.max(u,l?r.height:0):l&&(c=r.width,(u=r.height)*s>c?c=u*s:u=c/s));var d=fe({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,a.minWidth=c,a.minHeight=u,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(o>(l?0:1)){var p=i.width-a.width,f=i.height-a.height;a.minLeft=Math.min(0,p),a.minTop=Math.min(0,f),a.maxLeft=Math.max(0,p),a.maxTop=Math.max(0,f),l&&this.limited&&(a.minLeft=Math.min(r.left,r.left+(r.width-a.width)),a.minTop=Math.min(r.top,r.top+(r.height-a.height)),a.maxLeft=r.left,a.maxTop=r.top,2===o&&(a.width>=i.width&&(a.minLeft=Math.min(0,p),a.maxLeft=Math.max(0,p)),a.height>=i.height&&(a.minTop=Math.min(0,f),a.maxTop=Math.max(0,f))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var a=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var a=i%90*Math.PI/180,r=Math.sin(a),o=Math.cos(a),s=t*o+n*r,l=t*r+n*o;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=a.width,o=a.height,s=n.width*(r/n.naturalWidth),l=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=r/o,n.naturalWidth=r,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,V(this.canvas,K({width:n.width,height:n.height},de({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),a=n.naturalHeight*(t.height/t.naturalHeight);K(n,{width:i,height:a,left:(t.width-i)/2,top:(t.height-a)/2}),V(this.image,K({width:n.width,height:n.height},de(K({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:t.width,height:t.height};n&&(t.height*n>t.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=t.left+(t.width-a.width)/2,a.top=t.top+(t.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=K({},a)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,a=this.canvasData,r=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=o?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,d=o?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),r.minWidth=Math.min(l,u),r.minHeight=Math.min(c,d),r.maxWidth=u,r.maxHeight=d}t&&(o?(r.minLeft=Math.max(0,a.left),r.minTop=Math.max(0,a.top),r.maxLeft=Math.min(i.width,a.left+a.width)-r.width,r.maxTop=Math.min(i.height,a.top+a.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ee(this.face,b,n.width>=t.width&&n.height>=t.height?"move":"all"),V(this.cropBox,K({width:n.width,height:n.height},de({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),re(this.element,"crop",this.getData())}},be={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=i,r.alt=a,this.viewBox.appendChild(r),this.viewBoxImage=r,n){var o=n;"string"==typeof n?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,j(o,(function(e){var n=document.createElement("img");ee(e,S,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=a,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){j(this.previews,(function(e){var t=X(e,S);V(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(O(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Q(t)))}(e,S)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,a=n.height,r=e.width,o=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(V(this.viewBoxImage,K({width:r,height:o},de(K({translateX:-s,translateY:-l},e)))),j(this.previews,(function(t){var n=X(t,S),c=n.width,u=n.height,d=c,p=u,f=1;i&&(p=a*(f=c/i)),a&&p>u&&(d=i*(f=u/a),p=u),V(t,{width:d,height:p}),V(t.getElementsByTagName("img")[0],K({width:r*f,height:o*f},de(K({translateX:-s*f,translateY:-l*f},e))))})))}},Se={bind:function(){var e=this.element,t=this.options,n=this.cropper;F(t.cropstart)&&ae(e,"cropstart",t.cropstart),F(t.cropmove)&&ae(e,"cropmove",t.cropmove),F(t.cropend)&&ae(e,"cropend",t.cropend),F(t.crop)&&ae(e,"crop",t.crop),F(t.zoom)&&ae(e,"zoom",t.zoom),ae(n,A,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ae(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ae(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),ae(e.ownerDocument,w,this.onCropMove=this.cropMove.bind(this)),ae(e.ownerDocument,P,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ae(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;F(t.cropstart)&&ie(e,"cropstart",t.cropstart),F(t.cropmove)&&ie(e,"cropmove",t.cropmove),F(t.cropend)&&ie(e,"cropend",t.cropend),F(t.crop)&&ie(e,"crop",t.crop),F(t.zoom)&&ie(e,"zoom",t.zoom),ie(n,A,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ie(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ie(n,"dblclick",this.onDblclick),ie(e.ownerDocument,w,this.onCropMove),ie(e.ownerDocument,P,this.onCropEnd),t.responsive&&ie(window,"resize",this.onResize)}},_e={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,a=this.containerData,r=i.offsetWidth/a.width;1===r&&i.offsetHeight===a.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(j(e,(function(t,n){e[n]=t*r}))),this.setCropBoxData(j(t,(function(e,n){t[n]=e*r})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=p,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(D(t)&&1!==t||D(n)&&0!==n||e.ctrlKey))){var i,a=this.options,r=this.pointers;e.changedTouches?j(e.changedTouches,(function(e){r[e.identifier]=pe(e)})):r[e.pointerId||0]=pe(e),i=Object.keys(r).length>1&&a.zoomable&&a.zoomOnTouch?"zoom":X(e.target,b),T.test(i)&&!1!==re(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,W(this.dragBox,g)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==re(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?j(e.changedTouches,(function(e){K(n[e.identifier]||{},pe(e,!0))})):K(n[e.pointerId||0]||{},pe(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?j(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Z(this.dragBox,g,this.cropped&&this.options.modal)),re(this.element,"cropend",{originalEvent:e,action:t}))}}},Ce={change:function(e){var t,n=this.options,i=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,u=o.left,d=o.top,p=o.width,f=o.height,h=u+p,y=d+f,g=0,v=0,b=a.width,S=a.height,_=!0;!c&&e.shiftKey&&(c=p&&f?p/f:1),this.limited&&(g=o.minLeft,v=o.minTop,b=g+Math.min(a.width,i.width,i.left+i.width),S=v+Math.min(a.height,i.height,i.top+i.height));var C=s[Object.keys(s)[0]],k={x:C.endX-C.startX,y:C.endY-C.startY},A=function(e){switch(e){case"e":h+k.x>b&&(k.x=b-h);break;case"w":u+k.x<g&&(k.x=g-u);break;case"n":d+k.y<v&&(k.y=v-d);break;case"s":y+k.y>S&&(k.y=S-y)}};switch(l){case"all":u+=k.x,d+=k.y;break;case"e":if(k.x>=0&&(h>=b||c&&(d<=v||y>=S))){_=!1;break}A("e"),(p+=k.x)<0&&(l="w",u-=p=-p),c&&(f=p/c,d+=(o.height-f)/2);break;case"n":if(k.y<=0&&(d<=v||c&&(u<=g||h>=b))){_=!1;break}A("n"),f-=k.y,d+=k.y,f<0&&(l="s",d-=f=-f),c&&(p=f*c,u+=(o.width-p)/2);break;case"w":if(k.x<=0&&(u<=g||c&&(d<=v||y>=S))){_=!1;break}A("w"),p-=k.x,u+=k.x,p<0&&(l="e",u-=p=-p),c&&(f=p/c,d+=(o.height-f)/2);break;case"s":if(k.y>=0&&(y>=S||c&&(u<=g||h>=b))){_=!1;break}A("s"),(f+=k.y)<0&&(l="n",d-=f=-f),c&&(p=f*c,u+=(o.width-p)/2);break;case"ne":if(c){if(k.y<=0&&(d<=v||h>=b)){_=!1;break}A("n"),f-=k.y,d+=k.y,p=f*c}else A("n"),A("e"),k.x>=0?h<b?p+=k.x:k.y<=0&&d<=v&&(_=!1):p+=k.x,k.y<=0?d>v&&(f-=k.y,d+=k.y):(f-=k.y,d+=k.y);p<0&&f<0?(l="sw",d-=f=-f,u-=p=-p):p<0?(l="nw",u-=p=-p):f<0&&(l="se",d-=f=-f);break;case"nw":if(c){if(k.y<=0&&(d<=v||u<=g)){_=!1;break}A("n"),f-=k.y,d+=k.y,p=f*c,u+=o.width-p}else A("n"),A("w"),k.x<=0?u>g?(p-=k.x,u+=k.x):k.y<=0&&d<=v&&(_=!1):(p-=k.x,u+=k.x),k.y<=0?d>v&&(f-=k.y,d+=k.y):(f-=k.y,d+=k.y);p<0&&f<0?(l="se",d-=f=-f,u-=p=-p):p<0?(l="ne",u-=p=-p):f<0&&(l="sw",d-=f=-f);break;case"sw":if(c){if(k.x<=0&&(u<=g||y>=S)){_=!1;break}A("w"),p-=k.x,u+=k.x,f=p/c}else A("s"),A("w"),k.x<=0?u>g?(p-=k.x,u+=k.x):k.y>=0&&y>=S&&(_=!1):(p-=k.x,u+=k.x),k.y>=0?y<S&&(f+=k.y):f+=k.y;p<0&&f<0?(l="ne",d-=f=-f,u-=p=-p):p<0?(l="se",u-=p=-p):f<0&&(l="nw",d-=f=-f);break;case"se":if(c){if(k.x>=0&&(h>=b||y>=S)){_=!1;break}A("e"),f=(p+=k.x)/c}else A("s"),A("e"),k.x>=0?h<b?p+=k.x:k.y>=0&&y>=S&&(_=!1):p+=k.x,k.y>=0?y<S&&(f+=k.y):f+=k.y;p<0&&f<0?(l="nw",d-=f=-f,u-=p=-p):p<0?(l="sw",u-=p=-p):f<0&&(l="ne",d-=f=-f);break;case"move":this.move(k.x,k.y),_=!1;break;case"zoom":this.zoom(function(e){var t=r({},e),n=0;return j(e,(function(e,i){delete t[i],j(t,(function(t){var i=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+a*a),l=(Math.sqrt(r*r+o*o)-s)/s;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}(s),e),_=!1;break;case"crop":if(!k.x||!k.y){_=!1;break}t=oe(this.cropper),u=C.startX-t.left,d=C.startY-t.top,p=o.minWidth,f=o.minHeight,k.x>0?l=k.y>0?"se":"ne":k.x<0&&(u-=p,l=k.y>0?"sw":"nw"),k.y<0&&(d-=f),this.cropped||(J(this.cropBox,m),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}_&&(o.width=p,o.height=f,o.left=u,o.top=d,this.action=l,this.renderCropBox()),j(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ke={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&W(this.dragBox,g),J(this.cropBox,m),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=K({},this.initialImageData),this.canvasData=K({},this.initialCanvasData),this.cropBoxData=K({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(K(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),J(this.dragBox,g),W(this.cropBox,m)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,j(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,J(this.cropper,f)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,W(this.cropper,f)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,a=n.top;return this.moveTo(N(e)?e:i+Number(e),N(t)?t:a+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(D(e)&&(n.left=e,i=!0),D(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,a=this.canvasData,r=a.width,o=a.height,s=a.naturalWidth,l=a.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,u=l*e;if(!1===re(this.element,"zoom",{ratio:e,oldRatio:r/s,originalEvent:n}))return this;if(n){var d=this.pointers,p=oe(this.cropper),f=d&&Object.keys(d).length?function(e){var t=0,n=0,i=0;return j(e,(function(e){var a=e.startX,r=e.startY;t+=a,n+=r,i+=1})),{pageX:t/=i,pageY:n/=i}}(d):{pageX:n.pageX,pageY:n.pageY};a.left-=(c-r)*((f.pageX-p.left-a.left)/r),a.top-=(u-o)*((f.pageY-p.top-a.top)/o)}else B(t)&&D(t.x)&&D(t.y)?(a.left-=(c-r)*((t.x-a.left)/r),a.top-=(u-o)*((t.y-a.top)/o)):(a.left-=(c-r)/2,a.top-=(u-o)/2);a.width=c,a.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return D(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,D(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(D(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(D(e)&&(n.scaleX=e,i=!0),D(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,a=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){e={x:r.left-a.left,y:r.top-a.top,width:r.width,height:r.height};var o=i.width/i.naturalWidth;if(j(e,(function(t,n){e[n]=t/o})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&B(e)){var r=!1;t.rotatable&&D(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,r=!0),t.scalable&&(D(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,r=!0),D(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;D(e.x)&&(a.left=e.x*o+i.left),D(e.y)&&(a.top=e.y*o+i.top),D(e.width)&&(a.width=e.width*o),D(e.height)&&(a.height=e.height*o),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?K({},this.containerData):{}},getImageData:function(){return this.sized?K({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&j(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&B(e)&&(D(e.left)&&(t.left=e.left),D(e.top)&&(t.top=e.top),D(e.width)?(t.width=e.width,t.height=e.width/n):D(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&B(e)&&(D(e.left)&&(i.left=e.left),D(e.top)&&(i.top=e.top),D(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),D(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),a&&(t?i.height=i.width/a:n&&(i.width=i.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=me(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),a=i.x,r=i.y,s=i.width,l=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(a*=c,r*=c,s*=c,l*=c);var u=s/l,d=fe({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=fe({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),f=fe({aspectRatio:u,width:e.width||(1!==c?n.width:s),height:e.height||(1!==c?n.height:l)}),m=f.width,h=f.height;m=Math.min(d.width,Math.max(p.width,m)),h=Math.min(d.height,Math.max(p.height,h));var y=document.createElement("canvas"),g=y.getContext("2d");y.width=q(m),y.height=q(h),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,m,h);var v=e.imageSmoothingEnabled,b=void 0===v||v,S=e.imageSmoothingQuality;g.imageSmoothingEnabled=b,S&&(g.imageSmoothingQuality=S);var _,C,k,A,w,P,T=n.width,x=n.height,M=a,I=r;M<=-s||M>T?(M=0,_=0,k=0,w=0):M<=0?(k=-M,M=0,w=_=Math.min(T,s+M)):M<=T&&(k=0,w=_=Math.min(s,T-M)),_<=0||I<=-l||I>x?(I=0,C=0,A=0,P=0):I<=0?(A=-I,I=0,P=C=Math.min(x,l+I)):I<=x&&(A=0,P=C=Math.min(l,x-I));var R=[M,I,_,C];if(w>0&&P>0){var E=m/s;R.push(k*E,A*E,w*E,P*E)}return g.drawImage.apply(g,[n].concat(o(R.map((function(e){return Math.floor(q(e))}))))),y},setAspectRatio:function(e){var t=this.options;return this.disabled||N(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a="crop"===e,r=t.movable&&"move"===e;e=a||r?e:"none",t.dragMode=e,ee(n,b,e),Z(n,p,a),Z(n,v,r),t.cropBoxMovable||(ee(i,b,e),Z(i,p,a),Z(i,v,r))}return this}},Ae=c.Cropper,we=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n||!I.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=K({},R,B(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var i,a,r;return i=e,r=[{key:"noConflict",value:function(){return window.Cropper=Ae,e}},{key:"setDefaults",value:function(e){K(R,B(e)&&e)}}],(a=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(x.test(e))M.test(e)?this.read((a=e.replace(ye,""),r=atob(a),o=new ArrayBuffer(r.length),j(s=new Uint8Array(o),(function(e,t){s[t]=r.charCodeAt(t)})),o)):this.clone();else{var a,r,o,s,l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){"image/jpeg"!==l.getResponseHeader("content-type")&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&ce(e)&&n.crossOrigin&&(e=ue(e)),l.open("GET",e,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===n.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=ge(e),a=0,r=1,o=1;if(i>1){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);i.length>0;)n.push(he.apply(null,H(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);a=s.rotate,r=s.scaleX,o=s.scaleY}t.rotatable&&(n.rotate=a),t.scalable&&(n.scaleX=r,n.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&ce(t)&&(n||(n="anonymous"),i=ue(t)),this.crossOrigin=n,this.crossOriginUrl=i;var a=document.createElement("img");n&&(a.crossOrigin=n),a.src=i||t,a.alt=e.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),W(a,h),e.parentNode.insertBefore(a,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),i=function(t,n){K(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=K({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var a=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),n||r.removeChild(a)},a.src=t.src,n||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(a))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,a=document.createElement("div");a.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=a.querySelector(".".concat("cropper","-container")),o=r.querySelector(".".concat("cropper","-canvas")),s=r.querySelector(".".concat("cropper","-drag-box")),l=r.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=r,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat("cropper","-view-box")),this.face=c,o.appendChild(n),W(e,m),i.insertBefore(r,e.nextSibling),this.isImg||J(n,h),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,W(l,m),t.guides||W(l.getElementsByClassName("".concat("cropper","-dashed")),m),t.center||W(l.getElementsByClassName("".concat("cropper","-center")),m),t.background&&W(r,"".concat("cropper","-bg")),t.highlight||W(c,y),t.cropBoxMovable&&(W(c,v),ee(c,b,"all")),t.cropBoxResizable||(W(l.getElementsByClassName("".concat("cropper","-line")),m),W(l.getElementsByClassName("".concat("cropper","-point")),m)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),F(t.ready)&&ae(e,"ready",t.ready,{once:!0}),re(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),J(this.element,m))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(i.prototype,a),r&&n(i,r),e}();return K(we.prototype,ve,be,Se,_e,Ce,ke),we}()},function(e,t){e.exports='<div class="lens-inline-notes">\n    <span ng-transclude style="display: inline-block;"></span>\n    <span>\n        <a tooltip-title="{{\'notes.show.notes\' | message}}" class="badge-note" ng-if="vm.notes.length" ng-click="toggleVisible($event)" ng-href="#/{{vm.section.toLowerCase()}}">\n            {{vm.notes.length}}\n        </a>\n    </span>\n\n    <div ng-show="vm.visible">\n        <div class="panel panel-default panel-user-annotate">\n            <div class="panel-heading">\n                <a class="pull-right col-meta" ng-click="vm.visible = false">{{\'common.action.close\' | message}}</a>\n                <b>{{\'notes.your.notes\' | message}} {{\'notes.patent.scope.\' + vm.section | message}}:</b>\n            </div>\n            <div class="panel-user-annotate-body">\n                <div class="panel-user-annotate-item" ng-repeat="note in vm.notes | orderBy:\'updated\':true">\n                    <em>{{note.text | decodeEntities}}</em>\n                    <div class="note-doc-type col-meta">\n                        <div class="pull-right">\n                            <a ng-click="$root.editNote(note)">{{\'common.action.edit\' | message}}</a> -\n                            <a class="col-error" ng-click="delete(note.id)" ng-if="vm.deleteNoteId !== note.id">{{\'common.action.delete\' | message}}</a>\n                            <a class="col-error" ng-click="_delete()" ng-if="vm.deleteNoteId === note.id">Confirm</a>\n                        </div>\n                        <span>{{note.created | date:\'medium\'}}</span>\n                    </div>\n                </div>\n                <div class="alert alert-info" ng-if="!vm.notes.length && !vm.loading">\n                    <em class="far fa-info-circle"></em>\n                    No Notes Yet\n                </div>\n            </div>\n            <div class="panel-footer">\n                <a class="text-small col-meta" ng-click="$root.addNote({type: \'PATENT\', lensId: vm.key, section: vm.section})">\n                    <em class="fa fa-sticky-note"></em> {{\'notes.addNew\' | message}}\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getFilters=function(e){var t=_.clone(e);delete t.view,delete t.type,delete t.q,delete t.l,delete t.st,delete t.dateFilterField,delete t.authorField;return["f","e","sat"].forEach((function(e){(!1===t[e]||_.isEmpty(t[e]))&&delete t[e]})),e.q||delete t.collectionId,0===_.keys(t).length?null:t}},function(e,t){e.exports='<div class="lens-university-content">\n    <div>\n        <span class="listing-logo-img" ng-if="item.user.metadata.logoUrl"><img alt="{{::item.user.metadata.name}}" ng-src="{{::item.user.metadata.logoUrl}}"></span>\n        <span class="listing-logo-img" ng-if="!item.user.metadata.logoUrl"><img alt="{{::item.user.metadata.name}}" ng-src="//logo.clearbit.com/{{::item.user.metadata.domain}}?size=120"></span>\n\n        <h3>{{::item.user.metadata.name}}</h3>\n\n        <ul class="list-inline header-meta institution-meta">\n            <li ng-if="item.user.metadata.rankings.lensIn4M" class="lens-univiersiy-ranking"><b>In4M</b> {{::item.user.metadata.rankings.lensIn4M}}</li>\n            <li ng-if="item.user.metadata.rankings.awru" class="lens-univiersiy-ranking"><b>ARWU</b> {{::item.user.metadata.rankings.awru}}</li>\n            <li ng-if="item.user.metadata.rankings.thomson" class="lens-univiersiy-ranking"><b>Thomson</b> {{::item.user.metadata.rankings.thomson}}</li>\n            <li ng-if="item.user.metadata.rankings.nature" class="lens-univiersiy-ranking"><b>Nature</b> {{::item.user.metadata.rankings.nature}}</li>\n            <li ng-if="item.user.metadata.rankings.leiden" class="lens-univiersiy-ranking"><b>Leiden</b> {{::item.user.metadata.rankings.leiden}}</li>\n            <br/>\n            <li><b>Grid:</b> <a ng-href="https://grid.ac/institutes/{{::item.user.metadata.GRID}}">{{::item.user.metadata.GRID}}</a></li>\n            <li><b>ISNI ID:</b> {{::item.user.metadata.ISNI}}</li>\n            <li><b>Ringgold ID:</b> {{::item.user.metadata.ringgoldId}}</li>\n        </ul>\n\n\n        <div ng-hide="vm.claimOwnership || headingOnly  || vm.getBadge">\n\n            <div class="r-div-table r-div-table-col-4">\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Leader:</b> </div>\n                    <div class="r-div-table-cell div-table-cell-2-3">{{::item.user.metadata.leaderName}}</div>\n                </div>\n\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Address:</b></div>\n                    <div class="r-div-table-cell div-table-cell-2-3">{{item.user.metadata.address}}</div>\n                </div>\n            </div>\n\n\n            <h4 ng-if="item.user.metadata.tto.name">\n                <a ng-href="{{::item.user.metadata.tto.url}}" class="lens-university-tto-name">\n                    {{::item.user.metadata.tto.name}}\n                </a>\n            </h4>\n\n\n            <div class="r-div-table r-div-table-col-4">\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Contact:</b> </div>\n                    <div class="r-div-table-cell div-table-cell-2-3">{{::item.user.metadata.tto.head}} <a ng-href="{{::item.user.metadata.tto.headLinkedIn}}" ng-if="item.user.metadata.tto.headLinkedIn">\n                        &nbsp; <i class="fab fa-linkedin"></i>\n                    </a></div>\n                </div>\n\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Email:</b></div>\n                    <div class="r-div-table-cell div-table-cell-2-3">\n                        <a ng-href="mailto:{{::item.user.metadata.tto.email}}">\n                            {{::item.user.metadata.tto.email}}\n                        </a>\n                    </div>\n                </div>\n\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Phone:</b></div>\n                    <div class="r-div-table-cell div-table-cell-2-3">\n                        <a ng-href="tel:{{::item.user.metadata.tto.phone}}">\n                            {{::item.user.metadata.tto.phone}}\n                        </a>\n                    </div>\n                </div>\n\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Website:</b></div>\n                    <div class="r-div-table-cell div-table-cell-2-3">\n                        <a ng-href="{{::item.user.metadata.tto.url}}" class="lens-university-tto-name">\n                        {{::item.user.metadata.tto.name}}\n                        </a>\n                    </div>\n                </div>\n\n                <div class="r-div-table-row">\n                    <div class="r-div-table-cell div-table-cell-1-3"><b>Address:</b></div>\n                    <div class="r-div-table-cell div-table-cell-2-3">\n                        {{item.user.metadata.address}}\n                    </div>\n                </div>\n            </div>\n\n            <p ng-if="!item.user.metadata.tto.name">No Tech Transfer Office details available</p>\n\n            <a ng-if="item.citingPatentCollectionId" target="_blank" ng-href="/lens/collection/{{item.citingPatentCollectionId}}" tooltip-title="Patents Citing Scholarship" class="btn btn-xs btn-pri">\n                Patents Citing Scholarship\n            </a>\n            <a ng-if="item.patentPortfolioCollectionId" target="_blank" ng-href="/lens/collection/{{item.patentPortfolioCollectionId}}" tooltip-title="Draft Institution Patent Portfolio" class="btn btn-xs btn-pri">\n                Draft Institution Patent Portfolio\n            </a>\n            <a ng-if="item.datasetAlias" href="/lens/in4m/dossier/{{item.datasetAlias}}/{{item.slug}}/analysis" tooltip-title="View Institution Dossier" class="btn btn-xs btn-pri institution-dossier-link">Institution Dossier</a>\n            <a ng-if="!item.datasetAlias" ui-sref="dossier.researchDiscipline(item)" tooltip-title="View Institution Dossier" class="btn btn-xs btn-pri institution-dossier-link">Institution Dossier</a>\n            <a ng-click="vm.claimOwnership = true" tooltip-title="Claim ownership of these details" class="btn btn-xs btn-pri">Claim Ownership</a>\n            <a ng-click="vm.getBadge = true; vm.claimOwnership = !true" tooltip-title="Display a badge on your website" class="btn btn-xs btn-pri">Display Badge</a>\n\n            <a ng-if="onClickRemove" class="col-error" ng-click="onClickRemove(item.slug)"><p><em class="fa fa-minus-circle"></em> Remove from Comparison</p></a>\n\n        </div>\n    </div>\n\n    \x3c!-- Start Claim --\x3e\n    <div ng-if="vm.claimOwnership">\n        <form ng-submit="claimOwnership()">\n            <div ng-show="vm.emailFailed">\n                <div class="alert alert-danger">Email sending failed. Please try again.</div>\n            </div>\n\n            <div ng-show="vm.emailSent">\n                Email sent! Thank you.\n            </div>\n\n            <div ng-hide="vm.emailSent">\n                <hr/>\n                <p>Provide the following information and after confirming your identity, this data and account will be transferred to your institution.</p>\n\n                <label>Name</label>\n                <label class="input">\n                    <i class="icon_append fa fa-user"></i>\n                    <input type="text" ng-model="vm.name" placeholder="" required>\n                </label>\n\n                <label>Email</label>\n                <label class="input">\n                    <i class="icon_append fa fa-envelope"></i>\n                    <input type="email" ng-model="vm.email" placeholder="" required>\n                </label>\n                <button title="Submit Request" aria-label="Submit Request" style="margin-top: 10px;" class="btn btn-sm btn-pri">Submit Request</button>\n                <br>\n                <small>By requesting this transfer of ownership, I acknowledge that I am authorized to do so.</small>\n            </div>\n        </form>\n        <hr/>\n        <p>\n            <a ng-click="vm.claimOwnership = false" class="styled-link">\n                Return to Institution Details\n            </a>\n        </p>\n    </div>\n\n    \x3c!-- Start Get Badge --\x3e\n    <div ng-show="vm.getBadge">\n        <hr>\n        <h3 class="heading-label">\n            Displaying the Lens Rank badge\n            <a tooltip-title="What is Lens Ranking v.2017.1" class="in4m-badge in4m-badge-example in4m-badge-inst">\n                <span></span>\n                <span>\n                    <img ng-if="vm.datasetIcons[vm.dataset]" ng-src="{{::assetLocation}}/img/flags/{{vm.datasetIcons[vm.dataset]}}.png"/>\n                    Research Discipline\n                </span>\n                <span>{{item.user.metadata.rankings.lensIn4M}}</span>\n            </a>\n            <a tooltip-title="What is Lens Ranking v.2017.1" class="in4m-badge in4m-badge-example in4m-badge-fou" style="margin-right: .5em;">\n                <span></span>\n                <span>\n                    <img ng-if="vm.datasetIcons[vm.dataset]" ng-src="{{::assetLocation}}/img/flags/{{vm.datasetIcons[vm.dataset]}}.png"/>\n                    Field Of Use\n                </span>\n                <span>{{item.user.metadata.rankings.lensIn4MFOU}}</span>\n            </a>\n        </h3>\n        <p>Copy and paste the code snippet to display the Lens rank badge for {{::item.user.metadata.name}} on your website.</p>\n        <strong>Research Discipline</strong>\n        <pre>&lt;iframe src="https://lens.org/lens/in4m/embed/{{::item.slug}}" &gt;</pre>\n        <strong>Field Of Use</strong>\n        <pre>&lt;iframe src="https://lens.org/lens/in4m/embed/{{::item.slug}}#fields-of-use" &gt;</pre>\n\n        <p>\n            <a ng-click="vm.getBadge = false" class="styled-link">\n                Return to Institution Details\n            </a>\n        </p>\n    </div>\n\n</div>\n'},function(e,t){e.exports="\n    <span>{{vm.title}}</span>\n    <a href=\"http://about.lens.org/{{vm.slug}}/\">\n        {{vm.tagline}}\n        \x3c!--{{'common.readmore' | message}}--\x3e\n    </a>\n\n"},function(e,t){e.exports='<div class="linked-identities">\n    <div ng-if="vm.loading">{{::\'common.loading\' | message}}</div>\n    <ul class="identities-list" ng-hide="vm.loading">\n        <li ng-repeat="identity in vm.identities" class="sandbox--disable" ng-class="{active: identity.active, inactive: !identity.active}">\n            <div class="identity">\n                <div class="identity-controls">\n                    <span class="controls">\n                        <a class="btn btn-pri btn-xxs link" ng-if="identity.neverLinked" ng-click="linkService(identity.provider)">\n                            {{::\'common.link\' | message}}\n                        </a>\n                        <span ng-if="!identity.neverLinked">\n                            <a class="btn btn-pri btn-xxs relink" ng-if="!identity.activeAndHasValidProfilePictureUrl" ng-click="linkService(identity.provider)">\n                                {{::\'common.action.relink\' | message}}\n                            </a>\n                            <a class="btn btn-danger btn-xxs remove" ng-click="vm.promptDeleteItem = identity">\n                                {{::\'common.action.remove\' | message}}\n                            </a>\n                        </span>\n                    </span>\n                </div>\n\n                <div class="identity-details clearfix">\n\n                    <div class="provider-name">\n                        <img class="provider-logo" ng-src="{{::$root.assetLocation}}/img/{{identity.provider.toLowerCase()}}-mini-icon.png">\n                        {{::vm.services[identity.provider] || identity.provider}}\n                    </div>\n                    \n                    <div class="identity-details-container" ng-if="!identity.neverLinked">\n                        <div ng-if="identity.hasValidProfilePictureUrl">\n                            <div class="has-profile-picture">\n                                <a ng-if="identity.hasValidProfilePictureUrl" tooltip-title="{{::\'user.linkedServices.importProfilePicture.title\' | message}}"\n                                    class="import-picture"\n                                    ng-click="importPicture(identity)"\n                                >\n                                    <em class="fa fa-cloud-upload"></em>\n                                </a>\n                                <img class="is-profile-picture" ng-src="{{identity.profilePictureUrl}}" />\n                            </div>\n                        </div>\n    \n                        <div ng-if="!identity.neverLinked">\n                            <div class="identity-uid">\n                                <a ng-href="{{identity.profileUrl}}" target="_blank">\n                                    <em class="far fa-external-link col-feat text-small" style="padding: 0 5px 0 2px;"></em> \n                                    {{identity.email || identity.providerUserId}}\n                                </a>\n                                <a ui-sref="orcidProfile.scholar({orcid: identity.providerUserId})"\n                                    ng-if="identity.provider.toLowerCase() === \'orcid\'"\n                                    class="profiles-release"\n                                >\n                                    <em class="far fa-user col-feat text-small" style="padding: 0 5px 0 2px;"></em> \n                                    View your Lens Profile \n                                </a>\n                            </div>\n    \n                            <form>\n                                <label class="display-check-identity-info checkbox">\n                                    <input type="checkbox" class="publish-identity" ng-model="identity.published" ng-change="publishIdentity(identity)">\n                                    <i></i>\n                                    {{::\'user.linkedservices.publish\' | message}}\n                                </label>\n                            </form>\n                            \n                            <div class="identity-info">\n                                <span ng-if="identity.active">\n                                    <div class="alert alert-info" ng-if="!identity.lastUsed">\n                                        {{::\'common.never.used\' | message}}\n                                    </div>\n                                    \n                                    <div class="alert alert-info" ng-if="identity.lastUsed">\n                                        (used {{identity.lastUsed | fromNow}})\n                                    </div>\n                                    \n                                    <div class="alert alert-danger" ng-if="identity.profilePictureUrl && !identity.hasValidProfilePictureUrl" hidden>\n                                        {{::\'user.linkedServices.invalidProfilePictureUrl\' | message}}\n                                    </div>\n                                </span>    \n                                <div class="alert alert-danger" ng-if="!identity.active" ng-bind-html="\'user.linkedservices.alert\' | message | unsafe"></div>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n            </div>\n        </li>\n    </ul>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteItem">\n    <h3 class="modal-heading">Unlink {{vm.services[vm.promptDeleteItem.provider]}}?</h3>\n    <div class="alert alert-danger">\n        <span ng-bind-html="\'user.linkedservices.content\' | message | unsafe"></span>\n    </div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteItem = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteItem)">I understand, remove this service</span>\n    </div>\n</div>\n'},function(e,t){e.exports='<div ng-if="vm.notes.length" class="content" style="padding-bottom: 0;">\n    <h2>\n        Notes\n    </h2>\n</div>\n\n<div class="content" ng-if="vm.notes.length" style="padding-top: 0;">\n    <a class="btn btn-pri btn-xs pull-right" style="margin-top: -5px;" \n        ng-if="isOwner && vm.notes.length && !vm.loading" \n        ng-click="$root.addNote({ type: vm.type, key: vm.key || collectionId })">\n        {{::\'notes.New\' | message}}\n    </a>\n    <h6 class="col-meta" ng-bind-html="\'notes.savedCount\' | message:[vm.notes.length, vm.type.toLowerCase()] | unsafe"></h6>\n</div>\n\n<div class="table-responsive table-stretch" ng-if="vm.notes.length">\n    <div class="div-table" id="listTable">\n        <div class="div-table-heading">\n            <div class="div-table-row">\n                <div class="div-table-cell">{{\'common.note\' | message}}</div>\n                <div class="div-table-cell">{{\'common.assignment\' | message}}</div>\n                <div class="div-table-cell" style="width: 8rem;">{{\'common.dateCreated\' | message}}</div>\n                <div class="div-table-cell" style="width: 8rem;">{{\'common.tools\' | message}}</div>\n            </div>\n        </div>\n\n        <div class="div-table-body">\n            <div class="div-table-row"\n                ng-repeat="note in vm.notes"\n                lens-note-table-row\n                note="note"\n                reload="refresh()"\n            >\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="content">\n    <div ng-if="vm.notes.length == 0 && !vm.loading">\n        <div ng-if="isOwner" ng-include="\'about-notes\'"></div>\n\n        <div class="btns text-center" style="margin-top: -30px;">\n            <a class="btn btn-pri btn-sm" ng-click="$root.addNote({ type: vm.type, key: vm.key || collectionId })">\n                {{::\'notes.New\' | message}}\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div ng-class="{[\'css-modal-wrapper-\' + (size || \'default\')]: true}"\n    ng-show="visible"\n    ng-click="close ? close() : visible = false"\n>\n    <div class="css-modal-overlay">\n        <div class="css-modal-wrapper" ng-click="$event.stopPropagation()">\n            <div class="css-modal-close link" ng-click="close ? close() : visible = false">\n                <em class="fa fa-times"></em>\n            </div>\n            <div class="css-modal-wrapper-inner" ng-transclude></div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="modal-layout-doc-viewer">\n    <aside class="modal--sidebar" ng-class="{collapsed: $root.docPreviewCollapsed}">\n        <h4 ng-if="$root.docPreviewCollapsed" class="modal-heading">&nbsp;</h4>\n        <a ng-if="$root.docPreviewCollapsed" class="preview-collapse content" tooltip-title="Expand Sidebar" ng-click="$root.docPreviewCollapsed = !$root.docPreviewCollapsed" tooltip-options="::{side: \'right\'}">\n            <em class="far fa-arrow-to-right"></em>       \n        </a>\n        <a ng-if="$root.docPreviewCollapsed" class="preview-collapse content" tooltip-title="View as {{vm.viewAsPdf ? \'Image Preview\' : \'PDF\'}}" ng-click="vm.viewAsPdf = !vm.viewAsPdf" tooltip-options="::{side: \'right\'}">\n            <em class="far fa-file-pdf"></em>\n        </a>\n\n        <div>\n            <h4 class="modal-heading">\n                Document Preview\n                <a class="preview-collapse" tooltip-title="Collapse Sidebar" ng-click="$root.docPreviewCollapsed = !$root.docPreviewCollapsed">\n                    <em class="far fa-arrow-to-left"></em>\n                </a>\n            </h4>\n    \n            <div class="content"> \n                <a class="pdf-download" ng-click="vm.viewAsPdf = false" ng-if="vm.viewAsPdf">\n                    <em class="fa fa-file-pdf"></em>\n                    View Image Preview\n                </a>\n\n                <a class="pdf-download" ng-click="vm.viewAsPdf = true" ng-if="!vm.viewAsPdf">\n                    <em class="fa fa-file-pdf"></em>\n                    View as PDF\n                </a>\n    \n                <a class="pdf-download" title="Download PDF" ng-href="{{patent.docAssets.pdfUrl}}" download>\n                    <em class="fa fa-file-pdf"></em>\n                    Download PDF\n                </a>\n\n                <a class="pdf-download" ng-click="toggleZoom()" ng-if="!vm.viewAsPdf" ng-disabled="vm.loadingImage" tooltip-title="Hover your mouse over the patent to zoom on that section">\n                    <em class="fa fa-search" style="background: #22afed"></em>\n                    {{vm.zoom ? \'Disable\' : \'Enable\'}} Zoom\n                </a>\n\n                <div ng-if="!$root.isAnon" class="doc-viewer--notes" lens-inline-notes key="patent.record_lens_id" visible="true"></div>\n            </div>\n            \n            <div class="content" style="padding-right: 0;" ng-if="!vm.viewAsPdf">\n                <div class="doc-preview-thumbs">\n                    <div ng-repeat="( i, image ) in patent.docAssets.images | limitTo:50"\n                         ng-click="setPage(i)"\n                         class="link doc-preview-thumb">\n                        <img ng-src="{{image.thumb}}">\n                    </div>\n                </div>\n            </div>\n\n            <hr ng-if="!$root.hideTip[\'pdf-viewer\'] && vm.viewAsPdf">\n            <div class="content" ng-if="!$root.hideTip[\'pdf-viewer\'] && vm.viewAsPdf">\n                <h5 class="h5-styled">Not seeing the PDF?</h5>\n                <p>Your browser may be set to download pdfs by default. Please check your downloads folder.</p>\n                <a class="btn btn-xs" ng-click="$root.ignoreTip(\'pdf-viewer\')">\n                    Ignore\n                </a>\n            </div>\n            \n            <hr ng-if="$root.isAnon">\n            <div\n                class="widget content"\n                ng-if="$root.isAnon"\n                ng-include="\'registration-widget\'">\n            </div>\n        </div>\n    </aside>\n\n    <main class="modal--main">\n        <div ng-if="!vm.viewAsPdf">\n            <div class="drawingsBox">\n                <div>\n                    <div class="drawingsBox--controls">\n                        <span class="link" ng-click="vm.index = 0; updateImage()">\n                            <em class="far fa-fast-backward"></em>    \n                        </span>\n                        <em class="far fa-arrow-left link"\n                            ng-click="previousPage()"\n                            ng-class="{disabled: vm.index <= 0}"\n                            ></em>\n                            <em class="far fa-arrow-right link"\n                                ng-click="nextPage()"\n                                ng-class="{disabled: vm.index >= patent.docAssets.images.length}"\n                        ></em>\n                        <span class="link" ng-click="vm.index = patent.docAssets.images.length - 1; updateImage()">\n                            <em class="far fa-fast-forward"></em>    \n                        </span>\n                        <div class="preview-paging">{{vm.index + 1}} / {{patent.docAssets.images.length}}</div>\n                        <em class="far fa-undo link" ng-click="rotate(-90)"></em>\n                        <em class="far fa-undo fa-flip-horizontal link" ng-click="rotate(90)"></em>\n                    </div>\n                    \n                    <div hidden class="drawingsBox--controls-rotate">\n                        <a class="btn btn-xs" ng-click="rotate(-90)">\n                            <em class="fa fa-undo"></em>\n                        </a>\n                        <a class="btn btn-xs" ng-click="rotate(90)">\n                            <em class="fa fa-undo fa-flip-horizontal"></em>\n                        </a>\n                        <div>{{vm.index}} / {{patent.docAssets.images.length}}</div>\n                    </div>\n                    \n                    <div class="text-center">\n                        <div ng-if="vm.loadingImage" class="patent-doc-preview-img--loading">\n                            <em class="far fa-spinner fa-spin col-feat"></em>\n                            <div>Loading page {{vm.index + 1}}...</div>\n                        </div>\n                        <div id="zoom-container">\n                            <img class="patent-doc-preview-img" ng-src="{{vm.src}}" ng-class="{loading: vm.loadingImage, [\'rotate\'+vm.rotate]: true}">\n                        </div>\n                    </div>\n                </div>\n                <div class="no-img-box" ng-if="!patent.docAssets.images[0].full">\n                    <em class="far fa-info-circle col-error"></em>\n                    No Image Yet\n                </div>\n            </div>\n        </div>\n        <iframe ng-if="!vm.pdfViewer && vm.viewAsPdf" ng-src="{{patent.docAssets.pdfUrl | unsafeSrc}}" style="border: none; width: 100%; height: 100vh;"></iframe>\n        <div id="pdf-viewer" style="height: 100vh;"></div>\n    </main>\n</div>\n'},function(e,t){e.exports='<div>\n    <div class="reference-item">\n        <div class="reference-item--expand"\n            tooltip-title="Expand this reference item"\n            ng-if="type === \'collection\' || type === \'dashboard\' || type === \'external\' || type === \'individual-result\' || type === \'saved-query\'"\n            ng-click="vm.refDetail = !vm.refDetail"\n            ng-class="{active: vm.refDetail}"\n        >\n            <em class="far fa-chevron-circle-down" ng-class="{\'fa-chevron-circle-down\': !vm.refDetail, \'fa-chevron-circle-up active\': vm.refDetail}"></em>\n        </div>\n        \n        <div class="reference-item--tools" ng-if="editable">\n            <a class="reference-item--edit" tooltip-title="Edit this source">\n                <em class="far fa-pencil"></em>\n                Edit\n            </a>\n            <a class="reference-item--move sortable-handle" tooltip-title="Click and drag to move row">\n                <em class="far fa-arrows-alt"></em>\n                Move\n            </a>\n            <a class="reference-item--delete" ng-click="$root.$broadcast(\'PROMPT_REMOVE_SOURCE\', item)" tooltip-title="Delete this reference item">\n                <em class="far fa-trash-alt col-error"></em>\n            </a>\n        </div>\n\n        <div class="reference-item--content" ng-if="type === \'saved-query\'">\n            <div class="reference-item--header">\n                <h4>{{item.title}}</h4>\n            </div>\n            <div class="reference-item--details" ng-class="{hidden: !vm.refDetail}">\n                <a ui-sref="search.results({ type: item.dataType || \'scholar\', view: \'list\', q: item.q })" style="text-decoration: none;">\n                    <span class="query-details-syntax-highlight" ng-if="item.q">\n                        <span lens-query q="::item.q" depth="1"></span>\n                    </span>\n                </a>\n            </div>\n            <ul class="list-inline reference-item--meta">\n                <li class="meta-notices">\n                    <span class="meta-notice" ng-class="{ \'is-patent\': item.dataType === \'patent\', \'is-scholar\': item.dataType !== \'patent\' }">\n                        {{item.dataType || \'Scholar\'}}\n                        QUERY\n                    </span>\n                </li>\n            </ul>\n        </div>\n\n        <div class="reference-item--content" ng-if="type === \'dashboard\'">\n            <h4>Dashboard {{vm.dashboard.label}}</h4>\n            <div class="analysis-selector-items" ng-if="vm.refDetail">\n                <div ng-repeat="config in vm.dashboardItems" class="analysis-selector-item">\n                    <div lens-chart-icon\n                        option="getChartMetadata(config)"\n                        class="analysis-selector-preview"\n                        style="width: 60px; height: 60px;"\n                    ></div>\n                    <div class="analysis-selector-label">\n                        {{::config.title || \'Untitled Chart\'}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="reference-item--content" ng-if="type === \'individual-result\'">\n            <div class="reference-item--header">\n                <div ng-if="vm.article && item.dataType === \'scholar\'">\n                    <div lens-article-item-meta item="vm.article"></div>\n                </div>\n                <div ng-if="vm.patent && item.dataType === \'patent\'" ng-init="patent = vm.patent">\n                    <div ng-include="\'patent-list-item\'" class="has_preview modal--listing-header"></div>\n                </div>\n            </div>\n            <div class="reference-item--details" ng-class="{hidden: !vm.refDetail}">\n                INSERT ITEM PREVIEW\n            </div>\n        </div>\n\n        <div class="reference-item--content" ng-if="type === \'external\'">\n            <div class="reference-item--header">\n                <h4>{{item.title}}</h4>\n                <ul class="list-inline reference-item--meta">\n                    <li class="meta-notices">\n                        <span class="meta-notice" style="background: #22afed;">External Source</span>\n                    </li>\n                    <li class="collection-date">Recorded: Jan 23, 2030</li>\n                </ul>\n                \n            </div>\n            \n            <div class="reference-item--details" ng-class="{hidden: !vm.refDetail}">\n                <div class="reference-item--description reference-item--description-external">\n                    <p>{{item.description}}</p>\n                    <img ng-src="{{item.url}}" alt="" ng-if="item.url.endsWith(\'.jpg\') || item.url.endsWith(\'.png\')">\n                </div>\n            </div>\n        </div>\n\n        <div class="reference-item--content" ng-if="type === \'collection\'">\n            <div class="reference-item--header">\n                <div class="reference-item--logo">\n                    <a ng-if="collection.user.type === \'personal\' && !collection.type" ng-href="{{collection.user.linkedAccounts[0].profileUrl}}">\n                        <span>\n                            <img ng-if="collection.user.profilePictureKey" lens-avatar-fallback ng-src="{{$root.userProfilePictureUrl(collection.user.profilePictureKey)}}" alt="">\n                            <img ng-if="!collection.user.profilePictureKey" ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="" style="cursor: default;">\n                        </span>\n                    </a>\n\n                    <a ng-if="collection.type === \'external\'"\n                        ng-href="{{collection.url}}"\n                    >\n                        <span ng-if="collection.user.metadata.logoUrl">\n                            <img alt="Curator" ng-src="{{collection.user.metadata.logoUrl}}" style="background: none;">\n                        </span>\n                    </a>\n\n                    <a ng-if="collection.type === \'institution\'"\n                        ng-click="vm.lightbox = !vm.lightbox"\n                    >\n                        <span ng-if="collection.user.metadata.logoUrl">\n                            <img alt="Curator" ng-src="{{collection.user.metadata.logoUrl}}">\n                        </span>\n                        <em class="fa fa-ellipsis-h"></em>\n                    </a>\n                </div>\n\n                <h4>\n                    <a ng-href="{{collection | collectionUrl}}">\n                        {{::collection.title}}\n                    </a>\n                </h4>\n\n                <ul class="list-inline reference-item--meta">\n                    <li class="meta-notices">\n                        <span class="meta-notice" ng-class="{ \'is-patent\': collection.type === \'PATENT\', \'is-scholar\': collection.type === \'SCHOLARLY_WORK\' }">{{collection.type || \'Patent\'}} COLLECTION</span>\n                    </li>\n\n                    <li>\n                        <span>{{\'common.items.alt\' | message}}:</span>\n                        <a ng-href="{{collection | collectionUrl}}" class="styled-link" tooltip-title="View {{::collection.title}} in the Lens">\n                            {{collection.itemCount | customNumber}}\n                        </a>\n                    </li>\n\n                    <li class="meta-notices" hidden>\n\n                        <span>{{\'common.info\' | message}}:</span>\n\n                        <span class="span meta-notice" ng-if="collection.access === \'OPEN_ACCESS\'">\n                            <i class="fa fa-unlock-alt meta-notice-icon"></i>\n                            {{\'user.collections.public\' | message}}\n                        </span>\n\n                        <span>\n                            <a ng-if="collection.user.metadata.GRID" class="meta-grid" ng-href="https://grid.ac/institutes/{{collection.user.metadata.GRID}}">\n                                <i class="fa fa-folder-open meta-notice-icon"></i>\n                                {{collection.user.metadata.GRID}}\n                            </a>\n                        </span>\n\n                        <span class="meta-notice meta-notice-purple" ng-if="collection.user.type === \'institution\'">\n                            <i class="fa fa-university meta-notice-icon"></i>\n                            {{\'scholar.common.dossier\' | message}}\n                        </span>\n\n                        <span class="meta-notice meta-notice-secondary" ng-if="collection.notes.length">\n                            <i class="fa fa-sticky-note meta-notice-icon"></i>\n                            {{collection.notes.length}} {{\'notes.notes\' | message}}\n                        </span>\n                    </li>\n                    <li ng-if="collection.user.metadata.GRID">\n                        <div class="lens-university-grid-container">\n                            <a ng-href="https://grid.ac/institutes/{{collection.user.metadata.GRID}}">\n                                <img alt="GRID ID" class="grid-id-logo" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/grid-id.svg">\n                                {{collection.user.metadata.GRID}}\n                            </a>\n                        </div>\n                    </li>\n                    <li ng-if="collection.user.displayName.length > 18">\n                        {{\'common.curator\' | message}}: {{::collection.user.displayName.substr(0, 18)}}\n                        <span>...</span>\n                    </li>\n                    <li class="collection-date">{{\'common.dateCreated\' | message}}: {{::collection.created | date}}</li>\n                    <li class="collection-date">{{\'common.Updated\' | message}}: {{::collection.updated | date}}</li>\n                </ul>\n            </div>\n\n\n            <div class="reference-item--details" ng-class="{hidden: !vm.refDetail}">\n                <div class="reference-item--description">\n                    <span ng-if="collection.slug" ng-include="$root.institutionDataLocation + \'/public/descriptions/\' + collection.slug + \'.html\'"></span>\n\n                    {{collection.showFullDescription ? collection.description : collection.description.substr(0, MAX_DESCRIPTION_LENGTH) + (collection.description.length ? \'...\' : \'No Description\')}}\n                    <span class="link show-more" ng-click="collection.showFullDescription = !collection.showFullDescription" ng-if="collection.description.length > MAX_DESCRIPTION_LENGTH">\n                        {{collection.showFullDescription ? \'Show Less\' : \'More...\'}}\n                    </span>\n                </div>\n            </div>\n\n            <div class="reference-item--alert alert alert-warning"  hidden>\n                <i class="fa fa-unlock-alt meta-notice-icon"></i>\n                This collection has not been published, so will not be publicly visible as part of this list\n            </div>\n\n        </div>\n        \n    </div>\n\n    <div ui-sortable="{connectWith:\'.sortable-reference-items\', handle: \'.sortable-handle\'}" ng-model="item.items" class="sortable-reference-items reference-sortable-list">\n        <div ng-repeat="sub in item.items" class="ref-list--item">\n            <div lens-reference-item type="sub.type" item="sub" editable="editable"></div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div>\n    <div class="search-tooltip tab-container">\n        <div class="clearfix search-tooltip-head">\n            <strong>Search Tips</strong>\n            <a style="margin: 5px 5px 0 0; height: auto;" class="btn btn-xxs" ng-click="$root.showFieldTipsModal = true">\n                <em class="far fa-info-circle"></em> \n                Field Tips\n            </a>\n            <a ui-sref="search.results({view: \'structured\', type: $ctrl.state.type || \'scholar\'})" ng-click="$root.showSearchTips = false" style="margin: 5px 5px 0 0; height: auto;" class="btn btn-xxs" ng-if="!warnings">\n                <em class="far fa-search"></em> \n                Edit Structured Search\n            </a>\n        </div>\n\n        <div class="search-tooltip-body tab-contents">\n            <div class="tab_content clearfix" style="padding-top: 5px;">\n                <div class="alert alert-danger" ng-if="queryParserError">\n                    <em class="fa fa-exclamation-triangle"></em>\n                    {{queryParserError}}\n                </div>\n\n                <div ng-include="\'search-tips-content\'"></div>\n\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<aside class="lf-side-tabs" id="side-tabs">\n    <ul class="side-tabs-list">\n        <li class="st-collapse" ng-class="{active: $root.sideTabsView === \'st-collapse\'}">\n            <a ng-click="$root.setSideTabsView(\'st-collapse\')" tooltip-title="Collapse" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-chevron-circle-left"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-if="$parent.$ctrl.state.isWorkArea || $parent.$ctrl.state.isReport">\n            <a ng-click="$root.setSideTabsView(\'st-filters\')" tooltip-title="Return to Search" tooltip-options="::{delay: 250, side: \'right\'}" ui-sref="search.results($parent.$parent.$ctrl.state.previousSearch || {type: \'scholar\', view: \'structured\'})">\n                <em hidden class="fa fa-filter"></em>\n                <span class="filters-return fa-stack">\n                  <i class="fal fa-filter fa-stack-1x"></i>\n                  <i class="far fa-arrow-left fa-stack-halfling"></i>\n                </span>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-if="!$parent.$ctrl.state.isWorkArea" ng-class="{active: $root.sideTabsView === \'st-filters\', \'has-filters\': $root.totalFilterCount}">\n            <a ng-click="$root.setSideTabsView(\'st-filters\')" tooltip-title="Filter Search" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-filter"></em>\n                <span class="has-filters-badge" ng-if="$root.totalFilterCount && $root.sideTabsView !== \'st-filters\'">{{$root.totalFilterCount}}</span>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-overview\'}">\n            <a ng-click="$root.setSideTabsView(\'st-overview\')" tooltip-title="Work Area" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-user-cog"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-support\'}">\n            <a ng-click="$root.setSideTabsView(\'st-support\')" tooltip-title="Help" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-info-circle"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-saved-queries\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-saved-queries\']">\n            <a ng-click="$root.setSideTabsView(\'st-saved-queries\')" tooltip-title="Saved Queries" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-save"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-history\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-history\']">\n            <a ng-click="$root.setSideTabsView(\'st-history\')" tooltip-title="History" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-history"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-collections\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-collections\']">\n            <a ng-click="$root.setSideTabsView(\'st-collections\')" tooltip-title="Collections" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-folder-open"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-dashboards\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-dashboards\']">\n            <a ng-click="$root.setSideTabsView(\'st-dashboards\')" tooltip-title="Dashboards" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fal fa-tachometer-alt-fast"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-reports\'}" ng-if="$root.showAllSideTabs && $root.hasPermission(\'MANAGE_REPORT\')">\n            <a ng-click="$root.setSideTabsView(\'st-reports\')" tooltip-title="Reports" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fal fa-file-medical-alt"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-notes\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-notes\']">\n            <a ng-click="$root.setSideTabsView(\'st-notes\')" tooltip-title="Notes" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-sticky-note"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-tags\'}" ng-if="$root.showAllSideTabs || $root.pinTab[\'st-tags\']">\n            <a ng-click="$root.setSideTabsView(\'st-tags\')" tooltip-title="Tags" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-tags"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-class="{active: $root.sideTabsView === \'st-tips\'}" ng-if="false">\n            <a ng-click="$root.setSideTabsView(\'st-tips\')" tooltip-title="Search Tips" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-info-circle"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-if="$root.showAllSideTabs">\n            <a ng-click="$root.showAllSideTabs = !$root.showAllSideTabs" tooltip-title="Less" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-chevron-up"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <li ng-if="!$root.showAllSideTabs && $root.breakpoints.isDesktop">\n            <a ng-click="$root.showAllSideTabs = !$root.showAllSideTabs" tooltip-title="More" tooltip-options="::{delay: 200, side: \'right\'}" >\n                <em class="fa fa-ellipsis-h-alt"></em>\n            </a>\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </li>\n        <div class="side-tabs-glider">\n            <div ng-include="\'tabi-vert\'" include-replace></div>\n        </div>\n    </ul>\n</aside>\n'},function(e,t){e.exports="<div hidden>\n    <a class='btn btn-sm'\n        target='_blank' href='https://about.lens.org/category/release-notes/'>\n        {{'release.notes' | message}}\n    </a>\n</div>\n"},function(e,t){e.exports='<div ng-cloak>\n    <div ng-if="newVersionUrl && !loading" class="alert alert-info">\n        <p><strong>WARNING:</strong> It looks like there might be a newer version of this page</p>\n        <p><a ng-href="{{newVersionUrl}}" class="link styled-link">Click here to go to the latest version</a></p>\n    </div>\n</div>\n'},,function(e,t,n){"use strict";function i(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,s)}l((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}n.r(t),n.d(t,"DT",(function(){return l})),n.d(t,"read",(function(){return g})),n.d(t,"readText",(function(){return v})),n.d(t,"setDebugLog",(function(){return f})),n.d(t,"suppressWarnings",(function(){return m})),n.d(t,"write",(function(){return h})),n.d(t,"writeText",(function(){return y}));var r=["text/plain","text/html"],o=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),s=!0,l=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){s&&-1===r.indexOf(e)&&o("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}(),c=function(e){},u=!0,d=function(){(console.warn||console.log).apply(console,arguments)}.bind("[clipboard-polyfill]"),p="text/plain";function f(e){c=e}function m(){u=!1,s=!1}function h(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){if(u&&!e.getData(p)&&d("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),x()){if(function(e){var t=e.getData(p);if(void 0!==t)return window.clipboardData.setData("Text",t);throw new Error("No `text/plain` value was specified.")}(e))return[2];throw new Error("Copying failed, possibly because the user rejected it.")}if(k(e))return c("regular execCopy worked"),[2];if(navigator.userAgent.indexOf("Edge")>-1)return c('UA "Edge" => assuming success'),[2];if(A(document.body,e))return c("copyUsingTempSelection worked"),[2];if(function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=A(t,e);return document.body.removeChild(t),n}(e))return c("copyUsingTempElem worked"),[2];if(void 0!==(t=e.getData(p))&&function(e){c("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(c("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var i=document.createElement("span");i.innerText=e,n.appendChild(i),document.body.appendChild(t),w(i);var a=document.execCommand("copy");return P(),document.body.removeChild(t),a}(t))return c("copyTextUsingDOM worked"),[2];throw new Error("Copy command failed.")}))}))}function y(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return navigator.clipboard&&navigator.clipboard.writeText?(c("Using `navigator.clipboard.writeText()`."),[2,navigator.clipboard.writeText(e)]):[2,h(T(e))]}))}))}function g(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=T,[4,v()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))}function v(){return i(this,void 0,void 0,(function(){return a(this,(function(e){if(navigator.clipboard&&navigator.clipboard.readText)return c("Using `navigator.clipboard.readText()`."),[2,navigator.clipboard.readText()];if(x())return c("Reading text using IE strategy."),[2,M()];throw new Error("Read is not supported in your browser.")}))}))}var b=!1;function S(){b||(u&&d('The deprecated default object of `clipboard-polyfill` was called. Please switch to `import * as clipboard from "clipboard-polyfill"` and see https://github.com/lgarron/clipboard-polyfill/issues/101 for more info.'),b=!0)}var _={DT:l,setDebugLog:function(e){return S(),f(e)},suppressWarnings:function(){return S(),m()},write:function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return S(),[2,h(e)]}))}))},writeText:function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return S(),[2,y(e)]}))}))},read:function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return S(),[2,g()]}))}))},readText:function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return S(),[2,v()]}))}))}},C=function(){this.success=!1};function k(e){var t=new C,n=function(e,t,n){c("listener called"),e.success=!0,t.forEach((function(t,i){var a=n.clipboardData;a.setData(i,t),i===p&&a.getData(i)!==t&&(c("setting text/plain failed"),e.success=!1)})),n.preventDefault()}.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function A(e,t){w(e);var n=k(t);return P(),n}function w(e){var t=document.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}function P(){var e=document.getSelection();e&&e.removeAllRanges()}function T(e){var t=new l;return t.setData(p,e),t}function x(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}function M(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){if(""===(e=window.clipboardData.getData("Text")))throw new Error("Empty clipboard or could not read plain text from clipboard");return[2,e]}))}))}t.default=_},function(e,t,n){(function(e,i){var a;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Function]",m="[object GeneratorFunction]",h="[object Map]",y="[object Number]",g="[object Object]",v="[object RegExp]",b="[object Set]",S="[object String]",_="[object Symbol]",C="[object WeakMap]",k="[object ArrayBuffer]",A="[object DataView]",w="[object Float32Array]",P="[object Float64Array]",T="[object Int8Array]",x="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",R="[object Uint16Array]",E="[object Uint32Array]",D=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,B=RegExp(O.source),F=RegExp(U.source),G=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,j=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,V=RegExp(z.source),W=/^\s+/,J=/\s/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,ae=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",me="[\\ud800-\\udfff]",he="["+fe+"]",ye="["+pe+"]",ge="\\d+",ve="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",Se="[^\\ud800-\\udfff"+fe+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ce="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",we="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Pe="(?:"+be+"|"+Se+")",Te="(?:"+we+"|"+Se+")",xe="(?:"+ye+"|"+_e+")"+"?",Me="[\\ufe0e\\ufe0f]?"+xe+("(?:\\u200d(?:"+[Ce,ke,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+xe+")*"),Ie="(?:"+[ve,ke,Ae].join("|")+")"+Me,Re="(?:"+[Ce+ye+"?",ye,ke,Ae,me].join("|")+")",Ee=RegExp("['’]","g"),De=RegExp(ye,"g"),Le=RegExp(_e+"(?="+_e+")|"+Re+Me,"g"),Ne=RegExp([we+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[he,we,"$"].join("|")+")",Te+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[he,we+Pe,"$"].join("|")+")",we+"?"+Pe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",we+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ie].join("|"),"g"),Oe=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),Ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ge={};Ge[w]=Ge[P]=Ge[T]=Ge[x]=Ge[M]=Ge[I]=Ge["[object Uint8ClampedArray]"]=Ge[R]=Ge[E]=!0,Ge[l]=Ge[c]=Ge[k]=Ge[u]=Ge[A]=Ge[d]=Ge[p]=Ge[f]=Ge[h]=Ge[y]=Ge[g]=Ge[v]=Ge[b]=Ge[S]=Ge[C]=!1;var He={};He[l]=He[c]=He[k]=He[A]=He[u]=He[d]=He[w]=He[P]=He[T]=He[x]=He[M]=He[h]=He[y]=He[g]=He[v]=He[b]=He[S]=He[_]=He[I]=He["[object Uint8ClampedArray]"]=He[R]=He[E]=!0,He[p]=He[f]=He[C]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ke=parseFloat,$e=parseInt,qe="object"==typeof e&&e&&e.Object===Object&&e,ze="object"==typeof self&&self&&self.Object===Object&&self,Ve=qe||ze||Function("return this")(),We=t&&!t.nodeType&&t,Je=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ze=Je&&Je.exports===We,Ye=Ze&&qe.process,Qe=function(){try{var e=Je&&Je.require&&Je.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Xe=Qe&&Qe.isArrayBuffer,et=Qe&&Qe.isDate,tt=Qe&&Qe.isMap,nt=Qe&&Qe.isRegExp,it=Qe&&Qe.isSet,at=Qe&&Qe.isTypedArray;function rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var a=-1,r=null==e?0:e.length;++a<r;){var o=e[a];t(i,o,n(o),e)}return i}function st(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,a=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[a++]=o)}return r}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function pt(e,t,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}function mt(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}function ht(e,t,n,i){var a=-1,r=null==e?0:e.length;for(i&&r&&(n=e[++a]);++a<r;)n=t(n,e[a],a,e);return n}function yt(e,t,n,i){var a=null==e?0:e.length;for(i&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function gt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var vt=wt("length");function bt(e,t,n){var i;return n(e,(function(e,n,a){if(t(e,n,a))return i=n,!1})),i}function St(e,t,n,i){for(var a=e.length,r=n+(i?1:-1);i?r--:++r<a;)if(t(e[r],r,e))return r;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,a=e.length;for(;++i<a;)if(e[i]===t)return i;return-1}(e,t,n):St(e,kt,n)}function Ct(e,t,n,i){for(var a=n-1,r=e.length;++a<r;)if(i(e[a],t))return a;return-1}function kt(e){return e!=e}function At(e,t){var n=null==e?0:e.length;return n?xt(e,t)/n:NaN}function wt(e){return function(t){return null==t?void 0:t[e]}}function Pt(e){return function(t){return null==e?void 0:e[t]}}function Tt(e,t,n,i,a){return a(e,(function(e,a,r){n=i?(i=!1,e):t(n,e,a,r)})),n}function xt(e,t){for(var n,i=-1,a=e.length;++i<a;){var r=t(e[i]);void 0!==r&&(n=void 0===n?r:n+r)}return n}function Mt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function It(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Rt(e){return function(t){return e(t)}}function Et(e,t){return ft(t,(function(t){return e[t]}))}function Dt(e,t){return e.has(t)}function Lt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Ut=Pt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Bt=Pt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+je[e]}function Gt(e){return Oe.test(e)}function Ht(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function jt(e,t){return function(n){return e(t(n))}}function Kt(e,t){for(var n=-1,i=e.length,a=0,r=[];++n<i;){var s=e[n];s!==t&&s!==o||(e[n]=o,r[a++]=n)}return r}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function zt(e){return Gt(e)?function(e){var t=Le.lastIndex=0;for(;Le.test(e);)++t;return t}(e):vt(e)}function Vt(e){return Gt(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}var Jt=Pt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Zt=function e(t){var n,i=(t=null==t?Ve:Zt.defaults(Ve.Object(),t,Zt.pick(Ve,Be))).Array,a=t.Date,J=t.Error,pe=t.Function,fe=t.Math,me=t.Object,he=t.RegExp,ye=t.String,ge=t.TypeError,ve=i.prototype,be=pe.prototype,Se=me.prototype,_e=t["__core-js_shared__"],Ce=be.toString,ke=Se.hasOwnProperty,Ae=0,we=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Pe=Se.toString,Te=Ce.call(me),xe=Ve._,Me=he("^"+Ce.call(ke).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Ze?t.Buffer:void 0,Re=t.Symbol,Le=t.Uint8Array,Oe=Ie?Ie.allocUnsafe:void 0,je=jt(me.getPrototypeOf,me),qe=me.create,ze=Se.propertyIsEnumerable,We=ve.splice,Je=Re?Re.isConcatSpreadable:void 0,Ye=Re?Re.iterator:void 0,Qe=Re?Re.toStringTag:void 0,vt=function(){try{var e=er(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Pt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Yt=a&&a.now!==Ve.Date.now&&a.now,Qt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Xt=fe.ceil,en=fe.floor,tn=me.getOwnPropertySymbols,nn=Ie?Ie.isBuffer:void 0,an=t.isFinite,rn=ve.join,on=jt(me.keys,me),sn=fe.max,ln=fe.min,cn=a.now,un=t.parseInt,dn=fe.random,pn=ve.reverse,fn=er(t,"DataView"),mn=er(t,"Map"),hn=er(t,"Promise"),yn=er(t,"Set"),gn=er(t,"WeakMap"),vn=er(me,"create"),bn=gn&&new gn,Sn={},_n=Tr(fn),Cn=Tr(mn),kn=Tr(hn),An=Tr(yn),wn=Tr(gn),Pn=Re?Re.prototype:void 0,Tn=Pn?Pn.valueOf:void 0,xn=Pn?Pn.toString:void 0;function Mn(e){if(qo(e)&&!Lo(e)&&!(e instanceof Dn)){if(e instanceof En)return e;if(ke.call(e,"__wrapped__"))return xr(e)}return new En(e)}var In=function(){function e(){}return function(t){if(!$o(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Rn(){}function En(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Dn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new On;++t<n;)this.add(e[t])}function Bn(e){var t=this.__data__=new Nn(e);this.size=t.size}function Fn(e,t){var n=Lo(e),i=!n&&Do(e),a=!n&&!i&&Bo(e),r=!n&&!i&&!a&&Xo(e),o=n||i||a||r,s=o?Mt(e.length,ye):[],l=s.length;for(var c in e)!t&&!ke.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sr(c,l))||s.push(c);return s}function Gn(e){var t=e.length;return t?e[Ui(0,t-1)]:void 0}function Hn(e,t){return Ar(va(e),Zn(t,0,e.length))}function jn(e){return Ar(va(e))}function Kn(e,t,n){(void 0!==n&&!Io(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function $n(e,t,n){var i=e[t];ke.call(e,t)&&Io(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(Io(e[n][0],t))return n;return-1}function zn(e,t,n,i){return ti(e,(function(e,a,r){t(i,e,n(e),r)})),i}function Vn(e,t){return e&&ba(t,_s(t),e)}function Wn(e,t,n){"__proto__"==t&&vt?vt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jn(e,t){for(var n=-1,a=t.length,r=i(a),o=null==e;++n<a;)r[n]=o?void 0:ys(e,t[n]);return r}function Zn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,i,a,r){var o,s=1&t,c=2&t,p=4&t;if(n&&(o=a?n(e,i,a,r):n(e)),void 0!==o)return o;if(!$o(e))return e;var C=Lo(e);if(C){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return va(e,o)}else{var D=ir(e),L=D==f||D==m;if(Bo(e))return pa(e,s);if(D==g||D==l||L&&!a){if(o=c||L?{}:rr(e),!s)return c?function(e,t){return ba(e,nr(e),t)}(e,function(e,t){return e&&ba(t,Cs(t),e)}(o,e)):function(e,t){return ba(e,tr(e),t)}(e,Vn(o,e))}else{if(!He[D])return a?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case k:return fa(e);case u:case d:return new i(+e);case A:return function(e,t){var n=t?fa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case w:case P:case T:case x:case M:case I:case"[object Uint8ClampedArray]":case R:case E:return ma(e,n);case h:return new i;case y:case S:return new i(e);case v:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return a=e,Tn?me(Tn.call(a)):{}}var a}(e,D,s)}}r||(r=new Bn);var N=r.get(e);if(N)return N;r.set(e,o),Zo(e)?e.forEach((function(i){o.add(Yn(i,t,n,i,e,r))})):zo(e)&&e.forEach((function(i,a){o.set(a,Yn(i,t,n,a,e,r))}));var O=C?void 0:(p?c?Va:za:c?Cs:_s)(e);return st(O||e,(function(i,a){O&&(i=e[a=i]),$n(o,a,Yn(i,t,n,a,e,r))})),o}function Qn(e,t,n){var i=n.length;if(null==e)return!i;for(e=me(e);i--;){var a=n[i],r=t[a],o=e[a];if(void 0===o&&!(a in e)||!r(o))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new ge(r);return Sr((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var a=-1,r=dt,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=ft(t,Rt(n))),i?(r=pt,o=!1):t.length>=200&&(r=Dt,o=!1,t=new Un(t));e:for(;++a<s;){var u=e[a],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else r(t,d,i)||l.push(u)}return l}Mn.templateSettings={escape:G,evaluate:H,interpolate:j,variable:"",imports:{_:Mn}},Mn.prototype=Rn.prototype,Mn.prototype.constructor=Mn,En.prototype=In(Rn.prototype),En.prototype.constructor=En,Dn.prototype=In(Rn.prototype),Dn.prototype.constructor=Dn,Ln.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(vn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ke.call(t,e)?t[e]:void 0},Ln.prototype.has=function(e){var t=this.__data__;return vn?void 0!==t[e]:ke.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vn&&void 0===t?"__lodash_hash_undefined__":t,this},Nn.prototype.clear=function(){this.__data__=[],this.size=0},Nn.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Nn.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Nn.prototype.has=function(e){return qn(this.__data__,e)>-1},Nn.prototype.set=function(e,t){var n=this.__data__,i=qn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},On.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(mn||Nn),string:new Ln}},On.prototype.delete=function(e){var t=Qa(this,e).delete(e);return this.size-=t?1:0,t},On.prototype.get=function(e){return Qa(this,e).get(e)},On.prototype.has=function(e){return Qa(this,e).has(e)},On.prototype.set=function(e,t){var n=Qa(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Un.prototype.add=Un.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Un.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.clear=function(){this.__data__=new Nn,this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Bn.prototype.get=function(e){return this.__data__.get(e)},Bn.prototype.has=function(e){return this.__data__.has(e)},Bn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Nn){var i=n.__data__;if(!mn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new On(i)}return n.set(e,t),this.size=n.size,this};var ti=Ca(ci),ni=Ca(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,a){return n=!!t(e,i,a)})),n}function ai(e,t,n){for(var i=-1,a=e.length;++i<a;){var r=e[i],o=t(r);if(null!=o&&(void 0===s?o==o&&!Qo(o):n(o,s)))var s=o,l=r}return l}function ri(e,t){var n=[];return ti(e,(function(e,i,a){t(e,i,a)&&n.push(e)})),n}function oi(e,t,n,i,a){var r=-1,o=e.length;for(n||(n=or),a||(a=[]);++r<o;){var s=e[r];t>0&&n(s)?t>1?oi(s,t-1,n,i,a):mt(a,s):i||(a[a.length]=s)}return a}var si=ka(),li=ka(!0);function ci(e,t){return e&&si(e,t,_s)}function ui(e,t){return e&&li(e,t,_s)}function di(e,t){return ut(t,(function(t){return Ho(e[t])}))}function pi(e,t){for(var n=0,i=(t=la(t,e)).length;null!=e&&n<i;)e=e[Pr(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return Lo(e)?i:mt(i,n(e))}function mi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Qe&&Qe in me(e)?function(e){var t=ke.call(e,Qe),n=e[Qe];try{e[Qe]=void 0;var i=!0}catch(e){}var a=Pe.call(e);i&&(t?e[Qe]=n:delete e[Qe]);return a}(e):function(e){return Pe.call(e)}(e)}function hi(e,t){return e>t}function yi(e,t){return null!=e&&ke.call(e,t)}function gi(e,t){return null!=e&&t in me(e)}function vi(e,t,n){for(var a=n?pt:dt,r=e[0].length,o=e.length,s=o,l=i(o),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=ft(d,Rt(t))),c=ln(d.length,c),l[s]=!n&&(t||r>=120&&d.length>=120)?new Un(s&&d):void 0}d=e[0];var p=-1,f=l[0];e:for(;++p<r&&u.length<c;){var m=d[p],h=t?t(m):m;if(m=n||0!==m?m:0,!(f?Dt(f,h):a(u,h,n))){for(s=o;--s;){var y=l[s];if(!(y?Dt(y,h):a(e[s],h,n)))continue e}f&&f.push(h),u.push(m)}}return u}function bi(e,t,n){var i=null==(e=yr(e,t=la(t,e)))?e:e[Pr(Fr(t))];return null==i?void 0:rt(i,e,n)}function Si(e){return qo(e)&&mi(e)==l}function _i(e,t,n,i,a){return e===t||(null==e||null==t||!qo(e)&&!qo(t)?e!=e&&t!=t:function(e,t,n,i,a,r){var o=Lo(e),s=Lo(t),f=o?c:ir(e),m=s?c:ir(t),C=(f=f==l?g:f)==g,w=(m=m==l?g:m)==g,P=f==m;if(P&&Bo(e)){if(!Bo(t))return!1;o=!0,C=!1}if(P&&!C)return r||(r=new Bn),o||Xo(e)?$a(e,t,n,i,a,r):function(e,t,n,i,a,r,o){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!r(new Le(e),new Le(t)));case u:case d:case y:return Io(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case S:return e==t+"";case h:var s=Ht;case b:var l=1&i;if(s||(s=$t),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var f=$a(s(e),s(t),i,a,r,o);return o.delete(e),f;case _:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}(e,t,f,n,i,a,r);if(!(1&n)){var T=C&&ke.call(e,"__wrapped__"),x=w&&ke.call(t,"__wrapped__");if(T||x){var M=T?e.value():e,I=x?t.value():t;return r||(r=new Bn),a(M,I,n,i,r)}}if(!P)return!1;return r||(r=new Bn),function(e,t,n,i,a,r){var o=1&n,s=za(e),l=s.length,c=za(t).length;if(l!=c&&!o)return!1;var u=l;for(;u--;){var d=s[u];if(!(o?d in t:ke.call(t,d)))return!1}var p=r.get(e),f=r.get(t);if(p&&f)return p==t&&f==e;var m=!0;r.set(e,t),r.set(t,e);var h=o;for(;++u<l;){d=s[u];var y=e[d],g=t[d];if(i)var v=o?i(g,y,d,t,e,r):i(y,g,d,e,t,r);if(!(void 0===v?y===g||a(y,g,n,i,r):v)){m=!1;break}h||(h="constructor"==d)}if(m&&!h){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(m=!1)}return r.delete(e),r.delete(t),m}(e,t,n,i,a,r)}(e,t,n,i,_i,a))}function Ci(e,t,n,i){var a=n.length,r=a,o=!i;if(null==e)return!r;for(e=me(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){var l=(s=n[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Bn;if(i)var p=i(c,u,l,e,t,d);if(!(void 0===p?_i(u,c,3,i,d):p))return!1}}return!0}function ki(e){return!(!$o(e)||(t=e,we&&we in t))&&(Ho(e)?Me:oe).test(Tr(e));var t}function Ai(e){return"function"==typeof e?e:null==e?Vs:"object"==typeof e?Lo(e)?Ii(e[0],e[1]):Mi(e):nl(e)}function wi(e){if(!pr(e))return on(e);var t=[];for(var n in me(e))ke.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pi(e){if(!$o(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=pr(e),n=[];for(var i in e)("constructor"!=i||!t&&ke.call(e,i))&&n.push(i);return n}function Ti(e,t){return e<t}function xi(e,t){var n=-1,a=Oo(e)?i(e.length):[];return ti(e,(function(e,i,r){a[++n]=t(e,i,r)})),a}function Mi(e){var t=Xa(e);return 1==t.length&&t[0][2]?mr(t[0][0],t[0][1]):function(n){return n===e||Ci(n,e,t)}}function Ii(e,t){return cr(e)&&fr(t)?mr(Pr(e),t):function(n){var i=ys(n,e);return void 0===i&&i===t?gs(n,e):_i(t,i,3)}}function Ri(e,t,n,i,a){e!==t&&si(t,(function(r,o){if(a||(a=new Bn),$o(r))!function(e,t,n,i,a,r,o){var s=vr(e,n),l=vr(t,n),c=o.get(l);if(c)return void Kn(e,n,c);var u=r?r(s,l,n+"",e,t,o):void 0,d=void 0===u;if(d){var p=Lo(l),f=!p&&Bo(l),m=!p&&!f&&Xo(l);u=l,p||f||m?Lo(s)?u=s:Uo(s)?u=va(s):f?(d=!1,u=pa(l,!0)):m?(d=!1,u=ma(l,!0)):u=[]:Wo(l)||Do(l)?(u=s,Do(s)?u=ss(s):$o(s)&&!Ho(s)||(u=rr(l))):d=!1}d&&(o.set(l,u),a(u,l,i,r,o),o.delete(l));Kn(e,n,u)}(e,t,o,n,Ri,i,a);else{var s=i?i(vr(e,o),r,o+"",e,t,a):void 0;void 0===s&&(s=r),Kn(e,o,s)}}),Cs)}function Ei(e,t){var n=e.length;if(n)return sr(t+=t<0?n:0,n)?e[t]:void 0}function Di(e,t,n){t=t.length?ft(t,(function(e){return Lo(e)?function(t){return pi(t,1===e.length?e[0]:e)}:e})):[Vs];var i=-1;return t=ft(t,Rt(Ya())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(xi(e,(function(e,n,a){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,a=e.criteria,r=t.criteria,o=a.length,s=n.length;for(;++i<o;){var l=ha(a[i],r[i]);if(l){if(i>=s)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Li(e,t,n){for(var i=-1,a=t.length,r={};++i<a;){var o=t[i],s=pi(e,o);n(s,o)&&ji(r,la(o,e),s)}return r}function Ni(e,t,n,i){var a=i?Ct:_t,r=-1,o=t.length,s=e;for(e===t&&(t=va(t)),n&&(s=ft(e,Rt(n)));++r<o;)for(var l=0,c=t[r],u=n?n(c):c;(l=a(s,u,l,i))>-1;)s!==e&&We.call(s,l,1),We.call(e,l,1);return e}function Oi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var a=t[n];if(n==i||a!==r){var r=a;sr(a)?We.call(e,a,1):ea(e,a)}}return e}function Ui(e,t){return e+en(dn()*(t-e+1))}function Bi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Fi(e,t){return _r(hr(e,t,Vs),e+"")}function Gi(e){return Gn(Is(e))}function Hi(e,t){var n=Is(e);return Ar(n,Zn(t,0,n.length))}function ji(e,t,n,i){if(!$o(e))return e;for(var a=-1,r=(t=la(t,e)).length,o=r-1,s=e;null!=s&&++a<r;){var l=Pr(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=o){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=$o(u)?u:sr(t[a+1])?[]:{})}$n(s,l,c),s=s[l]}return e}var Ki=bn?function(e,t){return bn.set(e,t),e}:Vs,$i=vt?function(e,t){return vt(e,"toString",{configurable:!0,enumerable:!1,value:$s(t),writable:!0})}:Vs;function qi(e){return Ar(Is(e))}function zi(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=i(r);++a<r;)o[a]=e[a+t];return o}function Vi(e,t){var n;return ti(e,(function(e,i,a){return!(n=t(e,i,a))})),!!n}function Wi(e,t,n){var i=0,a=null==e?i:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;i<a;){var r=i+a>>>1,o=e[r];null!==o&&!Qo(o)&&(n?o<=t:o<t)?i=r+1:a=r}return a}return Ji(e,t,Vs,n)}function Ji(e,t,n,i){var a=0,r=null==e?0:e.length;if(0===r)return 0;for(var o=(t=n(t))!=t,s=null===t,l=Qo(t),c=void 0===t;a<r;){var u=en((a+r)/2),d=n(e[u]),p=void 0!==d,f=null===d,m=d==d,h=Qo(d);if(o)var y=i||m;else y=c?m&&(i||p):s?m&&p&&(i||!f):l?m&&p&&!f&&(i||!h):!f&&!h&&(i?d<=t:d<t);y?a=u+1:r=u}return ln(r,4294967294)}function Zi(e,t){for(var n=-1,i=e.length,a=0,r=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!Io(s,l)){var l=s;r[a++]=0===o?0:o}}return r}function Yi(e){return"number"==typeof e?e:Qo(e)?NaN:+e}function Qi(e){if("string"==typeof e)return e;if(Lo(e))return ft(e,Qi)+"";if(Qo(e))return xn?xn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xi(e,t,n){var i=-1,a=dt,r=e.length,o=!0,s=[],l=s;if(n)o=!1,a=pt;else if(r>=200){var c=t?null:Ba(e);if(c)return $t(c);o=!1,a=Dt,l=new Un}else l=t?[]:s;e:for(;++i<r;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function ea(e,t){return null==(e=yr(e,t=la(t,e)))||delete e[Pr(Fr(t))]}function ta(e,t,n,i){return ji(e,t,n(pi(e,t)),i)}function na(e,t,n,i){for(var a=e.length,r=i?a:-1;(i?r--:++r<a)&&t(e[r],r,e););return n?zi(e,i?0:r,i?r+1:a):zi(e,i?r+1:0,i?a:r)}function ia(e,t){var n=e;return n instanceof Dn&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,mt([e],t.args))}),n)}function aa(e,t,n){var a=e.length;if(a<2)return a?Xi(e[0]):[];for(var r=-1,o=i(a);++r<a;)for(var s=e[r],l=-1;++l<a;)l!=r&&(o[r]=ei(o[r]||s,e[l],t,n));return Xi(oi(o,1),t,n)}function ra(e,t,n){for(var i=-1,a=e.length,r=t.length,o={};++i<a;){var s=i<r?t[i]:void 0;n(o,e[i],s)}return o}function oa(e){return Uo(e)?e:[]}function sa(e){return"function"==typeof e?e:Vs}function la(e,t){return Lo(e)?e:cr(e,t)?[e]:wr(ls(e))}var ca=Fi;function ua(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:zi(e,t,n)}var da=Pt||function(e){return Ve.clearTimeout(e)};function pa(e,t){if(t)return e.slice();var n=e.length,i=Oe?Oe(n):new e.constructor(n);return e.copy(i),i}function fa(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function ma(e,t){var n=t?fa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ha(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e==e,r=Qo(e),o=void 0!==t,s=null===t,l=t==t,c=Qo(t);if(!s&&!c&&!r&&e>t||r&&o&&l&&!s&&!c||i&&o&&l||!n&&l||!a)return 1;if(!i&&!r&&!c&&e<t||c&&n&&a&&!i&&!r||s&&n&&a||!o&&a||!l)return-1}return 0}function ya(e,t,n,a){for(var r=-1,o=e.length,s=n.length,l=-1,c=t.length,u=sn(o-s,0),d=i(c+u),p=!a;++l<c;)d[l]=t[l];for(;++r<s;)(p||r<o)&&(d[n[r]]=e[r]);for(;u--;)d[l++]=e[r++];return d}function ga(e,t,n,a){for(var r=-1,o=e.length,s=-1,l=n.length,c=-1,u=t.length,d=sn(o-l,0),p=i(d+u),f=!a;++r<d;)p[r]=e[r];for(var m=r;++c<u;)p[m+c]=t[c];for(;++s<l;)(f||r<o)&&(p[m+n[s]]=e[r++]);return p}function va(e,t){var n=-1,a=e.length;for(t||(t=i(a));++n<a;)t[n]=e[n];return t}function ba(e,t,n,i){var a=!n;n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?Wn(n,s,l):$n(n,s,l)}return n}function Sa(e,t){return function(n,i){var a=Lo(n)?ot:zn,r=t?t():{};return a(n,e,Ya(i,2),r)}}function _a(e){return Fi((function(t,n){var i=-1,a=n.length,r=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,o&&lr(n[0],n[1],o)&&(r=a<3?void 0:r,a=1),t=me(t);++i<a;){var s=n[i];s&&e(t,s,i,r)}return t}))}function Ca(e,t){return function(n,i){if(null==n)return n;if(!Oo(n))return e(n,i);for(var a=n.length,r=t?a:-1,o=me(n);(t?r--:++r<a)&&!1!==i(o[r],r,o););return n}}function ka(e){return function(t,n,i){for(var a=-1,r=me(t),o=i(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(r[l],l,r))break}return t}}function Aa(e){return function(t){var n=Gt(t=ls(t))?Vt(t):void 0,i=n?n[0]:t.charAt(0),a=n?ua(n,1).join(""):t.slice(1);return i[e]()+a}}function wa(e){return function(t){return ht(Hs(Ds(t).replace(Ee,"")),e,"")}}function Pa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),i=e.apply(n,t);return $o(i)?i:n}}function Ta(e){return function(t,n,i){var a=me(t);if(!Oo(t)){var r=Ya(n,3);t=_s(t),n=function(e){return r(a[e],e,a)}}var o=e(t,n,i);return o>-1?a[r?t[o]:o]:void 0}}function xa(e){return qa((function(t){var n=t.length,i=n,a=En.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ge(r);if(a&&!s&&"wrapper"==Ja(o))var s=new En([],!0)}for(i=s?i:n;++i<n;){var l=Ja(o=t[i]),c="wrapper"==l?Wa(o):void 0;s=c&&ur(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Ja(c[0])].apply(s,c[3]):1==o.length&&ur(o)?s[l]():s.thru(o)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Lo(i))return s.plant(i).value();for(var a=0,r=n?t[a].apply(this,e):i;++a<n;)r=t[a].call(this,r);return r}}))}function Ma(e,t,n,a,r,o,s,l,c,u){var d=128&t,p=1&t,f=2&t,m=24&t,h=512&t,y=f?void 0:Pa(e);return function g(){for(var v=arguments.length,b=i(v),S=v;S--;)b[S]=arguments[S];if(m)var _=Za(g),C=Ot(b,_);if(a&&(b=ya(b,a,r,m)),o&&(b=ga(b,o,s,m)),v-=C,m&&v<u){var k=Kt(b,_);return Oa(e,t,Ma,g.placeholder,n,b,k,l,c,u-v)}var A=p?n:this,w=f?A[e]:e;return v=b.length,l?b=gr(b,l):h&&v>1&&b.reverse(),d&&c<v&&(b.length=c),this&&this!==Ve&&this instanceof g&&(w=y||Pa(w)),w.apply(A,b)}}function Ia(e,t){return function(n,i){return function(e,t,n,i){return ci(e,(function(e,a,r){t(i,n(e),a,r)})),i}(n,e,t(i),{})}}function Ra(e,t){return function(n,i){var a;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(a=n),void 0!==i){if(void 0===a)return i;"string"==typeof n||"string"==typeof i?(n=Qi(n),i=Qi(i)):(n=Yi(n),i=Yi(i)),a=e(n,i)}return a}}function Ea(e){return qa((function(t){return t=ft(t,Rt(Ya())),Fi((function(n){var i=this;return e(t,(function(e){return rt(e,i,n)}))}))}))}function Da(e,t){var n=(t=void 0===t?" ":Qi(t)).length;if(n<2)return n?Bi(t,e):t;var i=Bi(t,Xt(e/zt(t)));return Gt(t)?ua(Vt(i),0,e).join(""):i.slice(0,e)}function La(e){return function(t,n,a){return a&&"number"!=typeof a&&lr(t,n,a)&&(n=a=void 0),t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n,a){for(var r=-1,o=sn(Xt((t-e)/(n||1)),0),s=i(o);o--;)s[a?o:++r]=e,e+=n;return s}(t,n,a=void 0===a?t<n?1:-1:is(a),e)}}function Na(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Oa(e,t,n,i,a,r,o,s,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,a,u?r:void 0,u?o:void 0,u?void 0:r,u?void 0:o,s,l,c],p=n.apply(void 0,d);return ur(e)&&br(p,d),p.placeholder=i,Cr(p,e,t)}function Ua(e){var t=fe[e];return function(e,n){if(e=os(e),(n=null==n?0:ln(as(n),292))&&an(e)){var i=(ls(e)+"e").split("e");return+((i=(ls(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Ba=yn&&1/$t(new yn([,-0]))[1]==1/0?function(e){return new yn(e)}:Qs;function Fa(e){return function(t){var n=ir(t);return n==h?Ht(t):n==b?qt(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ga(e,t,n,a,s,l,c,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ge(r);var p=a?a.length:0;if(p||(t&=-97,a=s=void 0),c=void 0===c?c:sn(as(c),0),u=void 0===u?u:as(u),p-=s?s.length:0,64&t){var f=a,m=s;a=s=void 0}var h=d?void 0:Wa(e),y=[e,t,n,a,s,f,m,l,c,u];if(h&&function(e,t){var n=e[1],i=t[1],a=n|i,r=a<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!r&&!s)return e;1&i&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?ya(c,l,t[4]):l,e[4]=c?Kt(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?ga(c,l,t[6]):l,e[6]=c?Kt(e[5],o):t[6]);(l=t[7])&&(e[7]=l);128&i&&(e[8]=null==e[8]?t[8]:ln(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(y,h),e=y[0],t=y[1],n=y[2],a=y[3],s=y[4],!(u=y[9]=void 0===y[9]?d?0:e.length:sn(y[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var a=Pa(e);return function r(){for(var o=arguments.length,s=i(o),l=o,c=Za(r);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:Kt(s,c);if((o-=u.length)<n)return Oa(e,t,Ma,r.placeholder,void 0,s,u,void 0,void 0,n-o);var d=this&&this!==Ve&&this instanceof r?a:e;return rt(d,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Ma.apply(void 0,y):function(e,t,n,a){var r=1&t,o=Pa(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=a.length,d=i(u+l),p=this&&this!==Ve&&this instanceof t?o:e;++c<u;)d[c]=a[c];for(;l--;)d[c++]=arguments[++s];return rt(p,r?n:this,d)}}(e,t,n,a);else var g=function(e,t,n){var i=1&t,a=Pa(e);return function t(){var r=this&&this!==Ve&&this instanceof t?a:e;return r.apply(i?n:this,arguments)}}(e,t,n);return Cr((h?Ki:br)(g,y),e,t)}function Ha(e,t,n,i){return void 0===e||Io(e,Se[n])&&!ke.call(i,n)?t:e}function ja(e,t,n,i,a,r){return $o(e)&&$o(t)&&(r.set(t,e),Ri(e,t,void 0,ja,r),r.delete(t)),e}function Ka(e){return Wo(e)?void 0:e}function $a(e,t,n,i,a,r){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=r.get(e),u=r.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,f=2&n?new Un:void 0;for(r.set(e,t),r.set(t,e);++d<s;){var m=e[d],h=t[d];if(i)var y=o?i(h,m,d,t,e,r):i(m,h,d,e,t,r);if(void 0!==y){if(y)continue;p=!1;break}if(f){if(!gt(t,(function(e,t){if(!Dt(f,t)&&(m===e||a(m,e,n,i,r)))return f.push(t)}))){p=!1;break}}else if(m!==h&&!a(m,h,n,i,r)){p=!1;break}}return r.delete(e),r.delete(t),p}function qa(e){return _r(hr(e,void 0,Lr),e+"")}function za(e){return fi(e,_s,tr)}function Va(e){return fi(e,Cs,nr)}var Wa=bn?function(e){return bn.get(e)}:Qs;function Ja(e){for(var t=e.name+"",n=Sn[t],i=ke.call(Sn,t)?n.length:0;i--;){var a=n[i],r=a.func;if(null==r||r==e)return a.name}return t}function Za(e){return(ke.call(Mn,"placeholder")?Mn:e).placeholder}function Ya(){var e=Mn.iteratee||Ws;return e=e===Ws?Ai:e,arguments.length?e(arguments[0],arguments[1]):e}function Qa(e,t){var n,i,a=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Xa(e){for(var t=_s(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,fr(a)]}return t}function er(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ki(n)?n:void 0}var tr=tn?function(e){return null==e?[]:(e=me(e),ut(tn(e),(function(t){return ze.call(e,t)})))}:rl,nr=tn?function(e){for(var t=[];e;)mt(t,tr(e)),e=je(e);return t}:rl,ir=mi;function ar(e,t,n){for(var i=-1,a=(t=la(t,e)).length,r=!1;++i<a;){var o=Pr(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}return r||++i!=a?r:!!(a=null==e?0:e.length)&&Ko(a)&&sr(o,a)&&(Lo(e)||Do(e))}function rr(e){return"function"!=typeof e.constructor||pr(e)?{}:In(je(e))}function or(e){return Lo(e)||Do(e)||!!(Je&&e&&e[Je])}function sr(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function lr(e,t,n){if(!$o(n))return!1;var i=typeof t;return!!("number"==i?Oo(n)&&sr(t,n.length):"string"==i&&t in n)&&Io(n[t],e)}function cr(e,t){if(Lo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qo(e))||($.test(e)||!K.test(e)||null!=t&&e in me(t))}function ur(e){var t=Ja(e),n=Mn[t];if("function"!=typeof n||!(t in Dn.prototype))return!1;if(e===n)return!0;var i=Wa(n);return!!i&&e===i[0]}(fn&&ir(new fn(new ArrayBuffer(1)))!=A||mn&&ir(new mn)!=h||hn&&"[object Promise]"!=ir(hn.resolve())||yn&&ir(new yn)!=b||gn&&ir(new gn)!=C)&&(ir=function(e){var t=mi(e),n=t==g?e.constructor:void 0,i=n?Tr(n):"";if(i)switch(i){case _n:return A;case Cn:return h;case kn:return"[object Promise]";case An:return b;case wn:return C}return t});var dr=_e?Ho:ol;function pr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Se)}function fr(e){return e==e&&!$o(e)}function mr(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function hr(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,o=sn(a.length-t,0),s=i(o);++r<o;)s[r]=a[t+r];r=-1;for(var l=i(t+1);++r<t;)l[r]=a[r];return l[t]=n(s),rt(e,this,l)}}function yr(e,t){return t.length<2?e:pi(e,zi(t,0,-1))}function gr(e,t){for(var n=e.length,i=ln(t.length,n),a=va(e);i--;){var r=t[i];e[i]=sr(r,n)?a[r]:void 0}return e}function vr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var br=kr(Ki),Sr=Qt||function(e,t){return Ve.setTimeout(e,t)},_r=kr($i);function Cr(e,t,n){var i=t+"";return _r(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Z,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return st(s,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(Q):[]}(i),n)))}function kr(e){var t=0,n=0;return function(){var i=cn(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ar(e,t){var n=-1,i=e.length,a=i-1;for(t=void 0===t?i:t;++n<t;){var r=Ui(n,a),o=e[r];e[r]=e[n],e[n]=o}return e.length=t,e}var wr=function(e){var t=Ao(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,(function(e,n,i,a){t.push(i?a.replace(te,"$1"):n||e)})),t}));function Pr(e){if("string"==typeof e||Qo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Tr(e){if(null!=e){try{return Ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xr(e){if(e instanceof Dn)return e.clone();var t=new En(e.__wrapped__,e.__chain__);return t.__actions__=va(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mr=Fi((function(e,t){return Uo(e)?ei(e,oi(t,1,Uo,!0)):[]})),Ir=Fi((function(e,t){var n=Fr(t);return Uo(n)&&(n=void 0),Uo(e)?ei(e,oi(t,1,Uo,!0),Ya(n,2)):[]})),Rr=Fi((function(e,t){var n=Fr(t);return Uo(n)&&(n=void 0),Uo(e)?ei(e,oi(t,1,Uo,!0),void 0,n):[]}));function Er(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=null==n?0:as(n);return a<0&&(a=sn(i+a,0)),St(e,Ya(t,3),a)}function Dr(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return void 0!==n&&(a=as(n),a=n<0?sn(i+a,0):ln(a,i-1)),St(e,Ya(t,3),a,!0)}function Lr(e){return(null==e?0:e.length)?oi(e,1):[]}function Nr(e){return e&&e.length?e[0]:void 0}var Or=Fi((function(e){var t=ft(e,oa);return t.length&&t[0]===e[0]?vi(t):[]})),Ur=Fi((function(e){var t=Fr(e),n=ft(e,oa);return t===Fr(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?vi(n,Ya(t,2)):[]})),Br=Fi((function(e){var t=Fr(e),n=ft(e,oa);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?vi(n,void 0,t):[]}));function Fr(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Gr=Fi(Hr);function Hr(e,t){return e&&e.length&&t&&t.length?Ni(e,t):e}var jr=qa((function(e,t){var n=null==e?0:e.length,i=Jn(e,t);return Oi(e,ft(t,(function(e){return sr(e,n)?+e:e})).sort(ha)),i}));function Kr(e){return null==e?e:pn.call(e)}var $r=Fi((function(e){return Xi(oi(e,1,Uo,!0))})),qr=Fi((function(e){var t=Fr(e);return Uo(t)&&(t=void 0),Xi(oi(e,1,Uo,!0),Ya(t,2))})),zr=Fi((function(e){var t=Fr(e);return t="function"==typeof t?t:void 0,Xi(oi(e,1,Uo,!0),void 0,t)}));function Vr(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Uo(e))return t=sn(e.length,t),!0})),Mt(t,(function(t){return ft(e,wt(t))}))}function Wr(e,t){if(!e||!e.length)return[];var n=Vr(e);return null==t?n:ft(n,(function(e){return rt(t,void 0,e)}))}var Jr=Fi((function(e,t){return Uo(e)?ei(e,t):[]})),Zr=Fi((function(e){return aa(ut(e,Uo))})),Yr=Fi((function(e){var t=Fr(e);return Uo(t)&&(t=void 0),aa(ut(e,Uo),Ya(t,2))})),Qr=Fi((function(e){var t=Fr(e);return t="function"==typeof t?t:void 0,aa(ut(e,Uo),void 0,t)})),Xr=Fi(Vr);var eo=Fi((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Wr(e,n)}));function to(e){var t=Mn(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=qa((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return Jn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Dn&&sr(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[a],thisArg:void 0}),new En(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(a)}));var ao=Sa((function(e,t,n){ke.call(e,n)?++e[n]:Wn(e,n,1)}));var ro=Ta(Er),oo=Ta(Dr);function so(e,t){return(Lo(e)?st:ti)(e,Ya(t,3))}function lo(e,t){return(Lo(e)?lt:ni)(e,Ya(t,3))}var co=Sa((function(e,t,n){ke.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=Fi((function(e,t,n){var a=-1,r="function"==typeof t,o=Oo(e)?i(e.length):[];return ti(e,(function(e){o[++a]=r?rt(t,e,n):bi(e,t,n)})),o})),po=Sa((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(Lo(e)?ft:xi)(e,Ya(t,3))}var mo=Sa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ho=Fi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&lr(e,t[0],t[1])?t=[]:n>2&&lr(t[0],t[1],t[2])&&(t=[t[0]]),Di(e,oi(t,1),[])})),yo=Yt||function(){return Ve.Date.now()};function go(e,t,n){return t=n?void 0:t,Ga(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vo(e,t){var n;if("function"!=typeof t)throw new ge(r);return e=as(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=Fi((function(e,t,n){var i=1;if(n.length){var a=Kt(n,Za(bo));i|=32}return Ga(e,i,t,n,a)})),So=Fi((function(e,t,n){var i=3;if(n.length){var a=Kt(n,Za(So));i|=32}return Ga(t,i,e,n,a)}));function _o(e,t,n){var i,a,o,s,l,c,u=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new ge(r);function m(t){var n=i,r=a;return i=a=void 0,u=t,s=e.apply(r,n)}function h(e){return u=e,l=Sr(g,t),d?m(e):s}function y(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=o}function g(){var e=yo();if(y(e))return v(e);l=Sr(g,function(e){var n=t-(e-c);return p?ln(n,o-(e-u)):n}(e))}function v(e){return l=void 0,f&&i?m(e):(i=a=void 0,s)}function b(){var e=yo(),n=y(e);if(i=arguments,a=this,c=e,n){if(void 0===l)return h(c);if(p)return da(l),l=Sr(g,t),m(c)}return void 0===l&&(l=Sr(g,t)),s}return t=os(t)||0,$o(n)&&(d=!!n.leading,o=(p="maxWait"in n)?sn(os(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&da(l),u=0,i=c=a=l=void 0},b.flush=function(){return void 0===l?s:v(yo())},b}var Co=Fi((function(e,t){return Xn(e,1,t)})),ko=Fi((function(e,t,n){return Xn(e,os(t)||0,n)}));function Ao(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ge(r);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var o=e.apply(this,i);return n.cache=r.set(a,o)||r,o};return n.cache=new(Ao.Cache||On),n}function wo(e){if("function"!=typeof e)throw new ge(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ao.Cache=On;var Po=ca((function(e,t){var n=(t=1==t.length&&Lo(t[0])?ft(t[0],Rt(Ya())):ft(oi(t,1),Rt(Ya()))).length;return Fi((function(i){for(var a=-1,r=ln(i.length,n);++a<r;)i[a]=t[a].call(this,i[a]);return rt(e,this,i)}))})),To=Fi((function(e,t){return Ga(e,32,void 0,t,Kt(t,Za(To)))})),xo=Fi((function(e,t){return Ga(e,64,void 0,t,Kt(t,Za(xo)))})),Mo=qa((function(e,t){return Ga(e,256,void 0,void 0,void 0,t)}));function Io(e,t){return e===t||e!=e&&t!=t}var Ro=Na(hi),Eo=Na((function(e,t){return e>=t})),Do=Si(function(){return arguments}())?Si:function(e){return qo(e)&&ke.call(e,"callee")&&!ze.call(e,"callee")},Lo=i.isArray,No=Xe?Rt(Xe):function(e){return qo(e)&&mi(e)==k};function Oo(e){return null!=e&&Ko(e.length)&&!Ho(e)}function Uo(e){return qo(e)&&Oo(e)}var Bo=nn||ol,Fo=et?Rt(et):function(e){return qo(e)&&mi(e)==d};function Go(e){if(!qo(e))return!1;var t=mi(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Ho(e){if(!$o(e))return!1;var t=mi(e);return t==f||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function jo(e){return"number"==typeof e&&e==as(e)}function Ko(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function $o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qo(e){return null!=e&&"object"==typeof e}var zo=tt?Rt(tt):function(e){return qo(e)&&ir(e)==h};function Vo(e){return"number"==typeof e||qo(e)&&mi(e)==y}function Wo(e){if(!qo(e)||mi(e)!=g)return!1;var t=je(e);if(null===t)return!0;var n=ke.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==Te}var Jo=nt?Rt(nt):function(e){return qo(e)&&mi(e)==v};var Zo=it?Rt(it):function(e){return qo(e)&&ir(e)==b};function Yo(e){return"string"==typeof e||!Lo(e)&&qo(e)&&mi(e)==S}function Qo(e){return"symbol"==typeof e||qo(e)&&mi(e)==_}var Xo=at?Rt(at):function(e){return qo(e)&&Ko(e.length)&&!!Ge[mi(e)]};var es=Na(Ti),ts=Na((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Oo(e))return Yo(e)?Vt(e):va(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=ir(e);return(t==h?Ht:t==b?$t:Is)(e)}function is(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function as(e){var t=is(e),n=t%1;return t==t?n?t-n:t:0}function rs(e){return e?Zn(as(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Qo(e))return NaN;if($o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=re.test(e);return n||se.test(e)?$e(e.slice(2),n?2:8):ae.test(e)?NaN:+e}function ss(e){return ba(e,Cs(e))}function ls(e){return null==e?"":Qi(e)}var cs=_a((function(e,t){if(pr(t)||Oo(t))ba(t,_s(t),e);else for(var n in t)ke.call(t,n)&&$n(e,n,t[n])})),us=_a((function(e,t){ba(t,Cs(t),e)})),ds=_a((function(e,t,n,i){ba(t,Cs(t),e,i)})),ps=_a((function(e,t,n,i){ba(t,_s(t),e,i)})),fs=qa(Jn);var ms=Fi((function(e,t){e=me(e);var n=-1,i=t.length,a=i>2?t[2]:void 0;for(a&&lr(t[0],t[1],a)&&(i=1);++n<i;)for(var r=t[n],o=Cs(r),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(void 0===u||Io(u,Se[c])&&!ke.call(e,c))&&(e[c]=r[c])}return e})),hs=Fi((function(e){return e.push(void 0,ja),rt(As,void 0,e)}));function ys(e,t,n){var i=null==e?void 0:pi(e,t);return void 0===i?n:i}function gs(e,t){return null!=e&&ar(e,t,gi)}var vs=Ia((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),e[t]=n}),$s(Vs)),bs=Ia((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),ke.call(e,t)?e[t].push(n):e[t]=[n]}),Ya),Ss=Fi(bi);function _s(e){return Oo(e)?Fn(e):wi(e)}function Cs(e){return Oo(e)?Fn(e,!0):Pi(e)}var ks=_a((function(e,t,n){Ri(e,t,n)})),As=_a((function(e,t,n,i){Ri(e,t,n,i)})),ws=qa((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=la(t,e),i||(i=t.length>1),t})),ba(e,Va(e),n),i&&(n=Yn(n,7,Ka));for(var a=t.length;a--;)ea(n,t[a]);return n}));var Ps=qa((function(e,t){return null==e?{}:function(e,t){return Li(e,t,(function(t,n){return gs(e,n)}))}(e,t)}));function Ts(e,t){if(null==e)return{};var n=ft(Va(e),(function(e){return[e]}));return t=Ya(t),Li(e,n,(function(e,n){return t(e,n[0])}))}var xs=Fa(_s),Ms=Fa(Cs);function Is(e){return null==e?[]:Et(e,_s(e))}var Rs=wa((function(e,t,n){return t=t.toLowerCase(),e+(n?Es(t):t)}));function Es(e){return Gs(ls(e).toLowerCase())}function Ds(e){return(e=ls(e))&&e.replace(ce,Ut).replace(De,"")}var Ls=wa((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ns=wa((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Os=Aa("toLowerCase");var Us=wa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Bs=wa((function(e,t,n){return e+(n?" ":"")+Gs(t)}));var Fs=wa((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Gs=Aa("toUpperCase");function Hs(e,t,n){return e=ls(e),void 0===(t=n?void 0:t)?function(e){return Ue.test(e)}(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var js=Fi((function(e,t){try{return rt(e,void 0,t)}catch(e){return Go(e)?e:new J(e)}})),Ks=qa((function(e,t){return st(t,(function(t){t=Pr(t),Wn(e,t,bo(e[t],e))})),e}));function $s(e){return function(){return e}}var qs=xa(),zs=xa(!0);function Vs(e){return e}function Ws(e){return Ai("function"==typeof e?e:Yn(e,1))}var Js=Fi((function(e,t){return function(n){return bi(n,e,t)}})),Zs=Fi((function(e,t){return function(n){return bi(e,n,t)}}));function Ys(e,t,n){var i=_s(t),a=di(t,i);null!=n||$o(t)&&(a.length||!i.length)||(n=t,t=e,e=this,a=di(t,_s(t)));var r=!($o(n)&&"chain"in n&&!n.chain),o=Ho(e);return st(a,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(r||t){var n=e(this.__wrapped__),a=n.__actions__=va(this.__actions__);return a.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,mt([this.value()],arguments))})})),e}function Qs(){}var Xs=Ea(ft),el=Ea(ct),tl=Ea(gt);function nl(e){return cr(e)?wt(Pr(e)):function(e){return function(t){return pi(t,e)}}(e)}var il=La(),al=La(!0);function rl(){return[]}function ol(){return!1}var sl=Ra((function(e,t){return e+t}),0),ll=Ua("ceil"),cl=Ra((function(e,t){return e/t}),1),ul=Ua("floor");var dl,pl=Ra((function(e,t){return e*t}),1),fl=Ua("round"),ml=Ra((function(e,t){return e-t}),0);return Mn.after=function(e,t){if("function"!=typeof t)throw new ge(r);return e=as(e),function(){if(--e<1)return t.apply(this,arguments)}},Mn.ary=go,Mn.assign=cs,Mn.assignIn=us,Mn.assignInWith=ds,Mn.assignWith=ps,Mn.at=fs,Mn.before=vo,Mn.bind=bo,Mn.bindAll=Ks,Mn.bindKey=So,Mn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Lo(e)?e:[e]},Mn.chain=to,Mn.chunk=function(e,t,n){t=(n?lr(e,t,n):void 0===t)?1:sn(as(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var r=0,o=0,s=i(Xt(a/t));r<a;)s[o++]=zi(e,r,r+=t);return s},Mn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,a=[];++t<n;){var r=e[t];r&&(a[i++]=r)}return a},Mn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return mt(Lo(n)?va(n):[n],oi(t,1))},Mn.cond=function(e){var t=null==e?0:e.length,n=Ya();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ge(r);return[n(e[0]),e[1]]})):[],Fi((function(n){for(var i=-1;++i<t;){var a=e[i];if(rt(a[0],this,n))return rt(a[1],this,n)}}))},Mn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Qn(n,e,t)}}(Yn(e,1))},Mn.constant=$s,Mn.countBy=ao,Mn.create=function(e,t){var n=In(e);return null==t?n:Vn(n,t)},Mn.curry=function e(t,n,i){var a=Ga(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return a.placeholder=e.placeholder,a},Mn.curryRight=function e(t,n,i){var a=Ga(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return a.placeholder=e.placeholder,a},Mn.debounce=_o,Mn.defaults=ms,Mn.defaultsDeep=hs,Mn.defer=Co,Mn.delay=ko,Mn.difference=Mr,Mn.differenceBy=Ir,Mn.differenceWith=Rr,Mn.drop=function(e,t,n){var i=null==e?0:e.length;return i?zi(e,(t=n||void 0===t?1:as(t))<0?0:t,i):[]},Mn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?zi(e,0,(t=i-(t=n||void 0===t?1:as(t)))<0?0:t):[]},Mn.dropRightWhile=function(e,t){return e&&e.length?na(e,Ya(t,3),!0,!0):[]},Mn.dropWhile=function(e,t){return e&&e.length?na(e,Ya(t,3),!0):[]},Mn.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&lr(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=as(n))<0&&(n=-n>a?0:a+n),(i=void 0===i||i>a?a:as(i))<0&&(i+=a),i=n>i?0:rs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Mn.filter=function(e,t){return(Lo(e)?ut:ri)(e,Ya(t,3))},Mn.flatMap=function(e,t){return oi(fo(e,t),1)},Mn.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},Mn.flatMapDepth=function(e,t,n){return n=void 0===n?1:as(n),oi(fo(e,t),n)},Mn.flatten=Lr,Mn.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},Mn.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:as(t)):[]},Mn.flip=function(e){return Ga(e,512)},Mn.flow=qs,Mn.flowRight=zs,Mn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var a=e[t];i[a[0]]=a[1]}return i},Mn.functions=function(e){return null==e?[]:di(e,_s(e))},Mn.functionsIn=function(e){return null==e?[]:di(e,Cs(e))},Mn.groupBy=co,Mn.initial=function(e){return(null==e?0:e.length)?zi(e,0,-1):[]},Mn.intersection=Or,Mn.intersectionBy=Ur,Mn.intersectionWith=Br,Mn.invert=vs,Mn.invertBy=bs,Mn.invokeMap=uo,Mn.iteratee=Ws,Mn.keyBy=po,Mn.keys=_s,Mn.keysIn=Cs,Mn.map=fo,Mn.mapKeys=function(e,t){var n={};return t=Ya(t,3),ci(e,(function(e,i,a){Wn(n,t(e,i,a),e)})),n},Mn.mapValues=function(e,t){var n={};return t=Ya(t,3),ci(e,(function(e,i,a){Wn(n,i,t(e,i,a))})),n},Mn.matches=function(e){return Mi(Yn(e,1))},Mn.matchesProperty=function(e,t){return Ii(e,Yn(t,1))},Mn.memoize=Ao,Mn.merge=ks,Mn.mergeWith=As,Mn.method=Js,Mn.methodOf=Zs,Mn.mixin=Ys,Mn.negate=wo,Mn.nthArg=function(e){return e=as(e),Fi((function(t){return Ei(t,e)}))},Mn.omit=ws,Mn.omitBy=function(e,t){return Ts(e,wo(Ya(t)))},Mn.once=function(e){return vo(2,e)},Mn.orderBy=function(e,t,n,i){return null==e?[]:(Lo(t)||(t=null==t?[]:[t]),Lo(n=i?void 0:n)||(n=null==n?[]:[n]),Di(e,t,n))},Mn.over=Xs,Mn.overArgs=Po,Mn.overEvery=el,Mn.overSome=tl,Mn.partial=To,Mn.partialRight=xo,Mn.partition=mo,Mn.pick=Ps,Mn.pickBy=Ts,Mn.property=nl,Mn.propertyOf=function(e){return function(t){return null==e?void 0:pi(e,t)}},Mn.pull=Gr,Mn.pullAll=Hr,Mn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ni(e,t,Ya(n,2)):e},Mn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ni(e,t,void 0,n):e},Mn.pullAt=jr,Mn.range=il,Mn.rangeRight=al,Mn.rearg=Mo,Mn.reject=function(e,t){return(Lo(e)?ut:ri)(e,wo(Ya(t,3)))},Mn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,a=[],r=e.length;for(t=Ya(t,3);++i<r;){var o=e[i];t(o,i,e)&&(n.push(o),a.push(i))}return Oi(e,a),n},Mn.rest=function(e,t){if("function"!=typeof e)throw new ge(r);return Fi(e,t=void 0===t?t:as(t))},Mn.reverse=Kr,Mn.sampleSize=function(e,t,n){return t=(n?lr(e,t,n):void 0===t)?1:as(t),(Lo(e)?Hn:Hi)(e,t)},Mn.set=function(e,t,n){return null==e?e:ji(e,t,n)},Mn.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:ji(e,t,n,i)},Mn.shuffle=function(e){return(Lo(e)?jn:qi)(e)},Mn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&lr(e,t,n)?(t=0,n=i):(t=null==t?0:as(t),n=void 0===n?i:as(n)),zi(e,t,n)):[]},Mn.sortBy=ho,Mn.sortedUniq=function(e){return e&&e.length?Zi(e):[]},Mn.sortedUniqBy=function(e,t){return e&&e.length?Zi(e,Ya(t,2)):[]},Mn.split=function(e,t,n){return n&&"number"!=typeof n&&lr(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ls(e))&&("string"==typeof t||null!=t&&!Jo(t))&&!(t=Qi(t))&&Gt(e)?ua(Vt(e),0,n):e.split(t,n):[]},Mn.spread=function(e,t){if("function"!=typeof e)throw new ge(r);return t=null==t?0:sn(as(t),0),Fi((function(n){var i=n[t],a=ua(n,0,t);return i&&mt(a,i),rt(e,this,a)}))},Mn.tail=function(e){var t=null==e?0:e.length;return t?zi(e,1,t):[]},Mn.take=function(e,t,n){return e&&e.length?zi(e,0,(t=n||void 0===t?1:as(t))<0?0:t):[]},Mn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?zi(e,(t=i-(t=n||void 0===t?1:as(t)))<0?0:t,i):[]},Mn.takeRightWhile=function(e,t){return e&&e.length?na(e,Ya(t,3),!1,!0):[]},Mn.takeWhile=function(e,t){return e&&e.length?na(e,Ya(t,3)):[]},Mn.tap=function(e,t){return t(e),e},Mn.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new ge(r);return $o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),_o(e,t,{leading:i,maxWait:t,trailing:a})},Mn.thru=no,Mn.toArray=ns,Mn.toPairs=xs,Mn.toPairsIn=Ms,Mn.toPath=function(e){return Lo(e)?ft(e,Pr):Qo(e)?[e]:va(wr(ls(e)))},Mn.toPlainObject=ss,Mn.transform=function(e,t,n){var i=Lo(e),a=i||Bo(e)||Xo(e);if(t=Ya(t,4),null==n){var r=e&&e.constructor;n=a?i?new r:[]:$o(e)&&Ho(r)?In(je(e)):{}}return(a?st:ci)(e,(function(e,i,a){return t(n,e,i,a)})),n},Mn.unary=function(e){return go(e,1)},Mn.union=$r,Mn.unionBy=qr,Mn.unionWith=zr,Mn.uniq=function(e){return e&&e.length?Xi(e):[]},Mn.uniqBy=function(e,t){return e&&e.length?Xi(e,Ya(t,2)):[]},Mn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xi(e,void 0,t):[]},Mn.unset=function(e,t){return null==e||ea(e,t)},Mn.unzip=Vr,Mn.unzipWith=Wr,Mn.update=function(e,t,n){return null==e?e:ta(e,t,sa(n))},Mn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:ta(e,t,sa(n),i)},Mn.values=Is,Mn.valuesIn=function(e){return null==e?[]:Et(e,Cs(e))},Mn.without=Jr,Mn.words=Hs,Mn.wrap=function(e,t){return To(sa(t),e)},Mn.xor=Zr,Mn.xorBy=Yr,Mn.xorWith=Qr,Mn.zip=Xr,Mn.zipObject=function(e,t){return ra(e||[],t||[],$n)},Mn.zipObjectDeep=function(e,t){return ra(e||[],t||[],ji)},Mn.zipWith=eo,Mn.entries=xs,Mn.entriesIn=Ms,Mn.extend=us,Mn.extendWith=ds,Ys(Mn,Mn),Mn.add=sl,Mn.attempt=js,Mn.camelCase=Rs,Mn.capitalize=Es,Mn.ceil=ll,Mn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Zn(os(e),t,n)},Mn.clone=function(e){return Yn(e,4)},Mn.cloneDeep=function(e){return Yn(e,5)},Mn.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},Mn.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},Mn.conformsTo=function(e,t){return null==t||Qn(e,t,_s(t))},Mn.deburr=Ds,Mn.defaultTo=function(e,t){return null==e||e!=e?t:e},Mn.divide=cl,Mn.endsWith=function(e,t,n){e=ls(e),t=Qi(t);var i=e.length,a=n=void 0===n?i:Zn(as(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Mn.eq=Io,Mn.escape=function(e){return(e=ls(e))&&F.test(e)?e.replace(U,Bt):e},Mn.escapeRegExp=function(e){return(e=ls(e))&&V.test(e)?e.replace(z,"\\$&"):e},Mn.every=function(e,t,n){var i=Lo(e)?ct:ii;return n&&lr(e,t,n)&&(t=void 0),i(e,Ya(t,3))},Mn.find=ro,Mn.findIndex=Er,Mn.findKey=function(e,t){return bt(e,Ya(t,3),ci)},Mn.findLast=oo,Mn.findLastIndex=Dr,Mn.findLastKey=function(e,t){return bt(e,Ya(t,3),ui)},Mn.floor=ul,Mn.forEach=so,Mn.forEachRight=lo,Mn.forIn=function(e,t){return null==e?e:si(e,Ya(t,3),Cs)},Mn.forInRight=function(e,t){return null==e?e:li(e,Ya(t,3),Cs)},Mn.forOwn=function(e,t){return e&&ci(e,Ya(t,3))},Mn.forOwnRight=function(e,t){return e&&ui(e,Ya(t,3))},Mn.get=ys,Mn.gt=Ro,Mn.gte=Eo,Mn.has=function(e,t){return null!=e&&ar(e,t,yi)},Mn.hasIn=gs,Mn.head=Nr,Mn.identity=Vs,Mn.includes=function(e,t,n,i){e=Oo(e)?e:Is(e),n=n&&!i?as(n):0;var a=e.length;return n<0&&(n=sn(a+n,0)),Yo(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&_t(e,t,n)>-1},Mn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=null==n?0:as(n);return a<0&&(a=sn(i+a,0)),_t(e,t,a)},Mn.inRange=function(e,t,n){return t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n){return e>=ln(t,n)&&e<sn(t,n)}(e=os(e),t,n)},Mn.invoke=Ss,Mn.isArguments=Do,Mn.isArray=Lo,Mn.isArrayBuffer=No,Mn.isArrayLike=Oo,Mn.isArrayLikeObject=Uo,Mn.isBoolean=function(e){return!0===e||!1===e||qo(e)&&mi(e)==u},Mn.isBuffer=Bo,Mn.isDate=Fo,Mn.isElement=function(e){return qo(e)&&1===e.nodeType&&!Wo(e)},Mn.isEmpty=function(e){if(null==e)return!0;if(Oo(e)&&(Lo(e)||"string"==typeof e||"function"==typeof e.splice||Bo(e)||Xo(e)||Do(e)))return!e.length;var t=ir(e);if(t==h||t==b)return!e.size;if(pr(e))return!wi(e).length;for(var n in e)if(ke.call(e,n))return!1;return!0},Mn.isEqual=function(e,t){return _i(e,t)},Mn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},Mn.isError=Go,Mn.isFinite=function(e){return"number"==typeof e&&an(e)},Mn.isFunction=Ho,Mn.isInteger=jo,Mn.isLength=Ko,Mn.isMap=zo,Mn.isMatch=function(e,t){return e===t||Ci(e,t,Xa(t))},Mn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ci(e,t,Xa(t),n)},Mn.isNaN=function(e){return Vo(e)&&e!=+e},Mn.isNative=function(e){if(dr(e))throw new J("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(e)},Mn.isNil=function(e){return null==e},Mn.isNull=function(e){return null===e},Mn.isNumber=Vo,Mn.isObject=$o,Mn.isObjectLike=qo,Mn.isPlainObject=Wo,Mn.isRegExp=Jo,Mn.isSafeInteger=function(e){return jo(e)&&e>=-9007199254740991&&e<=9007199254740991},Mn.isSet=Zo,Mn.isString=Yo,Mn.isSymbol=Qo,Mn.isTypedArray=Xo,Mn.isUndefined=function(e){return void 0===e},Mn.isWeakMap=function(e){return qo(e)&&ir(e)==C},Mn.isWeakSet=function(e){return qo(e)&&"[object WeakSet]"==mi(e)},Mn.join=function(e,t){return null==e?"":rn.call(e,t)},Mn.kebabCase=Ls,Mn.last=Fr,Mn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return void 0!==n&&(a=(a=as(n))<0?sn(i+a,0):ln(a,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,a):St(e,kt,a,!0)},Mn.lowerCase=Ns,Mn.lowerFirst=Os,Mn.lt=es,Mn.lte=ts,Mn.max=function(e){return e&&e.length?ai(e,Vs,hi):void 0},Mn.maxBy=function(e,t){return e&&e.length?ai(e,Ya(t,2),hi):void 0},Mn.mean=function(e){return At(e,Vs)},Mn.meanBy=function(e,t){return At(e,Ya(t,2))},Mn.min=function(e){return e&&e.length?ai(e,Vs,Ti):void 0},Mn.minBy=function(e,t){return e&&e.length?ai(e,Ya(t,2),Ti):void 0},Mn.stubArray=rl,Mn.stubFalse=ol,Mn.stubObject=function(){return{}},Mn.stubString=function(){return""},Mn.stubTrue=function(){return!0},Mn.multiply=pl,Mn.nth=function(e,t){return e&&e.length?Ei(e,as(t)):void 0},Mn.noConflict=function(){return Ve._===this&&(Ve._=xe),this},Mn.noop=Qs,Mn.now=yo,Mn.pad=function(e,t,n){e=ls(e);var i=(t=as(t))?zt(e):0;if(!t||i>=t)return e;var a=(t-i)/2;return Da(en(a),n)+e+Da(Xt(a),n)},Mn.padEnd=function(e,t,n){e=ls(e);var i=(t=as(t))?zt(e):0;return t&&i<t?e+Da(t-i,n):e},Mn.padStart=function(e,t,n){e=ls(e);var i=(t=as(t))?zt(e):0;return t&&i<t?Da(t-i,n)+e:e},Mn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ls(e).replace(W,""),t||0)},Mn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&lr(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=is(e),void 0===t?(t=e,e=0):t=is(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=dn();return ln(e+a*(t-e+Ke("1e-"+((a+"").length-1))),t)}return Ui(e,t)},Mn.reduce=function(e,t,n){var i=Lo(e)?ht:Tt,a=arguments.length<3;return i(e,Ya(t,4),n,a,ti)},Mn.reduceRight=function(e,t,n){var i=Lo(e)?yt:Tt,a=arguments.length<3;return i(e,Ya(t,4),n,a,ni)},Mn.repeat=function(e,t,n){return t=(n?lr(e,t,n):void 0===t)?1:as(t),Bi(ls(e),t)},Mn.replace=function(){var e=arguments,t=ls(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Mn.result=function(e,t,n){var i=-1,a=(t=la(t,e)).length;for(a||(a=1,e=void 0);++i<a;){var r=null==e?void 0:e[Pr(t[i])];void 0===r&&(i=a,r=n),e=Ho(r)?r.call(e):r}return e},Mn.round=fl,Mn.runInContext=e,Mn.sample=function(e){return(Lo(e)?Gn:Gi)(e)},Mn.size=function(e){if(null==e)return 0;if(Oo(e))return Yo(e)?zt(e):e.length;var t=ir(e);return t==h||t==b?e.size:wi(e).length},Mn.snakeCase=Us,Mn.some=function(e,t,n){var i=Lo(e)?gt:Vi;return n&&lr(e,t,n)&&(t=void 0),i(e,Ya(t,3))},Mn.sortedIndex=function(e,t){return Wi(e,t)},Mn.sortedIndexBy=function(e,t,n){return Ji(e,t,Ya(n,2))},Mn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Io(e[i],t))return i}return-1},Mn.sortedLastIndex=function(e,t){return Wi(e,t,!0)},Mn.sortedLastIndexBy=function(e,t,n){return Ji(e,t,Ya(n,2),!0)},Mn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Io(e[n],t))return n}return-1},Mn.startCase=Bs,Mn.startsWith=function(e,t,n){return e=ls(e),n=null==n?0:Zn(as(n),0,e.length),t=Qi(t),e.slice(n,n+t.length)==t},Mn.subtract=ml,Mn.sum=function(e){return e&&e.length?xt(e,Vs):0},Mn.sumBy=function(e,t){return e&&e.length?xt(e,Ya(t,2)):0},Mn.template=function(e,t,n){var i=Mn.templateSettings;n&&lr(e,t,n)&&(t=void 0),e=ls(e),t=ds({},t,i,Ha);var a,r,o=ds({},t.imports,i.imports,Ha),s=_s(o),l=Et(o,s),c=0,u=t.interpolate||ue,d="__p += '",p=he((t.escape||ue).source+"|"+u.source+"|"+(u===j?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,(function(t,n,i,o,s,l){return i||(i=o),d+=e.slice(c,l).replace(de,Ft),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(r=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var m=ke.call(t,"variable")&&t.variable;if(m){if(ee.test(m))throw new J("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(r?d.replace(D,""):d).replace(L,"$1").replace(N,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=js((function(){return pe(s,f+"return "+d).apply(void 0,l)}));if(h.source=d,Go(h))throw h;return h},Mn.times=function(e,t){if((e=as(e))<1||e>9007199254740991)return[];var n=4294967295,i=ln(e,4294967295);e-=4294967295;for(var a=Mt(i,t=Ya(t));++n<e;)t(n);return a},Mn.toFinite=is,Mn.toInteger=as,Mn.toLength=rs,Mn.toLower=function(e){return ls(e).toLowerCase()},Mn.toNumber=os,Mn.toSafeInteger=function(e){return e?Zn(as(e),-9007199254740991,9007199254740991):0===e?e:0},Mn.toString=ls,Mn.toUpper=function(e){return ls(e).toUpperCase()},Mn.trim=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return It(e);if(!e||!(t=Qi(t)))return e;var i=Vt(e),a=Vt(t);return ua(i,Lt(i,a),Nt(i,a)+1).join("")},Mn.trimEnd=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Qi(t)))return e;var i=Vt(e);return ua(i,0,Nt(i,Vt(t))+1).join("")},Mn.trimStart=function(e,t,n){if((e=ls(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Qi(t)))return e;var i=Vt(e);return ua(i,Lt(i,Vt(t))).join("")},Mn.truncate=function(e,t){var n=30,i="...";if($o(t)){var a="separator"in t?t.separator:a;n="length"in t?as(t.length):n,i="omission"in t?Qi(t.omission):i}var r=(e=ls(e)).length;if(Gt(e)){var o=Vt(e);r=o.length}if(n>=r)return e;var s=n-zt(i);if(s<1)return i;var l=o?ua(o,0,s).join(""):e.slice(0,s);if(void 0===a)return l+i;if(o&&(s+=l.length-s),Jo(a)){if(e.slice(s).search(a)){var c,u=l;for(a.global||(a=he(a.source,ls(ie.exec(a))+"g")),a.lastIndex=0;c=a.exec(u);)var d=c.index;l=l.slice(0,void 0===d?s:d)}}else if(e.indexOf(Qi(a),s)!=s){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+i},Mn.unescape=function(e){return(e=ls(e))&&B.test(e)?e.replace(O,Jt):e},Mn.uniqueId=function(e){var t=++Ae;return ls(e)+t},Mn.upperCase=Fs,Mn.upperFirst=Gs,Mn.each=so,Mn.eachRight=lo,Mn.first=Nr,Ys(Mn,(dl={},ci(Mn,(function(e,t){ke.call(Mn.prototype,t)||(dl[t]=e)})),dl),{chain:!1}),Mn.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Mn[e].placeholder=Mn})),st(["drop","take"],(function(e,t){Dn.prototype[e]=function(n){n=void 0===n?1:sn(as(n),0);var i=this.__filtered__&&!t?new Dn(this):this.clone();return i.__filtered__?i.__takeCount__=ln(n,i.__takeCount__):i.__views__.push({size:ln(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Dn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ya(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[n](1)}})),Dn.prototype.compact=function(){return this.filter(Vs)},Dn.prototype.find=function(e){return this.filter(e).head()},Dn.prototype.findLast=function(e){return this.reverse().find(e)},Dn.prototype.invokeMap=Fi((function(e,t){return"function"==typeof e?new Dn(this):this.map((function(n){return bi(n,e,t)}))})),Dn.prototype.reject=function(e){return this.filter(wo(Ya(e)))},Dn.prototype.slice=function(e,t){e=as(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=as(t))<0?n.dropRight(-t):n.take(t-e)),n)},Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dn.prototype.toArray=function(){return this.take(4294967295)},ci(Dn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Mn[i?"take"+("last"==t?"Right":""):t],r=i||/^find/.test(t);a&&(Mn.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,s=t instanceof Dn,l=o[0],c=s||Lo(t),u=function(e){var t=a.apply(Mn,mt([e],o));return i&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=r&&!d,m=s&&!p;if(!r&&c){t=m?t:new Dn(this);var h=e.apply(t,o);return h.__actions__.push({func:no,args:[u],thisArg:void 0}),new En(h,d)}return f&&m?e.apply(this,o):(h=this.thru(u),f?i?h.value()[0]:h.value():h)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ve[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Mn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var a=this.value();return t.apply(Lo(a)?a:[],e)}return this[n]((function(n){return t.apply(Lo(n)?n:[],e)}))}})),ci(Dn.prototype,(function(e,t){var n=Mn[t];if(n){var i=n.name+"";ke.call(Sn,i)||(Sn[i]=[]),Sn[i].push({name:t,func:n})}})),Sn[Ma(void 0,2).name]=[{name:"wrapper",func:void 0}],Dn.prototype.clone=function(){var e=new Dn(this.__wrapped__);return e.__actions__=va(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=va(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=va(this.__views__),e},Dn.prototype.reverse=function(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Lo(e),i=t<0,a=n?e.length:0,r=function(e,t,n){var i=-1,a=n.length;for(;++i<a;){var r=n[i],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ln(t,e+o);break;case"takeRight":e=sn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=r.start,s=r.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,d=u.length,p=0,f=ln(l,this.__takeCount__);if(!n||!i&&a==l&&f==l)return ia(e,this.__actions__);var m=[];e:for(;l--&&p<f;){for(var h=-1,y=e[c+=t];++h<d;){var g=u[h],v=g.iteratee,b=g.type,S=v(y);if(2==b)y=S;else if(!S){if(1==b)continue e;break e}}m[p++]=y}return m},Mn.prototype.at=io,Mn.prototype.chain=function(){return to(this)},Mn.prototype.commit=function(){return new En(this.value(),this.__chain__)},Mn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Mn.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var i=xr(n);i.__index__=0,i.__values__=void 0,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Mn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;return this.__actions__.length&&(t=new Dn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Kr],thisArg:void 0}),new En(t,this.__chain__)}return this.thru(Kr)},Mn.prototype.toJSON=Mn.prototype.valueOf=Mn.prototype.value=function(){return ia(this.__wrapped__,this.__actions__)},Mn.prototype.first=Mn.prototype.head,Ye&&(Mn.prototype[Ye]=function(){return this}),Mn}();Ve._=Zt,void 0===(a=function(){return Zt}.call(t,n,t,i))||(i.exports=a)}).call(this)}).call(this,n(48),n(64)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(40),o=n(49),s=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map((function(e){return t.buildHooks(e)})).reduce(i.unnestR,[]).filter(i.identity)},e.prototype.buildHooks=function(e){var t=this.transition,n=t.treeChanges(),a=this.getMatchingHooks(e,n);if(!a)return[];var s={transition:t,current:t.options().current};return a.map((function(a){return a.matches(n)[e.criteriaMatchPath.name].map((function(n){var l=i.extend({bind:a.bind,traceData:{hookType:e.name,context:n}},s),c=e.criteriaMatchPath.scope===r.TransitionHookScope.STATE?n.state.self:null,u=new o.TransitionHook(t,c,a,l);return{hook:a,node:n,transitionHook:u}}))})).reduce(i.unnestR,[]).sort(function(e){void 0===e&&(e=!1);return function(t,n){var i=e?-1:1,a=(t.node.state.path.length-n.node.state.path.length)*i;return 0!==a?a:n.hook.priority-t.hook.priority}}(e.reverseSort)).map((function(e){return e.transitionHook}))},e.prototype.getMatchingHooks=function(e,t){var n=e.hookPhase===r.TransitionHookPhase.CREATE,o=this.transition.router.transitionService;return(n?[o]:[this.transition,o]).map((function(t){return t.getHooks(e.name)})).filter(i.assertPredicate(a.isArray,"broken event named: "+e.name)).reduce(i.unnestR,[]).filter((function(e){return e.matches(t)}))},e}();t.HookBuilder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),r=n(3),o=n(4),s=n(7),l=n(97),c=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=a.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=a.inherit(a.map(this.defaultTypes,(function(e,t){return new l.ParamType(a.extend({name:t},e))})),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!r.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new l.ParamType(a.extend({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");a.extend(this.types[e.name],s.services.$injector.invoke(e.def))}},e}();t.ParamTypes=c,i=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:o.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return a.extend({},n,e)},a.extend(c.prototype,{string:i({}),path:i({pattern:/[^/]*/}),query:i({}),hash:i({inherit:!1}),int:i({decode:function(e){return parseInt(e,10)},is:function(e){return!r.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:i({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:o.is(Boolean),pattern:/0|1/}),date:i({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce((function(n,i){return n&&e[i]()===t[i]()}),!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:i({encode:a.toJson,decode:a.fromJson,is:o.is(Object),equals:a.equals,pattern:/[^/]*/}),any:i({encode:a.identity,decode:a.identity,is:function(){return!0},equals:a.equals})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(e){void 0===e&&(e={}),i.extend(this,e)}return e.prototype.$inherit=function(e,t,n){var a,r=i.ancestors(t,n),o={},s=[];for(var l in r)if(r[l]&&r[l].params&&(a=Object.keys(r[l].params)).length)for(var c in a)s.indexOf(a[c])>=0||(s.push(a[c]),o[a[c]]=this[a[c]]);return i.extend({},o,e)},e}();t.StateParams=a},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(181)),i(n(50)),i(n(67))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(13),o=n(4),s=n(50),l=n(7);function c(e){return e.name}function u(e){return e.self.$$state=function(){return e},e.self}function d(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i.inherit(e.parent.data,e.data)),e.data}var p=function(e,t){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var o=function(e){if(!a.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(r.url),s=n.parent,l=o?e.compile(o.val,{params:n.params||{},paramMap:function(e,t){return!1===r.reloadOnSearch&&t&&(e=i.extend(e||{},{dynamic:!0})),e}}):r.url;if(!l)return null;if(!e.isMatcher(l))throw new Error("Invalid url '"+l+"' in state '"+n+"'");return o&&o.root?l:(s&&s.navigable||t()).url.append(l)}},f=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}};function m(e){return e.parent?e.parent.path.concat(e):[e]}function h(e){var t=e.parent?i.extend({},e.parent.includes):{};return t[e.name]=!0,t}function y(e){var t,n,c=function(e){return e.provide||e.token},u=o.pattern([[o.prop("resolveFn"),function(e){return new s.Resolvable(c(e),e.resolveFn,e.deps,e.policy)}],[o.prop("useFactory"),function(e){return new s.Resolvable(c(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[o.prop("useClass"),function(e){return new s.Resolvable(c(e),(function(){return new e.useClass}),[],e.policy)}],[o.prop("useValue"),function(e){return new s.Resolvable(c(e),(function(){return e.useValue}),[],e.policy,e.useValue)}],[o.prop("useExisting"),function(e){return new s.Resolvable(c(e),i.identity,[e.useExisting],e.policy)}]]),d=o.pattern([[o.pipe(o.prop("val"),a.isString),function(e){return new s.Resolvable(e.token,i.identity,[e.val],e.policy)}],[o.pipe(o.prop("val"),a.isArray),function(e){return new s.Resolvable(e.token,i.tail(e.val),e.val.slice(0,-1),e.policy)}],[o.pipe(o.prop("val"),a.isFunction),function(e){return new s.Resolvable(e.token,e.val,(t=e.val,n=l.services.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),p=o.pattern([[o.is(s.Resolvable),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},u],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},u],[function(e){return!!(e&&e.val&&(a.isString(e.val)||a.isArray(e.val)||a.isFunction(e.val)))},d],[o.val(!0),function(e){throw new Error("Invalid resolve value: "+r.stringify(e))}]]),f=e.resolve;return(a.isArray(f)?f:(t=f,n=e.resolvePolicy||{},Object.keys(t||{}).map((function(e){return{token:e,val:t[e],deps:void 0,policy:n[e]}})))).map(p)}t.resolvablesBuilder=y;var g=function(){function e(e,t){this.matcher=e;var n,a=this,r=function(){return e.find("")},s=function(e){return""===e.name};this.builders={name:[c],self:[u],parent:[function(t){return s(t)?null:e.find(a.parentName(t))||r()}],data:[d],url:[p(t,r)],navigable:[f(s)],params:[(n=t.paramFactory,function(e){var t=e.url&&e.url.parameters({inherit:!1})||[],a=i.values(i.mapObj(i.omit(e.params||{},t.map(o.prop("id"))),(function(e,t){return n.fromConfig(t,null,e)})));return t.concat(a).map((function(e){return[e.id,e]})).reduce(i.applyPairs,{})})],views:[],path:[m],includes:[h],resolvables:[y]}}return e.prototype.builder=function(e,t){var n=this.builders,i=n[e]||[];return a.isString(e)&&!a.isDefined(t)?i.length>1?i:i[0]:a.isString(e)&&a.isFunction(t)?(n[e]=i,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,a=this.parentName(e);if(a&&!t.find(a,void 0,!1))return null;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r].reduce((function(e,t){return function(n){return t(n,e)}}),i.noop);e[r]=o(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?a.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=a.isString(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}();t.StateBuilder=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(1),r=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=i.isString(e),o=r?e:e.name;this.isRelative(o)&&(o=this.resolvePath(o,t));var s=this._states[o];if(s&&(r||!(r||s!==e&&s.self!==e)))return s;if(r&&n){var l=a.values(this._states).filter((function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(o)}));return l.length>1&&console.log("stateMatcher.find: Found multiple matches for "+o+" using glob: ",l.map((function(e){return e.name}))),l[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),i=e.split("."),a=i.length,r=0,o=n;r<a;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!o.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");o=o.parent}else o=n;var s=i.slice(r).join(".");return o.name+(o.name&&s?".":"")+s},e}();t.StateMatcher=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(92),o=n(4),s=function(){function e(e,t,n,i,a){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=i,this.listeners=a,this.queue=[],this.matcher=e.matcher}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=r.StateObject.create(e),s=n.name;if(!a.isString(s))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(s)||i.inArray(t.map(o.prop("name")),s))throw new Error("State '"+s+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var e=this,t=this.queue,n=this.states,i=this.builder,a=[],r=[],o={},s=function(t){return e.states.hasOwnProperty(t)&&e.states[t]},l=function(){a.length&&e.listeners.forEach((function(e){return e("registered",a.map((function(e){return e.self})))}))};t.length>0;){var c=t.shift(),u=c.name,d=i.build(c),p=r.indexOf(c);if(d){var f=s(u);if(f&&f.name===u)throw new Error("State '"+u+"' is already defined");var m=s(u+".**");m&&this.$registry.deregister(m),n[u]=c,this.attachRoute(c),p>=0&&r.splice(p,1),a.push(c)}else{var h=o[u];if(o[u]=t.length,p>=0&&h===t.length)return t.push(c),l(),n;p<0&&r.push(c),t.push(c)}}return l(),n},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}();t.StateQueueManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(186),a=n(185),r=n(187),o=n(1),s=n(4),l=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new i.StateMatcher(this.states),this.builder=new a.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new r.StateQueueManager(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach((function(t){return e.get(t)&&e.deregister(t)}))},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){o.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map((function(e){return e.$$state()})),i=function(e){var t=n.filter((function(t){return-1!==e.indexOf(t.parent)}));return 0===t.length?t:t.concat(i(t))},a=i([e]),r=[e].concat(a).reverse();return r.forEach((function(e){var n=t._router.urlRouter;n.rules().filter(s.propEq("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]})),r},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach((function(e){return e("deregistered",n.map((function(e){return e.self})))})),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map((function(e){return n.states[e].self}));var i=this.matcher.find(e,t);return i&&i.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();t.StateRegistry=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(94),o=n(7),s=n(66),l=n(96),c=n(98),u=n(39),d=n(41),p=n(42),f=n(93),m=n(67),h=n(197),y=n(4),g=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof u.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=Object.keys(e.prototype).filter(y.not(i.inArray(["current","$current","params","transition"])));i.createProxyFunctions(y.val(e.prototype),this,y.val(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(i.noop),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(e,t){var n=this,i=s.PathUtils.makeTargetState(this.router.stateRegistry,e),a=this.router.globals,l=function(){return a.transitionHistory.peekTail()},c=l(),p=new r.Queue(this.invalidCallbacks.slice()),f=new m.ResolveContext(e).injector(),h=function(e){if(e instanceof d.TargetState){var t=e;return(t=n.target(t.identifier(),t.params(),t.options())).valid()?l()!==c?u.Rejection.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):u.Rejection.invalid(t.error()).toPromise()}};return function e(){var n=p.dequeue();return void 0===n?u.Rejection.invalid(t.error()).toPromise():o.services.$q.when(n(t,i,f)).then(h).then((function(t){return t||e()}))}()},e.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){i.removeFrom(this.invalidCallbacks)(e)}.bind(this)},e.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!a.isDefined(e)||e,inherit:!1,notify:!1})},e.prototype.go=function(e,t,n){var a={relative:this.$current,inherit:!0},r=i.defaults(n,a,c.defaultTransOpts);return this.transitionTo(e,t,r)},e.prototype.target=function(e,t,n){if(void 0===n&&(n={}),a.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(a.isString(n.reload)?n.reload:n.reload.name)+"'");return new d.TargetState(this.router.stateRegistry,e,t,n)},e.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new l.PathNode(e.router.stateRegistry.root())]},e.prototype.transitionTo=function(e,t,n){var a=this;void 0===t&&(t={}),void 0===n&&(n={});var r=this.router,s=r.globals;n=i.defaults(n,c.defaultTransOpts);n=i.extend(n,{current:function(){return s.transition}});var l=this.target(e,t,n),p=this.getCurrentPath();if(!l.exists())return this._handleInvalidTargetState(p,l);if(!l.valid())return i.silentRejection(l.error());var f=function(e){return function(t){if(t instanceof u.Rejection){var n=r.globals.lastStartedTransitionId===e.$id;if(t.type===u.RejectType.IGNORED)return n&&r.urlRouter.update(),o.services.$q.when(s.current);var i=t.detail;if(t.type===u.RejectType.SUPERSEDED&&t.redirected&&i instanceof d.TargetState){var l=e.redirect(i);return l.run().catch(f(l))}if(t.type===u.RejectType.ABORTED)return n&&r.urlRouter.update(),o.services.$q.reject(t)}return a.defaultErrorHandler()(t),o.services.$q.reject(t)}},m=this.router.transitionService.create(p,l),h=m.run().catch(f(m));return i.silenceUncaughtInPromise(h),i.extend(h,{transition:m})},e.prototype.is=function(e,t,n){n=i.defaults(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(a.isDefined(r)){if(this.$current!==r)return!1;if(!t)return!0;var o=r.parameters({inherit:!0,matchingKeys:t});return p.Param.equals(o,p.Param.values(o,t),this.params)}},e.prototype.includes=function(e,t,n){n=i.defaults(n,{relative:this.$current});var r=a.isString(e)&&f.Glob.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var o=this.router.stateRegistry.matcher.find(e,n.relative),s=this.$current.includes;if(a.isDefined(o)){if(!a.isDefined(s[o.name]))return!1;if(!t)return!0;var l=o.parameters({inherit:!0,matchingKeys:t});return p.Param.equals(l,p.Param.values(l,t),this.params)}},e.prototype.href=function(e,t,n){var r={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=i.defaults(n,r),t=t||{};var o=this.router.stateRegistry.matcher.find(e,n.relative);if(!a.isDefined(o))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,o));var s=o&&n.lossy?o.navigable:o;return s&&void 0!==s.url&&null!==s.url?this.router.urlRouter.href(s.url,t,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},e.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},e.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var i=this.getCurrentPath(),a=s.PathUtils.makeTargetState(this.router.stateRegistry,i);return t=t||this.router.transitionService.create(i,a),h.lazyLoadState(t,n)},e}();t.StateService=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),a=n(192),r=n(98),o=n(194),s=n(188),l=n(189),c=n(195),u=n(1),d=n(3),p=n(196),f=n(24),m=0,h=function(){function e(e,t){void 0===e&&(e=p.UrlService.locationServiceStub),void 0===t&&(t=p.UrlService.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=m++,this._disposed=!1,this._disposables=[],this.trace=f.trace,this.viewService=new o.ViewService,this.globals=new c.UIRouterGlobals,this.transitionService=new r.TransitionService(this),this.urlMatcherFactory=new i.UrlMatcherFactory,this.urlRouter=new a.UrlRouter(this),this.stateRegistry=new s.StateRegistry(this),this.stateService=new l.StateService(this),this.urlService=new p.UrlService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&d.isFunction(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach((function(e){try{"function"==typeof e.dispose&&e.dispose(t),u.removeFrom(t._disposables,e)}catch(e){}})))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:u.values(this._plugins)},e}();t.UIRouter=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(68),o=n(42),s=n(182),l=function(){function e(){var e=this;this.paramTypes=new s.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.paramFactory={fromConfig:function(t,n,i){return new o.Param(t,n,i,o.DefType.CONFIG,e)},fromPath:function(t,n,i){return new o.Param(t,n,i,o.DefType.PATH,e)},fromSearch:function(t,n,i){return new o.Param(t,n,i,o.DefType.SEARCH,e)}},this._getConfig=function(t){return i.extend({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},i.extend(this,{UrlMatcher:r.UrlMatcher,Param:o.Param})}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=a.isDefined(e)?e:this._isCaseInsensitive},e.prototype.strictMode=function(e){return this._isStrictMode=a.isDefined(e)?e:this._isStrictMode},e.prototype.defaultSquashPolicy=function(e){if(a.isDefined(e)&&!0!==e&&!1!==e&&!a.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=a.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.compile=function(e,t){return new r.UrlMatcher(e,this.paramTypes,this.paramFactory,this._getConfig(t))},e.prototype.isMatcher=function(e){if(!a.isObject(e))return!1;var t=!0;return i.forEach(r.UrlMatcher.prototype,(function(n,i){a.isFunction(n)&&(t=t&&a.isDefined(e[i])&&a.isFunction(e[i]))})),t},e.prototype.type=function(e,t,n){var i=this.paramTypes.type(e,t,n);return a.isDefined(t)?this:i},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}();t.UrlMatcherFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(3),r=n(68),o=n(4),s=n(193),l=n(41),c=n(12);var u;u=function(e,t){var n=function(e,t){return(t.priority||0)-(e.priority||0)}(e,t);return 0!==n||0!==(n=function(e,t){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[e.type]||0)-(n[t.type]||0)}(e,t))||0!==(n=function(e,t){return e.urlMatcher&&t.urlMatcher?r.UrlMatcher.compare(e.urlMatcher,t.urlMatcher):0}(e,t))?n:function(e,t){var n={STATE:!0,URLMATCHER:!0};return n[e.type]&&n[t.type]?0:(e.$id||0)-(t.$id||0)}(e,t)};var d=function(){function e(t){this._sortFn=u,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=t,this.urlRuleFactory=new s.UrlRuleFactory(t),i.createProxyFunctions(o.val(e.prototype),this,o.val(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules=this.stableSort(this._rules,this._sortFn=e||this._sortFn),this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.stableSort=function(e,t){var n=e.map((function(e,t){return{elem:e,idx:t}}));return n.sort((function(e,n){var i=t(e.elem,n.elem);return 0===i?e.idx-n.idx:i})),n.map((function(e){return e.elem}))},e.prototype.match=function(e){var t=this;this.ensureSorted(),e=i.extend({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var a,r,o,s=0;s<n.length&&(!a||0===this._sortFn(n[s],a.rule));s++){var l=(r=n[s],o=void 0,(o=r.match(e,t._router))&&{match:o,rule:r,weight:r.matchPriority(o)});a=!a||l&&l.weight>a.weight?l:a}return a},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,i=t.stateService,r={path:n.path(),search:n.search(),hash:n.hash()},s=this.match(r);o.pattern([[a.isString,function(e){return n.url(e,!0)}],[l.TargetState.isDef,function(e){return i.go(e.state,e.params,e.options)}],[o.is(l.TargetState),function(e){return i.go(e.state(),e.params(),e.options())}]])(s&&s.rule.handler(s.match,r,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange((function(e){return t.sync(e)}));this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var i=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),i)},e.prototype.href=function(e,t,n){var i=e.format(t);if(null==i)return null;n=n||{absolute:!1};var a=this._router.urlService.config,r=a.html5Mode();if(r||null===i||(i="#"+a.hashPrefix()+i),i=function(e,t,n,i){return"/"===i?e:t?c.stripLastPathElement(i)+e:n?i.slice(1)+e:e}(i,r,n.absolute,a.baseHref()),!n.absolute||!i)return i;var o=!r&&i?"/":"",s=a.port(),l=80===s||443===s?"":":"+s;return[a.protocol(),"://",a.host(),l,o,i].join("")},e.prototype.rule=function(e){var t=this;if(!s.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){i.removeFrom(this._rules,e)},e.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},e.prototype.otherwise=function(e){var t=p(e);this._otherwiseFn=this.urlRuleFactory.create(o.val(!0),t),this._sorted=!1},e.prototype.initial=function(e){var t=p(e);this.rule(this.urlRuleFactory.create((function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)}),t))},e.prototype.when=function(e,t,n){var i=this.urlRuleFactory.create(e,t);return a.isDefined(n&&n.priority)&&(i.priority=n.priority),this.rule(i),i},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}();function p(e){if(!(a.isFunction(e)||a.isString(e)||o.is(l.TargetState)(e)||l.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return a.isFunction(e)?e:o.val(e)}t.UrlRouter=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(68),a=n(3),r=n(1),o=n(4),s=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,r=o.pattern([[a.isString,function(e){return r(n.compile(e))}],[o.is(i.UrlMatcher),function(e){return n.fromUrlMatcher(e,t)}],[a.isState,function(e){return n.fromState(e,n.router)}],[o.is(RegExp),function(e){return n.fromRegExp(e,t)}],[a.isFunction,function(e){return new l(e,t)}]]),s=r(e);if(!s)throw new Error("invalid 'what' in when()");return s},e.prototype.fromUrlMatcher=function(e,t){var n=t;a.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),o.is(i.UrlMatcher)(t)&&(n=function(e){return t.format(e)});var s={urlMatcher:e,matchPriority:function(t){var n=e.parameters().filter((function(e){return e.isOptional}));return n.length?n.filter((function(e){return t[e.id]})).length/n.length:1e-6},type:"URLMATCHER"};return r.extend(new l((function(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n}),n),s)},e.prototype.fromState=function(e,t){var n={state:e,type:"STATE"};return r.extend(this.fromUrlMatcher(e.url,(function(n){var i=t.stateService,a=t.globals;i.href(e,n)!==i.href(a.current,a.params)&&i.transitionTo(e,n,{inherit:!0,source:"url"})})),n)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=a.isString(t)?function(e){return t.replace(/\$(\$|\d{1,2})/,(function(t,n){return e["$"===n?0:Number(n)]}))}:t,i={regexp:e,type:"REGEXP"};return r.extend(new l((function(t){return e.exec(t.path)}),n),i)},e.isUrlRule=function(e){return e&&["type","match","handler"].every((function(t){return a.isDefined(e[t])}))},e}();t.UrlRuleFactory=s;var l=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||r.identity};t.BaseUrlRule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),r=n(3),o=n(24),s=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return i.removeFrom(e._listeners,t)}}}}return e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),i=n[0]||"$default",a=r.isString(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);o&&(a=o[1],i=o[2]),"!"===i.charAt(0)&&(i=i.substr(1),a="");if(/^(\^(?:\.\^)*)$/.exec(a)){var s=a.split(".").reduce((function(e,t){return e.parent}),e);a=s.name}else"."===a&&(a=e.name);return{uiViewName:i,uiViewContextAnchor:a}},e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var i=n(e,t);return r.isArray(i)?i:[i]},e.prototype.deactivateViewConfig=function(e){o.trace.traceViewServiceEvent("<- Removing",e),i.removeFrom(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){o.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){var t=this,n=this._uiViews.map((function(e){return[e.fqn,e]})).reduce(i.applyPairs,{});function r(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var s=a.curry((function(e,t,n,i){return t*(e(n)-e(i))})),l=this._uiViews.sort(s((function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)}),1)).map((function(i){var a=t._viewConfigs.filter(e.matches(n,i));return a.length>1&&a.sort(s(r,-1)),{uiView:i,viewConfig:a[0]}})),c=l.map((function(e){return e.viewConfig})),u=this._viewConfigs.filter((function(e){return!i.inArray(c,e)})).map((function(e){return{uiView:void 0,viewConfig:e}}));l.forEach((function(e){-1!==t._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)}));var d=l.concat(u);this._listeners.forEach((function(e){return e(d)})),o.trace.traceViewSync(d)},e.prototype.registerUIView=function(e){o.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews;return t.filter((function(t){return t.fqn===e.fqn&&t.$type===e.$type})).length&&o.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){-1!==t.indexOf(e)?(o.trace.traceViewServiceUIViewEvent("<- Deregistering",e),i.removeFrom(t)(e)):o.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e)}},e.prototype.available=function(){return this._uiViews.map(a.prop("fqn"))},e.prototype.active=function(){return this._uiViews.filter(a.prop("$config")).map(a.prop("name"))},e.matches=function(e,t){return function(n){if(t.$type!==n.viewDecl.$type)return!1;var a=n.viewDecl,r=a.$uiViewName.split("."),o=t.fqn.split(".");if(!i.equals(r,o.slice(0-r.length)))return!1;var s=1-r.length||void 0,l=o.slice(0,s).join("."),c=e[l].creationContext;return a.$uiViewContextAnchor===(c&&c.name)}},e}();t.ViewService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(183),a=n(94),r=function(){function e(){this.params=new i.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new a.Queue([],1),this.successfulTransitions=new a.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();t.UIRouterGlobals=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(1),r=function(e){return e.reduce((function(e,t){return e[t]=i.notImplemented(t),e}),{dispose:a.noop})},o=["url","path","search","hash","onChange"],s=["port","protocol","host","baseHref","html5Mode","hashPrefix"],l=["type","caseInsensitive","strictMode","defaultSquashPolicy"],c=["sort","when","initial","otherwise","rules","rule","removeRule"],u=["deferIntercept","listen","sync","match"],d=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};a.createProxyFunctions(n,this,n,o,t);var i=function(){return e.locationConfig};a.createProxyFunctions(i,this.config,i,s,t);var r=function(){return e.urlMatcherFactory};a.createProxyFunctions(r,this.config,r,l);var d=function(){return e.urlRouter};a.createProxyFunctions(d,this.rules,d,c),a.createProxyFunctions(d,this,d,u)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e.locationServiceStub=r(o),e.locationConfigStub=r(s),e}();t.UrlService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=function(e){var t=e.router;var n=e.entering().filter((function(e){return!!e.$$state().lazyLoad})).map((function(t){return r(e,t)}));return i.services.$q.all(n).then((function(){if("url"!==e.originalTransition().options().source){var n=e.targetState();return t.stateService.target(n.identifier(),n.params(),n.options())}var i=t.urlService,a=i.match(i.parts()),r=a&&a.rule;if(r&&"STATE"===r.type){var o=r.state,s=a.match;return t.stateService.target(o,s,e.options())}t.urlService.sync()}))};function r(e,t){var n=t.$$state().lazyLoad,a=n._promise;if(!a){a=n._promise=i.services.$q.when(n(e,t)).then((function(t){t&&Array.isArray(t.states)&&t.states.forEach((function(t){return e.router.stateRegistry.register(t)}));return t})).then((function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e}),(function(e){return delete n._promise,i.services.$q.reject(e)}))}return a}t.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},a)},t.lazyLoadState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(49),a=function(e,t,n,a,r,o,s,l){void 0===r&&(r=!1),void 0===o&&(o=i.TransitionHook.HANDLE_RESULT),void 0===s&&(s=i.TransitionHook.REJECT_ERROR),void 0===l&&(l=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=a,this.reverseSort=r,this.getResultHandler=o,this.getErrorHandler=s,this.synchronous=l};t.TransitionEventType=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12);t.$q={when:function(e){return new Promise((function(t,n){return t(e)}))},reject:function(e){return new Promise((function(t,n){n(e)}))},defer:function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},all:function(e){if(i.isArray(e))return Promise.all(e);if(i.isObject(e)){var n=Object.keys(e).map((function(t){return e[t].then((function(e){return{key:t,val:e}}))}));return t.$q.all(n).then((function(e){return e.reduce((function(e,t){return e[t.key]=t.val,e}),{})}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a={},r=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g;t.$injector={get:function(e){return a[e]},has:function(e){return null!=t.$injector.get(e)},invoke:function(e,n,r){var o=i.extend({},a,r||{}),s=t.$injector.annotate(e),l=i.assertPredicate((function(e){return o.hasOwnProperty(e)}),(function(e){return"DI can't find injectable: '"+e+"'"})),c=s.filter(l).map((function(e){return o[e]}));return i.isFunction(e)?e.apply(n,c):e.slice(-1)[0].apply(n,c)},annotate:function(e){if(!i.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(i.isArray(e))return e.slice(0,-1);var t=e.toString().replace(r,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(o)||[]}}},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=function(e){function t(t){var n=e.call(this,t,!1)||this;return r.root.addEventListener("hashchange",n._listener,!1),n}return a(t,e),t.prototype._get=function(){return r.trimHashVal(this._location.hash)},t.prototype._set=function(e,t,n,i){this._location.hash=n},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),r.root.removeEventListener("hashchange",this._listener)},t}(n(69).BaseLocationServices);t.HashLocationService=o},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){return e.call(this,t,!0)||this}return a(t,e),t.prototype._get=function(){return this._url},t.prototype._set=function(e,t,n,i){this._url=n},t}(n(69).BaseLocationServices);t.MemoryLocationService=r},function(e,t,n){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),o=n(12),s=function(e){function t(t){var n=e.call(this,t,!0)||this;return n._config=t.urlService.config,o.root.addEventListener("popstate",n._listener,!1),n}return a(t,e),t.prototype._getBasePrefix=function(){return o.stripLastPathElement(this._config.baseHref())},t.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,i=e.search;i=o.splitQuery(i)[1],n=o.splitHash(n)[1];var a=this._getBasePrefix(),r=t===this._config.baseHref(),s=t.substr(0,a.length)===a;return(t=r?"/":s?t.substring(a.length):t)+(i?"?"+i:"")+(n?"#"+n:"")},t.prototype._set=function(e,t,n,i){var a=this._getBasePrefix(),r=n&&"/"!==n[0]?"/":"",o=""===n||"/"===n?this._config.baseHref():a+r+n;i?this._history.replaceState(e,t,o):this._history.pushState(e,t,o)},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t),o.root.removeEventListener("popstate",this._listener)},t}(r.BaseLocationServices);t.PushStateLocationService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(1),r=function(){var e=this;this.dispose=a.noop,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return e._port},this.protocol=function(){return e._protocol},this.host=function(){return e._host},this.baseHref=function(){return e._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(t){return i.isDefined(t)?e._hashPrefix=t:e._hashPrefix}};t.MemoryLocationConfig=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.hostname},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return i.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return i.isDefined(e)?this._baseHref=e:i.isDefined(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},e.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base")[0];return this._baseHref=e?e.href.substr(location.origin.length):location.pathname||"/"},e.prototype.dispose=function(){},e}();t.BrowserLocationConfig=a},function(e){e.exports=JSON.parse('{"title":"**Climate Innovation** Landscapes","subheading":"To provide everyone in the world with access to reliable, affordable power, food, goods, transportation, and services without contributing to greenhouse gas emissions will not be an easy job.","text":"Developing the tools we need will require broad investment across a landscape of innovation and no investor or group of investors can do this alone. ","subtext":"We\'ve divided the landscape into Grand Challenges in five fields that are the biggest contributors to global greenhouse gas emissions. Within each of these Grand Challenges we\'ve identified several Technical Quests, different areas where research and investment might bring us closer to an emission-free future. Some of these investments will result in ideas that move forward and some won\'t—developing some may even make work on others unnecessary. The Breakthrough Energy Coalition believes, though, that all of them are avenues worth investigating to get the world to a zero-emissions future. Nobody knows yet what the energy mix of tomorrow is, so investors need to explore all possible paths.","image":"climate-hero.jpg","challenges":[{"quests":[{"title":"Regenerative Agriculture","featured":true,"image":"quest-Regenerative-Agriculture.jpg","text":"Regenerative agriculture refers to a set of practices that can build organic matter back into the soil, effectively storing more water and drawing more carbon out of the atmosphere.","patentCollectionId":176810,"scholarCollectionId":176807,"defaultQuery":"( ( ( ( carbon || CO2 ) && ( sink || sequestration || storage || farming) ) || \\"climate change\\" ) && ( \\"regenerative agriculture\\" ||  \\"holistic grazing\\" || \\"ecological grazing\\" || agroforestry || \\"biological cropping\\" || \\"pasture cropping\\" || \\"No-kill cropping\\" || biodynamics || \\"organic farming\\" ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2182},{"title":"Reducing Methane Emissions from Ruminant Livestock","featured":true,"image":"quest-Emissions-Ruminant-Animals.jpg","text":"Ruminant livestock like cattle and buffalo are a very significant source of methane via their digestive processes, representing approximately 4% of global greenhouse gas emissions.","scholarCollectionId":167803,"patentCollectionId":167790,"defaultQuery":"( \\"reduce emmission\\" || \\"lower carbon\\" || \\"lower emission\\" ||\\"low greenhouse\\" ||\\"reduce greenhouse\\" || \\"reduce carbon\\" ||\\"climate change\\" ) AND (\\"animal waste management\\" || \\"manure management\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2542},{"title":"Developing competitive Low-GHG New Sources of Protein","featured":true,"image":"quest-New-Sources-Protein.jpg","text":"Between 1950 and 2009, global consumption of meat more than doubled. If demand for meat continues to increase at its current rate, by 2050 we’ll be eating two thirds more meat.","scholarCollectionId":167802,"patentCollectionId":167791,"defaultQuery":"( Developing Low-Cost, Low-GHG New Sources of Protein ) || ( ( protien && ( \\"low cost\\" || \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) )  || ( \\"tofu\\" || \\"Plant-based meat\\" || \\"meat-like\\" || \\"meat replica\\" ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2546},{"title":"Reducing CH₄ and N₂O Emissions from Agriculture","image":"quest-Reducing-Emissions-Agriculture.jpg","text":"Agriculture accounts for approximately 10% of total global greenhouse gas emissions, including about 60% of global nitrous oxide (N2O) and 50% of methane emissions.","scholarCollectionId":167805,"patentCollectionId":167788,"defaultQuery":"( reduce || reducing ) && (CH4 || N2O || methane || \\"nitrous oxide\\") && Emissions && Agriculture","scholarDashboardId":2199,"patentDashboardId":2196,"id":2525},{"title":"Low GHG Ammonia (fertilizer) Production","image":"quest-Zero-GHG-Ammonia-Production.jpg","text":"About 1% of global greenhouse gas emissions come from the energy-intensive production of ammonia for use in fertilizer.","scholarCollectionId":167804,"patentCollectionId":167789,"defaultQuery":"( agriculture && ( ammonia || NH3 || \\"Ammonia Production\\")) AND ( \\"zero-ghg\\" || \\"zero greenhouse\\" || \\"zero carbon\\" || \\"zero emmission\\" || \\"reduce emmission\\" || \\"lower carbon\\" || \\"lower emission\\" ||\\"low greenhouse\\" ||\\"reduce greenhouse\\" || \\"reduce carbon\\" ||\\"climate change\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2528},{"title":"Eliminating Spoilage/Loss in the Food-Delivery Chain","image":"quest-Eliminating-Spoilage.jpg","text":"Today, roughly one-third of food produced for human consumption is lost or wasted. Significantly reducing food waste would dramatically reduce global agricultural production requirements.","scholarCollectionId":167799,"patentCollectionId":167792,"defaultQuery":"\\"extend food shelf-life\\" || \\"improve food shelf-life\\" || \\"prevent food spoilage\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2544},{"title":"Manure","image":"quest-Manure.jpg","text":"Breakdown of manure applied to soils and pasture results in significant emissions of the powerful greenhouse gas N2O.","scholarCollectionId":167801,"patentCollectionId":167794,"defaultQuery":"( \\"reduce emmission\\" || \\"lower carbon\\" || \\"lower emission\\" ||\\"low greenhouse\\" ||\\"reduce greenhouse\\" || \\"reduce carbon\\" ||\\"climate change\\" ) AND (\\"animal waste management\\" || \\"manure management\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2523}],"title":"Food and Agriculture System","subheading":"A quarter of all global emissions come from feeding, clothing and sheltering the world’s human population.","text":"The earth being finite, we have fixed amounts of arable land. Most of the targets in agriculture involve either making more efficient, less wasteful and less harmful use of land, decreasing our need for so much agriculture, decreasing waste in the food system or finding new forms of nutrition."},{"title":"Natural Resource Management","subheading":"Natural resource management focuses on forests, land- and marine-based ecosystems, regeneration of life in rivers, lakes and oceans and enabling natural systems to function optimally.","text":"Draining swamps, felling forests or ploughing or paving grassland generates emissions, and decreases carbon fixing. However actions such as afforestation or conversion of arable land into grassland can protect carbon stocks or result in carbon sequestration. Land use and forestry – which include our use of soils, trees, plants, biomass and timber – can contribute significantly to the reduction of atmospheric C02 and the fight against climate change. Actions on terrestrial, freshwater and ocean systems are essential for achieving carbon net zero by 2050. Nature-based solutions are effective, long-term, cost-efficient and globally scalable approach for climate action, with potential to remove up to 12 GT of greenhouse gasses per year. In addition to climate change mitigation and adaptation, nature-based solutions reinforce the value of ecosystem services and encourage investments in nature that improve ecosystem health, protect biodiversity and address food and water security.","quests":[{"title":"Soil Management Solutions for GHG Reduction and Carbon Storage","image":"quest-Soil-Management-Solutions.jpg","text":"Almost 33 million acres of forest around the world is cut down every year to make room for crop land, and the process removes up to half of the carbon in the soil.","scholarCollectionId":167798,"patentCollectionId":167793,"defaultQuery":"\\"soil carbon reserve\\" OR \\"soil carbon sequestration\\" OR \\"carbon farming\\" OR \\"soil carbon management\\" OR \\"soil organic carbon\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2524},{"title":"Forestry and Agriculture-Related Deforestation","image":"quest-Ag-Deforestation.jpg","text":"Deforestation and land-use changes related to agriculture is responsible for approximately 10% of global greenhouse gas emissions.","scholarCollectionId":167796,"patentCollectionId":183509,"defaultQuery":"(agricultural || Agriculture-Related || \\"agriculture related\\") && Deforestation","scholarDashboardId":2199,"patentDashboardId":2196,"id":2531},{"title":"Land Management and Restoration","image":"quest-Land-Management-Restoration.jpg","text":"","defaultQuery":"","id":2553},{"title":"Marine Resource Management and Restoration","image":"quest-Marine-Resource-Management-Restoration.jpg","text":"","defaultQuery":"","id":2552},{"title":"Increasing Resilience and Carbon Sequestration in Marine and Coastal Ecosystems","image":"quest-Carbon-Sequestration-Marine-Ecosystems.jpg","text":"","defaultQuery":"","id":2551},{"title":"Microbes and the Hologenome","image":"quest-Microbes-Hologenome.jpg","text":"","defaultQuery":"","id":2550}]},{"title":"Energy","subheading":"Electricity generation and transmission accounts for one quarter of all greenhouse gases emitted every year worldwide.","text":"Finding reliable, competitive and net-zero emission sources of energy is one of the most important steps we can take to prevent the worst effects of climate change. Technical challenges in Energy focus on the main elements of accelerating energy transition, including boosting renewable-energy, energy efficiency, energy storage and innovation. Many of the opportunities involve significantly reducing electricity generation costs and improving the quality of technologies already in use. However, some of the challenges require the invention of new energy sources or ways to keep the waste we produce now from entering the atmosphere. We should continue to deploy the renewable-energy technologies we already have, like wind and solar. At the same time, we need to develop new sources of energy that are clean, reliable and available to all, and build a more efficient electricity grid that can store and transmit clean energy when and where it’s needed. ","quests":[{"title":"Ultra-Low-Cost Wind Power","featured":true,"image":"quest-Low-Cost-Wind-Power.jpg","text":"The total wind energy resource available globally is vast, able to power the world many times over with carbon-free electricity.","scholarCollectionId":167751,"patentCollectionId":167729,"defaultQuery":"\\"Wind Power\\"; \\"Wind Turbine\\"; \\"Wind Energy\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2499},{"title":"Next-Generation Nuclear Fission","featured":true,"image":"quest-Nuclear-Fission.jpg","text":"Nuclear power is already a significant global source of baseload carbon-free electricity, providing about 10% of the world’s electricity.","scholarCollectionId":167806,"patentCollectionId":167725,"defaultQuery":"Next-Generation && \\"Nuclear Fission\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2498},{"title":"Enhanced Geothermal Systems (EGS)","image":"quest-Enhanced-Geothermal-Systems.jpg","text":"Earth’s vast reserves of deep geothermal heat—experts estimate total accessible reserves of more than 1,000 GW in the United States alone.","scholarCollectionId":167807,"patentCollectionId":167728,"defaultQuery":"Enhanced Geothermal Systems (EGS)","scholarDashboardId":2199,"patentDashboardId":2196,"id":2497},{"title":"Ultra-Low-Cost Solar Power","image":"quest-Solar-Power.jpg","text":"The amount of solar energy that hits Earth every day is large enough to power the world many times over with carbon-free electricity.","scholarCollectionId":167808,"patentCollectionId":167731,"defaultQuery":"(\\"high efficiency\\" || Ultra-Low-Cost || \\"low cost\\" || low-cost ) && (solar || photovoltaic ) && \\"Power generation\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2503},{"title":"Nuclear Fusion","featured":true,"image":"quest-Nuclear-Fusion.jpg","text":"Net energy production from controlled nuclear fusion—the fusing of two atomic nuclei—has long been considered the Holy Grail of clean energy.","scholarCollectionId":167809,"patentCollectionId":167726,"defaultQuery":"\\"Nuclear Fusion\\"","scholarDashboardId":2199,"patentDashboardId":2196,"id":2504},{"title":"Ultra-Low-Cost Electricity Storage","featured":true,"image":"quest-Low-Cost-Electricity-Storage.jpg","text":"Increasing penetrations of intermittent renewables, such as wind and solar power, on the world’s power grids will require the deployment of growing amounts of energy storage.","scholarCollectionId":167810,"patentCollectionId":167733,"defaultQuery":"(\\"high efficiency\\" || Ultra-Low-Cost || \\"low cost\\" || low-cost ) && (\\"power storage\\" || \\"Electricity Storage\\" || \\"energy storage\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2193},{"title":"Ultra-Low-Cost Thermal Storage","image":"quest-Low-Cost-Thermal-Storage.jpg","text":"Most conventional electricity generating systems in use today are thermally-powered, including coal, natural gas, nuclear, and solar thermal power.","scholarCollectionId":167811,"patentCollectionId":167735,"defaultQuery":"(\\"high efficiency\\" || Ultra-Low-Cost || \\"low cost\\" || low-cost ) && (\\"termal power storage\\" || \\"thermal storage\\" || \\"thermal energy storage\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2502},{"title":"Ultra-Low-Cost Transmission","image":"quest-Low-Cost-Transmission.jpg","text":"The best and most cost effective renewable power resources, like wind and solar, are often located far from the areas where demand for electricity is greatest.","scholarCollectionId":167812,"patentCollectionId":167736,"defaultQuery":"(\\"high efficiency\\" || Ultra-Low-Cost || \\"low cost\\" || low-cost ) && (\\"power transmission\\" || \\"electricity transmission\\" || \\"energy transmission\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2501},{"title":"Low-Cost Ocean Energy","image":"quest-Ocean-Energy.jpg","text":"The world’s oceans are a vast source of renewable energy that is typically more predictable than wind and solar power.","scholarCollectionId":167813,"patentCollectionId":167782,"defaultQuery":"(\\"high efficiency\\" || Ultra-Low-Cost || \\"low cost\\" || low-cost ) &&( (ocean || tidal || sea || Hydrokinetic ) && ( \\"power generation\\" || \\"energy generation\\"))","scholarDashboardId":2199,"patentDashboardId":2196,"id":2500},{"title":"Next-Generation Ultra-Flexible Grid Management","image":"quest-Flexible-Grid-Management.jpg","text":"Power grids around the world were originally designed for one-way power flow from large centralized power plants – controlled on demand – to passive electricity consumers at the end of the wire.","scholarCollectionId":168242,"patentCollectionId":167783,"defaultQuery":"(\\"power\\" || \\"electricity\\" || \\"energy\\") && ( \\"grid\\" || network || distribution) && ( management || efficiency || next-gen || intelligent || efficient || storage || \\"next generation\\" || next generation || smart )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2505},{"title":"Fast-Ramping, Low-GHG Power Plants","image":"quest-Low-GHG-Power-Plants.jpg","text":"As growing amounts of intermittent renewable power from the wind and the sun are introduced onto the grid, it will grow more and more important to find inexpensive low-carbon forms of grid flexibility.","scholarCollectionId":168243,"patentCollectionId":167784,"defaultQuery":"( \\"reduce emmission\\" || \\"lower carbon\\" || \\"lower emission\\" || \\"low greenhouse\\" ||\\"reduce greenhouse\\" || \\"reduce carbon\\" || \\"climate change\\" || \\"low-ghg\\" || \\"zero greenhouse\\" || \\"zero carbon\\" || \\"zero emmission\\" ) && ( fast-ramping || \\"fast ramping\\" ) && ( \\"power plant\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2506},{"title":"Low-GHG, Reliable, Distributed Power Solutions","image":"quest-Distributed-Power-Solutions.jpg","text":"Low-greenhouse gas emission, continuously available distributed power solutions, such as highly efficient natural-gas-powered fuel cell technologies.","scholarCollectionId":168244,"patentCollectionId":167785,"defaultQuery":"( \\"reduce emmission\\" || \\"lower carbon\\" || \\"lower emission\\" || \\"low greenhouse\\" ||\\"reduce greenhouse\\" || \\"reduce carbon\\" || \\"climate change\\" || \\"low-ghg\\" || \\"zero greenhouse\\" || \\"zero carbon\\" || \\"zero emmission\\" ) && (\\"power\\" || \\"electricity\\" || \\"energy\\") && ( grid || network || distribution ) && ( distributed )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2515},{"title":"CO₂ Capture","image":"quest-CO-Capture.jpg","text":"One of the most promising solutions for dramatically reducing CO2 emissions from large-scale fossil-fuel power plants and industrial processes lies in CO2-capture technolog.","scholarCollectionId":168245,"patentCollectionId":167786,"defaultQuery":"( \\"CO2 Capture\\" || \\"carbon capture\\")","scholarDashboardId":2199,"patentDashboardId":2196,"id":2518},{"title":"CO₂ Sequestration and Use","image":"quest-CO-Sequestration.jpg","text":"We need to find cost effective and reliable ways to transport captured CO2 and sequester it somewhere or convert it into other useful chemical substances.","scholarCollectionId":168246,"patentCollectionId":167787,"defaultQuery":"( \\"CO2 sequestration\\" || \\"carbon sequestration\\" || \\"carbon capture and sequestration\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2512}]},{"title":"Transportation","subheading":"The world is not going to reduce emissions from the transportation industry by moving slower. ","text":"The global demand for transportation continues to grow rapidly, but in recent years, the world has made remarkable progress in making cars and light trucks more efficient and the move to electrify the short-haul transportation sector holds just as much promise. We need to finish the job with the light fleet while finding cheap, low-emission solutions for long-haul trucking, airline travel, and other modes of transportation that are more difficult to decarbonize.","quests":[{"title":"Batteries for Electric Vehicles","featured":true,"image":"quest-Batteries-Gasoline-Equivalent.jpg","text":"As the power sector continues to move away from carbon-emitting technologies, one of the most promising opportunities to reduce emissions in transportation lies in electrifying cars and trucks.","scholarCollectionId":176112,"patentCollectionId":176042,"defaultQuery":"( ( battery || batteries || cell ) && ( \\"electric vehicle\\" || \\"hybrid vehicle\\" || \\"electric car\\") )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2507},{"title":"Lightweight Materials and Structures","image":"quest-Lightweight-Materials.jpg","text":"One of the best ways to reduce carbon emissions from transportation is to make vehicles lighter, whether they’re cars, trucks, planes, trains, or ships.","scholarCollectionId":176113,"patentCollectionId":176043,"defaultQuery":"( lightweight AND ( material || structure ) ) AND ( transport || vehicle )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2508},{"title":"Low-GHG Liquid-Fuels Production","image":"quest-Liquid-Fuels-Production.jpg","text":"We need to develop new ways of producing liquid fuels beyond biofuels produced from plants, by finding new ways to directly convert CO2, water, and/or other inputs into low greenhouse gas liquid fuels.","scholarCollectionId":176114,"patentCollectionId":176045,"defaultQuery":"( ( ( ( liquid AND fuel ) AND ( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) ) AND ( transport || vehicle ) ) AND ( synthetic || \\"non-biomass\\" || \\"non plant-based\\" || \\"non biomass\\" ) ) || ( ( ( ( liquid AND fuel ) AND ( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) ) AND ( transport || vehicle ) ) NOT ( biomass || \\"plant-based\\" ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2511},{"title":"Low-GHG Gaseous Fuels Production","image":"quest-Gaseous-Fuels-Production.jpg","text":"Most of our transportation is powered by combustion engines and liquid fuels, but it’s also possible to use gases such as hydrogen and methane to power our vehicles.","scholarCollectionId":176115,"patentCollectionId":176047,"defaultQuery":"( ( gas AND fuel AND ( transport || vehicle || engine || turbine ) ) AND ( hydrogen || H2 || methane || CH4 ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2514},{"title":"High-Energy-Density Gaseous Fuel Storage","image":"quest-Gaseous-Fuel-Storage.jpg","text":"CO2 emissions from the transportation sector can be significantly reduced through the use of gaseous transportation fuels, like hydrogen and methane, that are generated using low-carbon sources of energy.","scholarCollectionId":176116,"patentCollectionId":176048,"defaultQuery":"((\\"high density\\" || \\"high-density\\" || \\"energey density\\" || \\"energey dense\\" || \\"high energey\\") AND gas AND fuel AND storage ) AND ( transport || vehicle || engine || turbine || motor )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2521},{"title":"High-Efficiency Thermal Engines","image":"quest-Thermal-Engines.jpg","text":"Internal-combustion engines, the dominant form of automotive power today, will almost inevitably play an important role in the global transportation sector in the decades ahead.","scholarCollectionId":176117,"patentCollectionId":176049,"defaultQuery":"( \\"high-efficiency\\" || \\"high efficiency\\" ) AND ( ( thermal || \\"Internal-combustion\\" || \\"Internal combustion\\" || hybrid ) AND ( motor || turbine || engine ) ) AND ( transport || vehicle || car || aircraft )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2513},{"title":"High-Efficiency, Low-Cost Electrochemical Engines","image":"quest-Electrochemical-Engines.jpg","text":"Electrochemical conversion technologies, such as fuel cells, can convert hydrogen into automotive power with almost 60% efficiency—and they’re theoretically capable of exceeding 80%.","scholarCollectionId":176118,"patentCollectionId":176070,"defaultQuery":"( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" ) AND ( ( electrochemical || \\"electro-chemical\\" || \\"electro chemical\\") AND ( engine || motor || turbine ) ) AND ( transport || vehicle || car || aircraft )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2516},{"title":"Transportation-System Efficiency Solutions","image":"quest-Transportation-Efficiency-Solutions.jpg","text":"Technology-enabled greenhouse gas emissions reductions from the transportation sector go beyond improvements in vehicles and fuels alone, extending into the realm of system level efficiency improvements.","scholarCollectionId":176120,"patentCollectionId":176072,"defaultQuery":"( ( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" ) AND ( transport || transportation || traffic || \\"driver-assistance\\" || \\"driver assist\\" || \\"autonomous\\" ) AND ( system || control ) )  AND ( vehicle || car || aircraft )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2520},{"title":"Technology Solutions that Eliminate the Need for Travel","image":"quest-Eliminate-travel.jpg","text":"The widespread use of advanced telepresence, virtual reality, and virtual collaboration platforms that enable people to conduct meetings, collaborate, and have other experiences without the need for travel.","scholarCollectionId":176121,"patentCollectionId":176073,"defaultQuery":"( telepresence || \\"virtual reality\\" || \\"virtual collaboration\\" || \\"virtual meeting\\" || \\"virtual-reality\\" || \\"augmented reality\\" || \\"augmented-reality\\" ) and ( communication || meeting || teleconference || communicate )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2509},{"title":"Technology-Enabled Urban Planning and Design","image":"quest-Urban-Planning-Design.jpg","text":"The way our we plan and design our cities has a major impact on the efficiency and the greenhouse gas footprint of our transportation systems.","scholarCollectionId":176122,"patentCollectionId":176074,"defaultQuery":"( \\"urban design\\" || \\"urban planning\\" || \\"suburb\\" || \\"city planning\\" || \\"town planning\\" || \\"road design\\" ) and ( transport || transportation || traffic ) AND ( reduction || mitigation || technology ) ","scholarDashboardId":2199,"patentDashboardId":2196,"id":2510},{"title":"Low-GHG Air Transport","image":"quest-Air-Transport.jpg","text":"Air transport currently accounts today for 1.5% of global greenhouse gas emissions and is growing rapidly.","scholarCollectionId":176123,"patentCollectionId":176075,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) AND ( \\"air transport\\" || aircraft || \\"air plane\\" || airplane )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2519},{"title":"Low-GHG Water-Borne-Goods Transportation","image":"quest-Water-Transport.jpg","text":"Water-borne freight shipping accounts today for 1.6% of global greenhouse gas emissions, representing 11% of global emissions from the transportation sector.","scholarCollectionId":176125,"patentCollectionId":176076,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" || \\"fuel efficient\\" ) AND ( transport || shipping ) AND ( maritime || \\"boat\\" || \\"water craft\\" || watercraft  || \\"water-based transport\\" || \\"water-borne transport\\" || \\"waterborne transport\\"  vessel )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2517}]},{"quests":[{"title":"CO₂ Extraction from the Environment","featured":true,"image":"quest-CO2-Extraction.jpg","text":"In order for the production of carbon-based products to be truly carbon-neutral, it must begin with materials that capture CO2 from the environment.","scholarCollectionId":176138,"patentCollectionId":176091,"defaultQuery":"( environmental || atmospheric ) AND ( CO2 || \\"carbon dioxide\\" || \\"carbon-dioxide\\" ) AND ( extraction || uptake || sequestration || sequester || capture || storage )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2538},{"title":"Low-GHG Chemicals","image":"quest-Low-GHG-Chemicals.jpg","text":"Chemical production is one of the largest sources of greenhouse gas emissions in the global industrial sector, contributing 15% of direct industrial greenhouse gas emissions.","scholarCollectionId":176126,"patentCollectionId":176080,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) AND ( \\"chemical manufacture\\" || \\"chemical production\\" || ethylene || ammonia || \\"nitric acid\\" || \\"adipic acid\\" || caprolactum) AND ( manufacturing || processing )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2545},{"title":"Low-GHG Steel","image":"quest-Low-GHG-Steel.jpg","text":"The production of iron and steel is responsible for about 5% of global greenhouse gas emissions.","scholarCollectionId":176127,"patentCollectionId":176079,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" || \\"fuel efficient\\" ) AND ( ( \\"iron  ore\\" || \\"iron-ore\\" || steelmaking || \\"steel making\\" ||\\" steel-making\\" ) || ( steel AND ( smelting || refining || manufacture ) ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2522},{"title":"Low/Negative-GHG Cement","image":"quest-Low-GHG-Cement.jpg","text":"The production of cement, a key ingredient in the concrete that forms the basis of much of our infrastructure, is responsible for about 5% of global greenhouse gas emissions.","scholarCollectionId":176128,"patentCollectionId":176081,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" || \\"negative emission\\" ) AND ( cement || concrete || mortar || masonry )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2540},{"title":"Waste Heat Capture/Conversion","image":"quest-Waste-Heat-Capture.jpg","text":"A huge amount of the input energy into the industrial sector is lost as waste heat, with more than 80% of being low-temperature waste heat below 150 degrees Celsius.","scholarCollectionId":176129,"patentCollectionId":176082,"defaultQuery":"( ( \\"waste heat\\" || \\"latent energy\\" || \\"waste energy\\" ) AND (capture || conversion || recovery || exchanger ) || \\"energy recovery\\" ) AND ( manufacturing || manufacture || production )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2529},{"title":"Low-GHG Industrial Thermal Processing","image":"quest-Thermal-Processing.jpg","text":"Industrial process heating consumes a very large fraction of the total energy used across the whole industrial sector, with industrial process heating accounting for ~70% of energy end use in the manufacturing sector in the United States.","scholarCollectionId":176130,"patentCollectionId":176083,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" ||\\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) AND (\\"thermal processing\\" || \\"process heating\\" || \\"industrial heating\\" ) AND ( industry || manufacturing || manufacture || production )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2527},{"title":"Low-GHG Paper Production","image":"quest-Paper-Production.jpg","text":"The pulp and paper industry is a significant contributor to global industrial greenhouse gas emissions, with more than half of the energy it consumes used for drying paper after it is laid.","scholarCollectionId":176131,"patentCollectionId":176084,"defaultQuery":"( \\"low carbon\\" || \\"low emission\\" || \\"low greenhouse\\" || \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" ) AND ( fibre || paper || cardboard || pulp ) AND ( milling || manufacturing || manufacture || production || recycling )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2532},{"title":"Extreme Efficiency in IT/Data Centers","image":"quest-Efficiency-Data-Centers.jpg","text":"Data centers represent a significant and rapidly growing source of global emissions: by 2020, emissions from the sector are projected to reach more than 320 metric tons CO2-equivalentper year.","scholarCollectionId":176133,"patentCollectionId":176085,"defaultQuery":"( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" ) AND ( \\"data center\\" || \\"data-center\\" || \\"data centre\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2548},{"title":"Fugitive Methane Emissions from Industry","image":"quest-Fugitive-Methane.jpg","text":"Over the course of a century, methane is more than 20 times as potent as carbon dioxide and it frequently escapes into the atmosphere in the form of fugitive methane emissions.","scholarCollectionId":176134,"patentCollectionId":176086,"defaultQuery":"( industry || industrial || maunfacturing ) AND (fugitive || waste || escape || leak || emissions ) AND ( methane || CH4 )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2543},{"title":"Extreme Durability for Energy-Intensive Products and Materials","image":"quest-Extreme-Durability.jpg","text":"The true “life-cycle” greenhouse gas emissions impact associated with the production of energy-intensive materials is determined in part by the useful lifetime of the products containing these materials.","scholarCollectionId":176135,"patentCollectionId":176087,"defaultQuery":"( \\"extreme durable material\\" || \\"improved durability\\" || \\"energy-intensive material\\" || \\"extremely durable material\\" || \\"improve durability\\" || \\"increase durability\\" ) AND ( manufacturing || manufacture || production || processing) AND ( material || product ) ","scholarDashboardId":2199,"patentDashboardId":2196,"id":2526},{"title":"Transformative Recycling Solutions for Energy-Intensive Products and Materials","image":"quest-Recycling-Solutions.jpg","text":"The true greenhouse gas emissions impact associated with the production of energy-intensive materials is determined in part by the extent to which these materials can be cost-effectively recycled and re-used.","scholarCollectionId":176136,"patentCollectionId":176088,"defaultQuery":"recycle AND (\\"energy-intensive\\" || \\"energy-intense\\" || \\"energy intensive\\" || \\"energy intense\\") AND ( material || product )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2530},{"title":"Increasing Biomass Uptake Rate of CO₂","image":"quest-Biomass-Uptake.jpg","text":"Growing more biomass could enable larger amounts of carbon-neutral plant material for the production of fuels, chemicals, and materials and for carbon-negative CO2 sequestration strategies.","scholarCollectionId":176137,"patentCollectionId":176089,"defaultQuery":"( \\"zero carbon\\" || \\" no carbon\\" || \\"carbon neutral\\" || \\"negative emission\\" || \\"carbon sequestration\\" || \\"CO2 uptake\\" || \\"carbon uptake\\" ) AND ( \\"biomass\\" || \\"plant-based\\" || \\"plant material\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2539}],"title":"Industry and Manufacturing","subheading":"Making everything we use without emitting greenhouse gases.","text":"Industry is often overlooked as a source of greenhouse gases, but simply creating the things we use every day puts an enormous strain on the climate – about 30% of emissions comes from industry. Nearly every piece of plastic, paper, cement, and steel in our world is produced by a process that emits greenhouse gases, many of which are far more potent than carbon. Eliminating emissions from the industrial sector will help put the planet on a truly sustainable path."},{"quests":[{"title":"High-Efficiency, Non-HFC Cooling & Refrigeration","image":"quest-Cooling-Refrigeration.jpg","text":"The buildings sector is responsible for about 18% of global greenhouse gas emissions, with cooling being one of the largest sources of building energy use, second only to heating. ","scholarCollectionId":176139,"patentCollectionId":176092,"defaultQuery":"( ( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( cooling || refrigeration || refrigerant || coolant ) AND ( buildings || house || home ) NOT (HFC || hydrofluorocarbon ) ) || ( ( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( cooling || refrigeration || refrigerant ) AND ( buildings || house || home ) AND ( \\"non-HFC\\" || \\"non-hydrofluorocarbons\\" || \\"no HFC\\" || \\"no hydrofluorocarbons\\" || \\"non HFC\\" ) ) ","scholarDashboardId":2199,"patentDashboardId":2196,"id":2547},{"title":"High-Efficiency Space/Water Heating","image":"quest-Water-Heating.jpg","text":"The buildings sector is responsible for about 18% of global greenhouse gas emissions, with space and water heating being the single largest source of building energy use. ","scholarCollectionId":176140,"patentCollectionId":176093,"defaultQuery":"( ( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\")  AND ( heating || \\"heat pump\\" ) AND ( building || house || home ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2533},{"title":"Building-Level Electricity and Thermal Storage","image":"quest-Electricity-Thermal-Storage.jpg","text":"Buildings are not only users of electricity from the grid, but can also be sources of grid flexibility.","scholarCollectionId":176141,"patentCollectionId":176094,"defaultQuery":"( ( \\"electricity storage\\" || \\"thermal storage\\" || \\"heat storage\\" || \\"power storage\\" )  AND ( building || house || \\"building-level\\" || home ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2537},{"title":"High-Efficiency Envelope: Windows and Insulation","image":"quest-Windows-Insulation.jpg","text":"A lot of the world’s greenhouse gas emissions come from the energy we use to heat and cool our buildings.","scholarCollectionId":176142,"patentCollectionId":176095,"defaultQuery":"( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( \\"window glazing\\" || \\"glazed window\\" || \\"double-glazed\\" || \\"double glazed\\" || insulation || insulate ) AND ( building || house || \\"building-level\\" || home || envelope )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2541},{"title":"High Efficiency Lighting","image":"quest-Efficiency-Lighting.jpg","text":"Lighting is one of the top three sources of energy use in buildings, which makes it a significant contributor to greenhouse gas emissions.","scholarCollectionId":176143,"patentCollectionId":176096,"defaultQuery":"( ( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( lighting || skylight || LED || \\"light emitting diode\\" || \\"light-emitting diode\\" ) AND ( building || house || home ) )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2535},{"title":"High-Efficiency Appliances and Plug-Loads","image":"quest-Appliances.jpg","text":"Appliances and other plug-loads represent a significant and growing source of energy usage in our buildings.","scholarCollectionId":176144,"patentCollectionId":176097,"defaultQuery":"( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( domestic || appliance || \\"white-good\\" || \\"white good\\" ) AND ( \\"plug-load\\" || \\" plug load\\" || \\"vampire load\\" )","scholarDashboardId":2199,"patentDashboardId":2196,"id":2549},{"title":"Next-Generation Building Management","image":"quest-Building-Management.jpg","text":"With buildings being responsible for about 18% of global greenhouse gas emissions, optimal building energy management approaches represent a significant opportunity for major emissions reductions.","scholarCollectionId":176145,"patentCollectionId":176098,"defaultQuery":"title:(( building || house || home ) AND ( \\"control system\\" || management || sensors || \\"energy management system\\" ))","scholarDashboardId":2199,"patentDashboardId":2196,"id":2534},{"title":"Technology-Enabled Design of Efficient Buildings and Communities","image":"quest-Building-Design.jpg","text":"Through significantly improved up front design, buildings and communities can achieve dramatic improvements in energy efficiency and greenhouse gas emissions reductions.","scholarCollectionId":176146,"patentCollectionId":176099,"defaultQuery":"title:(( \\"high-efficiency\\" || \\"high efficiency\\" || efficient || \\"low cost\\" || \\"low-cost\\" || \\"extreme efficient\\" || \\"high efficacy\\" || \\"low power\\" || \\"power efficient\\" || \\"highly efficient\\") AND ( building || house || home || urban || town || city || community ) AND ( design || architecture || planning || construction ))","scholarDashboardId":2199,"patentDashboardId":2196,"id":2536}],"title":"Buildings","subheading":"Our homes, offices, hospitals, and schools need lighting, power, heating, and cooling.","text":"The combined emissions from buildings contribute almost 20% of the greenhouse gases released into the atmosphere. If we want to create a zero-carbon world, we must find ways to reduce the greenhouse gas emissions impact of our buildings. Part of the way to do this is to design the next generation of buildings that not only reduce harmful emissions but are also more efficient, smarter, and cheaper than those we use today."}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=t.multiFields={PATENT:{"Title, Abstract, Claims":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"OR";return"(title:("+e+") "+t+" abstract:("+e+") "+t+" claim:("+e+"))"}},SCHOLAR:{"Title, Abstract, Full Text":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"OR";return"(title:("+e+") "+t+" abstract:("+e+") "+t+" fulltext:("+e+"))"},"Title, Abstract, Keyword, Field of Study":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"OR";return"(title:("+e+") "+t+" abstract:("+e+") "+t+" keyword:("+e+") "+t+" field_of_study:("+e+"))"}}},r=t.parseTerm=function(e){var t=e.split(":").map((function(e){return e.trim()})),n=i(t,2),a=n[0],r=n[1];return a=a.replace(/[\(\)]+/g,""),(r=(r||"").replace(/[\(\)]+/g,""))||(r=a,a=""),0===r.indexOf("(")&&(r=r.slice(1,-1)),"true"===r&&(r=!0),{field:a,value:r}},o=(t.parseQueryString=function(e){return e.split(/ AND | OR | \|\| | && /g).map(r)},["author.display_name","author_first.display_name","author_last.display_name"]);t.formatClause=function(e,t){var n=e.field,i=e.value;if(a.PATENT[n])return a.PATENT[n](i,t);if(a.SCHOLAR[n])return a.SCHOLAR[n](i,t);var r=n?n+":":"";return _.includes(o,n)&&0!==i.indexOf('"')&&(i='"'+i+'"'),i.indexOf&&i.indexOf(" ")>=0&&(i="("+i+")"),"source.issn"===n&&(i=i.toLowerCase().replace(/\-/g,"")),"citation_id"===n&&(i=(i+"").toLowerCase()),r+=i},t.paramsToMap=function(e){var t={};return(e?_.isArray(e)?e:[e]:[]).forEach((function(e){t[e]=!0})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mapKeys=["jurisdiction","author.affiliation.grid.address.country_code","source.country","agent.country","applicant.residence","country"],t.logoGridKeys=["applicant.name.exact","owner_all.name.exact","author.affiliation.name.keyword","author.display_name.keyword"],t._scholarHistogramFields=["author_count","affiliation_count","referenced_by_count","referenced_by_patent_count"],t._patentHistogramFields=["inventor_count","owner_all_count","applicant_count","agent_count","family.simple.size","family.extended.size","cited_by.patent_count","reference_cited.npl_count","reference_cited.patent_count"],t._scholarScatterPlotFields=["has_clinical_trial","has_funding","is_open_access","open_access.license","publication_type","referenced_by_count","referenced_by_patent_count","source.asjc_subject","source.country","source.publisher","source.title","title","year_published","date_published"],t.configKeys=["alternateColours","annotation","barChartType","basicChartType","citingPatentScatter","colourScheme","dateField","displayCitationRatio","displayScatterLabels","excludeFilterValues","flip","groupOtherValues","groupings","height","hideAnnotation","histogram","interval","limit","max","metric","metricAggregation","normalise","orderBy","overTimeMark","primaryFacet","restrictToFilterValues","scaleType","scatterPlotSort","scholarArticleScatter","secondaryFacet","secondaryFacetLimit","showInlineClassifications","showMissingValues","sort","source","src","startYear","timeline","title","type","verbose","view","hideItemsExceedingMax"],t.scholarlyAggKeys=["is_open_access","mesh_term.mesh_heading","publication_type","field_of_study","funding.organisation.keyword","author.affiliation.grid.type","author.affiliation.grid.address.city","author.affiliation.grid.address.state_code","author.affiliation.grid.address.country_code","open_access.colour","open_access.license","open_access.source","conference.name.keyword","author.display_name.keyword","author.display_name_id","author.affiliation.name.keyword","chemical.substance_name.keyword","source.title.keyword","source.publisher.keyword","source.asjc_subject.keyword","source.country"],t.patentFacetKeys=["jurisdiction","agent.name.exact","applicant.name.exact","inventor.name.exact","legal_status.patent_status","publication_type","kind","classification_cpc","classification_ipcr","classification_national","sequence.type","sequence.organism.name.exact"],t.metricAggregationLabels={avg:"Average",sum:"Sum",cardinality:"Unique Count",median:"Median"},t.timelineAggregations={published:{date_histogram:{field:"date_published",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},filed:{date_histogram:{field:"application_reference.date",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},earliest_priority:{date_histogram:{field:"earliest_priority_claim_date",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},granted:{date_histogram:{field:"legal_status.grant_date",calendar_interval:"year",min_doc_count:1,format:"yyyy"}},expires:{date_histogram:{field:"legal_status.anticipated_term_date",calendar_interval:"year",min_doc_count:1,format:"yyyy"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Works Cited by Patents":{filter:{term:{is_referenced_by_patent:!0}}},"Works Cited by Scholarly":{filter:{term:{is_referenced_by_scholarly:!0}}},"Citing Patents":{cardinality:{field:"referenced_by_patent.lens_id"}},"Patent Citations":{sum:{field:"referenced_by_patent_count"}},"Scholarly Citations":{sum:{field:"referenced_by_count"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(211);(i=a)&&i.__esModule;function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=[{label:"Horizontal Bar Chart",icon:"hoz-bar",config:{view:"basic",primaryFacet:"applicant.name.exact",limit:20,basicChartType:"bar-chart"}},{label:"Vertical Bar Chart",icon:"vert-bar",config:{view:"basic",primaryFacet:"applicant.name.exact",limit:20,alternateColours:!0,basicChartType:"bar-chart",flip:!0}},{label:"Grouped Bar Chart",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"jurisdiction",secondaryFacet:"applicant.name.exact",limit:5,secondaryFacetLimit:5}},{label:"Stacked Bar Chart",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"applicant.name.exact",secondaryFacet:"legal_status.granted",limit:20,secondaryFacetLimit:2,barChartType:"stacked",normalise:!1}},{label:"Date Histogram",icon:"line",config:{view:"over-time",limit:10,overTimeMark:"bar",dateField:"date_published",scaleType:"linear",colourScheme:"category20c"}},{label:"Multi Date Histogram",icon:"line",config:{view:"timeline",timeline:{series:{published:!0,filed:!0}}}},{label:"Logo Grid",icon:"logo",config:{view:"basic",basicChartType:"logo-grid",primaryFacet:"applicant.name.exact",limit:8}},{label:"World Map",icon:"map",config:{view:"basic",basicChartType:"map",primaryFacet:"agent.country"}},{label:"Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"applicant.name.exact",limit:100}},{label:"Histogram",icon:"vert-bar",config:{view:"histogram",histogram:{interval:1,field:"inventor_count",min_doc_count:1}}},{label:"Pie Chart",icon:"pie",config:{view:"basic",primaryFacet:"publication_type",basicChartType:"pie"}},{label:"Heat Map",icon:"heat",config:{view:"basic",primaryFacet:"applicant.name.exact",basicChartType:"heatmap"}},{label:"Scatter Plot (Patents)",icon:"scatter",config:{view:"patent-scatter",type:"patent",limit:100,citingPatentScatter:{x:{field:"date_published",type:"temporal",title:"Publication Date"},y:{field:"cited_by.patent_count",type:"quantitative",title:"Citing Patent Count"},color:{field:"jurisdiction",type:"nominal",title:"Jurisdiction"},size:{type:"nominal",title:"Simple Family Size"},sort:"+cited_by.patent_count"},t:"2021-01-29T00:35:30.559Z",sample:!0,primaryFacet:"field_of_study",scaleType:"linear"}},{label:"Top Hits",icon:"top-hits",config:{type:"patent",view:"top-hits",sort:""}},{label:"Individual Patent",icon:"single-hit",config:{type:"patent",view:"top-hits",limit:1,verbose:!0,sort:""}}],s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=o.filter((function(e){return"basic"===e.config.view&&!n.includes(e.config.basicChartType)}));return _.cloneDeep(i).map((function(n){return n.label=t+" "+n.label,n.config.primaryFacet=e,e.startsWith("class_")&&(n.showInlineClassifications=!0),n}))};t.default=[{icon:"fa-file-certificate",label:"Patents",options:[{label:"Patent Scatter Plot",icon:"scatter",config:{view:"patent-scatter",type:"patent",limit:100,citingPatentScatter:{x:{field:"date_published",type:"temporal",title:"Filing Date"},y:{field:"reference_cited.patent_count",type:"quantitative",title:"Cited By Patent Count"},color:{field:"kind",type:"nominal",title:"Kind"},size:{field:"family.simple.size",type:"quantitative",title:"Simple Family Size"},sort:"+reference_cited.npl_count"}}},{label:"Document Types",icon:"hoz-bar",config:{view:"basic",primaryFacet:"publication_type",limit:20,alternateColours:!0,basicChartType:"bar-chart",flip:!1,scaleType:"sqrt"}},{label:"Patents over time",icon:"line-single",config:{view:"over-time",limit:20,overTimeMark:"line",dateField:"date_published",scaleType:"linear",colourScheme:"category20c"}},{label:"Document Types over time",icon:"vert-bar",config:{view:"over-time",limit:20,overTimeMark:"bar",primaryFacet:"publication_type",dateField:"date_published",scaleType:"linear",colourScheme:"category20c"}},{label:"Patents published and filed",icon:"line",config:{view:"timeline",timeline:{series:{published:!0,filed:!0}}}},{label:"Patents expiring",icon:"vert-bar-mono",config:{view:"timeline",timeline:{series:{published:!1,filed:!1,expires:!0}}}}]},{icon:"fa-quote-left",label:"Citations",options:[{label:"Most cited by Patents",icon:"scatter",config:{view:"patent-scatter",type:"patent",limit:100,citingPatentScatter:{x:{field:"date_published",type:"temporal",title:"Filing Date"},y:{field:"reference_cited.patent_count",type:"quantitative",title:"Cited By Patent Count"},color:{field:"kind",type:"nominal",title:"Kind"},size:{field:"family.simple.size",type:"quantitative",title:"Simple Family Size"},sort:"+reference_cited.npl_count"}}},{label:"Patent Citations over Time",icon:"vert-bar-mono",config:{view:"over-time",overTimeMark:"bar",dateField:"date_published",scaleType:"linear",metric:"cited_by.patent_count",metricAggregation:"sum",primaryFacet:null}}]},{icon:"fa-user-cog",label:"Inventors",options:[].concat(r(s("inventor.name.exact","Inventors",["map","line","pie","logo-grid"])))},{icon:"fa-user-check",label:"Applicants",options:[].concat(r(s("applicant.name.exact","Applicant",["map","line","pie"])))},{icon:"fa-user-tie",label:"Owners",options:[].concat(r(s("owner_all.name.exact","Owners",["map","line","pie"])))},{icon:"fa-gavel",label:"Legal",options:[{label:"Legal Status Bar Chart",icon:"vert-bar",config:{view:"basic",primaryFacet:"legal_status.patent_status",limit:20,basicChartType:"bar-chart",scaleType:"linear",flip:!1}},{label:"Legal Status by Applicant",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"applicant.name.exact",secondaryFacet:"legal_status.patent_status",limit:5,secondaryFacetLimit:5,scaleType:"linear",barChartType:"grouped"}},{label:"Agents",icon:"vert-bar",config:{view:"basic",primaryFacet:"agent.name.exact",limit:20,alternateColours:!0,basicChartType:"bar-chart",flip:!0}},{label:"Has Legal Events",icon:"pie",config:{view:"basic",basicChartType:"pie",primaryFacet:"has_inpadoc"}}]},{icon:"fa-tasks",label:"Classifications",options:[].concat(r(s("class_cpc.symbol","CPC Classifications",["map","line","pie","logo-grid"])),r(s("class_ipcr.symbol","IPC Classifications",["map","line","pie","logo-grid"])),r(s("class_national.symbol","US Classifications",["map","line","pie","logo-grid"])))},{icon:"fa-map",label:"Jurisdictions",options:[].concat(r(s("jurisdiction","Jurisdictions",["line","pie","logo-grid"])))},{icon:"fa-flask",label:"Biologicals",options:[].concat(r(s("sequence.organism.name.exact","Biologicals",["line","map","logo-grid"])))},{icon:"fa-cog",label:"Custom",options:o}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{view:"over-time",limit:10,overTimeMark:"bar",primaryFacet:"publication_type",dateField:"date_published",scaleType:"linear",colourScheme:"category20c",t:"2021-03-09T09:38:42.691Z",sample:!0,title:"Patent documents over time"},{view:"timeline",timeline:{series:{published:!0,filed:!0,granted:!0}},t:"2021-03-09T14:48:37.428Z",sample:!0,limit:10,scaleType:"linear",title:"Patent documents by Published, Filed and Granted Date"},{view:"basic",basicChartType:"bar-chart",primaryFacet:"publication_type",limit:20,t:"2021-03-09T14:51:17.725Z",sample:!0,scaleType:"linear",flip:!1,colourScheme:"greenblue",title:"Patent documents by Type"},{view:"basic",primaryFacet:"legal_status.patent_status",limit:20,basicChartType:"bar-chart",scaleType:"linear",flip:!1,t:"2021-03-09T09:41:33.191Z",sample:!0,title:"Patent documents by Legal Status"},{view:"basic",basicChartType:"logo-grid",primaryFacet:"applicant.name.exact",limit:10,t:"2021-04-13T03:38:30.265Z",sample:!0,scaleType:"linear",flip:!1,title:"Top Applicants"},{view:"basic",basicChartType:"logo-grid",primaryFacet:"owner_all.name.exact",limit:10,t:"2021-03-09T09:40:47.278Z",sample:!0,scaleType:"linear",flip:!0,title:"Top Owners"},{view:"basic",primaryFacet:"class_cpc.symbol",limit:20,alternateColours:!0,basicChartType:"heatmap",flip:!0,t:"2021-03-09T09:42:25.972Z",sample:!0,scaleType:"linear",height:"400",showInlineClassifications:!1,title:"Top CPC Classification Codes"},{view:"basic",primaryFacet:"jurisdiction",limit:1e3,alternateColours:!0,basicChartType:"map",flip:!1,t:"2021-03-09T09:42:56.919Z",sample:!1,scaleType:"linear",title:"Patent documents by Jurisdiction"},{view:"basic",primaryFacet:"inventor.name.exact",basicChartType:"bar-chart",t:"2021-03-09T09:40:23.817Z",sample:!0,limit:10,scaleType:"linear",flip:!1,title:"Top Inventors"},{view:"basic",primaryFacet:"agent.name.exact",limit:10,basicChartType:"bar-chart",t:"2021-04-13T03:43:20.820Z",sample:!0,scaleType:"linear",flip:!1,colourScheme:"greenblue",title:"Top Agents & Attorneys"},{view:"patent-scatter",type:"patent",limit:100,citingPatentScatter:{x:{field:"date_published",type:"temporal",title:"Publication Date"},y:{field:"cited_by.patent_count",type:"quantitative",title:"Cited By Patent Count"},color:{field:"jurisdiction",type:"nominal",title:"Jurisdiction"},size:{field:"cited_by.patent_count",type:"quantitative",title:"Cited By Patent Count"},sort:"+cited_by.patent_count"},t:"2021-04-13T03:17:59.857Z",sample:!0,scaleType:"linear",title:"Top Cited Patents"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(213);var o=a(((i=r)&&i.__esModule?i:{default:i}).default,3),s=o[0],l=o[1],c=o[2];t.default=[{icon:"fa-graduation-cap",label:"Scholarly Works",options:[{label:"Most Cited Works by Patents/Scholarly",icon:"scatter",config:{title:"Most Cited Works by Patents/Scholarly",view:"article-scatter",primaryFacet:"field_of_study",limit:100,scaleType:"linear",scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_patent_count"},colourScheme:"greenblue"}},{label:"Most Patent-Cited Works Over Time",icon:"scatter",config:{title:"Most Patent-Cited Works Over Time",view:"article-scatter",primaryFacet:"field_of_study",limit:1e3,scholarArticleScatter:{x:{field:"date_published"},color:{field:"publication_type"},y:{field:"referenced_by_patent_count"},sort:"+referenced_by_patent_count"}}},{label:"Most Cited Scholarly Works Over Time",icon:"scatter",config:{title:"Most Cited Scholarly Works Over Time",view:"article-scatter",primaryFacet:"field_of_study",limit:1e3,scholarArticleScatter:{x:{field:"date_published"},color:{field:"publication_type"},y:{field:"referenced_by_count"},sort:"+referenced_by_count"}}},{label:"Scholarly Works Over Time",icon:"vert-stacked",config:l},{label:"Citing Scholarly Works Histogram",icon:"vert-bar",config:{view:"histogram",histogramField:"author_count",primaryFacet:"field_of_study",scaleType:"linear",histogram:{interval:1,field:"referenced_by_count",min_doc_count:1}}}]},{icon:"fa-file-certificate",label:"Citing Patents",options:[{label:"Top Institutions by Citing Patents",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.affiliation.name.keyword",limit:20,metric:"referenced_by_patent.lens_id",metricAggregation:"cardinality"}},{label:"Citing Patents Histogram",icon:"vert-bar",config:{view:"histogram",histogramField:"author_count",primaryFacet:"field_of_study",scaleType:"linear",histogram:{interval:1,field:"referenced_by_patent_count",min_doc_count:1}}}]},{icon:"fa-university",label:"Institutions",options:[{label:"Top Institutions",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.affiliation.name.keyword",limit:20}},{label:"Collaborating Institutions",icon:"logo",config:{view:"basic",basicChartType:"logo-grid",excludeFilterValues:!0,primaryFacet:"author.affiliation.name.keyword",limit:8}},{label:"Top Institutions by Citing Patents",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.affiliation.name.keyword",limit:20,metric:"referenced_by_patent.lens_id",metricAggregation:"cardinality"}},{label:"Top Institutions by Average Patent Citations",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.affiliation.name.keyword",limit:20,metric:"referenced_by_patent_count",metricAggregation:"avg"}},{label:"Institutions Over Time",icon:"line",config:{view:"over-time",primaryFacet:"author.affiliation.name.keyword",limit:5}},{label:"Institutions by Type",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.type",secondaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacetLimit:5}},{label:"Authors by Institution",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacet:"author.display_name_id",secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Institutions by Country/Region",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Institution Logo Grid",icon:"logo",config:s},{label:"Institution Country/Region Map",icon:"map",config:{view:"basic",basicChartType:"map",primaryFacet:"author.affiliation.grid.address.country_code",limit:1e3}},{label:"Institutions by Field of Study",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"field_of_study",limit:5,secondaryFacet:"author.affiliation.name.keyword",secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Institutions Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"author.affiliation.name.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count"}},{label:"Affiliation Count Histogram",icon:"vert-bar",config:{view:"histogram",histogramField:"author_count",histogram:{interval:1,field:"affiliation_count",min_doc_count:1}}}]},{icon:"fa-users",label:"Authors",options:[{label:"Most Active Authors",icon:"hoz-bar",config:{view:"basic",primaryFacet:"author.display_name.keyword",limit:20,basicChartType:"bar-chart",colourScheme:"greenblue"}},{label:"Collaborating Authors",icon:"hoz-bar",config:{view:"basic",primaryFacet:"author.display_name.keyword",limit:20,excludeFilterValues:!0,basicChartType:"bar-chart",colourScheme:"greenblue"}},{label:"Top Authors by Citing Scholarly Works",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.display_name_id",limit:20,metric:"referenced_by",metricAggregation:"cardinality"}},{label:"Author Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"author.display_name_id",limit:100}},{label:"Authors by Institution",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacet:"author.display_name_id",secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Authors by Field of Study",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"field_of_study",secondaryFacet:"author.display_name_id",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Authors Over Time",icon:"line",config:{view:"over-time",primaryFacet:"author.display_name",limit:10,overTimeMark:"line"}},{label:"Author Count Histogram",icon:"vert-bar",config:{view:"histogram",histogramField:"author_count",primaryFacet:"field_of_study",histogram:{interval:1,field:"author_count",min_doc_count:1}}}]},{icon:"fa-sack-dollar",label:"Funders",options:[{label:"Top Funding Agencies",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"funding.organisation.keyword",limit:20}},{label:"Top Funding Agencies by Citing Patents",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"funding.organisation.keyword",limit:20,metric:"referenced_by_patent.lens_id",metricAggregation:"cardinality"}},{label:"Funders by Institution Country/Region",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"funding.organisation.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Funding Agencies Over Time",icon:"line",config:{view:"over-time",primaryFacet:"funding.organisation.keyword",limit:10,overTimeMark:"line"}},{label:"Top Funding Recipients (Institutions by Funder)",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"funding.organisation.keyword",secondaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Funding Agencies by Open Access Status",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"funding.organisation.keyword",secondaryFacet:"is_open_access",limit:10,secondaryFacetLimit:10,barChartType:"stacked",normalise:!1}},{label:"Funding Agency Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"funding.organisation.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count"}}]},{icon:"fa-book",label:"Journals",options:[{label:"Top Journals",icon:"vert-bar",config:{view:"basic",primaryFacet:"source.title.keyword",limit:50,basicChartType:"bar-chart",flip:!0}},{label:"Top Journals by Average Patent Citations",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"source.title.keyword",limit:20,metric:"referenced_by_patent_count",metricAggregation:"avg"}},{label:"Journals Over Time",icon:"line",config:{view:"over-time",primaryFacet:"source.title.keyword",limit:10,overTimeMark:"line"}},{label:"Top Publishers",icon:"vert-bar",config:{view:"basic",primaryFacet:"source.publisher.keyword",limit:50,basicChartType:"bar-chart",flip:!0}},{label:"Publishers Over Time",icon:"line",config:{view:"over-time",primaryFacet:"source.publisher.keyword",limit:10,overTimeMark:"line"}},{label:"Journal Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"source.title.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count"}},{label:"Journals by Field of Study",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"field_of_study",secondaryFacet:"source.title.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Journals by Publisher",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"source.publisher.keyword",secondaryFacet:"source.title.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Journals by Open Access Status",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"source.title.keyword",secondaryFacet:"is_open_access",limit:20,secondaryFacetLimit:2,barChartType:"stacked",normalise:!1}},{label:"Journals by Subject",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"source.asjc_subject.keyword",secondaryFacet:"source.title.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Journal Subject Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"source.asjc_subject.keyword",limit:100}}]},{icon:"fa-tasks",label:"Field of Study",options:[{label:"Field of Study Word Cloud",icon:"word",config:c},{label:"Field of Study Over Time",icon:"line",config:{view:"over-time",primaryFacet:"field_of_study",limit:10,overTimeMark:"line"}},{label:"Top Fields of Study",icon:"hoz-bar",config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"field_of_study",limit:20}},{label:"Institutions by Field of Study",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"field_of_study",limit:5,secondaryFacet:"author.affiliation.name.keyword",secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Field of Study by Publication Type",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"publication_type",secondaryFacet:"field_of_study",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}}]},{icon:"fa-map",label:"Countries",options:[{label:"Institution Country/Region Map",icon:"map",config:{view:"basic",basicChartType:"map",primaryFacet:"author.affiliation.grid.address.country_code",limit:200}},{label:"Journal Country/Region Map",icon:"map",config:{view:"basic",basicChartType:"map",primaryFacet:"source.country",limit:1e3}},{label:"Country/Region Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"author.affiliation.grid.address.country_code",limit:20,scatterPlotSort:"referenced_by_patent_count"}},{label:"Institutions by Country/Region",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped"}},{label:"Country/Region Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"author.affiliation.grid.address.country_code",limit:100}},{label:"Institution Cities Globally",icon:"hoz-bar",config:{view:"basic",primaryFacet:"author.affiliation.grid.address.city",limit:20,basicChartType:"bar-chart"}},{label:"Institution Cities per Country",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"author.affiliation.grid.address.city",limit:5,secondaryFacetLimit:5}},{label:"Institution States per Country",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"author.affiliation.grid.address.state_code",limit:5,secondaryFacetLimit:5}}]},{icon:"fa-question-circle",label:"Open Access",options:[{label:"Most cited Scholarly Works by Open Access Status",icon:"scatter",config:{view:"article-scatter",primaryFacet:"field_of_study",limit:100,scaleType:"linear",scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_patent_count"},colourScheme:"greenblue"}},{label:"Open Access Status Over Time",icon:"vert-stacked",config:{view:"over-time",primaryFacet:"is_open_access",limit:10,overTimeMark:"bar",colourScheme:"spectral",scaleType:"linear"}},{label:"Open Access License Over Time",icon:"vert-stacked",config:{view:"over-time",primaryFacet:"open_access.license",limit:20,overTimeMark:"bar",colourScheme:"spectral",scaleType:"linear"}},{label:"Proportion of Open Access by Institution",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"author.affiliation.name.keyword",secondaryFacet:"is_open_access",limit:20,barChartType:"stacked",normalise:!0,scaleType:"linear",colourScheme:"category10",secondaryFacetLimit:10}},{label:"Journals by Open Access",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"source.title.keyword",secondaryFacet:"is_open_access",limit:20,secondaryFacetLimit:2,barChartType:"stacked",normalise:!1}},{label:"Proportion of Open Access by Publisher",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"source.publisher.keyword",secondaryFacet:"is_open_access",limit:10,barChartType:"stacked",normalise:!0,scaleType:"linear",secondaryFacetLimit:10}}]},{icon:"fa-quote-left",label:"Citations",options:[{label:"Institution Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"author.affiliation.name.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count",restrictToFilterValues:!0,displayCitationRatio:!0}},{label:"Funding Citation Comparison",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"funding.organisation.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count",restrictToFilterValues:!0,displayCitationRatio:!0}},{label:"Most Cited Works by Patents/Scholarly",icon:"scatter",config:{title:"Most Cited Works by Patents/Scholarly",view:"article-scatter",primaryFacet:"field_of_study",limit:100,scaleType:"linear",scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_patent_count"},colourScheme:"greenblue"}}]},{icon:"fa-flask",label:"Substances",options:[{label:"Top Substances",icon:"hoz-bar",config:{view:"basic",primaryFacet:"chemical.substance_name.keyword",limit:20,basicChartType:"bar-chart",scaleType:"linear"}},{label:"Substances Over Time",icon:"line",config:{view:"over-time",primaryFacet:"chemical.substance_name.keyword",limit:10,overTimeMark:"line",scaleType:"linear"}},{label:"Substance Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"chemical.substance_name.keyword",limit:100}},{label:"Top Institutions by Substance",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"chemical.substance_name.keyword",secondaryFacet:"author.affiliation.name.keyword",limit:5,scaleType:"linear",secondaryFacetLimit:5,barChartType:"grouped"}}]},{icon:"fa-cog",label:"Custom",options:[{label:"Horizontal Bar Chart",icon:"hoz-bar",config:{view:"basic",primaryFacet:"author.affiliation.name.keyword",limit:20,basicChartType:"bar-chart"}},{label:"Vertical Bar Chart",icon:"vert-bar",config:{view:"basic",primaryFacet:"author.affiliation.name.keyword",limit:20,alternateColours:!0,basicChartType:"bar-chart",flip:!0}},{label:"Grouped Bar Chart",icon:"hoz-grouped",config:{view:"x-by-y",primaryFacet:"field_of_study",secondaryFacet:"author.affiliation.name.keyword",limit:5,secondaryFacetLimit:5}},{label:"Stacked Bar Chart",icon:"hoz-stacked",config:{view:"x-by-y",primaryFacet:"source.title.keyword",secondaryFacet:"is_open_access",limit:20,secondaryFacetLimit:2,barChartType:"stacked",normalise:!1}},{label:"Line Chart",icon:"line",config:{view:"over-time",secondaryFacet:"author.affiliation.name.keyword",limit:10}},{label:"Logo Grid",icon:"logo",config:{view:"basic",basicChartType:"logo-grid",primaryFacet:"author.affiliation.name.keyword",limit:8}},{label:"World Map",icon:"map",config:{view:"basic",basicChartType:"map",primaryFacet:"author.affiliation.grid.address.country_code"}},{label:"Word Cloud",icon:"word",config:{view:"basic",basicChartType:"cloud",primaryFacet:"field_of_study",limit:100}},{label:"Scatter Plot (Scholarly Works)",icon:"scatter",config:{view:"article-scatter",primaryFacet:"field_of_study",limit:100,scaleType:"linear",scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_patent_count"}}},{label:"Scatter Plot (Citation Comparison)",icon:"scatter",config:{view:"scatter-plot",primaryFacet:"author.affiliation.name.keyword",limit:20,scatterPlotSort:"referenced_by_patent_count",restrictToFilterValues:!0,displayCitationRatio:!0}},{label:"Histogram",icon:"vert-bar",config:{view:"histogram",histogramField:"author_count",limit:10}},{label:"Pie Chart",icon:"pie",config:{view:"basic",primaryFacet:"publication_type",basicChartType:"pie"}},{label:"Heat Map",icon:"heat",config:{view:"basic",primaryFacet:"field_of_study",basicChartType:"heatmap"}},{label:"Document List",icon:"top-hits",config:{view:"top-hits",sort:"+_score"}},{label:"Individual Scholarly Work",icon:"single-hit",config:{view:"top-hits",limit:1,verbose:!0,sort:"+_score"}}]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{view:"basic",basicChartType:"logo-grid",primaryFacet:"author.affiliation.name.keyword",limit:15,scaleType:"linear",flip:!1},{view:"over-time",primaryFacet:"publication_type",limit:20,overTimeMark:"bar",scaleType:"linear",title:"Scholarly Works over time"},{view:"basic",primaryFacet:"field_of_study",limit:100,height:630,basicChartType:"cloud",scaleType:"linear",flip:!1,title:"Top Fields of Study"},{view:"x-by-y",primaryFacet:"field_of_study",limit:5,secondaryFacet:"author.affiliation.name.keyword",secondaryFacetLimit:5,barChartType:"grouped",scaleType:"linear",title:"Fields of Study covered by the most active Institutions"},{view:"basic",primaryFacet:"author.display_name.keyword",limit:30,basicChartType:"bar-chart",colourScheme:"spectral",scaleType:"linear",flip:!1,title:"Most Active Authors"},{view:"article-scatter",primaryFacet:"field_of_study",limit:100,scaleType:"linear",scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_count",size:{field:"referenced_by_count"}},colourScheme:"greenblue",title:"Scholarly works scatter plot"},{view:"basic",basicChartType:"map",primaryFacet:"author.affiliation.grid.address.country_code",limit:1e3,scaleType:"linear",flip:!1,title:"Most active Countries/Regions"},{view:"basic",primaryFacet:"source.publisher.keyword",limit:50,basicChartType:"bar-chart",flip:!0,groupings:{Elsevier:"* Elsevier","Elsevier BV":"* Elsevier","Elsevier Inc.":"* Elsevier","Elsevier Limited":"* Elsevier","Elsevier Ireland Ltd":"* Elsevier",Wiley:"* Wiley","Wiley-Blackwell":"* Wiley","Wiley-Liss Inc.":"* Wiley","John Wiley and Sons Inc.":"* Wiley","John Wiley and Sons Ltd":"* Wiley","Springer Verlag":"* Springer Nature","Springer New York":"* Springer Nature","Springer Netherlands":"* Springer Nature","Springer Science and Business Media LLC":"* Springer Nature","Springer Nature":"* Springer Nature"},scaleType:"linear",title:"Top Publishers"},{view:"x-by-y",primaryFacet:"source.publisher.keyword",secondaryFacet:"source.title.keyword",limit:5,secondaryFacetLimit:5,barChartType:"grouped",scaleType:"linear",title:"Top Journals by Publisher"}];i.forEach((function(e,t){e.t=t,e.sample=!0})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"NCI NIH HHS":"National Cancer Institute","NIGMS NIH HHS":"National Institute of General Medical Sciences","NHLBI NIH HHS":"National Heart, Lung, and Blood Institute","NIAID NIH HHS":"National Institute of Allergy and Infectious Diseases","NIDDK NIH HHS":"National Institute of Diabetes and Digestive and Kidney Diseases ","NINDS NIH HHS":"National Institute of Neurological Disorders and Stroke","NCRR NIH HHS":"National Center for Research Resources","NICHD NIH HHS":"Eunice Kennedy Shriver National Institute of Child Health and Human Development","NIMH NIH HHS":"National Institute of Mental Health"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACTIVE:"Granted patent is in force",PENDING:"Application is pending",DISCONTINUED:"Application discontinued, withdrawn or rejected, i.e. discontinuation before grant",INACTIVE:"Granted patent not in force because of lapse, non-fee payment, etc. The patent hasn't reached the term date and can be revived",EXPIRED:"Patent has reached the term date and is no longer in force",PATENTED:"PCT applications that have been granted in one or more designated states, or non-PCT granted patents without enough information to calculate the term date",UNKNOWN:"Not enough information to calculate status"}},function(e){e.exports=JSON.parse('{"source.asjc_subject.keyword":{"doc_count_error_upper_bound":1438098,"sum_other_doc_count":134780220,"buckets":[{"key":"General Medicine","doc_count":13800537},{"key":"Condensed Matter Physics","doc_count":3369801},{"key":"Biochemistry","doc_count":3310018},{"key":"General Chemistry","doc_count":2754141},{"key":"Molecular Biology","doc_count":2478557},{"key":"Electrical and Electronic Engineering","doc_count":2273127},{"key":"Surgery","doc_count":2109046},{"key":"General Materials Science","doc_count":2099142},{"key":"General Physics and Astronomy","doc_count":1964881},{"key":"Mechanical Engineering","doc_count":1858861}]},"is_open_access":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":0,"key_as_string":"false","doc_count":193281662},{"key":1,"key_as_string":"true","doc_count":41441884}]},"citation_id_type":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"magid","doc_count":194360846},{"key":"doi","doc_count":124878337},{"key":"pmid","doc_count":32483676},{"key":"coreid","doc_count":16293468},{"key":"pmcid","doc_count":6478413}]},"mesh_term.mesh_heading":{"doc_count_error_upper_bound":577878,"sum_other_doc_count":233581041,"buckets":[{"key":"Humans","doc_count":19264636},{"key":"Female","doc_count":9028326},{"key":"Male","doc_count":8878156},{"key":"Animals","doc_count":6827789},{"key":"Adult","doc_count":5165317},{"key":"Middle Aged","doc_count":4514352},{"key":"Aged","doc_count":3203995},{"key":"Adolescent","doc_count":2091969},{"key":"Child","doc_count":1739918},{"key":"Rats","doc_count":1591564}]},"conference.name.keyword":{"doc_count_error_upper_bound":18985,"sum_other_doc_count":4659007,"buckets":[{"key":"Conference on Lasers and Electro-Optics","doc_count":61116},{"key":"International Conference of the IEEE Engineering in Medicine and Biology Society","doc_count":50834},{"key":"International Conference on Acoustics, Speech, and Signal Processing","doc_count":46958},{"key":"Conference on Decision and Control","doc_count":39928},{"key":"International Conference on Communications","doc_count":39372},{"key":"International Geoscience and Remote Sensing Symposium","doc_count":39037},{"key":"International Conference on Robotics and Automation","doc_count":33052},{"key":"International Symposium on Circuits and Systems","doc_count":31710},{"key":"Systems, Man and Cybernetics","doc_count":30333},{"key":"Global Communications Conference","doc_count":28196}]},"publication_type":{"doc_count_error_upper_bound":0,"sum_other_doc_count":78645,"buckets":[{"key":"journal article","doc_count":117453193},{"key":"unknown","doc_count":68107862},{"key":"book chapter","doc_count":15908995},{"key":"book","doc_count":6211031},{"key":"dissertation","doc_count":5919211},{"key":"conference proceedings","doc_count":5108523},{"key":"component","doc_count":4911387},{"key":"conference proceedings article","doc_count":2699822},{"key":"dataset","doc_count":2161112},{"key":"libguide","doc_count":1722485},{"key":"other","doc_count":1092251},{"key":"reference entry","doc_count":949330},{"key":"journal issue","doc_count":841255},{"key":"report","doc_count":807026},{"key":"standard","doc_count":328562},{"key":"preprint","doc_count":143623},{"key":"letter","doc_count":105545},{"key":"editorial","doc_count":78300},{"key":"news","doc_count":53218},{"key":"clinical trial","doc_count":42170}]},"field_of_study":{"doc_count_error_upper_bound":2365475,"sum_other_doc_count":971380750,"buckets":[{"key":"Medicine","doc_count":28174668},{"key":"Chemistry","doc_count":14296300},{"key":"Biology","doc_count":13184558},{"key":"Computer science","doc_count":12279973},{"key":"Materials science","doc_count":11126419},{"key":"Engineering","doc_count":8386563},{"key":"Internal medicine","doc_count":8057621},{"key":"Psychology","doc_count":7982383},{"key":"Political science","doc_count":6761849},{"key":"Physics","doc_count":6491600}]},"chemical.substance_name.keyword":{"doc_count_error_upper_bound":128980,"sum_other_doc_count":54465673,"buckets":[{"key":"RNA, Messenger","doc_count":376948},{"key":"Anti-Bacterial Agents","doc_count":350681},{"key":"Biomarkers","doc_count":299078},{"key":"Antineoplastic Agents","doc_count":292149},{"key":"DNA","doc_count":289620},{"key":"Calcium","doc_count":271007},{"key":"Recombinant Proteins","doc_count":221402},{"key":"Proteins","doc_count":207752},{"key":"Antibodies, Monoclonal","doc_count":192001},{"key":"Insulin","doc_count":187667}]},"funding.organisation.keyword":{"doc_count_error_upper_bound":78659,"sum_other_doc_count":12352283,"buckets":[{"key":"National Natural Science Foundation of China","doc_count":1246974},{"key":"NCI NIH HHS","doc_count":529877},{"key":"NIGMS NIH HHS","doc_count":439688},{"key":"NHLBI NIH HHS","doc_count":397217},{"key":"NIAID NIH HHS","doc_count":295565},{"key":"NIDDK NIH HHS","doc_count":263513},{"key":"NINDS NIH HHS","doc_count":239177},{"key":"National Science Foundation","doc_count":236882},{"key":"NCRR NIH HHS","doc_count":207777},{"key":"NICHD NIH HHS","doc_count":201769}]},"author.affiliation.grid.address.country_code":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"US","doc_count":18547023},{"key":"CN","doc_count":7737595},{"key":"GB","doc_count":4691474},{"key":"JP","doc_count":3371695},{"key":"DE","doc_count":3350516},{"key":"CA","doc_count":2278795},{"key":"AU","doc_count":1848727},{"key":"IT","doc_count":1738733},{"key":"IN","doc_count":1689910},{"key":"FR","doc_count":1689196},{"key":"BR","doc_count":1668463},{"key":"ES","doc_count":1419934},{"key":"KR","doc_count":1256449},{"key":"NL","doc_count":1098224},{"key":"RU","doc_count":953564},{"key":"CH","doc_count":841089},{"key":"SE","doc_count":807183},{"key":"BE","doc_count":728215},{"key":"IR","doc_count":715121},{"key":"TW","doc_count":710899},{"key":"PL","doc_count":708664},{"key":"TR","doc_count":572499},{"key":"IL","doc_count":516895},{"key":"DK","doc_count":499206},{"key":"MX","doc_count":461036},{"key":"ID","doc_count":436323},{"key":"AT","doc_count":419073},{"key":"ZA","doc_count":399954},{"key":"FI","doc_count":375949},{"key":"SG","doc_count":333050},{"key":"MY","doc_count":320136},{"key":"NO","doc_count":318034},{"key":"GR","doc_count":289996},{"key":"NZ","doc_count":279627},{"key":"PT","doc_count":279453},{"key":"CZ","doc_count":259284},{"key":"CO","doc_count":259094},{"key":"AR","doc_count":259043},{"key":"EG","doc_count":257008},{"key":"IE","doc_count":246233},{"key":"PK","doc_count":218456},{"key":"HU","doc_count":212439},{"key":"SA","doc_count":210030},{"key":"CL","doc_count":203142},{"key":"TH","doc_count":199106},{"key":"NG","doc_count":150674},{"key":"UA","doc_count":143932},{"key":"RO","doc_count":122263},{"key":"HR","doc_count":93241},{"key":"RS","doc_count":89080},{"key":"BD","doc_count":82883},{"key":"SK","doc_count":77587},{"key":"SI","doc_count":76414},{"key":"BG","doc_count":76190},{"key":"VE","doc_count":64060},{"key":"PE","doc_count":59288},{"key":"VN","doc_count":58607},{"key":"ET","doc_count":57713},{"key":"AE","doc_count":54307},{"key":"PH","doc_count":50824},{"key":"JO","doc_count":50400},{"key":"EE","doc_count":49606},{"key":"LT","doc_count":47901},{"key":"TN","doc_count":47892},{"key":"KE","doc_count":44254},{"key":"LU","doc_count":40451},{"key":"LV","doc_count":39455},{"key":"GH","doc_count":38843},{"key":"CR","doc_count":38400},{"key":"LB","doc_count":37492},{"key":"IQ","doc_count":36382},{"key":"CY","doc_count":36217},{"key":"LK","doc_count":31875},{"key":"CU","doc_count":28797},{"key":"EC","doc_count":27988},{"key":"BY","doc_count":27732},{"key":"QA","doc_count":26654},{"key":"DZ","doc_count":25434},{"key":"MZ","doc_count":25072},{"key":"KW","doc_count":23332},{"key":"UY","doc_count":21949},{"key":"MA","doc_count":21714},{"key":"IS","doc_count":21041},{"key":"ZW","doc_count":20470},{"key":"UG","doc_count":20303},{"key":"JM","doc_count":19606},{"key":"NP","doc_count":18718},{"key":"OM","doc_count":18004},{"key":"TZ","doc_count":16156},{"key":"KH","doc_count":15902},{"key":"KZ","doc_count":14279},{"key":"AM","doc_count":13911},{"key":"PS","doc_count":13379},{"key":"BA","doc_count":12920},{"key":"GE","doc_count":11595},{"key":"SD","doc_count":11142},{"key":"AG","doc_count":10561},{"key":"AZ","doc_count":10472},{"key":"CM","doc_count":10442},{"key":"BJ","doc_count":10307},{"key":"PA","doc_count":9570},{"key":"MT","doc_count":9027},{"key":"UZ","doc_count":7858},{"key":"BW","doc_count":7663},{"key":"ZM","doc_count":6864},{"key":"BH","doc_count":6625},{"key":"MW","doc_count":5960},{"key":"SN","doc_count":5935},{"key":"YE","doc_count":5688},{"key":"MD","doc_count":5530},{"key":"MK","doc_count":5525},{"key":"ME","doc_count":5082},{"key":"ML","doc_count":5008},{"key":"SV","doc_count":5003},{"key":"FJ","doc_count":4560},{"key":"GT","doc_count":4556},{"key":"MN","doc_count":4533},{"key":"BO","doc_count":4460},{"key":"BN","doc_count":4295},{"key":"PY","doc_count":4227},{"key":"SY","doc_count":4161},{"key":"GD","doc_count":3904},{"key":"AL","doc_count":3845},{"key":"RE","doc_count":3834},{"key":"PG","doc_count":3363},{"key":"MU","doc_count":3343},{"key":"CD","doc_count":3170},{"key":"KN","doc_count":3088},{"key":"NA","doc_count":3001},{"key":"LY","doc_count":2922},{"key":"GP","doc_count":2719},{"key":"CI","doc_count":2668},{"key":"MM","doc_count":2531},{"key":"LA","doc_count":1988},{"key":"BF","doc_count":1942},{"key":"DO","doc_count":1941},{"key":"GA","doc_count":1883},{"key":"TG","doc_count":1795},{"key":"MG","doc_count":1768},{"key":"SJ","doc_count":1481},{"key":"TJ","doc_count":1375},{"key":"SZ","doc_count":1097},{"key":"NI","doc_count":1027},{"key":"KG","doc_count":1022},{"key":"BM","doc_count":931},{"key":"SL","doc_count":910},{"key":"NE","doc_count":880},{"key":"LS","doc_count":879},{"key":"KP","doc_count":870},{"key":"CG","doc_count":830},{"key":"LI","doc_count":739},{"key":"TT","doc_count":722},{"key":"PF","doc_count":599},{"key":"NC","doc_count":570},{"key":"AF","doc_count":546},{"key":"BS","doc_count":499},{"key":"FO","doc_count":444},{"key":"GY","doc_count":442},{"key":"GW","doc_count":412},{"key":"AO","doc_count":382},{"key":"BI","doc_count":367},{"key":"SR","doc_count":327},{"key":"JE","doc_count":320},{"key":"VG","doc_count":314},{"key":"SS","doc_count":309},{"key":"SX","doc_count":289},{"key":"TD","doc_count":287},{"key":"GM","doc_count":280},{"key":"MR","doc_count":263},{"key":"MC","doc_count":261},{"key":"BT","doc_count":256},{"key":"CV","doc_count":254},{"key":"GL","doc_count":204},{"key":"SO","doc_count":200},{"key":"ER","doc_count":171},{"key":"MS","doc_count":164},{"key":"LR","doc_count":149},{"key":"KY","doc_count":146},{"key":"BZ","doc_count":139},{"key":"XK","doc_count":109},{"key":"WS","doc_count":103},{"key":"TM","doc_count":94},{"key":"GI","doc_count":74},{"key":"VC","doc_count":68},{"key":"LC","doc_count":67},{"key":"MV","doc_count":63},{"key":"FM","doc_count":59},{"key":"GF","doc_count":48},{"key":"HT","doc_count":40},{"key":"AX","doc_count":31},{"key":"RW","doc_count":25},{"key":"AW","doc_count":22},{"key":"HN","doc_count":20},{"key":"VA","doc_count":16},{"key":"GN","doc_count":15},{"key":"TL","doc_count":11},{"key":"DM","doc_count":7},{"key":"NU","doc_count":6},{"key":"CW","doc_count":3}]},"source.publisher.keyword":{"doc_count_error_upper_bound":877147,"sum_other_doc_count":91339072,"buckets":[{"key":"Elsevier BV","doc_count":12486834},{"key":"Wiley","doc_count":6098768},{"key":"Springer Science and Business Media LLC","doc_count":5615832},{"key":"Informa UK Limited","doc_count":3692576},{"key":"IEEE","doc_count":3455403},{"key":"Public Library of Science (PLoS)","doc_count":3017850},{"key":"Elsevier","doc_count":2751197},{"key":"Oxford University Press (OUP)","doc_count":2121896},{"key":"Wiley-Blackwell","doc_count":1991175},{"key":"SAGE Publications","doc_count":1902870}]},"open_access.colour":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[{"key":"gold","doc_count":16386722},{"key":"green","doc_count":10656097},{"key":"bronze","doc_count":8620090},{"key":"hybrid","doc_count":3144543},{"key":"unknown","doc_count":2634432}]},"open_access.license":{"doc_count_error_upper_bound":7049,"sum_other_doc_count":1461909,"buckets":[{"key":"unknown","doc_count":23874387},{"key":"cc-by","doc_count":7209143},{"key":"cc-by-nc-nd","doc_count":2319016},{"key":"cc-by-nc","doc_count":2203303},{"key":"cc-by-nc-sa","doc_count":1047674},{"key":"CC BY, CC BY-NC-ND","doc_count":1039916},{"key":"cc0","doc_count":804991},{"key":"CC BY, CC BY-NC","doc_count":527235},{"key":"CC BY, CC0","doc_count":500931},{"key":"elsevier-specific: oa user license","doc_count":453379}]},"keyword":{"doc_count_error_upper_bound":29823,"sum_other_doc_count":35079681,"buckets":[{"key":"experimental lab study","doc_count":79142},{"key":"inflammation","doc_count":63322},{"key":"cancer","doc_count":55805},{"key":"covid-19","doc_count":52638},{"key":"pregnancy","doc_count":48029},{"key":"epidemiology","doc_count":47707},{"key":"obesity","doc_count":47433},{"key":"apoptosis","doc_count":46612},{"key":"depression","doc_count":43733},{"key":"prognosis","doc_count":42786}]},"source.title.keyword":{"doc_count_error_upper_bound":159212,"sum_other_doc_count":143650138,"buckets":[{"key":"Research Papers in Economics","doc_count":734971},{"key":"ChemInform","doc_count":495243},{"key":"SSRN Electronic Journal","doc_count":435131},{"key":"Nature","doc_count":427193},{"key":"The Lancet","doc_count":413545},{"key":"Social Science Research Network","doc_count":403910},{"key":"PsycEXTRA Dataset","doc_count":346280},{"key":"Notes and Queries","doc_count":343663},{"key":"BMJ","doc_count":313774},{"key":"Chemischer Informationsdienst","doc_count":306544}]},"author.display_name.keyword":{"doc_count_error_upper_bound":24415,"sum_other_doc_count":566719917,"buckets":[{"key":"Wang","doc_count":52980},{"key":"Li","doc_count":50924},{"key":"Wei Wang","doc_count":48421},{"key":"Zhang","doc_count":46859},{"key":"Anonymous","doc_count":43072},{"key":"Wei Zhang","doc_count":40466},{"key":"B Noble","doc_count":39895},{"key":"Wei Li","doc_count":37451},{"key":"Liu","doc_count":37084},{"key":"Li Li","doc_count":33871}]},"author.affiliation.name.keyword":{"doc_count_error_upper_bound":231482,"sum_other_doc_count":131712512,"buckets":[{"key":"Chinese Academy of Sciences","doc_count":637215},{"key":"Harvard University","doc_count":539696},{"key":"Max Planck Society","doc_count":456173},{"key":"Russian Academy of Sciences","doc_count":423877},{"key":"Centre national de la recherche scientifique","doc_count":375090},{"key":"University of Washington","doc_count":356511},{"key":"University of Michigan","doc_count":354661},{"key":"University of Tokyo","doc_count":346938},{"key":"Stanford University","doc_count":326471},{"key":"National Institutes of Health","doc_count":308361}]},"dates":{"buckets":[{"key_as_string":"1800","key":-5364662400000,"doc_count":4977},{"key_as_string":"1801","key":-5333126400000,"doc_count":2846},{"key_as_string":"1802","key":-5301590400000,"doc_count":2156},{"key_as_string":"1803","key":-5270054400000,"doc_count":2083},{"key_as_string":"1804","key":-5238518400000,"doc_count":2100},{"key_as_string":"1805","key":-5206896000000,"doc_count":1834},{"key_as_string":"1806","key":-5175360000000,"doc_count":2050},{"key_as_string":"1807","key":-5143824000000,"doc_count":1813},{"key_as_string":"1808","key":-5112288000000,"doc_count":2192},{"key_as_string":"1809","key":-5080665600000,"doc_count":2242},{"key_as_string":"1810","key":-5049129600000,"doc_count":2228},{"key_as_string":"1811","key":-5017593600000,"doc_count":2354},{"key_as_string":"1812","key":-4986057600000,"doc_count":2404},{"key_as_string":"1813","key":-4954435200000,"doc_count":2263},{"key_as_string":"1814","key":-4922899200000,"doc_count":2244},{"key_as_string":"1815","key":-4891363200000,"doc_count":2934},{"key_as_string":"1816","key":-4859827200000,"doc_count":2812},{"key_as_string":"1817","key":-4828204800000,"doc_count":2526},{"key_as_string":"1818","key":-4796668800000,"doc_count":2696},{"key_as_string":"1819","key":-4765132800000,"doc_count":2352},{"key_as_string":"1820","key":-4733596800000,"doc_count":2887},{"key_as_string":"1821","key":-4701974400000,"doc_count":3100},{"key_as_string":"1822","key":-4670438400000,"doc_count":3082},{"key_as_string":"1823","key":-4638902400000,"doc_count":4337},{"key_as_string":"1824","key":-4607366400000,"doc_count":4174},{"key_as_string":"1825","key":-4575744000000,"doc_count":4373},{"key_as_string":"1826","key":-4544208000000,"doc_count":4817},{"key_as_string":"1827","key":-4512672000000,"doc_count":6076},{"key_as_string":"1828","key":-4481136000000,"doc_count":6322},{"key_as_string":"1829","key":-4449513600000,"doc_count":5931},{"key_as_string":"1830","key":-4417977600000,"doc_count":5998},{"key_as_string":"1831","key":-4386441600000,"doc_count":5937},{"key_as_string":"1832","key":-4354905600000,"doc_count":5510},{"key_as_string":"1833","key":-4323283200000,"doc_count":5804},{"key_as_string":"1834","key":-4291747200000,"doc_count":7091},{"key_as_string":"1835","key":-4260211200000,"doc_count":6894},{"key_as_string":"1836","key":-4228675200000,"doc_count":6957},{"key_as_string":"1837","key":-4197052800000,"doc_count":7013},{"key_as_string":"1838","key":-4165516800000,"doc_count":6944},{"key_as_string":"1839","key":-4133980800000,"doc_count":8092},{"key_as_string":"1840","key":-4102444800000,"doc_count":8393},{"key_as_string":"1841","key":-4070822400000,"doc_count":9041},{"key_as_string":"1842","key":-4039286400000,"doc_count":9595},{"key_as_string":"1843","key":-4007750400000,"doc_count":9687},{"key_as_string":"1844","key":-3976214400000,"doc_count":9868},{"key_as_string":"1845","key":-3944592000000,"doc_count":10208},{"key_as_string":"1846","key":-3913056000000,"doc_count":12475},{"key_as_string":"1847","key":-3881520000000,"doc_count":14245},{"key_as_string":"1848","key":-3849984000000,"doc_count":14266},{"key_as_string":"1849","key":-3818361600000,"doc_count":13616},{"key_as_string":"1850","key":-3786825600000,"doc_count":16195},{"key_as_string":"1851","key":-3755289600000,"doc_count":17255},{"key_as_string":"1852","key":-3723753600000,"doc_count":16827},{"key_as_string":"1853","key":-3692131200000,"doc_count":17772},{"key_as_string":"1854","key":-3660595200000,"doc_count":18205},{"key_as_string":"1855","key":-3629059200000,"doc_count":19064},{"key_as_string":"1856","key":-3597523200000,"doc_count":18817},{"key_as_string":"1857","key":-3565900800000,"doc_count":20422},{"key_as_string":"1858","key":-3534364800000,"doc_count":19446},{"key_as_string":"1859","key":-3502828800000,"doc_count":19156},{"key_as_string":"1860","key":-3471292800000,"doc_count":19276},{"key_as_string":"1861","key":-3439670400000,"doc_count":18089},{"key_as_string":"1862","key":-3408134400000,"doc_count":18936},{"key_as_string":"1863","key":-3376598400000,"doc_count":19709},{"key_as_string":"1864","key":-3345062400000,"doc_count":18459},{"key_as_string":"1865","key":-3313440000000,"doc_count":17488},{"key_as_string":"1866","key":-3281904000000,"doc_count":19046},{"key_as_string":"1867","key":-3250368000000,"doc_count":20992},{"key_as_string":"1868","key":-3218832000000,"doc_count":20695},{"key_as_string":"1869","key":-3187209600000,"doc_count":20604},{"key_as_string":"1870","key":-3155673600000,"doc_count":23677},{"key_as_string":"1871","key":-3124137600000,"doc_count":20887},{"key_as_string":"1872","key":-3092601600000,"doc_count":24818},{"key_as_string":"1873","key":-3060979200000,"doc_count":25537},{"key_as_string":"1874","key":-3029443200000,"doc_count":25945},{"key_as_string":"1875","key":-2997907200000,"doc_count":27704},{"key_as_string":"1876","key":-2966371200000,"doc_count":33533},{"key_as_string":"1877","key":-2934748800000,"doc_count":29956},{"key_as_string":"1878","key":-2903212800000,"doc_count":31124},{"key_as_string":"1879","key":-2871676800000,"doc_count":32076},{"key_as_string":"1880","key":-2840140800000,"doc_count":39427},{"key_as_string":"1881","key":-2808518400000,"doc_count":34543},{"key_as_string":"1882","key":-2776982400000,"doc_count":33956},{"key_as_string":"1883","key":-2745446400000,"doc_count":38408},{"key_as_string":"1884","key":-2713910400000,"doc_count":39891},{"key_as_string":"1885","key":-2682288000000,"doc_count":41305},{"key_as_string":"1886","key":-2650752000000,"doc_count":43657},{"key_as_string":"1887","key":-2619216000000,"doc_count":46170},{"key_as_string":"1888","key":-2587680000000,"doc_count":47566},{"key_as_string":"1889","key":-2556057600000,"doc_count":47715},{"key_as_string":"1890","key":-2524521600000,"doc_count":49273},{"key_as_string":"1891","key":-2492985600000,"doc_count":48108},{"key_as_string":"1892","key":-2461449600000,"doc_count":47858},{"key_as_string":"1893","key":-2429827200000,"doc_count":52175},{"key_as_string":"1894","key":-2398291200000,"doc_count":55636},{"key_as_string":"1895","key":-2366755200000,"doc_count":57533},{"key_as_string":"1896","key":-2335219200000,"doc_count":61074},{"key_as_string":"1897","key":-2303596800000,"doc_count":60870},{"key_as_string":"1898","key":-2272060800000,"doc_count":63481},{"key_as_string":"1899","key":-2240524800000,"doc_count":69062},{"key_as_string":"1900","key":-2208988800000,"doc_count":74055},{"key_as_string":"1901","key":-2177452800000,"doc_count":69370},{"key_as_string":"1902","key":-2145916800000,"doc_count":71852},{"key_as_string":"1903","key":-2114380800000,"doc_count":72370},{"key_as_string":"1904","key":-2082844800000,"doc_count":74571},{"key_as_string":"1905","key":-2051222400000,"doc_count":76975},{"key_as_string":"1906","key":-2019686400000,"doc_count":78998},{"key_as_string":"1907","key":-1988150400000,"doc_count":79618},{"key_as_string":"1908","key":-1956614400000,"doc_count":82415},{"key_as_string":"1909","key":-1924992000000,"doc_count":85455},{"key_as_string":"1910","key":-1893456000000,"doc_count":90424},{"key_as_string":"1911","key":-1861920000000,"doc_count":90913},{"key_as_string":"1912","key":-1830384000000,"doc_count":94411},{"key_as_string":"1913","key":-1798761600000,"doc_count":95456},{"key_as_string":"1914","key":-1767225600000,"doc_count":91635},{"key_as_string":"1915","key":-1735689600000,"doc_count":82759},{"key_as_string":"1916","key":-1704153600000,"doc_count":80384},{"key_as_string":"1917","key":-1672531200000,"doc_count":76911},{"key_as_string":"1918","key":-1640995200000,"doc_count":74723},{"key_as_string":"1919","key":-1609459200000,"doc_count":79373},{"key_as_string":"1920","key":-1577923200000,"doc_count":91526},{"key_as_string":"1921","key":-1546300800000,"doc_count":96633},{"key_as_string":"1922","key":-1514764800000,"doc_count":105894},{"key_as_string":"1923","key":-1483228800000,"doc_count":107601},{"key_as_string":"1924","key":-1451692800000,"doc_count":113731},{"key_as_string":"1925","key":-1420070400000,"doc_count":119993},{"key_as_string":"1926","key":-1388534400000,"doc_count":129447},{"key_as_string":"1927","key":-1356998400000,"doc_count":135209},{"key_as_string":"1928","key":-1325462400000,"doc_count":138820},{"key_as_string":"1929","key":-1293840000000,"doc_count":143705},{"key_as_string":"1930","key":-1262304000000,"doc_count":152953},{"key_as_string":"1931","key":-1230768000000,"doc_count":149470},{"key_as_string":"1932","key":-1199232000000,"doc_count":152638},{"key_as_string":"1933","key":-1167609600000,"doc_count":149748},{"key_as_string":"1934","key":-1136073600000,"doc_count":150414},{"key_as_string":"1935","key":-1104537600000,"doc_count":157658},{"key_as_string":"1936","key":-1073001600000,"doc_count":160887},{"key_as_string":"1937","key":-1041379200000,"doc_count":158668},{"key_as_string":"1938","key":-1009843200000,"doc_count":163789},{"key_as_string":"1939","key":-978307200000,"doc_count":160960},{"key_as_string":"1940","key":-946771200000,"doc_count":175824},{"key_as_string":"1941","key":-915148800000,"doc_count":141402},{"key_as_string":"1942","key":-883612800000,"doc_count":134928},{"key_as_string":"1943","key":-852076800000,"doc_count":126142},{"key_as_string":"1944","key":-820540800000,"doc_count":116280},{"key_as_string":"1945","key":-788918400000,"doc_count":121251},{"key_as_string":"1946","key":-757382400000,"doc_count":156358},{"key_as_string":"1947","key":-725846400000,"doc_count":185971},{"key_as_string":"1948","key":-694310400000,"doc_count":213849},{"key_as_string":"1949","key":-662688000000,"doc_count":228890},{"key_as_string":"1950","key":-631152000000,"doc_count":292701},{"key_as_string":"1951","key":-599616000000,"doc_count":302571},{"key_as_string":"1952","key":-568080000000,"doc_count":315774},{"key_as_string":"1953","key":-536457600000,"doc_count":327470},{"key_as_string":"1954","key":-504921600000,"doc_count":338753},{"key_as_string":"1955","key":-473385600000,"doc_count":351504},{"key_as_string":"1956","key":-441849600000,"doc_count":361079},{"key_as_string":"1957","key":-410227200000,"doc_count":379425},{"key_as_string":"1958","key":-378691200000,"doc_count":398248},{"key_as_string":"1959","key":-347155200000,"doc_count":421032},{"key_as_string":"1960","key":-315619200000,"doc_count":472843},{"key_as_string":"1961","key":-283996800000,"doc_count":466225},{"key_as_string":"1962","key":-252460800000,"doc_count":493668},{"key_as_string":"1963","key":-220924800000,"doc_count":543054},{"key_as_string":"1964","key":-189388800000,"doc_count":580609},{"key_as_string":"1965","key":-157766400000,"doc_count":631937},{"key_as_string":"1966","key":-126230400000,"doc_count":669440},{"key_as_string":"1967","key":-94694400000,"doc_count":718674},{"key_as_string":"1968","key":-63158400000,"doc_count":766454},{"key_as_string":"1969","key":-31536000000,"doc_count":820182},{"key_as_string":"1970","key":0,"doc_count":949540},{"key_as_string":"1971","key":31536000000,"doc_count":882875},{"key_as_string":"1972","key":63072000000,"doc_count":919282},{"key_as_string":"1973","key":94694400000,"doc_count":944973},{"key_as_string":"1974","key":126230400000,"doc_count":976604},{"key_as_string":"1975","key":157766400000,"doc_count":1018210},{"key_as_string":"1976","key":189302400000,"doc_count":1046061},{"key_as_string":"1977","key":220924800000,"doc_count":1092290},{"key_as_string":"1978","key":252460800000,"doc_count":1141354},{"key_as_string":"1979","key":283996800000,"doc_count":1193428},{"key_as_string":"1980","key":315532800000,"doc_count":1310682},{"key_as_string":"1981","key":347155200000,"doc_count":1297463},{"key_as_string":"1982","key":378691200000,"doc_count":1333520},{"key_as_string":"1983","key":410227200000,"doc_count":1400679},{"key_as_string":"1984","key":441763200000,"doc_count":1472166},{"key_as_string":"1985","key":473385600000,"doc_count":1524092},{"key_as_string":"1986","key":504921600000,"doc_count":1602403},{"key_as_string":"1987","key":536457600000,"doc_count":1694951},{"key_as_string":"1988","key":567993600000,"doc_count":1764663},{"key_as_string":"1989","key":599616000000,"doc_count":1877819},{"key_as_string":"1990","key":631152000000,"doc_count":2042318},{"key_as_string":"1991","key":662688000000,"doc_count":2047637},{"key_as_string":"1992","key":694224000000,"doc_count":2127185},{"key_as_string":"1993","key":725846400000,"doc_count":2234248},{"key_as_string":"1994","key":757382400000,"doc_count":2344183},{"key_as_string":"1995","key":788918400000,"doc_count":2476861},{"key_as_string":"1996","key":820454400000,"doc_count":2648935},{"key_as_string":"1997","key":852076800000,"doc_count":2791929},{"key_as_string":"1998","key":883612800000,"doc_count":2962104},{"key_as_string":"1999","key":915148800000,"doc_count":3104408},{"key_as_string":"2000","key":946684800000,"doc_count":3656703},{"key_as_string":"2001","key":978307200000,"doc_count":3720394},{"key_as_string":"2002","key":1009843200000,"doc_count":4013506},{"key_as_string":"2003","key":1041379200000,"doc_count":4396847},{"key_as_string":"2004","key":1072915200000,"doc_count":4863907},{"key_as_string":"2005","key":1104537600000,"doc_count":5201427},{"key_as_string":"2006","key":1136073600000,"doc_count":5699396},{"key_as_string":"2007","key":1167609600000,"doc_count":6331352},{"key_as_string":"2008","key":1199145600000,"doc_count":6714244},{"key_as_string":"2009","key":1230768000000,"doc_count":7392576},{"key_as_string":"2010","key":1262304000000,"doc_count":8055714},{"key_as_string":"2011","key":1293840000000,"doc_count":8498740},{"key_as_string":"2012","key":1325376000000,"doc_count":8757666},{"key_as_string":"2013","key":1356998400000,"doc_count":9304818},{"key_as_string":"2014","key":1388534400000,"doc_count":9493011},{"key_as_string":"2015","key":1420070400000,"doc_count":9630701},{"key_as_string":"2016","key":1451606400000,"doc_count":9888619},{"key_as_string":"2017","key":1483228800000,"doc_count":9301523},{"key_as_string":"2018","key":1514764800000,"doc_count":9020465},{"key_as_string":"2019","key":1546300800000,"doc_count":9209051},{"key_as_string":"2020","key":1577836800000,"doc_count":8706697},{"key_as_string":"2021","key":1609459200000,"doc_count":1762638}]},"author.display_name_id.keyword":{"doc_count_error_upper_bound":0,"sum_other_doc_count":0,"buckets":[]},"author.display_name_id":{"doc_count_error_upper_bound":6751,"sum_other_doc_count":529129993,"buckets":[{"key":"Anonymous~noid","doc_count":45773},{"key":"Martin H Weik~noid","doc_count":19340},{"key":"Z N Soroko~noid","doc_count":18559},{"key":"S I Sukhoruchkin~noid","doc_count":18556},{"key":"John Henry Newman~noid","doc_count":16169},{"key":"J -C Fontaine~noid","doc_count":15756},{"key":"H V Kehiaian~noid","doc_count":15718},{"key":"K Sosnkowska-Kehiaian~noid","doc_count":15713},{"key":"Jan W Gooch~noid","doc_count":15430},{"key":"Charles Dickens~noid","doc_count":14163}]},"has_clinical_trial":{"doc_count":15208},"has_funding":{"doc_count":8600644},"has_affiliation":{"doc_count":80364549},"has_field_of_study":{"doc_count":162071204},"has_abstract":{"doc_count":102739975},"has_chemical":{"doc_count":14730679},"is_referenced_by_patent":{"doc_count":4378904},"has_keyword":{"doc_count":7325541},"has_fulltext":{"doc_count":1986798},"has_mesh_term":{"doc_count":27388743},"is_referenced_by_scholarly":{"doc_count":76989021},"has_orcid":{"doc_count":22327450}}')},function(e){e.exports=JSON.parse('{"Scholarly Works":234723546,"Works Cited by Patents":4498663,"Works Cited by Scholarly":80208712,"Citing Patents":3519453,"Patent Citations":23424744,"Scholarly Citations":1836398719}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={unknown:{label:"Unknown",abbreviation:""},missing:{label:"Missing",abbreviation:""},"cc-by":{label:"Attribution",abbreviation:"CC BY"},"cc-by-nc-nd":{label:"Attribution-NonCommercial-NoDerivs",abbreviation:"CC BY-NC-ND"},"cc-by-nc":{label:"Attribution- NonCommercial",abbreviation:"CC BY-NC"},"cc-by-nc-sa":{label:"Attribution-NonCommercial-ShareAlike",abbreviation:"CC BY-NC-SA"},"cc-by-sa":{label:"Attribution-ShareAlike",abbreviation:"CC BY-SA"},cc0:{label:"No Rights Reserved",abbreviation:"CC0"},"cc-by-nd":{label:"Attribution- NoDerivs",abbreviation:"CC BY-ND"},"implied-oa":{label:"Implied OA",abbreviation:""},"elsevier-specific: oa user license":{label:"Elsevier User License ",abbreviation:""},"publisher-specific":{label:"Publisher-Specific",abbreviation:""},pd:{label:"Public Domain",abbreviation:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e.trim();var t=parseFloat(e),n=e.match(/http[s]*:\/\/[dx\.]*doi.org/g),i="10."===e.slice(0,3)||n&&n.length,a="pmc"===e.slice(0,3)&&"pmcid:"!==e.slice(0,6),r="mag"===e.slice(0,3),o="core"===e.slice(0,4),s=null!==e.match(/^\d{3}-\d{3}-\d{3}-\d{3}-\d{2}(\d|[Xx])/);return{isDoi:i,isPMC:a,isPmid:!r&&!_.isNaN(t)&&Math.floor(t)===t,isMAG:r,isLens:s,isCore:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={field_of_study:window.messages.prop("scholar.field_of_study.information"),"chemical.substance_name":window.messages.prop("scholar.chemical.information"),"chemical.substance_name.keyword":window.messages.prop("scholar.chemical.information"),"source.asjc_subject":window.messages.prop("scholar.subject.information"),"source.asjc_subject.keyword":window.messages.prop("scholar.subject.information"),"mesh_term.mesh_heading":window.messages.prop("scholar.mesh_heading.information"),"author.affiliation.grid.address.country_code":"Only institutions with a matched GRID record have country data available. Selecting one of these filters will result in only scholarly works with an affiliated GRID institution (52M).",keyword:"Keywords for the scholarly work from PubMed","legal_status.patent_status":"Legal Status is automatically calculated from available data sources and is subject to change."}},function(e,t,n){"use strict";var i=function(e){var t=e.type,n=e.symbol,i=e.newSearch,a={CPC:"classCpc.must",IPC:"classIpcr.must",USPC:"classNat.must"}[t];if(i)return{paramKey:a,value:n};var r=$.deparam.querystring()[a];return{paramKey:a,value:_.isArray(r)?r.concat(n):_.isString(r)?r.split(",").concat(n):n}},a=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"OR",a={CPC:"class_cpc.symbol",IPC:"class_ipcr.symbol",USPC:"class_national.symbol"},r=n?"":$.deparam.querystring().q||"";r&&(r+=" "+i+" ");var o=a[e]+":(",s="*)";return r+=o+t.join(s+" "+i+" "+o)+s};e.exports={addClassificationSearch:a,getFilterUrl:function(e){var t=i(e);return"/lens/search/patent/list?"+t.paramKey+".must="+t.value},applyFilter:function(e,t){var n={};if(e.prefix&&e.prefix.length&&(n.q=a(e.type,e.prefix,e.newSearch)),e.symbol){var r=i(e),o=r.paramKey,s=r.value;n[o]=s}!window.LENS.searchFormInitialized||e.newSearch?window.location="/lens/search/patent/list?"+$.param(n,!0):t.go("search.results",n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patentTitle=void 0;var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0),o=(i=r)&&i.__esModule?i:{default:i},s=n(29);var l=_.memoize((function(e){return e.toLowerCase().toTitleCase()}));o.default.filter("selectiveTitleCase",(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.selectiveTitleCase)(e)}}));var c=t.patentTitle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return _.isEqual(e,{})?"":e===e.toUpperCase()?l(e.toLowerCase()):e};o.default.filter("classificationVersion",(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.slice(0,7).replace("-",".")}})),o.default.filter("getClassificationSearchParams",(function(){return function(e){var t=e.type,n=e.symbol;return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({type:"patent"},{CPC:"classCpc.must",IPC:"classIpcr.must",US:"classNat.must"}[t],n)}})),o.default.filter("languageLabel",(function(){return function(e){return{en:"English",fr:"Français",zh:"中文简体",es:"Español",ru:"Русский язык",ar:"Arabic",ko:"Korean",ja:"Japanese",de:"German",pt:"Portuguese",ot:"Other"}[e]||e}})),o.default.filter("message",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=window.messages.prop(e)||"";return n.replace(/(\{[0-9]\})/g,(function(e){var n=e[1];return t[n]}))}})),o.default.filter("unsafe",["$sce",function(e){return e.trustAsHtml}]),o.default.filter("unsafeSrc",["$sce",function(e){return e.trustAsResourceUrl}]),o.default.filter("customNumber",["$filter",function(e){return function(t,n){return t=t||0,n||parseInt(t)===parseFloat(t)||0===n||(n=1),e("number")(t,n)}}]),o.default.filter("partialDate",["$filter",function(e){return function(t){if(t.date)return e("date")(t.date);if(t.date_parts){var n=a(t.date_parts,2),i=n[0],r=n[1];if(r){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r-1]+" "+i}return i}return t}}]),o.default.filter("patentType",(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\_/g," ").toLowerCase().toTitleCase()}})),o.default.filter("patentTitle",(function(){return c})),o.default.filter("capitalise",(function(){return function(e){return e[0].toUpperCase()+e.slice(1)}})),o.default.filter("titleCase",(function(){return function(e){return e&&e.split&&e.trim()?l(e):""}})),o.default.filter("defaultFieldLabel",(function(){return function(e){return e.replace(".name.keyword","").replace(/[\s\._]/g," ")}})),o.default.filter("lowercase",(function(){return function(e){return e?e.toLowerCase():""}})),o.default.filter("decodeEntities",(function(){return function(e){return $("<div>").html(e).text()}})),o.default.filter("htmlToText",(function(){return function(e){return $("<div>").html(e).text()}})),o.default.filter("simpleList",(function(){return function(e,t){return e.map((function(e){return t?e[t]:e})).join(", ")}})),o.default.filter("highlight",(function(){return function(e){return e.replace(/\[[\/]*hl\]/g,"")}})),o.default.filter("truncate",(function(){return function(e,t){return e.length<=t?e:e.slice(0,t)+"..."}})),o.default.filter("cleanWpContent",(function(){return function(e,t){return e.replace(/\#038;/g,"")}})),o.default.filter("collectionType",(function(){return function(e){var t="SCHOLARLY_WORK"===e||"SCHOLARLY"===e?"common.scholar":"common.patents";return window.messages.prop(t)}})),o.default.filter("collectionUrl",(function(){return function(e){if(!e)return"";var t="/lens/search/patent/list?collectionId="+e.id;return"SCHOLARLY_WORK"===e.type&&(t="/lens/search/scholar/list?collectionId="+e.id),window.location.origin+t}})),o.default.filter("formatGridAddress",(function(){return function(e){return e?(e.city+" "+e.state_code+" "+e.country_code).trim():""}})),o.default.filter("slugify",(function(){return function(e){return e.replace(/\s+/g,"-").toLowerCase()}})),o.default.filter("urlHost",(function(){return function(e){return e.split("//")[1].split("/")[0]}})),o.default.filter("markdownToPlaintext",(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\*\*/g,"")}})),o.default.filter("fromNow",(function(){return function(e){return window.moment(e).fromNow()}})),o.default.filter("savedQueryType",(function(){return function(e){return"SCHOLAR_SEARCH"===e?"Scholar":"PATENT_SEARCH"===e?"Patents":"PATENT"===e?"Patent":e}}))},function(e,t,n){var i=n(343);e.exports=function(e){return i(e,5)}},function(e,t,n){var i=n(351),a=n(225),r=n(6),o=n(143),s=n(136),l=n(226),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&a(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&l(e),f=n||u||d||p,m=f?i(e.length,String):[],h=m.length;for(var y in e)!t&&!c.call(e,y)||f&&("length"==y||d&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,h))||m.push(y);return m}},function(e,t,n){var i=n(352),a=n(20),r=Object.prototype,o=r.hasOwnProperty,s=r.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var i=n(354),a=n(80),r=n(145),o=r&&r.isTypedArray,s=o?a(o):i;e.exports=s},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(230),a=n(231),r=n(148),o=n(228),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=a(e);return t}:o;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}},function(e,t,n){var i=n(227)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(233),a=n(148),r=n(62);e.exports=function(e){return i(e,r,a)}},function(e,t,n){var i=n(230),a=n(6);e.exports=function(e,t,n){var r=t(e);return a(e)?r:i(r,n(e))}},function(e,t,n){var i=n(10).Uint8Array;e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.jsonToCsv=function(e){var t=function(e,t){return null===t?"":t},n=Object.keys(e[0]),i=e.map((function(e){return n.map((function(n){return JSON.stringify(e[n],t)})).join(",")}));return i.unshift(n.join(",")),i.join("\r\n")}},function(e,t,n){var i=n(387),a=n(400),r=n(241),o=n(6),s=n(404);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?o(e)?a(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(389),a=n(20);e.exports=function e(t,n,r,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:i(t,n,r,o,e,s))}},function(e,t,n){var i=n(390),a=n(393),r=n(394);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var m=-1,h=!0,y=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++m<u;){var g=e[m],v=t[m];if(o)var b=c?o(v,g,m,t,e,l):o(g,v,m,e,t,l);if(void 0!==b){if(b)continue;h=!1;break}if(y){if(!a(t,(function(e,t){if(!r(y,t)&&(g===e||s(g,e,n,o,l)))return y.push(t)}))){h=!1;break}}else if(g!==v&&!s(g,v,n,o,l)){h=!1;break}}return l.delete(e),l.delete(t),h}},function(e,t,n){var i=n(15);e.exports=function(e){return e==e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(408),a=n(411)(i);e.exports=a},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=n(2),r=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.API_BASE_URL=t.url||window.UI_CONFIG.patclassApiBaseUrl,!0===t.cache){if(!(t.storage instanceof a))throw new Error("To enable cache you must supply an instance of LocalStorageService");this.storage=t.storage,this.blankCache={children:{},search:{},suggest:{}},this.cache=this.storage.get("cache")||this.blankCache}}return i(e,[{key:"_checkCache",value:function(e,t,n){return this.cache&&this.cache[e][t]&&this.cache[e][t][n]?this.cache[e][t][n]:null}},{key:"_updateCache",value:function(e,t,n,i){this.cache&&(this.cache[e][t]||(this.cache[e][t]={}),this.cache[e][t][n]=i,this.storage.set("cache",this.cache))}},{key:"_invoke",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return $.ajax({method:i,url:this.API_BASE_URL+"/"+e+"/"+t,contentType:"application/json",dataType:"json",data:n})}},{key:"suggest",value:function(e,t){var n=this,i=this._checkCache("suggest",e,t);return i?(new $.Deferred).resolve(i):this._invoke(e,"suggest",{prefix:t,num:10}).then((function(i){return n._updateCache("suggest",e,t,i),i}))}},{key:"search",value:function(e,t,n,i){if(t){var a={q:t,stem:!0};return n&&(a.prefix=n),i&&(a.symbol=i),this._invoke(e,"search",a)}}},{key:"ancestorsAndSelf",value:function(e,t){var n=this,i=this._checkCache("search",e,t);return i||this._invoke(e,"ancestorsAndSelf",{format:"text",symbol:t}).then((function(i){return n._updateCache("search",e,t,i),i}))}},{key:"bulkAncestorsAndSelf",value:function(e,t){var n=JSON.stringify({format:"text",symbols:t});return this._invoke(e,"bulkAncestorsAndSelf",n,"POST")}},{key:"getChildren",value:function(e,t){var n=this,i=this._checkCache("children",e,t);if(i)return i;var a={format:"text",grandchildCounts:!0};if(t)a.parentId=t;else if("USPC"===e){return(new $.Deferred).resolve([])}return this._invoke(e,"children",a).then((function(i){return n._updateCache("children",e,t,i),i}))}},{key:"clearCache",value:function(){this.storage.set("cache",this.blankCache)}}]),e}();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.collectionActionMap={MANUAL_ID_ADD:"added manually",SEARCH_RESULT_ADD:"added via search",LINKED_QUERY_ADD:"added via linked query",MANUAL_ID_REMOVE:"removed manually",SEARCH_RESULT_REMOVE:"removed via search"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(26),r=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){if("United States of America"===e)return"US";var t=r.default.country(e);return t?t.code:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.avatarCropper=void 0;var i,a=n(163),r=(i=a)&&i.__esModule?i:{default:i};t.avatarCropper=function(e,t,n){var i=document.createElement("div");i.style.position="fixed",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,i.style.zIndex=9999,i.classList.add("cropper-wrapper"),i.style.backgroundColor="rgba(0, 0, 0, .3)",document.body.appendChild(i);var a=document.createElement("button");a.style.position="absolute",a.style.right="0px",a.style.bottom="-60px",a.style.zIndex=9999,a.textContent="Crop Image",a.classList.add("btn-pri"),i.appendChild(a),a.addEventListener("click",(function(){l.getCroppedCanvas({width:200,height:200}).toBlob((function(i){e.createThumbnail(i,200,200,e.options.thumbnailMethod,!1,(function(a){e.emit("thumbnail",t,a),n(i)}))})),document.body.removeChild(i)}));var o=document.createElement("button");o.style.position="absolute",o.style.left="0px",o.style.bottom="-60px",o.style.zIndex=9999,o.textContent="Cancel",o.classList.add("btn-danger"),o.addEventListener("click",(function(){document.body.removeChild(i),e.removeAllFiles(!0)})),i.appendChild(o);var s=new Image;s.src=URL.createObjectURL(t),i.appendChild(s);var l=new r.default(s,{aspectRatio:1,viewMode:0})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printFilters=void 0;var i,a=n(248),r=(i=a)&&i.__esModule?i:{default:i},o=n(9),s=n(165);t.printFilters=function(e,t){var n=(0,s.getFilters)(e);if(!n)return null;t&&(delete n.scholarQueryId,delete n.patentQueryId,delete n.collectionId);return _.keys(n).map((function(t){return function(t){return t=t.replace(".must","").replace(".mustNot",""),_.get(o.fieldsByFilterName[e.type],"["+t+"].label")||_.get(r.default[t],"label")||t}(t)+function(e){if(_.isObject(e)){var t="";return e.must&&(t+=" = "+e.must.join(" OR ")),e.mustNot&&(t+=" != "+e.mustNot.join(" OR ")),t}return" = "+e}(n[t])})).join(", ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={f:{label:window.messages.prop("filters.family.groupSimple")},citesNpl:{label:window.messages.prop("filters.citesNpl")},ft:{label:window.messages.prop("filters.fullText.docsWith")},fj:{label:window.messages.prop("filters.family.jurisdictions")},e:{label:window.messages.prop("filters.collections.expand")},sat:{label:window.messages.prop("filters.biologicals.title")},st:{label:window.messages.prop("patentResults.queryOptions.stemming")},plist:{label:window.messages.prop("filters.landscapes.items")},note:{label:window.messages.prop("filters.workspace.filterByNotes")},list:{label:window.messages.prop("filters.workspace.filterByCollections")},tags:{label:window.messages.prop("filters.workspace.filterByTag")},pnote:{label:window.messages.prop("filters.landscapes.notes")},lensIdCreatedAfter:{label:window.messages.prop("filters.lensIdCreatedAfter")},orcidPatents:{label:window.messages.prop("filters.inventor.orcidPatents")}}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=new(n(2)),r=new(n(5)),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"_get",value:function(){return a.get("lens.flashMessages")||{}}},{key:"addNotification",value:function(e){var t=this._get();t.notifications=t.notifications||[],t.notifications.push(e),a.set("lens.flashMessages",t)}},{key:"notify",value:function(){var e=this._get();e.notifications&&e.notifications.forEach((function(e){r.notify(e)})),a.remove("lens.flashMessages")}}]),e}();e.exports=o},function(e,t,n){"use strict";e.exports={render:function(){return'<em class="far col-sec fa-spinner fa-spin fa-3x fa-fw load-icon"></em>'}}},function(e,t,n){"use strict";var i,a=new(n(2));e.exports={init:function(){$("#logout").on("click",(function(e){e.preventDefault(),a.set("wasAuthed",!1),$("#logoutForm").submit()})),i()},feedback:i=function(){$("body").on("click",".feedbackLink",(function(e){var t;return e.preventDefault(),t&&!t.closed||(t=window.open(this.href+"?returnTo="+location.href,"feedbackWindow","location=no,menubar=no,width=400,height=540,toolbar=no,scrollbars=yes")),window.focus&&t.focus(),!1}))}}},function(e){e.exports=JSON.parse('{"6799":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Australian-National-University"},"6801":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Melbourne"},"6802":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Queensland"},"6803":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"CSIRO"},"6810":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Western-Australia"},"6838":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"La-Trobe-University"},"6841":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Bond-University"},"6856":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Central-Queensland-University"},"6858":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Charles-Darwin-University"},"6860":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Charles-Sturt-University"},"6874":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Edith-Cowan-University"},"6881":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Royal-Melbourne-Institute-of-Technology"},"6883":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Southern-Cross-University"},"6892":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Canberra"},"6895":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-New-England"},"6900":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Notre-Dame-Australia"},"6917":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Western-Sydney"},"6918":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Sunshine-Coast"},"6919":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-South-Australia"},"6921":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Southern-Queensland"},"6924":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Murdoch-University"},"6948":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"ANSTO-Australian-Nuclear-Science-and-Technology-Organization"},"6951":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Baker-IDI-Heart-Diabetes-Institute"},"7009":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Walter-and-Eliza-Hall-Institute-of-Medical-Research"},"7036":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"St-Vincents-Institute-of-Medical-Research"},"7063":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Murdoch-Childrens-Research-Institute"},"7071":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Peter-MacCallum-Cancer-Centre"},"7072":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"QIMR-Berghofer-Medical-Research-Institute"},"7159":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"(AIMS)-Australian-Institute-of-Marine-Sciences"},"7331":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Childrens-Medical-Research-Institute"},"7333":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Florey-Institute-of-Neuroscience-and-Mental-Health"},"8590":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Harvard-University"},"8634":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Stanford-University"},"8635":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Massachusetts-Institute-of-Technology"},"8754":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Berkeley"},"8755":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Cambridge"},"8756":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Princeton-University"},"8758":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"California-Institute-of-Technology"},"8759":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Columbia-University"},"8761":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Chicago"},"8762":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oxford"},"8819":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yale-University"},"8821":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-San-Francisco"},"8837":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Minnesota-Twin-Cities"},"8838":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Illinois-Urbana-Champaign"},"8876":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Northwestern-University"},"8877":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"New-York-University"},"8878":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Kyoto-University"},"8880":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Toronto"},"8892":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Wisconsin"},"8893":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Imperial-College-London"},"8901":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Michigan"},"8902":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Tokyo"},"8903":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Johns-Hopkins-University"},"8904":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Washington"},"8905":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Swiss-Federal-Institute-of-Technology-Zurich"},"8906":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Pennsylvania"},"8907":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-College-London"},"8909":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Cornell-University"},"8999":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Victoria-Australia"},"10707":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Duke-University"},"10708":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Washington-University-St.-Louis"},"10709":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rockefeller-University"},"10710":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Colorado-Boulder"},"10715":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Copenhagen"},"10716":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pierre-and-Marie-Curie-University"},"10730":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Santa-Barbara"},"10731":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-North-Carolina-at-Chapel-Hill"},"10737":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-British-Columbia"},"10738":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Manchester"},"10753":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Paris-Sud"},"10754":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Maryland"},"10765":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-Southwestern-Medical-Center"},"10766":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Heidelberg-University"},"10767":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Karolinska-Institute"},"10768":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Edinburgh"},"10771":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Southern-California"},"10772":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Irvine"},"10773":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technical-University-of-Munich"},"10774":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ludwig-Maximilian-University-of-Munich"},"10775":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Vanderbilt-University"},"10776":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Zurich"},"10777":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"King\'s-College-London"},"10778":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Utrecht-University"},"10779":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Davis"},"10780":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Geneva"},"10781":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oslo"},"10782":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pennsylvania-State-University"},"10783":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Carnegie-Mellon-University"},"10784":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Purdue-University"},"10785":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Uppsala-University"},"10786":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"McGill-University"},"10787":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rutgers-University"},"10790":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Bristol"},"10791":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hebrew-University-of-Jerusalem"},"10795":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ohio-State-University"},"10796":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Helsinki"},"10797":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Pittsburgh"},"10798":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ghent-University"},"10799":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ecole-Normale-Superieure-Paris"},"10800":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Aarhus-University"},"10801":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Boston-University"},"10802":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Brown-University"},"10803":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Groningen"},"10804":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nagoya-University"},"10805":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Stockholm-University"},"10806":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technion-Israel-Institute-of-Technology"},"10809":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Leiden-University"},"10810":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Florida"},"10811":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rice-University"},"10812":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Osaka-University"},"10824":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Basel"},"10825":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Strasbourg"},"10826":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Katholieke-Universiteit-Leuven"},"10827":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Arizona"},"10831":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Warwick"},"10832":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Arizona-State-University"},"10833":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Santa-Cruz"},"10834":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Utah"},"10835":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"McMaster-University"},"10836":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Bonn"},"10838":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Michigan-State-University"},"10839":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Texas-A&M-University"},"11614":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Aix-Marseille"},"11615":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Baylor-College-of-Medicine"},"11616":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Case-Western-Reserve-University"},"11617":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Emory-University"},"11619":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Georgia-Institute-of-Technology"},"11620":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Icahn-School-of-Medicine-Mount-Sinai"},"11622":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"London-School-of-Economics-and-Political-Science"},"11625":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Monash-University"},"11626":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-University-of-Singapore"},"11636":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Peking-University"},"11639":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Seoul-National-University"},"11640":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Shanghai-Jiao-Tong-University"},"11641":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Swiss-Federal-Institute-of-Technology-Lausanne"},"11642":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technical-University-of-Denmark"},"11643":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Glasgow"},"11644":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-New-South-Wales"},"11647":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tsinghua-University"},"11648":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tohoku-University"},"11649":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tufts-University"},"11651":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Amsterdam"},"11653":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Riverside"},"11655":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Freiburg"},"11659":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-Amherst"},"11660":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-Medical-School"},"11666":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Rochester"},"11668":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-São-Paulo"},"11670":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Sydney"},"11671":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Virginia"},"11672":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Wageningen-University-and-Research-Centre"},"11680":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Paris-Diderot-University"},"11681":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Weizmann-Institute-of-Science"},"11682":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Zhejiang-University"},"11685":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Erasmus-University-Rotterdam"},"11686":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Fudan-University"},"11688":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hokkaido-University"},"11694":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nanyang-Technological-University"},"11696":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"North-Carolina-State-University"},"11697":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Oregon-Health-and-Science-University"},"11700":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Queen-Mary-University-of-London"},"11702":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Sun-Yat-sen-University"},"11703":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tel-Aviv-University"},"11705":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Adelaide"},"11707":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Hong-Kong"},"11708":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tokyo-Institute-of-Technology"},"11715":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Exeter"},"11739":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Paris-Descartes"},"11742":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Science-and-Technology-of-China"},"11748":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Würzburg"},"11756":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Claude-Bernard-University-Lyon-1"},"11759":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Curtin-University"},"11761":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Dartmouth-College"},"11762":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Delft-University-of-Technology"},"11763":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Durham-University"},"11775":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Karlsruhe-Institute-of-Technology"},"11776":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Korea-Advanced-Institute-of-Science-and-Technology"},"11777":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Korea-University"},"11780":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Kyushu-University"},"11784":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Macquarie-University"},"11786":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nanjing-University"},"11796":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pompeu-Fabra-University"},"11801":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Sungkyunkwan-University"},"11804":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hong-Kong-University-of-Science-and-Technology"},"11807":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Dundee"},"11809":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-Health-Science-Center"},"11839":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Erlangen-Nuremberg"},"11855":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Montpellier"},"11857":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Notre-Dame"},"11877":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Wollongong"},"11878":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-York"},"11882":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yeshiva-University"},"11883":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yonsei-University"},"11909":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Deakin-University"},"11911":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ecole-Polytechnique"},"11915":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Flinders-University"},"11917":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Griffith-University"},"11919":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hanyang-University"},"11920":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Indian-Institutes-of-Technology"},"11922":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"James-Cook-University"},"11923":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Keio-University"},"11924":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"King-Abdullah-University-of-Science-and-Technology"},"11949":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"London-School-of-Hygiene-and-Tropical-Medicine"},"11950":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nankai-University"},"11955":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pohang-University-of-Science-and-Technology"},"11966":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Swinburne-University-of-Technology"},"11970":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Newcastle,-Australia"},"12004":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-New-Hampshire"},"12005":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oregon"},"12009":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-St-Andrews"},"12010":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Tasmania"},"12011":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Technology,-Sydney"},"12026":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Boston-College"},"12029":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Council-of-Scientific-and-Industrial-Research-India"},"12030":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Free-University-of-Berlin"},"12031":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"French-National-Centre-for-Scientific-Research"},"12032":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Gwangju-Institute-of-Science-and-Technology"},"12033":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Helmholtz-Association-of-German-Research-Centres"},"12035":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Indiana-University-System"},"12039":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Max-Planck-Society"},"12040":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Moscow-State-University"},"12042":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-Research-Council-Italy"},"12044":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Soochow-University"},"12045":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Spanish-National-Research-Council"},"12049":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"State-University-of-New-York-System"},"12050":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Alabama-System"},"12051":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-System"},"12052":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-London"},"12053":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-System"},"12054":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-System"},"12055":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-System-of-Maryland"},"12056":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Wake-Forest-University"},"12057":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Xiamen-University"},"12122":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Queensland-University-of-Technology"},"14024":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Chinese-Academy-of-Sciences"},"14026":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-Institutes-of-Health"},"14029":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Lawrence-Berkeley-National-Laboratory"},"14030":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"RIKEN"},"14033":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Atomic-Energy-and-Alternative-Energies-Commission"},"14210":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Russian-Academy-of-Sciences"},"14215":{"type":"Patent Portfolio","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"The-Scripps-Research-Institute"},"14444":{"type":"Patent Portfolio","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Garvan-Institute-of-Medical-Research"},"22716":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Erasmus-University-Rotterdam"},"22717":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-North-Carolina-at-Chapel-Hill"},"22718":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Vanderbilt-University"},"22719":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Amsterdam"},"22720":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Spanish-National-Research-Council"},"22721":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"French-National-Centre-for-Scientific-Research"},"22722":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Imperial-College-London"},"22723":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Bonn"},"22724":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Würzburg"},"22725":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tokyo-Institute-of-Technology"},"22726":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ecole-Polytechnique"},"22727":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Keio-University"},"22728":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Davis"},"22729":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Los-Angeles"},"22730":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Colorado-Boulder"},"22731":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Soochow-University"},"22732":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Berkeley"},"22733":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Dundee"},"22734":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Weizmann-Institute-of-Science"},"22735":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tohoku-University"},"22736":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Helmholtz-Association-of-German-Research-Centres"},"22737":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Sungkyunkwan-University"},"22738":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nagoya-University"},"22739":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Katholieke-Universiteit-Leuven"},"22740":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-São-Paulo"},"22741":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Texas-A&M-University"},"22742":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Seoul-National-University"},"22743":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Paris-Diderot-University"},"22744":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-New-Hampshire"},"22745":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Washington-University-St.-Louis"},"22746":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Wake-Forest-University"},"22747":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yeshiva-University"},"22748":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ludwig-Maximilian-University-of-Munich"},"22749":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Zhejiang-University"},"22750":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rutgers-University"},"22751":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-Health-Science-Center"},"22752":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Aarhus-University"},"22753":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technical-University-of-Denmark"},"22754":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Copenhagen"},"22755":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"The-Scripps-Research-Institute"},"22756":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"State-University-of-New-York-System"},"22757":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Cornell-University"},"22758":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hanyang-University"},"22759":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Russian-Academy-of-Sciences"},"22760":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ghent-University"},"22761":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Carnegie-Mellon-University"},"22762":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Georgia-Institute-of-Technology"},"22763":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"New-York-University"},"22764":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Paris-Descartes"},"22765":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Moscow-State-University"},"22766":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"McGill-University"},"22767":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Hong-Kong"},"22768":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Boston-University"},"22769":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nanjing-University"},"22770":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Karolinska-Institute"},"22771":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Southern-California"},"22772":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-Southwestern-Medical-Center"},"22773":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Washington"},"22774":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Queensland"},"22775":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Kyoto-University"},"22776":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Delft-University-of-Technology"},"22777":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Zurich"},"22778":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Leiden-University"},"22779":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-British-Columbia"},"22780":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hong-Kong-University-of-Science-and-Technology"},"22781":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Atomic-Energy-and-Alternative-Energies-Commission"},"22782":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Swiss-Federal-Institute-of-Technology-Zurich"},"22783":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pierre-and-Marie-Curie-University"},"22784":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Irvine"},"22785":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"RIKEN"},"22786":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Duke-University"},"22787":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Glasgow"},"22788":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Fudan-University"},"22789":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-University-of-Singapore"},"22790":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Massachusetts-Institute-of-Technology"},"22791":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Western-Australia"},"22792":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hebrew-University-of-Jerusalem"},"22793":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Wisconsin"},"22794":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Lawrence-Berkeley-National-Laboratory"},"22795":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Wageningen-University-and-Research-Centre"},"22796":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oregon"},"22797":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Boston-College"},"22798":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Edinburgh"},"22799":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Alabama-System"},"22800":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Baylor-College-of-Medicine"},"22801":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Montpellier"},"22802":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-System"},"22803":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-Amherst"},"22804":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Michigan"},"22805":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-San-Francisco"},"22806":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Durham-University"},"22807":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Kyushu-University"},"22808":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Shanghai-Jiao-Tong-University"},"22809":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oslo"},"22810":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"North-Carolina-State-University"},"22811":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Pennsylvania"},"22812":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Erlangen-Nuremberg"},"22813":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Stockholm-University"},"22814":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Case-Western-Reserve-University"},"22815":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ecole-Normale-Superieure-Paris"},"22816":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Heidelberg-University"},"22817":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Arizona"},"22818":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Melbourne"},"22819":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Korea-University"},"22820":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Groningen"},"22821":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Illinois-Urbana-Champaign"},"22822":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-Medical-School"},"22823":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-St-Andrews"},"22824":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rockefeller-University"},"22825":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Queen-Mary-University-of-London"},"22826":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Freiburg"},"22827":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Chinese-Academy-of-Sciences"},"22828":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Swiss-Federal-Institute-of-Technology-Lausanne"},"22829":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Korea-Advanced-Institute-of-Science-and-Technology"},"22830":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Pittsburgh"},"22831":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Minnesota-Twin-Cities"},"22832":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Indian-Institutes-of-Technology"},"22833":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pompeu-Fabra-University"},"22834":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Emory-University"},"22835":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Brown-University"},"22836":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Xiamen-University"},"22837":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pohang-University-of-Science-and-Technology"},"22838":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Arizona-State-University"},"22839":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technion-Israel-Institute-of-Technology"},"22840":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Icahn-School-of-Medicine-Mount-Sinai"},"22841":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Osaka-University"},"22842":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Toronto"},"22843":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Pennsylvania-State-University"},"22844":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Northwestern-University"},"22845":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Uppsala-University"},"22846":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Chicago"},"22847":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Massachusetts-System"},"22848":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Stanford-University"},"22849":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nankai-University"},"22850":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Oregon-Health-and-Science-University"},"22851":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"London-School-of-Hygiene-and-Tropical-Medicine"},"22852":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Oxford"},"22853":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Princeton-University"},"22854":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Science-and-Technology-of-China"},"22855":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-College-London"},"22856":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-Institutes-of-Health"},"22857":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Bristol"},"22858":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tsinghua-University"},"22859":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Harvard-University"},"22860":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-San-Diego"},"22861":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"California-Institute-of-Technology"},"22862":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Karlsruhe-Institute-of-Technology"},"22863":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Australian-National-University"},"22864":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Ohio-State-University"},"22865":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Rice-University"},"22866":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-System-of-Maryland"},"22867":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Claude-Bernard-University-Lyon-1"},"22868":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Council-of-Scientific-and-Industrial-Research-India"},"22869":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Tokyo"},"22870":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Santa-Cruz"},"22871":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Aix-Marseille"},"22872":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Free-University-of-Berlin"},"22873":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Columbia-University"},"22874":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-York"},"22875":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Maryland"},"22876":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Virginia"},"22877":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"National-Research-Council-Italy"},"22878":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-London"},"22879":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Michigan-State-University"},"22880":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Helsinki"},"22881":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Geneva"},"22882":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Nanyang-Technological-University"},"22883":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Gwangju-Institute-of-Science-and-Technology"},"22884":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Max-Planck-Society"},"22885":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Manchester"},"22886":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Texas-System"},"22887":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tel-Aviv-University"},"22888":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Purdue-University"},"22889":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Exeter"},"22890":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Dartmouth-College"},"22891":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Indiana-University-System"},"22892":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Utrecht-University"},"22893":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Paris-Sud"},"22894":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"McMaster-University"},"22895":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Santa-Barbara"},"22896":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Notre-Dame"},"22897":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Warwick"},"22898":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Sun-Yat-sen-University"},"22899":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Rochester"},"22900":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-California-Riverside"},"22901":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Johns-Hopkins-University"},"22902":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Florida"},"22903":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"King\'s-College-London"},"22904":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Utah"},"22905":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Peking-University"},"22906":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Strasbourg"},"22907":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Technical-University-of-Munich"},"22908":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yonsei-University"},"22909":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Hokkaido-University"},"22910":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Tufts-University"},"22911":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Cambridge"},"22912":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"University-of-Basel"},"22913":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"London-School-of-Economics-and-Political-Science"},"22914":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"Yale-University"},"22915":{"type":"Citing Patent Collection","dataset":"v2.08.4-200metric-180110","datasetAlias":"global","slug":"King-Abdullah-University-of-Science-and-Technology"},"23016":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-South-Australia"},"23017":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Flinders-University"},"23018":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Federation-University"},"23019":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Australian-Catholic-University"},"23020":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Murdoch-University"},"23021":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Canberra"},"23022":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"ANSTO-Australian-Nuclear-Science-and-Technology-Organization"},"23023":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Royal-Melbourne-Institute-of-Technology"},"23024":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-New-South-Wales"},"23025":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Notre-Dame-Australia"},"23026":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Macquarie-University"},"23027":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Adelaide"},"23028":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Tasmania"},"23029":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Charles-Darwin-University"},"23030":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Western-Sydney"},"23031":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Wollongong"},"23032":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Swinburne-University-of-Technology"},"23033":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"La-Trobe-University"},"23034":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"(AIMS)-Australian-Institute-of-Marine-Sciences"},"23035":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"James-Cook-University"},"23036":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Sunshine-Coast"},"23037":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Technology,-Sydney"},"23038":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-New-England"},"23039":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"St-Vincents-Institute-of-Medical-Research"},"23040":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Newcastle,-Australia"},"23041":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-Victoria-Australia"},"23042":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Bond-University"},"23043":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"CSIRO"},"23044":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"The-University-of-Southern-Queensland"},"23045":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Deakin-University"},"23046":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Murdoch-Childrens-Research-Institute"},"23047":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Baker-IDI-Heart-Diabetes-Institute"},"23048":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Central-Queensland-University"},"23049":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Peter-MacCallum-Cancer-Centre"},"23050":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Walter-and-Eliza-Hall-Institute-of-Medical-Research"},"23051":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"University-of-Sydney"},"23052":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Florey-Institute-of-Neuroscience-and-Mental-Health"},"23053":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Monash-University"},"23055":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Southern-Cross-University"},"23056":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Garvan-Institute-of-Medical-Research"},"23057":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Curtin-University"},"23058":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"QIMR-Berghofer-Medical-Research-Institute"},"23059":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Edith-Cowan-University"},"23060":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Queensland-University-of-Technology"},"23061":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Griffith-University"},"23062":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Childrens-Medical-Research-Institute"},"23063":{"type":"Citing Patent Collection","dataset":"australia.v2.14-180110","datasetAlias":"australia","slug":"Charles-Sturt-University"}}')},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";r(n(38));var i=r(n(178)),a=r(n(179));function r(e){return e&&e.__esModule?e:{default:e}}n(277),n(278),window._=a.default,window.clipboard=i.default,window.UI_CONFIG||(window.UI_CONFIG={}),window.UI_CONFIG.assetLocation||(window.UI_CONFIG.assetLocation=window.location.origin+window.location.pathname.replace("index.html","").slice(0,-1)),window.UI_CONFIG.institutionDataLocation="https://static.lens.org/lens/in4m-ui-data",$.getScript(window.UI_CONFIG.assetLocation+"/deepdash.min.js").done((function(e,t){window.deepdash(a.default)})),window.FUSE_OPTS={shouldSort:!0,tokenize:!0,matchAllTokens:!0,findAllMatches:!0,location:0,distance:100,maxPatternLength:32,keys:["key"]},window.THEME=document.body.classList.contains("theme-high-contrast")?"dark":"default",window.VEGA_EMBED_OPTS={defaultStyle:!0,actions:!1,theme:window.THEME},window.vegaLegend=function(e){return"dark"===window.THEME?a.default.defaults(e,{labelFontSize:11,titleFontSize:13,titleFont:"source_sans_prosemibold",titleFontWeight:"normal",labelFont:"source_sans_proregular",labelFontWeight:"normal",labelColor:"#9eb3c7",titleColor:"#22afed",domainColor:"#d2dae3",gridColor:"#404953",gridDash:[2,2],titlePadding:15}):a.default.defaults(e,{labelFontSize:11,titleFontSize:13,titleFont:"source_sans_prosemibold",titleFontWeight:"normal",labelFont:"source_sans_proregular",labelFontWeight:"normal",labelColor:"#565f69",titleColor:"#14597a",domainColor:"#e4ebf3",gridColor:"#d8e1ed",gridDash:[2,2],titlePadding:15})},window.staging=function(){window.open("https://staging.lens.org"+window.location.pathname+window.location.search)},n(279);var o=n(32);console.log(o),window.LENS=n(280),n(671),n(222),n(672),n(673),n(674),n(675),localStorage.getItem("IGNORE_LENS_CACHE")&&console.log("WARNING: IGNORE_LENS_CACHE enabled")},,,function(e,t){},function(e,t){String.prototype.toTitleCase=function(){"use strict";var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|v.?|vs.?|via)$/i,t=/([A-Za-z0-9\u00C0-\u00FF])/;return this.split(/([ :–—-])/).map((function(n,i,a){return n.search(e)>-1&&0!==i&&i!==a.length-1&&":"!==a[i-3]&&":"!==a[i+1]&&("-"!==a[i+1]||"-"===a[i-1]&&"-"===a[i+1])?n.toLowerCase():n.substr(1).search(/[A-Z]|\../)>-1||":"===a[i+1]&&""!==a[i+2]?n:n.replace(t,(function(e){return e.toUpperCase()}))})).join("")}},function(e,t,n){"use strict";!function(e,t){var n=1e3,i=!1,a=e([]),r=function(n,i){var r=n.data("livestampdata");if("number"==typeof i&&(i*=1e3),n.removeAttr("data-livestamp").removeData("livestamp"),i=t(i),t.isMoment(i)&&!isNaN(+i)){var o=e.extend({},{original:n.contents()},r);o.moment=t(i),n.data("livestampdata",o).empty(),a.push(n[0])}},o={update:function(){e("[data-livestamp]").each((function(){var t=e(this);r(t,t.data("livestamp"))}));var n=[];a.each((function(){var i=e(this),a=i.data("livestampdata");if(void 0===a)n.push(this);else if(t.isMoment(a.moment)){var r=i.html(),o=a.moment.fromNow();if(r!=o){var s=e.Event("change.livestamp");i.trigger(s,[r,o]),s.isDefaultPrevented()||i.html(o)}}})),a=a.not(n)},pause:function(){i=!0},resume:function(){i=!1,function e(){i||(o.update(),setTimeout(e,n))}()},interval:function(e){if(void 0===e)return n;n=e}},s={add:function(n,i){return"number"==typeof i&&(i*=1e3),i=t(i),t.isMoment(i)&&!isNaN(+i)&&(n.each((function(){r(e(this),i)})),o.update()),n},destroy:function(t){return a=a.not(t),t.each((function(){var n=e(this),i=n.data("livestampdata");if(void 0===i)return t;n.html(i.original?i.original:"").removeData("livestampdata")})),t},isLivestamp:function(e){return void 0!==e.data("livestampdata")}};e.livestamp=o,e((function(){o.resume()})),e.fn.livestamp=function(e,t){return s[e]||(t=e,e="add"),s[e](this,t)}}(jQuery,moment)},function(e,t,n){"use strict";e.exports={Controllers:n(281),Directives:n(334),Modules:n(639),Resources:n(645),Services:n(652)}},function(e,t,n){"use strict";e.exports={AccountController:n(282),LandscapeController:n(311),NoteExplorerController:n(312),ProfileController:n(313),ReportController:n(314),SearchController:n(317),UserProfileController:n(328),ViewArticleController:n(329),ViewPatentController:n(330),WorkAreaController:n(333)}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(0)),r=s(n(2)),o=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,i,a,o){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=t,this.$rootScope=i,this.$http=a,this.globalStorage=new r.default("global"),this.state={isAccount:!0};var l=[];l.push(o.onSuccess({},(function(e){e.to()}))),t.current,n.$on("$destroy",(function(){l.forEach((function(e){return e()}))})),i.isAnon||this.initAccount(),l.push(i.$on("PROMPT_CREATE_NEW_COLLECTION",(function(e,t){s.state.promptNewCollection=!0})))}return i(e,[{key:"initAccount",value:function(){var e=this;this.state.loading=!0,this.$http.get("/lens/service/user").then((function(t){e.state.profile=t.data,e.state.loading=!1})).catch((function(t){e.state.loading=!1,e.state.error=!0}))}},{key:"saveAccount",value:function(e){var t=this;e.preventDefault();var n={};["username","email","firstName","lastName"].forEach((function(e){n[e]=t.state.profile[e]})),this.state.profile.avatar&&this.state.profile.avatar.id&&(n.avatarId=this.state.profile.avatar.id);if(["oldPassword","password","passwordRepeat"].forEach((function(e){t.state.profile[e]&&(n[e]=t.state.profile[e])})),n.password&&n.password!==n.passwordRepeat)alert("Passwords do not match");else{var i=new o.default;this.$http.put("/lens/user/profile",n).then((function(e){delete t.state.profile.password,delete t.state.profile.passwordRepeat,delete t.state.profile.oldPassword,i.notify("Account Saved")})).catch((function(e){(e.data.errors||e.data.messages||["Could not update Account: Unknown Error"]).forEach((function(e){i.error(e)}))}))}}},{key:"search",value:function(){this.$state.go("search.results",{type:"scholar",view:"list",q:this.state.q})}}]),e}(),c=a.default.controller("AccountController",["$state","$scope","$rootScope","$http","$transitions",l]);e.exports=c},function(e,t,n){
/**
 * State-based routing for AngularJS 1.x
 * This bundle requires the ui-router-core.js bundle from the @uirouter/core package.
 * @version v1.0.18
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t,n){"use strict";var i=angular,a=t&&t.module?t:i;function r(){var e=null;return function(t,i){return e=e||n.services.$injector.get("$templateFactory"),[new c(t,i,e)]}}var o=function(e,t){return e.reduce((function(e,i){return e||n.isDefined(t[i])}),!1)};function s(e){if(!e.parent)return{};var t=["component","bindings","componentProvider"],i=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),a=t.concat(i);if(n.isDefined(e.views)&&o(a,e))throw new Error("State '"+e.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+a.filter((function(t){return n.isDefined(e[t])})).join(", "));var r={},s=e.views||{$default:n.pick(e,a)};return n.forEach(s,(function(a,s){if(s=s||"$default",n.isString(a)&&(a={component:a}),a=n.extend({},a),o(t,a)&&o(i,a))throw new Error("Cannot combine: "+t.join("|")+" with: "+i.join("|")+" in stateview: '"+s+"@"+e.name+"'");a.resolveAs=a.resolveAs||"$resolve",a.$type="ng1",a.$context=e,a.$name=s;var l=n.ViewService.normalizeUIViewTarget(a.$context,a.$name);a.$uiViewName=l.uiViewName,a.$uiViewContextAnchor=l.uiViewContextAnchor,r[s]=a})),r}var l=0,c=function(){function e(e,t,n){var i=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=l++,this.loaded=!1,this.getTemplate=function(e,t){return i.component?i.factory.makeComponentTemplate(e,t,i.component,i.viewDecl.bindings):i.template}}return e.prototype.load=function(){var e=this,t=n.services.$q,i=new n.ResolveContext(this.path),a=this.path.reduce((function(e,t){return n.extend(e,t.paramValues)}),{}),r={template:t.when(this.factory.fromConfig(this.viewDecl,a,i)),controller:t.when(this.getController(i))};return t.all(r).then((function(t){return n.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,n.extend(e,t.template),e}))},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!n.isInjectable(t))return this.viewDecl.controller;var i=n.services.$injector.annotate(t),a=n.isArray(t)?n.tail(t):t;return new n.Resolvable("",a,i).get(e)},e}(),u=function(){function e(){var e=this;this._useHttp=a.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,i){return e.$templateRequest=i.has&&i.has("$templateRequest")&&i.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,i){var a=function(e){return n.services.$q.when(e).then((function(e){return{template:e}}))},r=function(e){return n.services.$q.when(e).then((function(e){return{component:e}}))};return n.isDefined(e.template)?a(this.fromString(e.template,t)):n.isDefined(e.templateUrl)?a(this.fromUrl(e.templateUrl,t)):n.isDefined(e.templateProvider)?a(this.fromProvider(e.templateProvider,t,i)):n.isDefined(e.component)?r(e.component):n.isDefined(e.componentProvider)?r(this.fromComponentProvider(e.componentProvider,t,i)):a("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return n.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return n.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then((function(e){return e.data})):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,i){var a=n.services.$injector.annotate(e),r=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",r,a).get(i)},e.prototype.fromComponentProvider=function(e,t,i){var a=n.services.$injector.annotate(e),r=n.isArray(e)?n.tail(e):e;return new n.Resolvable("",r,a).get(i)},e.prototype.makeComponentTemplate=function(e,t,i,r){r=r||{};var o=a.version.minor>=3?"::":"",s=function(e){var t=n.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},l=function(e){var t=n.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(d).reduce(n.unnestR,[])}(i).map((function(i){var a=i.name,l=i.type,c=s(a);if(e.attr(c)&&!r[a])return c+"='"+e.attr(c)+"'";var u=r[a]||a;if("@"===l)return c+"='{{"+o+"$resolve."+u+"}}'";if("&"===l){var d=t.getResolvable(u),p=d&&d.data,f=p&&n.services.$injector.annotate(p)||[];return c+"='$resolve."+u+(n.isArray(p)?"["+(p.length-1)+"]":"")+"("+f.join(",")+")'"}return c+"='"+o+"$resolve."+u+"'"})).join(" "),c=s(i);return"<"+c+" "+l+"></"+c+">"},e}(),d=function(e){return n.isObject(e.bindToController)?p(e.bindToController):p(e.scope)},p=function(e){return Object.keys(e||{}).map((function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]})).filter((function(e){return n.isDefined(e)&&n.isArray(e[1])})).map((function(e){return{name:e[1][2]||e[0],type:e[1][1]}}))},f=function(){function e(t,i){this.stateRegistry=t,this.stateService=i,n.createProxyFunctions(n.val(e.prototype),this,n.val(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return n.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}(),m=function(e){return function(t,i){var a=t[e],r="onExit"===e?"from":"to";return a?function(e,t){var i=new n.ResolveContext(e.treeChanges(r)).subContext(t.$$state()),o=n.extend(R(i),{$state$:t,$transition$:e});return n.services.$injector.invoke(a,this,o)}:void 0}},h=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=n.val(e);n.createProxyFunctions(t,this,t,["hashPrefix"])}return e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,(function(e){return{"~":"~~","/":"~2F"}[e]})):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,(function(e){return{"~~":"~","~2F":"/"}[e]})):e}},e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return n.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=n.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,i){return void 0===t&&(t=!1),n.isDefined(e)&&this.$location.url(e),t&&this.$location.replace(),i&&this.$location.state(i),this.$location.url()},e.prototype._runtimeServices=function(e,t,i,a){var r=this;this.$location=t,this.$sniffer=i,e.$on("$locationChangeSuccess",(function(e){return r._urlListeners.forEach((function(t){return t(e)}))}));var o=n.val(t),s=n.val(a);n.createProxyFunctions(o,this,o,["replace","path","search","hash"]),n.createProxyFunctions(o,this,o,["port","protocol","host"]),n.createProxyFunctions(s,this,s,["baseHref"])},e}(),y=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.injectableHandler=function(e,t){return function(i){return n.services.$injector.invoke(t,null,{$match:i,$stateParams:e.globals.params})}},e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!n.isFunction(e))throw new Error("'rule' must be a function");var i=new n.BaseUrlRule((function(){return e(n.services.$injector,t._router.locationService)}),n.identity);return this._urlRouter.rule(i),this},e.prototype.otherwise=function(e){var t=this,i=this._urlRouter;if(n.isString(e))i.otherwise(e);else{if(!n.isFunction(e))throw new Error("'rule' must be a string or function");i.otherwise((function(){return e(n.services.$injector,t._router.locationService)}))}return this},e.prototype.when=function(t,i){return(n.isArray(i)||n.isFunction(i))&&(i=e.injectableHandler(this._router,i)),this._urlRouter.when(t,i),this},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();a.module("ui.router.angular1",[]);var g=a.module("ui.router.init",["ng"]),v=a.module("ui.router.util",["ui.router.init"]),b=a.module("ui.router.router",["ui.router.util"]),S=a.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),_=a.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),C=(a.module("ui.router.compat",["ui.router"]),null);function k(e){(C=this.router=new n.UIRouter).stateProvider=new f(C.stateRegistry,C.stateService),C.stateRegistry.decorator("views",s),C.stateRegistry.decorator("onExit",m("onExit")),C.stateRegistry.decorator("onRetain",m("onRetain")),C.stateRegistry.decorator("onEnter",m("onEnter")),C.viewService._pluginapi._viewConfigFactory("ng1",r());var t=C.locationService=C.locationConfig=new h(e);function i(e,n,i,a,r,o){return t._runtimeServices(a,e,i,n),delete C.router,delete C.$get,C}return h.monkeyPatchPathParameterType(C),C.router=C,C.$get=i,i.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],C}k.$inject=["$locationProvider"];var A=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};function w(e,t,i){n.services.$injector=e,n.services.$q=t,i.stateRegistry.get().map((function(e){return e.$$state().resolvables})).reduce(n.unnestR,[]).filter((function(e){return"deferred"===e.deps})).forEach((function(t){return t.deps=e.annotate(t.resolveFn,e.strictDi)}))}function P(e){e.$watch((function(){n.trace.approximateDigests++}))}w.$inject=["$injector","$q","$uiRouter"],P.$inject=["$rootScope"],g.provider("$uiRouter",k),b.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new y(e)}]),v.provider("$urlService",A("urlService")),v.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return C.urlMatcherFactory}]),v.provider("$templateFactory",(function(){return new u})),S.provider("$stateRegistry",A("stateRegistry")),S.provider("$uiRouterGlobals",A("globals")),S.provider("$transitions",A("transitionService")),S.provider("$state",["$uiRouterProvider",function(){return n.extend(C.stateProvider,{$get:function(){return C.stateService}})}]),S.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),_.factory("$view",(function(){return C.viewService})),_.service("$trace",(function(){return n.trace})),_.run(P),v.run(["$urlMatcherFactory",function(e){}]),S.run(["$state",function(e){}]),b.run(["$urlRouter",function(e){}]),g.run(w);var T,x,M,I,R=function(e){return e.getTokens().filter(n.isString).map((function(t){var n=e.getResolvable(t);return[t,"NOWAIT"===e.getPolicy(n).async?n.promise:n.data]})).reduce(n.applyPairs,{})};function E(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function D(e){var t=e.parent().inheritedData("$uiView"),i=n.parse("$cfg.path")(t);return i?n.tail(i).state.name:void 0}function L(e,t,i){var a=i.uiState||e.current.name,r=n.extend(function(e,t){return{relative:D(e)||t.$current,inherit:!0,source:"sref"}}(t,e),i.uiStateOpts||{}),o=e.href(a,i.uiStateParams,r);return{uiState:a,uiStateParams:i.uiStateParams,uiStateOpts:r,href:o}}function N(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function O(e,t,n,i,a){return function(r){var o=r.which||r.button,s=a();if(!(o>1||r.ctrlKey||r.metaKey||r.shiftKey||e.attr("target"))){var l=n((function(){e.attr("disabled")||t.go(s.uiState,s.uiStateParams,s.uiStateOpts)}));r.preventDefault();var c=i.isAnchor&&!s.href?1:0;r.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function U(e,t,i,a){var r;a&&(r=a.events),n.isArray(r)||(r=["click"]);for(var o=e.on?"on":"bind",s=0,l=r;s<l.length;s++){var c=l[s];e[o](c,i)}t.$on("$destroy",(function(){for(var t=e.off?"off":"unbind",n=0,a=r;n<a.length;n++){var o=a[n];e[t](o,i)}}))}function B(e){var t=function(t,n,i){return e.is(t,n,i)};return t.$stateful=!0,t}function F(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}function G(e,t,i,r,o,s){var l=n.parse("viewDecl.controllerAs"),c=n.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var s=r.html();return r.empty(),function(r,u){var d=u.data("$uiView");if(!d)return u.html(s),void e(u.contents())(r);var p=d.$cfg||{viewDecl:{},getTemplate:n.noop},f=p.path&&new n.ResolveContext(p.path);u.html(p.getTemplate(u,f)||s),n.trace.traceUIViewFill(d.$uiView,u.html());var m=e(u.contents()),h=p.controller,y=l(p),g=c(p),v=f&&R(f);if(r[g]=v,h){var b=t(h,n.extend({},v,{$scope:r,$element:u}));y&&(r[y]=b,r[y][g]=v),u.data("$ngControllerController",b),u.children().data("$ngControllerController",b),K(o,i,b,r,p)}if(n.isString(p.viewDecl.component))var S=p.viewDecl.component,_=n.kebobString(S),C=new RegExp("^(x-|data-)?"+_+"$","i"),k=r.$watch((function(){var e=[].slice.call(u[0].children).filter((function(e){return e&&e.tagName&&C.exec(e.tagName)}));return e&&a.element(e).data("$"+S+"Controller")}),(function(e){e&&(K(o,i,e,r,p),k())}));m(r)}}}}T=["$uiRouter","$timeout",function(e,t){var i=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(a,r,o,s){var l,c=N(r),u=s[1]||s[0],d=null,p={},f=function(){return L(i,r,p)},m=E(o.uiSref);function h(){var e=f();d&&d(),u&&(d=u.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(c.attr,e.href)}p.uiState=m.state,p.uiStateOpts=o.uiSrefOpts?a.$eval(o.uiSrefOpts):{},m.paramExpr&&(a.$watch(m.paramExpr,(function(e){p.uiStateParams=n.extend({},e),h()}),!0),p.uiStateParams=n.extend({},a.$eval(m.paramExpr))),h(),a.$on("$destroy",e.stateRegistry.onStatesChanged(h)),a.$on("$destroy",e.transitionService.onSuccess({},h)),c.clickable&&(l=O(r,i,t,c,f),U(r,a,l,p.uiStateOpts))}}}],x=["$uiRouter","$timeout",function(e,t){var i=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(a,r,o,s){var l,c=N(r),u=s[1]||s[0],d=null,p={},f=function(){return L(i,r,p)},m=["uiState","uiStateParams","uiStateOpts"],h=m.reduce((function(e,t){return e[t]=n.noop,e}),{});function y(){var e=f();d&&d(),u&&(d=u.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(c.attr,e.href)}m.forEach((function(e){p[e]=o[e]?a.$eval(o[e]):null,o.$observe(e,(function(t){h[e](),h[e]=a.$watch(t,(function(t){p[e]=t,y()}),!0)}))})),y(),a.$on("$destroy",e.stateRegistry.onStatesChanged(y)),a.$on("$destroy",e.transitionService.onSuccess({},y)),c.clickable&&(l=O(r,i,t,c,f),U(r,a,l,p.uiStateOpts))}}}],M=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,i,a){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,o){var s,l,c,u,d,p=[];s=i(o.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(o.uiSrefActive)}catch(e){}function f(e){e.promise.then(g,n.noop)}function m(){h(l)}function h(e){n.isObject(e)&&(p=[],n.forEach(e,(function(e,i){var a=function(e,n){var i=E(e);y(i.state,t.$eval(i.paramExpr),n)};n.isString(e)?a(e,i):n.isArray(e)&&n.forEach(e,(function(e){a(e,i)}))})))}function y(t,i,a){var o={state:e.get(t,D(r))||{name:t},params:i,activeClass:a};return p.push(o),function(){n.removeFrom(p)(o)}}function g(){var i=function(e){return e.split(/\s/).filter(n.identity)},a=function(e){return e.map((function(e){return e.activeClass})).map(i).reduce(n.unnestR,[])},o=a(p).concat(i(s)).reduce(n.uniqR,[]),l=a(p.filter((function(t){return e.includes(t.state.name,t.params)}))),c=p.filter((function(t){return e.is(t.state.name,t.params)})).length?i(s):[],u=l.concat(c).reduce(n.uniqR,[]),d=o.filter((function(e){return!n.inArray(u,e)}));t.$evalAsync((function(){u.forEach((function(e){return r.addClass(e)})),d.forEach((function(e){return r.removeClass(e)}))}))}h(l=l||i(o.uiSrefActive||"",!1)(t)),this.$$addStateInfo=function(e,t){if(!(n.isObject(l)&&p.length>0)){var i=y(e,t,l);return g(),i}},t.$on("$destroy",(c=a.stateRegistry.onStatesChanged(m),u=a.transitionService.onStart({},f),d=t.$on("$stateChangeSuccess",g),function(){c(),u(),d()})),a.globals.transition&&f(a.globals.transition),g()}]}}],a.module("ui.router.state").directive("uiSref",T).directive("uiSrefActive",M).directive("uiSrefActiveEq",M).directive("uiState",x),B.$inject=["$state"],F.$inject=["$state"],a.module("ui.router.state").filter("isState",B).filter("includedByState",F),I=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,i,r,o){var s={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},l={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(u,d,p){return function(u,d,f){var m,h,y,g,v,b=f.onload||"",S=f.autoscroll,_={enter:function(e,n,i){a.version.minor>2?t.enter(e,null,n).then(i):t.enter(e,null,n,i)},leave:function(e,n){a.version.minor>2?t.leave(e).then(n):t.leave(e,n)}},C=d.inheritedData("$uiView")||s,k=r(f.uiView||f.name||"")(u)||"$default",A={$type:"ng1",id:l.count++,name:k,fqn:C.$uiView.fqn?C.$uiView.fqn+"."+k:k,config:null,configUpdated:function(e){(!e||e instanceof c)&&(g!==e&&(n.trace.traceUIViewConfigUpdated(A,e&&e.viewDecl&&e.viewDecl.$context),g=e,w(e)))},get creationContext(){var e=n.parse("$cfg.viewDecl.$context")(C),t=n.parse("$uiView.creationContext")(C);return e||t}};function w(e){var t=u.$new(),a=o.defer(),r=o.defer(),s={$cfg:e,$uiView:A},l={$animEnter:a.promise,$animLeave:r.promise,$$animLeave:r};t.$emit("$viewContentLoading",k);var c=p(t,(function(e){e.data("$uiViewAnim",l),e.data("$uiView",s),_.enter(e,d,(function(){a.resolve(),y&&y.$emit("$viewContentAnimationEnded"),(n.isDefined(S)&&!S||u.$eval(S))&&i(e)})),function(){if(m&&(n.trace.traceUIViewEvent("Removing (previous) el",m.data("$uiView")),m.remove(),m=null),y&&(n.trace.traceUIViewEvent("Destroying scope",A),y.$destroy(),y=null),h){var e=h.data("$uiViewAnim");n.trace.traceUIViewEvent("Animate out",e),_.leave(h,(function(){e.$$animLeave.resolve(),m=null})),m=h,h=null}}()}));h=c,(y=t).$emit("$viewContentLoaded",e||g),y.$eval(b)}n.trace.traceUIViewEvent("Linking",A),d.data("$uiView",{$uiView:A}),w(),v=e.registerUIView(A),u.$on("$destroy",(function(){n.trace.traceUIViewEvent("Destroying/Unregistering",A),v()}))}}};return l}],G.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var H="function"==typeof a.module("ui.router").component,j=0;function K(e,t,i,a,r){!n.isFunction(i.$onInit)||r.viewDecl.component&&H||i.$onInit();var o=n.tail(r.path).state.self,s={bind:i};if(n.isFunction(i.uiOnParamsChanged)){var l=new n.ResolveContext(r.path).getResolvable("$transition$").data;a.$on("$destroy",t.onSuccess({},(function(e){if(e!==l&&-1===e.exiting().indexOf(o)){var t=e.params("to"),a=e.params("from"),r=function(e){return e.paramSchema},s=e.treeChanges("to").map(r).reduce(n.unnestR,[]),c=e.treeChanges("from").map(r).reduce(n.unnestR,[]),u=s.filter((function(e){var n=c.indexOf(e);return-1===n||!c[n].type.equals(t[e.id],a[e.id])}));if(u.length){var d=u.map((function(e){return e.id})),p=n.filter(t,(function(e,t){return-1!==d.indexOf(t)}));i.uiOnParamsChanged(p,e)}}}),s))}if(n.isFunction(i.uiCanExit)){var c=j++,u=function(e){return!!e&&(e._uiCanExitIds&&!0===e._uiCanExitIds[c]||u(e.redirectedFrom()))},d={exiting:o.name};a.$on("$destroy",t.onBefore(d,(function(t){var n,a=t._uiCanExitIds=t._uiCanExitIds||{};return u(t)||(n=e.when(i.uiCanExit(t))).then((function(e){return a[c]=!1!==e})),n}),s))}}a.module("ui.router.state").directive("uiView",I),a.module("ui.router.state").directive("uiView",G),a.module("ui.router.state").provider("$uiViewScroll",(function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n((function(){e[0].scrollIntoView()}),0,!1)}}]})),Object.keys(n).forEach((function(t){e[t]=n[t]})),e.core=n,e.default="ui.router",e.watchDigests=P,e.getLocals=R,e.getNg1ViewConfigFactory=r,e.ng1ViewsBuilder=s,e.Ng1ViewConfig=c,e.StateProvider=f,e.UrlRouterProvider=y,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(284),n(285))},function(e,t){e.exports=angular},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(12)),i(n(286)),i(n(287)),i(n(184)),i(n(288)),i(n(298)),i(n(299)),i(n(300)),i(n(195)),i(n(190)),i(n(301)),i(n(304))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(42)),i(n(182)),i(n(183)),i(n(97))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(96)),i(n(66))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(185)),i(n(92)),i(n(186)),i(n(187)),i(n(188)),i(n(189)),i(n(41))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),a=n(190),r=n(184),o=n(12);function s(e){e.addResolvable(r.Resolvable.fromData(a.UIRouter,e.router),""),e.addResolvable(r.Resolvable.fromData(i.Transition,e),""),e.addResolvable(r.Resolvable.fromData("$transition$",e),""),e.addResolvable(r.Resolvable.fromData("$stateParams",e.params()),""),e.entering().forEach((function(t){e.addResolvable(r.Resolvable.fromData("$state$",t),t)}))}t.registerAddCoreResolvables=function(e){return e.onCreate({},s)};var l=["$transition$",i.Transition],c=o.inArray(l);t.treeChangesCleanup=function(e){var t=o.values(e.treeChanges()).reduce(o.unnestR,[]).reduce(o.uniqR,[]),n=function(e){return c(e.token)?r.Resolvable.fromData(e.token,null):e};t.forEach((function(e){e.resolvables=e.resolvables.map(n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(7),r=n(41),o=function(e){var t=e.to().redirectTo;if(t){var n=e.router.stateService;return i.isFunction(t)?a.services.$q.when(t(e)).then(o):o(t)}function o(t){if(t)return t instanceof r.TargetState?t:i.isString(t)?n.target(t,e.params(),e.options()):t.state||t.params?n.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}};t.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},o)}},function(e,t,n){"use strict";function i(e){return function(t,n){return(0,n.$$state()[e])(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i("onExit");t.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},a)};var r=i("onRetain");t.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},r)};var o=i("onEnter");t.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(67),r=n(4);t.RESOLVE_HOOK_PRIORITY=1e3;var o=function(e){return new a.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(i.noop)};t.registerEagerResolvePath=function(e){return e.onStart({},o,{priority:t.RESOLVE_HOOK_PRIORITY})};var s=function(e,t){return new a.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(i.noop)};t.registerLazyResolveState=function(e){return e.onEnter({entering:r.val(!0)},s,{priority:t.RESOLVE_HOOK_PRIORITY})};var l=function(e){return new a.ResolveContext(e.treeChanges().to).resolvePath("LAZY",e).then(i.noop)};t.registerResolveRemaining=function(e){return e.onFinish({},l,{priority:t.RESOLVE_HOOK_PRIORITY})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),r=function(e){var t=a.services.$q,n=e.views("entering");if(n.length)return t.all(n.map((function(e){return t.when(e.load())}))).then(i.noop)};t.registerLoadEnteringViews=function(e){return e.onFinish({},r)};var o=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var i=e.router.viewService;n.forEach((function(e){return i.deactivateViewConfig(e)})),t.forEach((function(e){return i.activateViewConfig(e)})),i.sync()}};t.registerActivateViews=function(e){return e.onSuccess({},o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(e){var t=e.router.globals,n=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},(function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,i.copy(e.params(),t.params)}),{priority:1e4}),e.promise.then(n,n)};t.registerUpdateGlobalState=function(e){return e.onCreate({},a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.options(),n=e.router.stateService,i=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var a={replace:"replace"===t.location};i.push(n.$current.navigable.url,n.params,a)}i.update(!0)};t.registerUpdateUrl=function(e){return e.onSuccess({},i,{priority:9999})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),a=n(39);function r(e){var t=e._ignoredReason();if(t){i.trace.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),a.Rejection.ignored().toPromise()}}t.registerIgnoredTransitionHook=function(e){return e.onBefore({},r,{priority:-9999})}},function(e,t,n){"use strict";function i(e){if(!e.valid())throw new Error(e.error().toString())}Object.defineProperty(t,"__esModule",{value:!0}),t.registerInvalidTransitionHook=function(e){return e.onBefore({},i,{priority:-1e4})}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(40)),i(n(180)),i(n(95)),i(n(39)),i(n(65)),i(n(49)),i(n(198)),i(n(98))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(68)),i(n(191)),i(n(192)),i(n(193)),i(n(196))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(194))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(302))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(199)),i(n(200)),i(n(69)),i(n(201)),i(n(202)),i(n(203)),i(n(204)),i(n(205)),i(n(99)),i(n(303))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(205),a=n(201),r=n(99),o=n(203),s=n(202),l=n(204),c=n(200),u=n(199),d=n(7);t.servicesPlugin=function(e){return d.services.$injector=c.$injector,d.services.$q=u.$q,{name:"vanilla.services",$q:u.$q,$injector:c.$injector,dispose:function(){return null}}},t.hashLocationPlugin=r.locationPluginFactory("vanilla.hashBangLocation",!1,a.HashLocationService,i.BrowserLocationConfig),t.pushStateLocationPlugin=r.locationPluginFactory("vanilla.pushStateLocation",!0,o.PushStateLocationService,i.BrowserLocationConfig),t.memoryLocationPlugin=r.locationPluginFactory("vanilla.memoryLocation",!1,s.MemoryLocationService,l.MemoryLocationConfig)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.dispose=function(e){},e}();t.UIRouterPluginBase=i},function(e,t,n){n(306),e.exports="ngResource"},function(e,t){
/**
 * @license AngularJS v1.8.2
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
!function(e,t){"use strict";var n=t.$$minErr("$resource"),i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function a(e,a){if(!function(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&i.test("."+e)}(a))throw n("badmember",'Dotted member path "@{0}" is invalid.',a);for(var r=a.split("."),o=0,s=r.length;o<s&&t.isDefined(e);o++){var l=r[o];e=null!==e?e[l]:void 0}return e}function r(e,n){for(var i in n=n||{},t.forEach(n,(function(e,t){delete n[t]})),e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}t.module("ngResource",["ng"]).info({angularVersion:"1.8.2"}).provider("$resource",(function(){var e=/^https?:\/\/\[[^\]]*][^/]*/,i=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(o,s,l,c){var u=t.noop,d=t.forEach,p=t.extend,f=t.copy,m=t.isArray,h=t.isDefined,y=t.isFunction,g=t.isNumber,v=t.$$encodeUriQuery,b=t.$$encodeUriSegment;function S(e,t){this.template=e,this.defaults=p({},i.defaults,t),this.urlParams={}}return S.prototype={setUrlParams:function(t,i,a){var r,o,s=this,l=a||s.template,c="",u=s.urlParams=Object.create(null);d(l.split(/\W/),(function(e){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})})),l=(l=l.replace(/\\:/g,":")).replace(e,(function(e){return c=e,""})),i=i||{},d(s.urlParams,(function(e,t){r=i.hasOwnProperty(t)?i[t]:s.defaults[t],h(r)&&null!==r?(o=e.isQueryParamValue?v(r,!0):b(r),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),(function(e,t){return o+t}))):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),(function(e,t,n){return"/"===n.charAt(0)?n:t+n}))})),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=c+l.replace(/\/(\\|%5C)\./,"/."),d(i,(function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)}))}},function(e,t,v,b){var _=new S(e,b);function C(e,n){var i={};return n=p({},t,n),d(n,(function(t,n){y(t)&&(t=t(e)),i[n]=t&&t.charAt&&"@"===t.charAt(0)?a(e,t.substr(1)):t})),i}function k(e){return e.resource}function A(e){r(e||{},this)}return v=p({},i.defaults.actions,v),A.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},d(v,(function(e,t){var i=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),a=e.timeout,v=h(e.cancellable)?e.cancellable:_.defaults.cancellable;a&&!g(a)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,a=null),A[t]=function(s,h,g,b){var S,w,P,T={};switch(arguments.length){case 4:P=b,w=g;case 3:case 2:if(!y(h)){T=s,S=h,w=g;break}if(y(s)){w=s,P=h;break}w=h,P=g;case 1:y(s)?w=s:i?S=s:T=s;break;case 0:break;default:throw n("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var x,M,I,R=this instanceof A,E=R?S:e.isArray?[]:new A(S),D={},L=e.interceptor&&e.interceptor.request||void 0,N=e.interceptor&&e.interceptor.requestError||void 0,O=e.interceptor&&e.interceptor.response||k,U=e.interceptor&&e.interceptor.responseError||l.reject,B=w?function(e){w(e,I.headers,I.status,I.statusText)}:void 0,F=P||void 0;d(e,(function(e,t){switch(t){default:D[t]=f(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}})),!R&&v&&(x=l.defer(),D.timeout=x.promise,a&&(M=c(x.resolve,a))),i&&(D.data=S),_.setUrlParams(D,p({},C(S,e.params||{}),T),e.url);var G=l.resolve(D).then(L).catch(N).then(o);return(G=(G=G.then((function(i){var a=i.data;if(a){if(m(a)!==!!e.isArray)throw n("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",m(a)?"array":"object",D.method,D.url);if(e.isArray)E.length=0,d(a,(function(e){"object"==typeof e?E.push(new A(e)):E.push(e)}));else{var o=E.$promise;r(a,E),E.$promise=o}}return i.resource=E,I=i,O(i)}),(function(e){return e.resource=E,I=e,U(e)}))).finally((function(){E.$resolved=!0,!R&&v&&(E.$cancelRequest=u,c.cancel(M),x=M=D.timeout=null)}))).then(B,F),R?G:(E.$promise=G,E.$resolved=!1,v&&(E.$cancelRequest=H),E);function H(e){G.catch(u),null!==x&&x.resolve(e)}},A.prototype["$"+t]=function(e,n,i){y(e)&&(i=n,n=e,e={});var a=A[t].call(this,e,this,n,i);return a.$promise||a}})),A}}]}))}(window,window.angular)},function(e,t){angular.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,t,n){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"=",create:"&uiSortableCreate",start:"&uiSortableStart",activate:"&uiSortableActivate",beforeStop:"&uiSortableBeforeStop",update:"&uiSortableUpdate",remove:"&uiSortableRemove",receive:"&uiSortableReceive",deactivate:"&uiSortableDeactivate",stop:"&uiSortableStop"},link:function(i,a,r,o){var s,l;function c(e,t){var n="function"==typeof t;return"function"==typeof e&&n?function(){e.apply(this,arguments),t.apply(this,arguments)}:n?t:e}function u(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function d(e){e.children().each((function(){var e=angular.element(this);e.width(e.width())}))}function p(e,t){return t}function f(t,n){return S[t]?("stop"===t&&(n=c(n,(function(){i.$apply()})),n=c(n,y)),n=c(S[t],n)):_[t]&&(n=_[t](n)),n||"items"!==t&&"ui-model-items"!==t||(n=e.items),n}function m(e,t,n){angular.forEach(S,(function(e,t){t in v||(v[t]=null)}));var i,a=null;t&&angular.forEach(t,(function(t,n){if(!e||!(n in e)){if(n in b)return void(v[n]="ui-floating"===n?"auto":f(n,void 0));i||(i=angular.element.ui.sortable().options);var r=i[n];r=f(n,r),a||(a={}),a[n]=r,v[n]=r}}));return e=angular.extend({},e),angular.forEach(e,(function(t,i){if(i in b){if("ui-floating"!==i||!1!==t&&!0!==t||!n||(n.floating=t),"ui-preserve-size"===i&&(!1===t||!0===t)){var a=v.helper;e.helper=function(e,t){return!0===v["ui-preserve-size"]&&d(t),(a||p).apply(this,arguments)}}v[i]=f(i,t)}})),angular.forEach(e,(function(e,t){t in b||(e=f(t,e),a||(a={}),a[t]=e,v[t]=e)})),a}function h(e,t){var n=null;return function(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}(e,t)&&"parent"===e.sortable("option","appendTo")&&(n=l),n}function y(e,t){t.item.sortable._destroy()}function g(e){return e.parent().find(v["ui-model-items"]).index(e)}var v={},b={"ui-floating":void 0,"ui-model-items":e.items,"ui-preserve-size":void 0},S={create:null,start:null,activate:null,beforeStop:null,update:null,remove:null,receive:null,deactivate:null,stop:null},_={helper:null};function C(){i.$watchCollection("ngModel",(function(){t((function(){u(a)&&a.sortable("refresh")}),0,!1)})),S.start=function(e,t){if("auto"===v["ui-floating"]){var n=t.item.siblings();u(angular.element(e.target)).floating=/left|right/.test((i=n).css("float"))||/inline|table-cell/.test(i.css("display"))}var i,r=g(t.item);t.item.sortable={model:o.$modelValue[r],index:r,source:a,sourceList:t.item.parent(),sourceModel:o.$modelValue,cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!t.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:t.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(t.item.sortable,(function(e,n){t.item.sortable[n]=void 0}))},_connectedSortables:[],_getElementContext:function(e){return function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.element[0]===t[0])return i}}(this._connectedSortables,e)}}},S.activate=function(e,t){var n=t.item.sortable.source===a,r=n?t.item.sortable.sourceList:a,o={element:a,scope:i,isSourceContext:n,savedNodesOrigin:r};t.item.sortable._connectedSortables.push(o),s=r.contents(),l=t.helper;var c=function(e){var t=e.sortable("option","placeholder");if(t&&t.element&&"function"==typeof t.element){var n=t.element();return n=angular.element(n)}return null}(a);if(c&&c.length){var u=function(e,t){var n=v["ui-model-items"].replace(/[^,]*>/g,"");return e.find('[class="'+t.attr("class")+'"]:not('+n+")")}(a,c);s=s.not(u)}},S.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=g(t.item);var n=t.item.parent().closest("[ui-sortable], [data-ui-sortable], [x-ui-sortable]");t.item.sortable.droptarget=n,t.item.sortable.droptargetList=t.item.parent();var r=t.item.sortable._getElementContext(n);t.item.sortable.droptargetModel=r.scope.ngModel,a.sortable("cancel")}var l=!t.item.sortable.received&&h(a,t);l&&l.length&&(s=s.not(l));var c=t.item.sortable._getElementContext(a);s.appendTo(c.savedNodesOrigin),t.item.sortable.received&&(s=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&(i.$apply((function(){o.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})),i.$emit("ui-sortable:moved",t))},S.stop=function(e,t){var n="dropindex"in t.item.sortable&&!t.item.sortable.isCanceled();if(n&&!t.item.sortable.received)i.$apply((function(){o.$modelValue.splice(t.item.sortable.dropindex,0,o.$modelValue.splice(t.item.sortable.index,1)[0])})),i.$emit("ui-sortable:moved",t);else if(!n&&!angular.equals(a.contents().toArray(),s.toArray())){var r=h(a,t);r&&r.length&&(s=s.not(r));var c=t.item.sortable._getElementContext(a);s.appendTo(c.savedNodesOrigin)}s=null,l=null},S.receive=function(e,t){t.item.sortable.received=!0},S.remove=function(e,t){"dropindex"in t.item.sortable||(a.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||i.$apply((function(){t.item.sortable.moved=o.$modelValue.splice(t.item.sortable.index,1)[0]}))},angular.forEach(S,(function(e,t){S[t]=c(S[t],(function(){var e,n=i[t];"function"==typeof n&&("uiSortable"+t.substring(0,1).toUpperCase()+t.substring(1)).length&&"function"==typeof(e=n())&&e.apply(this,arguments)}))})),_.helper=function(e){return e&&"function"==typeof e?function(t,n){var i=n.sortable,r=g(n);n.sortable={model:o.$modelValue[r],index:r,source:a,sourceList:n.parent(),sourceModel:o.$modelValue,_restore:function(){angular.forEach(n.sortable,(function(e,t){n.sortable[t]=void 0})),n.sortable=i}};var s=e.apply(this,arguments);return n.sortable._restore(),n.sortable._isCustomHelperUsed=n!==s,s}:e},i.$watchCollection("uiSortable",(function(e,t){var n=u(a);if(n){var i=m(e,t,n);i&&a.sortable("option",i)}}),!0),m(v)}function k(){return(!i.uiSortable||!i.uiSortable.disabled)&&(o?C():n.info("ui.sortable: ngModel not provided!",a),a.sortable(v),k.cancelWatcher(),k.cancelWatcher=angular.noop,!0)}angular.extend(v,b,e,i.uiSortable),angular.element.fn&&angular.element.fn.jquery?(k.cancelWatcher=angular.noop,k()||(k.cancelWatcher=i.$watch("uiSortable.disabled",k))):n.error("ui.sortable: jQuery should be included before AngularJS!")}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(70);t.default=function(){if(!(window.innerWidth<900)){var e=window.location.pathname,t=((0,i.getParam)("v"),{text:"Skip Tour",className:"anno-btn-low-importance",click:function(e,t){e.hide()}}),n=function(){$("body").toggleClass("search-tour-filter-step-active",!0)},a=function(){$("body").toggleClass("search-tour-filter-step-active",!1)},r=[{target:"#side-tabs li:eq(0)",position:"right",className:"anno-width-400",content:"\n            <h4>Welcome to the Lens</h4>\n            <p>This tour will demonstrate how to perform a search. Feel free to skip this tour if you're not interested at this time. You can always launch it again from the Support Menu on pages that a feature tour is relevant.</p>\n        ",buttons:[t,window.Anno.NextButton],onShow:n,onHide:a},{target:"#side-tabs",position:"right",content:"<p>Filters, collections and other tools are now organised into tabs, and can be collapsed when you're not using them.</p>",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a},{target:".lf-side-bar",position:"right",className:"anno-width-400",content:"\n            <p>The filter pane shows the top faceted values for various patent and scholarly metadata. Explore the values available by expanding or collapsing relevant selections. Click a value to restrict your results to only documents matching that filter. Click a second time to exclude values.</p>\n\n            <p>The flags section additionally contains high level filters like “Is Open Access” or “Has Full Text”</p>\n        ",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a},{target:".search-bar",position:"center-bottom",className:"anno-width-400",content:"\n            <p>The search bar contains your query. This is optional, but usually you start by typing a keyword in here. Click the question mark icon on the right to get search tips.</p>\n        ",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a},{target:".query-details-container",position:"bottom",content:"<p>The query details pane displays a summary of your search, filters and results. You can remove unwanted filters here.</p>",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a}];$(".preview-panel:visible").length&&(r=r.concat([{target:".preview-panel",position:"left",content:"<p>The preview sidebar displays a minimal analysis of the key facets of your search. Clicking items in the analysis preview will add filters.</p>",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a},{target:".div-table-results-row:eq(1)",position:"bottom",content:"<p>This is a "+(e.indexOf("/lens/search/patent")>=0?"Patent":"Scholarly Work")+". Try clicking the arrow on the left to expand the preview.</p>",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:n,onHide:a}])),new window.Anno(r).show()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(70),a=function(){$("body").toggleClass("search-tour-filter-step-active",!0)},r=function(){$("body").toggleClass("search-tour-filter-step-active",!1)};t.default=function(){if(!(window.innerWidth<900)){window.location.pathname;var e=(0,i.getParam)("type"),t={text:"Skip Tour",className:"anno-btn-low-importance",click:function(e,t){e.hide()}},n=[{target:".r-side-panel",position:"right",content:"\n            <h4>Structured Search Feature Tour</h4>\n            <p>Welcome to the Lens Structured Search. This feature tour will explain how to craft a query to help find what you're looking for.</p>\n        ",buttons:[t,window.Anno.NextButton],onShow:a,onHide:r}];$(".boolean-editor:visible").length?n=n.concat([{target:".boolean-editor-textarea-wrap",position:"top",content:"This is an editable text area for preparing complex boolean queries. Suggestions will appear as you type.",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r},{target:".lf-side-bar",position:"right",className:"anno-width-400",content:"This pane contains info about the fields. Click a field to add it to your query",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r},{target:".preview-panel",position:"left",content:"This pane contains information about our dataset",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r}]):(n=n.concat([{target:".new-search-clauses",position:"top",className:"anno-width-400",content:"Begin crafting your query here. Choose a field and enter a term. Click the plus button to add another term.",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r},{target:".lf-side-bar",position:"right",className:"anno-width-400",content:"This pane contains info about the fields. Click a field to add it to your query",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r},{target:".preview-panel",position:"left",content:"This pane contains information about our dataset",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r}]),n=(n="SCHOLAR"===e?n.concat([{target:".new-search-scholar-filters",position:"top",content:"Apply aditional filters if you'd like to further limit your results",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r}]):n.concat([{target:".new-search-patent-filters",position:"top",className:"anno-width-400",content:"Apply aditional filters if you'd like to further limit your results",buttons:[t,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r}])).concat([{target:".new-search-submit-btn",position:"top",content:"Hit the submit button when you're done to run your search.",buttons:[window.AnnoButton.BackButton,window.Anno.NextButton],onShow:a,onHide:r}])),new window.Anno(n).show()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!(window.innerWidth<900)){var e={text:"Skip Tour",className:"anno-btn-low-importance",click:function(e,t){e.hide()}},t=function(){$("body").toggleClass("search-tour-filter-step-active",!0)},n=function(){$("body").toggleClass("search-tour-filter-step-active",!1)},i=[{target:".work-area-tour-1",position:"right",className:"anno-width-400",content:"\n            <h4>Work Area Tour</h4>\n            <p>Welcome to the brand new Lens Work Area. Here you can manage your collections and analyses.</p>\n            <p>This is the sidebar. It is an overview. Try clicking one of the links, then click Next to continue the tour.</p>\n        ",buttons:[e,window.Anno.NextButton],onShow:t,onHide:n},{target:".work-area-tour-2",position:"left",className:"anno-width-400",content:"<p>This is where all the action happens</p>",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n},{target:".workarea-page-sidebar",position:"left",className:"anno-width-400",content:"<p>You can perform bulk operations here.</p>",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n},{target:".workarea--tools-tigger:eq(0)",position:"left",className:"anno-width-400",content:"<p>Click this little dropdown.</p>",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n}];new window.Anno(i).show()}}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(71),r=u(n(0)),o=u(n(2)),s=u(n(72)),l=u(n(5)),c=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}var d=new a.Remarkable;d.inline.ruler.enable(["sub","sup"]);var p=n(206),f=(function(){function e(t,n,i,a,r,s,l,c,u,d,f,m,h){var y=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=n,this.$stateParams=t,this.$rootScope=l,this.$timeout=s,this.$http=i,this.$state=a,this.PatentService=d,this.ScholarService=f,this.CollectionService=m,this.storage=new o.default("landscape");var g=this.storage.get("landing");this.state={landing:g&&"localhost"===window.location.hostname?g:p,loading:!0,currentStateName:a.current.name},m.getAll().then((function(e){y.state.collections=e})).catch((function(e){console.error(e)})),document.title="Climate Innovation Landscapes"}i(e,[{key:"slugify",value:function(e){return(0,s.default)(e,{remove:/[*+~.()'"!:@]/g})}},{key:"save",value:function(){this.storage.set("landing",this.state.landing),this.state.editing=!1,(new l.default).notify("Landscape Saved")}},{key:"editLanding",value:function(){var e=this;this.state.editing=!0,this.$timeout((function(){e.$rootScope.$broadcast("RESIZE_TEXTAREA")}))}},{key:"render",value:function(e){return d.render(e)}},{key:"search",value:function(){this.searchQuests()}},{key:"searchQuests",value:function(){if(this.state.q){var e=this.state.landing.challenges.reduce((function(e,t){return e.concat(t.quests)}),[]),t=_.cloneDeep(window.FUSE_OPTS);t.threshold=.3,t.keys=["title","challenge","defaultQuery"],this.state.suggestions=new c.default(e,t).search(this.state.q).slice(0,10),console.log(this.state.suggestions)}else this.state.suggestions=[]}}])}(),r.default.controller("LandscapeController",["$stateParams","$q","$http","$state","$element","$timeout","$rootScope","$transitions","$scope","PatentService","ScholarService","CollectionService","SavedQueryResource"]));e.exports=f},function(e,t,n){"use strict";var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var s=new(n(5)),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BASE";return{text:"",scope:e}},c=function(){function e(t,n,i,a,r,o,s,c,u){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var p=a.noteExplorer.note,f=p.lensId,m=p.type,h=p.id,y=p.section,g=p.key;this.NotesService=u,this.$state=r,this.$rootScope=a,this.$timeout=o,this.service=u.getService(m),this.state={lensId:f,key:g,type:m,loading:!0,editing:void 0!==h,note:l(y)},this.service.fetch(f||g).then((function(e){if(d.state.notes=e,d.state.loading=!1,h){var t=d.state.notes.filter((function(e){return e.id===parseInt(h)})).pop();d.state.note=_.clone(t),console.log(d.state.note)}})).catch((function(e){console.warn(e),d.state.loading=!1}))}return a(e,[{key:"handleError",value:function(e){console.warn(e),this.state.submitting=!1,s.error("Notes Error")}},{key:"submit",value:function(){var e=this;this.$timeout((function(){e._submit()}),0)}},{key:"_submit",value:function(){var e=this;if(this.state.editing){var t=this.state.note,n=t.scope,i=t.text,a=t.id;this.service.update(this.state.lensId||this.state.key,{scope:n,text:i,id:a}).then((function(){s.notify("Note Saved"),e.NotesService.broadcast("REFRESH_NOTES"),e.$rootScope.resetNoteExplorer()})).catch((function(t){return e.handleError(t)}))}else this.service.create(this.state.lensId||this.state.key,this.state.note).then((function(){s.notify("Note Added"),e.state.note=l(),e.NotesService.broadcast("REFRESH_NOTES"),e.$rootScope.resetNoteExplorer()})).catch((function(t){return e.handleError(t)}))}}]),e}(),u=o.default.controller("NoteExplorerController",["$q","$http","$stateParams","$rootScope","$state","$timeout","PatentNotesService","CollectionNotesService","NotesService",c]);e.exports=u},function(e,t,n){"use strict";var i,a=n(0);var r=((i=a)&&i.__esModule?i:{default:i}).default.controller("ProfileController",["$scope","$state",function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$state=n,this.$scope=t,this.state={currentStateName:n.current.name};var i=[];t.$on("$destroy",(function(){i.forEach((function(e){return e()}))}))}]);e.exports=r},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(315),r=n(9),o=n(101),s=n(208),l=n(71),c=S(n(0)),u=S(n(73)),d=S(n(2)),p=n(18),f=S(n(209)),m=S(n(5)),h=S(n(102)),y=S(n(210)),g=S(n(212)),v=S(n(72)),b=S(n(38));function S(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=n(206),A=(u.default,h.default,new l.Remarkable);A.inline.ruler.enable(["sub","sup"]);var w=function(e){e.preventDefault(),e.returnValue=""},P=function(){function e(t,n,i,a,r,o,s,l,c,u,f,m,h){var y=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=n,this.$state=a,this.$stateParams=t,this.$rootScope=s,this.$timeout=o,this.$http=i,this.PatentService=u,this.ScholarService=f,this.CollectionService=m,this.RecentWorkService=h,this.storage=new d.default("report"),this.globalStorage=new d.default("global"),this.sessionStorage=new p.SessionStorageService,this.state={activeRowKey:0,addPageType:"builder",addReferenceType:"collection",analysisQueue:2,collectionId:t.collectionId,collections:[],configView:"sources",currentStateName:a.current.name,dashboardId:t.dashboardId,editing:!1,isReport:!0,loading:!0,pageId:t.pageId,patentCollectionFilter:{type:"PATENT"},previousSearch:this.sessionStorage.get("previousSearch"),references:[],reportId:parseInt(t.id),reveal:!1,savedAnalysisItems:this.storage.get("saved-analysis-items")||[],scholarCollectionFilter:{type:"SCHOLARLY_WORK"},showRow:{0:!0,1:!0}};var g=k.challenges.reduce((function(e,t){return e.concat(t.quests)}),[]);this.state.reportInClimateLandscapes=g.filter((function(e){return e.id===y.state.reportId})).length>0,this.addAnalysisFilter=this.addAnalysisFilter.bind(this),this.state.currentStateName.startsWith("editReport")&&(m.getAll().then((function(e){y.state.collections=e,y.initCollection(),y.linkCollections()})).catch((function(e){console.error(e)})),i({url:"/lens/service/strings"}).then((function(e){y.state.dashboards=e.data.filter((function(e){return e.type.endsWith("dashboard")}))})).catch((function(e){console.error(e)})));var b=[];t.id&&(this.state.loading=!0,this.$http.get("/lens/service/strings/"+t.id).then((function(e){y.state.loading=!1,y.state.error=!1,y.state.report=JSON.parse(e.data.value),y.state.reportUser=e.data.user,y.state.report.id=t.id,y.RecentWorkService.add({type:"report",id:y.state.report.id,title:y.state.report.title}),"editReport.page"!==y.state.currentStateName||y.state.reportUser.id===s.user.id?(y.state.report.authors||(y.state.report.authors=[]),y.linkCollections(),y.state.pageId?y.initPage():y.state.report.pages&&y.state.report.pages.length?y.$state.go(".page",{pageId:y.state.report.pages[0].id}):y._createPage("Overview",y.state.report.rows).then((function(e){y.state.page=JSON.parse(e.data.value),y.state.report.rows=[],y.state.report.pages=[{id:e.data.id,label:"Overview"}],y.saveReport(),y.$state.go(".page",{pageId:e.data.id})})),y.$timeout((function(){y.state.reveal=!0}),375)):y.$state.go("viewReport.page",{id:y.state.report.id,slug:(0,v.default)(y.state.report.title),pageId:y.state.pageId})})).catch((function(e){y.state.loading=!1,y.state.error=!0,401===e.status&&(y.state.unauthorised=!0),console.error(e)})),b.push(s.$on("PROMPT_REMOVE_SOURCE",(function(e,t){y.state.removeFromSourcesId=t.id}))));var S=l.onSuccess({},(function(e){window.removeEventListener("beforeunload",w),y.state.editing=!1,y.state.currentStateName=e.to().name,y.state.collectionId=e.params().collectionId,y.state.dashboardId=e.params().dashboardId,y.state.pageId=e.params().pageId,y.initCollection(),y.initPage()}));this.state.collectionId&&this.initDashboard(),b.push(s.$on("MEDIA_LIBRARY_SELECT",(function(e,t){y.state.page.rows[y.state.editing].src=s.imageUploadUrl(t.key),s.showMediaLibrary=!1}))),b.push(s.$on("ANALYSIS_ITEM_IMPORTED",(function(){y.save()}))),b.push(s.$on("REMOVE_ANALYSIS_ITEM",(function(e,t,n){y.state.page.rows[t].media.splice(n,1),y.state.page.rows[t].currentMediaIndex=0}))),c.$on("$destroy",(function(){b.forEach((function(e){return e()})),S(),window.removeEventListener("beforeunload",w)}))}return i(e,[{key:"initCollection",value:function(){var e=this;this.state.collectionId&&this.CollectionService.fetch(this.state.collectionId).then((function(t){e.state.collection=t}))}},{key:"initPage",value:function(){var e=this;this.$http.get("/lens/service/strings/"+this.state.pageId).then((function(t){e.state.page=JSON.parse(t.data.value),e.state.updated=t.data.updated,e.state.page.id=t.data.id,e.state.page.rows.forEach((function(e){e.currentMediaIndex=0})),e.state.page.references||(e.state.page.references=[]),e.migrateReferences();var n=e.state.report,i=n.challenge,a=n.title,r=/\*\*/gi;document.title=(i?i+" | ":"")+a.replace(r,"")+" | "+e.state.page.title.replace(r,""),e.initDashboard()}))}},{key:"migrateReferences",value:function(){this.state.report.references&&(this.state.page.references=this.state.report.references.map((function(e){return{id:"collection-"+e,collectionId:e,type:"collection",items:[]}})),delete this.state.report.references,this.save(),this.saveReport())}},{key:"linkCollections",value:function(){var e=this;this.state.report&&this.state.collections&&(this.state.report.patentCollectionId&&(this.state.patentCollection=this.state.collections.filter((function(t){return t.id===parseFloat(e.state.report.patentCollectionId)})).pop()),this.state.report.scholarCollectionId&&(this.state.scholarCollection=this.state.collections.filter((function(t){return t.id===parseFloat(e.state.report.scholarCollectionId)})).pop()))}},{key:"slugify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,v.default)(e,{remove:/[*+~.()'"!:@]/g})}},{key:"initDashboard",value:function(){var e=this;if(this.state.page&&"dashboard"===this.state.page.type){var t=this.state.page,n=t.collectionId,i=t.dashboardId,a=t.q;if(i){if(this.state.metrics=null,this.state.page.includeMetrics){var r=this.ScholarService.facets({collectionId:n,q:a},f.default,{track_total_hits:!0});this.$q.when(r).then((function(t){e.state.metrics={},_.keys(t).forEach((function(n){var i=t[n];e.state.metrics[n]=i.value||i.doc_count,e.state.metrics["Total Hits"]&&(e.state.totalHits=e.state.metrics["Total Hits"])})),console.log(e.state.metrics)})).catch((function(t){return e.handleAggsError(t)}))}this.$http.get("/lens/service/strings/"+i).then((function(t){e.state.dashboard=t.data,e.state.analysisItems=JSON.parse(t.data.value).chartConfigs})).catch((function(e){console.error(e)}))}}}},{key:"_createPage",value:function(e,t){var n=this,i={title:e||this.state.addPageTitle||"Untitled Page",type:this.state.addPageType,rows:t||[]};this.state.addPageDashboardId&&(i.dashboardId=this.state.addPageDashboardId);var a=this.state.collections.filter((function(e){return e.id===parseFloat(n.state.addPageCollectionId)})).pop();if(a){var r="SCHOLARLY_WORK"===a.type?"scholar":"patent";i.collectionId=this.state.addPageCollectionId,i.collectionType=r}return this.$http.post("/lens/service/strings",{type:"page",label:e||this.state.addPageTitle||"Untitled Page",published:!0,value:JSON.stringify(i)}).catch((function(e){console.error(e)}))}},{key:"createPage",value:function(){var e=this;this.state.creatingPage=!0,this._createPage().then((function(t){e.state.report.pages.push({id:t.data.id,label:e.state.addPageTabLabel}),e.saveReport(),e.$state.go("editReport.page",{pageId:t.data.id}),e.state.promptAddPage=!1,e.state.creatingPage=!1}))}},{key:"createReport",value:function(e,t){var n=this;return this.$http.post("/lens/service/strings",{type:"report",label:e.title,published:!0,value:JSON.stringify({title:e.title,image:e.image,defaultQuery:e.defaultQuery,patentCollectionId:e.patentCollectionId,scholarCollectionId:e.scholarCollectionId,challenge:e.challenge,rows:e.rows})}).then((function(t){n.$state.go("editReport",{id:t.data.id,slug:n.slugify(e.title)})})).catch((function(e){console.error(e)}))}},{key:"mediaViewOptions",value:function(e,t){var n="patent"===(e.startsWith("patent-")?"patent":"scholar")?y.default:g.default;return _.last(n).options}},{key:"collectionLabel",value:function(e){var t="SCHOLARLY_WORK"===e.type?"Scholarly Works":"Patents";return e.title+" - "+e.itemCount.toLocaleString()+" "+t}},{key:"save",value:function(){var e=this,t=_.cloneDeep(this.state.page);if(this.state.page.references.length){t.references=this.state.page.references.map((function e(t){return{type:t.type,id:t.id,q:t.q,title:t.title,dataType:t.dataType,collectionId:t.collectionId,dashboardId:t.dashboardId,lensId:t.lensId,url:t.url,items:t.items.map(e)}}))}this.$http.put("/lens/service/strings/"+this.state.pageId,{type:"page",label:this.state.page.title||"Untitled Page",published:!0,value:JSON.stringify(t)}).then((function(e){(new m.default).notify("Page Saved")})).catch((function(t){console.error(t),401===t.status&&(e.state.notAuthorised=!0)})),this.state.dashboard&&this.$http.put("/lens/service/strings/"+this.state.dashboard.id,{type:"dashboard",label:this.state.dashboard.label,published:this.state.dashboard.published,value:JSON.stringify(_.extend(JSON.parse(this.state.dashboard.value),{chartConfigs:this.state.analysisItems}))}).then((function(e){(new m.default).notify("Dashboard Saved")})),this.state.editing=!1,this.state.showConfig=!1,window.removeEventListener("beforeunload",w)}},{key:"saveReport",value:function(){var e=this;this.$http.put("/lens/service/strings/"+this.$stateParams.id,{type:"report",label:this.state.report.title||"Untitled Report",published:!0,value:JSON.stringify(this.state.report)}).then((function(e){(new m.default).notify("Report Saved")})).catch((function(t){console.error(t),401===t.status&&(e.state.notAuthorised=!0)})),this.state.editing=!1,this.state.showConfig=!1,window.removeEventListener("beforeunload",w)}},{key:"getFullModalWidth",value:function(){return 700}},{key:"getDashboardWidth",value:function(){return document.querySelector(".report-analysis--dashboard").clientWidth}},{key:"getWidth",value:function(e){return"media-full-width"===e.type||e.expandMedia?document.querySelector(".wrapper-narrow").clientWidth:"media-left"===e.type||"media-right"===e.type?document.querySelector(".wrapper-narrow").clientWidth/3*2:550}},{key:"reportSectionClass",value:function(e,t){var n;return C(n={"report-section":!0},"report-section-"+t,!0),C(n,"report-media--none","media-none"===e.type),C(n,"report-media--right","media-right"===e.type),C(n,"report-media--left","media-left"===e.type),C(n,"report-media--side-by-side","media-side-by-side"===e.type),C(n,"report-media--side-by-side report-media--side-by-side-alt","media-side-by-side-alt"===e.type),C(n,"report-media--full-width","media-full-width"===e.type),C(n,"report-media--island",e.island),n}},{key:"editMedia",value:function(e,t){this.state._editMediaItem={rowIndex:e,mediaIndex:t},this.state.editMediaItem=_.cloneDeep(this.state.page.rows[e].media[t]),this.state.showEditMedia=!0,this.refreshChart(e,t)}},{key:"saveMediaItem",value:function(){var e=this.state._editMediaItem,t=e.rowIndex,n=e.mediaIndex;this.state.page.rows[t].media[n]=this.state.editMediaItem,this.state.showEditMedia=!1,this.hardRefreshChart(t,n),this.save()}},{key:"edit",value:function(e){var t=this;!1!==this.state.editing&&this.save(),window.addEventListener("beforeunload",w),this.state.editing=e,this.$timeout((function(){t.$rootScope.$broadcast("RESIZE_TEXTAREA")}),100)}},{key:"scrollToRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;setTimeout((function(){var t=document.querySelectorAll(".report-section")[e];(0,b.default)(t)}),t)}},{key:"addRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];if(this.state.page.rows||(this.state.page.rows=[]),"builder-v2"===this.state.page.type){var n=_.range(this.state.editingRow.columns||1).map((function(e){return{content:[{}]}}));this.state.page.rows.splice(e,0,{layout:t,columns:n}),this.editContent(this.state.page.rows[e].columns[0]),this.state.addRowPrompt=!1}else this.state.page.rows.splice(e,0,{type:t,collectionId:this.state.report.scholarCollectionId,media:[]}),this.edit(e)}},{key:"addContent",value:function(e){e.content.push({}),this.editContent(e)}},{key:"editContent",value:function(e){this.state.showEditContent=!0,this.state.editContent=e.content[e.content.length-1]}},{key:"deleteReport",value:function(){var e=this;this.$http({url:"/lens/service/strings/"+this.state.report.id,method:"DELETE"}).then((function(t){window.removeEventListener("beforeunload",w),e.$state.go("workArea.reports")})).catch((function(e){console.error(e)}))}},{key:"deletePage",value:function(e){this.$http({url:"/lens/service/strings/"+e,method:"DELETE"}).then((function(e){})).catch((function(e){console.error(e)}))}},{key:"deleteRow",value:function(e){this.state.showDeletePrompt=!1,this.state.page.rows.splice(e,1),this.save()}},{key:"render",value:function(e){return e?A.render(e.trim()):""}},{key:"toPlaintext",value:function(e){var t=this.render(e);return $(t).text()}},{key:"importReport",value:function(){var e=document.querySelector("#reportSource").value;this.state.report=JSON.parse(e),this.saveReport()}},{key:"importPage",value:function(){var e=document.querySelector("#pageSource").value;this.state.page=JSON.parse(e),this.save()}},{key:"search",value:function(){this.$state.go("search.results",{type:"scholar",view:"list",q:this.state.q})}},{key:"importDefaultPage",value:function(){var e={title:this.state.report.title,q:this.state.report.defaultQuery,scholarCollectionId:this.state.report.scholarCollectionId,patentCollectionId:this.state.report.patentCollectionId};this.state.page.rows=(0,a.DefaultPageTemplate)(e);var t="\n\n###### Credit: [Breakthrough Energy](http://www.b-t.energy)\n---";this.state.report.text||(this.state.report.text=""),this.state.report.text.endsWith(t)||(this.state.report.text+=t),this.state.report.authors=[{name:"Richard Jefferson",avatarUrl:"https://static.lens.org/lens/in4m-ui-data/logos/RICHARD%20A%20JEFFERSON.png",profileUrl:"https://www.linkedin.com/in/richardajefferson/"},{name:"Aaron Ballagh",avatarUrl:"https://about.lens.org/wp-content/uploads/2018/10/aaron-b.jpg",profileUrl:"https://www.linkedin.com/in/aaron-ballagh-lens-org/"}],this.state.viewSource=!1,this.saveReport(),this.save()}},{key:"addNewRowAndMedia",value:function(e){e.t=new Date,this.addRow(0,"media-full-width"),this.addMedia(this.state.page.rows[0],{config:e}),this.save()}},{key:"addMedia",value:function(e,t){var n=_.clone(t.config),i="scholar";if(n.source)i=n.type;else if(n.source={q:e.q},"patent-query"===e.dataSource)i="patent";else if(e.dataSource.endsWith("-collection")){var a=e.collectionId,r=this.state.collections.filter((function(e){return e.id===a})).pop();r&&("PATENT"===r.type&&(i="patent"),n.source={collectionId:r.id})}e.media||(e.media=[]),n.type=i,e.media.push({config:n,sourceType:i}),delete e.collectionId,delete e.dataSource}},{key:"removeMedia",value:function(e,t){this.state.page.rows[e].media.splice(t,1),this.refreshChart(e,t)}},{key:"updateMediaView",value:function(e,t,n){this.showRowMediaLoading(t),this.state.page.rows[t].media[n].config.basicChartType=e,this.refreshChart(t,n)}},{key:"refreshChart",value:function(e,t){this.$rootScope.$broadcast("REFRESH_ANALYSIS_VISUALISATION",e,t)}},{key:"hardRefreshChart",value:function(e,t){var n=this;this.showRowMediaLoading(e,700),this.state.hardRefreshChart=C({},e,C({},t,!0)),this.$timeout((function(){n.state.hardRefreshChart=null}))}},{key:"toggleExpandMedia",value:function(e){var t=this,n=this.state.page.rows[e];n.expandMedia=!n.expandMedia,n.media.forEach((function(n,i){t.refreshChart(e,i)}))}},{key:"getSourceParams",value:function(e){var t=_.clone(e.config.source)||{};return t.view="list",t.type=e.sourceType||e.config.type||"scholar",t}},{key:"addAnalysisFilter",value:function(e,t,n,i){var a=r.Fields.filter((function(t){return t.key===e})).pop();if(a.key.startsWith("classification"))return this.$rootScope.classificationViewer={type:a.key.slice(15).toUpperCase().slice(0,3),term:t},void this.$rootScope.$digest();(n=n||{}).view="list",n.type=i,n[a.filterName+".must"]=t,this.$state.go("search.results",n)}},{key:"addSource",value:function(){this.state.page.references||(this.state.page.references=[]);var e={id:this.state.addReferenceOptions.lensId||this.state.addReferenceType+"-"+_.random(1e10),type:this.state.addReferenceType,items:[]};_.extend(e,this.state.addReferenceOptions),this.state.page.references.unshift(e),this.save(),this.state.promptAddSource=!1}},{key:"deleteReference",value:function(e){this.state.page.references=_.filterDeep(this.state.page.references,(function(t){return t.id!==e}),{childrenPath:"items",leavesOnly:!1})||[],this.save()}},{key:"setCurrentMediaItem",value:function(e,t,n){e.currentMediaIndex=n,this.showRowMediaLoading(t)}},{key:"showRowMediaLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:375,n=document.querySelector(".report-section-"+e+" .report-media-inner");n&&(n.style.minHeight=n.clientHeight+"px",n.classList.add("report-loading-media"),setTimeout((function(){n.classList.remove("report-loading-media"),n.style.minHeight=null}),t))}},{key:"changeDataSource",value:function(e){"patent-collection"===e.dataSource&&(e.collectionId=this.state.report.patentCollectionId),"scholar-collection"===e.dataSource&&(e.collectionId=this.state.report.scholarCollectionId)}},{key:"setLayout",value:function(e,t){var n=this.state.page.rows[e];n.type||this.scrollToRow(e,100),n.type=t}},{key:"saveAndView",value:function(){this.save(),-1===this.state.editing&&this.saveReport(),this.$state.go("viewReport.page",{id:this.state.report.id,slug:(0,v.default)(this.state.report.title),pageId:this.state.page.id})}},{key:"displayOverlap",value:function(){return!1}},{key:"getChartMetadata",value:function(e){return(0,o.getChartMetadata)(e)}},{key:"getChartTitle",value:function(e){e.type;var t=r.fieldsMap[e.metric]||{},n=e.metricAggregation&&e.metric?s.metricAggregationLabels[e.metricAggregation]+" "+t.label:"Document Count",i=((0,o.getChartMetadata)(e),r.fieldsMap[e.primaryFacet]||{});return{"article-scatter":"Scholarly Works","over-time":"Top "+i.label+" over time",basic:"Top "+i.label+" by "+n,"scatter-plot":"Citation Comparison of "+i.label}[e.view]||this.getAltChartTitle(e)}},{key:"getAltChartTitle",value:function(e){var t=(0,o.getChartMetadata)(e)||{},n=r.fieldsMap[e.primaryFacet]||{};return""+(e.title||(n.label&&t.label?n.label+" "+t.label:""))}},{key:"scrollToAnalysisItem",value:function(e){var t=document.querySelectorAll(".report-dashboard-item")[e];(0,b.default)(t)}},{key:"addCollectionToParent",value:function(e){var t=this,n=this.state.collections.filter((function(t){return t.id===e})).pop();this.state.addingCollectionToParent=!0;var i=function(){(new m.default).error("Import Failed")},a=function(){t.state.addingCollectionToParent=!1,t.state.promptImportCollectionId=!1,(new m.default).notify("Page Saved")};"PATENT"===n.type?this.PatentService.search({collectionId:e}).then((function(e){t.CollectionService.addSearchToCollection({id:t.state.report.patentCollectionId},e.queryId).then(a).error(i)})).error(i):this.ScholarService.search({collectionId:e}).then((function(e){t.CollectionService.addSearchToCollection({id:t.state.report.scholarCollectionId},e.queryId).then(a).error(i)})).error(i)}},{key:"tabIsActive",value:function(e){return!(!this.state.page||this.state.page.id!==e.id)||!!(this.state.page&&e.sub&&e.sub.map((function(e){return e.id})).includes(this.state.page.id))}}]),e}(),T=c.default.controller("ReportController",["$stateParams","$q","$http","$state","$element","$timeout","$rootScope","$transitions","$scope","PatentService","ScholarService","CollectionService","RecentWorkService",P]);e.exports=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DefaultPageTemplate=function(e){var t=e.title,n=(e.q,e.scholarCollectionId),i=e.patentCollectionId;return[{type:"media-right",content:{title:"**Who** are the people involved?",subheading:"The most prominent and influential scholars and inventors contributing to "+t,text:"Identifying the individuals contributing to "+t+" is an essential first step in understanding the main actors within the landscape and establishing meaningful partnerships.\n\nThese grids contain the most prominent and influential scholars and inventors contributing to "+t+". Surfacing these key individuals helps identify **who** is behind the research and inventions underpinning "+t+", and facilitates the development of partnership pathways. By exposing the actors in the innovation system to find each other, to better understand the capabilities each brings, to find and share opportunities, to create partnerships, to minimize avoidable risk and guide ongoing decisions on forward trajectories\n\nThese charts are comprised of the top scholars and inventors in the Lens  that have contributed to the landscape on the basis of their number of scholarly works, number of patents, scholarly citations or patent citations in "+t+"."},media:[{config:{view:"basic",basicChartType:"logo-grid",primaryFacet:"author.display_name.keyword",limit:8,source:{collectionId:n},type:"scholar",title:"Who are the most active Researchers",annotation:"Top authors by number of scholarly works"}},{config:{view:"basic",type:"patent",basicChartType:"logo-grid",primaryFacet:"inventor",limit:8,source:{collectionId:i},title:"Who are the patent Inventors citing the scholarly works",annotation:"Top inventors by number of patents citing scholarly works"}}],carousel:!0},{type:"media-side-by-side",media:[{config:{view:"basic",type:"patent",basicChartType:"logo-grid",primaryFacet:"inventor",limit:8,source:{collectionId:i},title:"Who are the most prolific Inventors",annotation:"Top inventors by number of patent documents"}},{config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.display_name.keyword",limit:10,source:{collectionId:n},type:"scholar",metric:"referenced_by_count",metricAggregation:"sum",title:"Who are the top-cited Researchers",annotation:"Top authors by total scholarly citations",orderBy:"result"}},{config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"author.display_name.keyword",limit:10,source:{collectionId:n},type:"scholar",metric:"referenced_by_patent_count",metricAggregation:"sum",title:"Who are the top invention Influencers",annotation:"Top authors by total patent citations",orderBy:"result"}}],carousel:!0,island:!0},{type:"media-right",content:{title:"**Which** are the organisations?",subheading:"Which institutions are conducting the research? Which government agencies fund the research? Which are the companies with the right IP and capabilities? Which organisations are the most influential?",text:"Identifying which organisations are the most influential entities contributing to "+t+" allows different actors in the innovation system to find each other, to better understand the capabilities each brings, to find and share opportunities, to create partnerships, to minimize avoidable risk and guide ongoing decisions on forward trajectories. \n\nImproving the discoverability of all participants in the innovation system helps to build better and more productive partnerships and further the development of "+t+" technologies and climate change abatement. We call this mapping **PORTs** (Partnerships, Opportunity, Risks and Trajectory)."},media:[{config:{view:"basic",basicChartType:"logo-grid",primaryFacet:"author.affiliation.name.keyword",limit:8,source:{collectionId:n},title:"Which research Institutions are the most active?",annotation:"Top institutions by number of scholarly works"}}],carousel:!0},{dataSource:"collection",collectionId:i,type:"media-side-by-side",media:[{config:{view:"basic",type:"patent",basicChartType:"logo-grid",primaryFacet:"applicant",limit:8,source:{collectionId:i},title:"Which companies are filing patents?",annotation:"Top applicants by patent document count"}},{config:{view:"basic",type:"patent",basicChartType:"logo-grid",primaryFacet:"owner",limit:8,source:{collectionId:i},title:"Which companies own the patents?",annotation:"Top Owners (US) by patent document count"}},{config:{view:"basic",type:"scholar",basicChartType:"logo-grid",primaryFacet:"author.affiliation.name.keyword",limit:8,source:{collectionId:n},metric:"referenced_by_count",metricAggregation:"sum",orderBy:"result",title:"Which are the most cited Institutions?",annotation:"Top institutions by total scholarly citations"}},{config:{view:"scatter-plot",primaryFacet:"author.affiliation.name.keyword",limit:10,scatterPlotSort:"referenced_by_patent_count",restrictToFilterValues:!0,source:{collectionId:n},title:"Which are the influential Institutions?",annotation:"This visualisation shows the top institutions by total patent citations and allows you to compare Patent vs Scholarly citations to identify outliers with unusual ratios of patent/scholar citations. This allows you to identify institutions which have a higher influence on invention as indicated by their patent/scholar citation ratio."}},{config:{view:"basic",basicChartType:"bar-chart",primaryFacet:"funding.organisation.keyword",limit:10,source:{collectionId:n},type:"scholar",title:"Which are the research Funders",annotation:"Top research funders by number of scholarly works"}}],carousel:!0,island:!0},{type:"media-right",content:{title:"**What** knowledge and capabilities are most important?",subheading:"What are the discoveries, the necessary knowledge and capabilities that need to be coordinated and recruited? What are the relevant patents/inventions? What disciplines, fields and technology sectors contribute the most? What is the policy, legislation, regulations and standards that must be navigated?",text:"**What** encompasses a range of latent information that only emerges from interrogation of the landscape. By surfacing the most important scientific discoveries and inventions that make up the "+t+" landscape, we can get a sense of the enabling knowledge and capabilities required. \n\nAlong with curated lists of scholarly works and patents, knowledge and capabilities can also be inferred by viewing the underlying research disciplines or technology sectors that make up "+t+", providing further insight into the types of knowledge and capabilities required."},media:[{config:{view:"top-hits",source:{collectionId:i},type:"patent",limit:5,primaryFacet:"field_of_study",sort:"+filing_date",title:"Recent patent filings"}},{config:{view:"top-hits",sort:"+referenced_by_count",source:{collectionId:n},type:"scholar",limit:5,primaryFacet:"field_of_study",title:"Highly cited scholarly works",annotation:"A curated list of the most relevant, high-cited scholarly works"}},{config:{view:"top-hits",sort:"+referenced_by_patent_count",source:{collectionId:n},type:"scholar",limit:5,primaryFacet:"field_of_study",title:"Patent-cited scholarly works",annotation:"A curated list of the most relevant, patent-cited scholarly works"}}],carousel:!0},{type:"media-side-by-side",island:!0,media:[{config:{view:"scatter-plot",primaryFacet:"field_of_study",limit:20,scatterPlotSort:"referenced_by_count",restrictToFilterValues:!0,source:{collectionId:n},annotation:"This visualisation shows the top Fields of Study by total scholarly citations and allows you to compare Patent vs Scholarly citations to identify outliers with unusual ratios of patent/scholar citations. This allows you to identify Fields of Study which have a higher influence on invention as indicated by their patent/scholar citation ratio.",colourScheme:"greenblue",title:"Top Fields of Study"}},{config:{view:"basic",type:"patent",primaryFacet:"classification_cpc",limit:20,basicChartType:"heatmap",source:{collectionId:i},title:"Top CPC classifications"}},{config:{view:"basic",basicChartType:"cloud",primaryFacet:"field_of_study",limit:100,source:{collectionId:n},title:"Field of Study word cloud"}}],carousel:!0},{type:"media-left",media:[{config:{view:"iframe",src:"https://exponentialroadmap.org/wp-content/uploads/2019/09/ExponentialRoadmap_1.5_20190919_Single-Pages.pdf#zoom=Fit",source:{},type:"scholar",height:"450",annotation:"Source: [Exponential Roadmap](https://exponentialroadmap.org/)"}}],content:{text:"",subheading:"In addition to knowledge and capabilities, it is critical to understand what the policy, legal and regulatory framework is within the relevant jurisdictions. This context is extremely important for understanding "+t+" and developing pathways to viable products and services, as is knowledge of any relevant standards.",title:"**What** is the Policy and Legal Framework?"},expandMedia:!1},{type:"media-right",content:{title:"**When** were the discoveries, inventions, policy and legal events?",subheading:"When did the landscape’s trajectory start and what stage is it in? When did policy, legislation and regulations come into effect?",text:"Knowledge of the timeline of discoveries, inventions and events across the "+t+" landscape helps us understand the signals in temporal trends and allows us to interpret the stage of development and maturity of the landscape. \n\nBy contrasting the timelines of discovery (represented by the scholarly works time series) and invention (represented by the scholarly works time series) with the policy, legal and regulatory events, we can identify pivotal events such as major discoveries, development of enabling technologies or major policy decisions."},media:[{config:{view:"over-time",limit:15,source:{collectionId:n},overTimeMark:"bar",primaryFacet:"publication_type",title:"Scholarly Works over time"}},{config:{view:"basic",basicChartType:"line",type:"patent",primaryFacet:"pub_year",source:{collectionId:i},limit:20,title:"Patents by publication date"}}],carousel:!0,expandMedia:!1},{type:"media-full-width",content:{title:"**Timeline** of key dates and events",text:""},media:[{config:{view:"iframe",src:"https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=1lXdGy4FOvD4mcDxaR5ZzayqydnjjZ3mKFlxXt_hY-gA&amp",source:{},annotation:"###### Source: [lens.org](https://www.lens.org/)"}}],carousel:!1,island:!0},{type:"media-side-by-side",content:{title:"**Where** is the study being done?",subheading:"Where are the researchers and scholars? Where are the patents in force? Where are the policies, laws and regulations in force? Where are the capabilities and resources?",text:"The location of research hot spots, capabilities and facilities required to develop technologies is an important consideration for future R&D. Understanding where the research is being conducted or where existing manufacturing capabilities and facilities are located can help de-risk business locality decisions and leverage existing knowledge in proximity."},media:[],carousel:!0,expandMedia:!0},{type:"media-side-by-side",media:[{config:{view:"basic",basicChartType:"map",primaryFacet:"author.affiliation.grid.address.country_code",source:{collectionId:n},limit:20,title:"Most active countries by number of scholarly works"}},{config:{view:"basic",type:"patent",basicChartType:"map",primaryFacet:"jurisdiction",source:{collectionId:i},limit:20,title:"Number of granted patents by jurisdiction"}},{config:{view:"x-by-y",primaryFacet:"author.affiliation.grid.address.country_code",secondaryFacet:"author.affiliation.grid.address.city",limit:5,secondaryFacetLimit:5,source:{collectionId:n},type:"scholar",barChartType:"grouped",title:"Top cities by country and number of scholarly works"}}],carousel:!0,expandMedia:!0}]}},function(e,t){t.ANNEX_ONE=["AUS","AUT","BEL","BGR","BLR","CAN","CHE","CYP","CZE","DEU","DNK","ESP","EST","EUU","FIN","FRA","GBR","GRC","HRV","HUN","IRL","ISL","ITA","JPN","LIE","LTU","LUX","LVA","MCO","MLT","NLD","NOR","NZL","POL","PRT","ROU","RUS","SVK","SVN","SWE","TUR","UKR","USA"],t.ANNEX_ONE_KAZ=["AUS","AUT","BEL","BGR","BLR","CAN","CHE","CYP","CZE","DEU","DNK","ESP","EST","EUU","FIN","FRA","GBR","GRC","HRV","HUN","IRL","ISL","ITA","JPN","KAZ","LIE","LTU","LUX","LVA","MCO","MLT","NLD","NOR","NZL","POL","PRT","ROU","RUS","SVK","SVN","SWE","TUR","UKR","USA"],t.AOSIS=["ATG","BHS","BLZ","BRB","COK","COM","CPV","CUB","DMA","DOM","FJI","FSM","GNB","GRD","GUY","HTI","JAM","KIR","KNA","LCA","MDV","MHL","MUS","NIU","NRU","PLW","PNG","SGP","SLB","STP","SUR","SYC","TLS","TON","TTO","TUV","VCT","VUT","WSM"],t.AR5={ASIA:["AFG","ASM","BGD","BRN","BTN","CCK","CHN","COK","CXR","FJI","FSM","HMD","IDN","IND","IOT","KHM","KIR","KOR","LAO","LKA","MDV","MHL","MMR","MNG","MNP","MYS","NCL","NFK","NIU","NPL","NRU","PAK","PCN","PHL","PLW","PNG","PRK","PYF","SGP","SLB","THA","TKL","TLS","TON","TUV","UMI","VNM","VUT","WLF","WSM"],EIT:["ALB","ARM","AZE","BGR","BIH","BLR","CYP","CZE","EST","GEO","HRV","HUN","KAZ","KGZ","LTU","LVA","MDA","MKD","MLT","MNE","POL","ROU","RUS","SRB","SVK","SVN","TJK","TKM","UKR","UZB"],LAM:["ABW","AIA","ANHH","ARG","ATA","ATF","ATG","BHS","BLZ","BMU","BOL","BRA","BRB","BVT","CHL","COL","CRI","CUB","CUW","CYM","DMA","DOM","ECU","FLK","GLP","GRD","GTM","GUF","GUY","HND","HTI","JAM","KNA","LCA","MEX","MSR","MTQ","NIC","PAN","PER","PRI","PRY","SGS","SLV","SUR","SXM","TCA","TTO","URY","VCT","VEN","VGB","VIR"],MAF:["AGO","ARE","BDI","BEN","BFA","BHR","BWA","CAF","CIV","CMR","COD","COG","COM","CPV","DJI","DZA","EGY","ERI","ESH","ETH","GAB","GHA","GIN","GMB","GNB","GNQ","IRN","IRQ","ISR","JOR","KEN","KWT","LBN","LBR","LBY","LSO","MAR","MDG","MLI","MOZ","MRT","MUS","MWI","MYT","NAM","NER","NGA","OMN","PSE","QAT","REU","RWA","SAU","SDN","SEN","SHN","SLE","SOM","SSD","STP","SWZ","SYC","SYR","TCD","TGO","TUN","TZA","UGA","YEM","ZAF","ZMB","ZWE"],OECD1990:["ALA","AND","AUS","AUT","BEL","CAN","CHE","DEU","DNK","ESP","FIN","FRA","FRO","GBR","GGY","GIB","GRC","GRL","GUM","IMN","IRL","ISL","ITA","JEY","JPN","LIE","LUX","MCO","NLD","NOR","NZL","PRT","SJM","SMR","SPM","SWE","TUR","USA","VAT"]},t.ARAB_GROUP=["ARE","BHR","COM","DJI","DZA","EGY","IRQ","JOR","KWT","LBN","LBY","MAR","MRT","OMN","PSE","QAT","SAU","SDN","SOM","SYR","TUN","YEM"],t.BRICS=["BRA","CHN","IND","RUS","ZAF"],t.EIG=["CHE","KOR","LIE","MCO","MEX"],t.EUROPEAN_UNION=["AUT","BEL","BGR","CYP","CZE","DEU","DNK","ESP","EST","FIN","FRA","GRC","HRV","HUN","IRL","ITA","LTU","LUX","LVA","MLT","NLD","POL","PRT","ROU","SVK","SVN","SWE"],t.G20=["ARG","AUS","BRA","CAN","CHN","DEU","EUU","FRA","GBR","IDN","IND","ITA","JPN","KOR","MEX","RUS","SAU","TUR","USA","ZAF"],t.G7=["CAN","DEU","EUU","FRA","GBR","ITA","JPN","USA"],t.G77=["AFG","AGO","ARE","ARG","ATG","AZE","BDI","BEN","BFA","BGD","BHR","BHS","BLZ","BOL","BRA","BRB","BRN","BTN","BWA","CAF","CHL","CHN","CIV","CMR","COD","COG","COL","COM","CPV","CRI","CUB","DJI","DMA","DOM","DZA","ECU","EGY","ERI","ETH","FJI","FSM","GAB","GHA","GIN","GMB","GNB","GNQ","GRD","GTM","GUY","HND","HTI","IDN","IND","IRN","IRQ","JAM","JOR","KEN","KHM","KIR","KNA","KWT","LAO","LBN","LBR","LBY","LCA","LKA","LSO","MAR","MDG","MDV","MHL","MLI","MMR","MNG","MOZ","MRT","MUS","MWI","MYS","NAM","NER","NGA","NIC","NPL","NRU","OMN","PAK","PAN","PER","PHL","PNG","PRK","PRY","PSE","QAT","RWA","SAU","SDN","SEN","SGP","SLB","SLE","SLV","SOM","SSD","STP","SUR","SWZ","SYC","SYR","TCD","TGO","THA","TJK","TKM","TLS","TON","TTO","TUN","TZA","UGA","URY","VCT","VEN","VNM","VUT","WSM","YEM","ZAF","ZMB","ZWE"],t.GRADUATED_LDCS=["BWA","CPV","GNQ","MDV","WSM"],t.IMO=["AGO","ALB","ARE","ARG","ARM","ATG","AUS","AUT","AZE","BEL","BEN","BGD","BGR","BHR","BHS","BIH","BLR","BLZ","BOL","BRA","BRB","BRN","CAN","CHE","CHL","CHN","CIV","CMR","COD","COG","COK","COL","COM","CPV","CRI","CUB","CYP","CZE","DEU","DJI","DMA","DNK","DOM","DZA","ECU","EGY","ERI","ESP","EST","ETH","FIN","FJI","FRA","GAB","GBR","GEO","GHA","GIN","GMB","GNB","GNQ","GRC","GRD","GTM","GUY","HND","HRV","HTI","HUN","IDN","IND","IRL","IRN","IRQ","ISL","ISR","ITA","JAM","JOR","JPN","KAZ","KEN","KHM","KIR","KNA","KOR","KWT","LBN","LBR","LBY","LCA","LKA","LTU","LUX","LVA","MAR","MCO","MDA","MDG","MDV","MEX","MHL","MKD","MLT","MMR","MNE","MNG","MOZ","MRT","MUS","MWI","MYS","NAM","NGA","NIC","NLD","NOR","NPL","NRU","NZL","OMN","PAK","PAN","PER","PHL","PLW","PNG","POL","PRK","PRT","PRY","QAT","ROU","RUS","SAU","SDN","SEN","SGP","SLB","SLE","SLV","SMR","SOM","SRB","STP","SUR","SVK","SVN","SWE","SYC","SYR","TGO","THA","TKM","TLS","TON","TTO","TUN","TUR","TUV","TZA","UGA","UKR","URY","USA","VCT","VEN","VNM","VUT","WSM","YEM","ZAF","ZMB","ZWE"],t.LDC=["AFG","AGO","BDI","BEN","BFA","BGD","BTN","CAF","COD","COM","DJI","ERI","ETH","GIN","GMB","GNB","HTI","KHM","KIR","LAO","LBR","LSO","MDG","MLI","MMR","MOZ","MRT","MWI","NER","NPL","RWA","SDN","SEN","SLB","SLE","SOM","SSD","STP","TCD","TGO","TLS","TUV","TZA","UGA","VUT","YEM","ZMB"],t.LLDC=["AFG","ARM","AZE","BDI","BFA","BOL","BTN","BWA","CAF","ETH","KAZ","KGZ","LAO","LSO","MDA","MKD","MLI","MNG","MWI","NER","NPL","PRY","RWA","SSD","SWZ","TCD","TJK","TKM","UGA","UZB","ZMB","ZWE"],t.NON_ANNEX_ONE=["AFG","AGO","ALB","AND","ARE","ARG","ARM","ATG","AZE","BDI","BEN","BFA","BGD","BHR","BHS","BIH","BLZ","BOL","BRA","BRB","BRN","BTN","BWA","CAF","CHL","CHN","CIV","CMR","COD","COG","COK","COL","COM","CPV","CRI","CUB","DJI","DMA","DOM","DZA","ECU","EGY","ERI","ETH","FJI","FSM","GAB","GEO","GHA","GIN","GMB","GNB","GNQ","GRD","GTM","GUY","HND","HTI","IDN","IND","IRN","IRQ","ISR","JAM","JOR","KAZ","KEN","KGZ","KHM","KIR","KNA","KOR","KWT","LAO","LBN","LBR","LBY","LCA","LKA","LSO","MAR","MDA","MDG","MDV","MEX","MHL","MKD","MLI","MMR","MNE","MNG","MOZ","MRT","MUS","MWI","MYS","NAM","NER","NGA","NIC","NIU","NPL","NRU","OMN","PAK","PAN","PER","PHL","PLW","PNG","PRK","PRY","PSE","QAT","RWA","SAU","SDN","SEN","SGP","SLB","SLE","SLV","SMR","SOM","SRB","SSD","STP","SUR","SWZ","SYC","SYR","TCD","TGO","THA","TJK","TKM","TLS","TON","TTO","TUN","TUV","TZA","UGA","URY","UZB","VCT","VEN","VNM","VUT","WSM","YEM","ZAF","ZMB","ZWE"],t.OECD=["AUS","AUT","BEL","CAN","CHE","CHL","COL","CZE","DEU","DNK","ESP","EST","FIN","FRA","GBR","GRC","HUN","IRL","ISL","ISR","ITA","JPN","KOR","LTU","LUX","LVA","MEX","NLD","NOR","NZL","POL","PRT","SVK","SVN","SWE","TUR","USA"],t.OPEC=["AGO","ARE","DZA","ECU","GAB","GNQ","IRN","IRQ","KWT","LBY","NGA","QAT","SAU","VEN"],t.SIDS=["ATG","BHS","BLZ","BRB","COM","CPV","CUB","DMA","DOM","FJI","FSM","GNB","GRD","GUY","HTI","JAM","KIR","KNA","LCA","MDV","MHL","MUS","NRU","PLW","PNG","SGP","SLB","STP","SUR","SYC","TLS","TON","TTO","TUV","VCT","VUT","WSM"],t.SIDS_NON_UN_OR_REGIONAL_COMMISSIONS_ASSOCIATES=["ABW","AIA","ASM","BMU","COK","CUW","CYM","GLP","GUM","MNP","MSR","MTQ","NCL","NIU","PRI","PYF","SXM","TCA","VGB","VIR"],t.SSP={ASIA:["AFG","BGD","BRN","BTN","CHN","FJI","FSM","HKG","IDN","IND","KHM","KOR","LAO","LKA","MAC","MDV","MMR","MNG","MYS","NCL","NPL","PAK","PHL","PNG","PRK","PYF","SGP","SLB","THA","TLS","TWN","VNM","VUT","WSM"],LAM:["ABW","ARG","BHS","BLZ","BOL","BRA","BRB","CHL","COL","CRI","CUB","DOM","ECU","GLP","GRD","GTM","GUF","GUY","HND","HTI","JAM","MEX","MTQ","NIC","PAN","PER","PRY","SLV","SUR","TTO","URY","VEN","VIR"],MAF:["AGO","ARE","BDI","BEN","BFA","BHR","BWA","CAF","CIV","CMR","COD","COG","COM","CPV","DJI","DZA","EGY","ERI","ESH","ETH","GAB","GHA","GIN","GMB","GNB","GNQ","IRN","IRQ","ISR","JOR","KEN","KWT","LBN","LBR","LBY","LSO","MAR","MDG","MLI","MOZ","MRT","MUS","MWI","MYT","NAM","NER","NGA","OMN","PSE","QAT","REU","RWA","SAU","SDN","SEN","SLE","SOM","SSD","SWZ","SYR","TCD","TGO","TUN","TZA","UGA","YEM","ZAF","ZMB","ZWE"],OECD:["ALB","AUS","AUT","BEL","BGR","BIH","CAN","CHE","CYP","CZE","DEU","DNK","ESP","EST","FIN","FRA","GBR","GRC","GUM","HRV","HUN","IRL","ISL","ITA","JPN","LTU","LUX","LVA","MKD","MLT","MNE","NLD","NOR","NZL","POL","PRI","PRT","ROU","SRB","SVK","SVN","SWE","TUR","USA"],REF:["ARM","AZE","BLR","GEO","KAZ","KGZ","MDA","RUS","TJK","TKM","UKR","UZB"]},t.UMBRELLA=["AUS","CAN","JPN","KAZ","NOR","NZL","RUS","UKR","USA"],t.UN_REGIONAL_GROUPS={AFRICAN_GROUP:["AGO","BDI","BEN","BFA","BWA","CAF","CIV","CMR","COD","COG","COM","CPV","DJI","DZA","EGY","ERI","ETH","GAB","GHA","GIN","GMB","GNB","GNQ","KEN","LBR","LBY","LSO","MAR","MDG","MLI","MOZ","MRT","MUS","MWI","NAM","NER","NGA","RWA","SDN","SEN","SLE","SOM","SSD","STP","SWZ","SYC","TCD","TGO","TUN","TZA","UGA","ZAF","ZMB","ZWE"],ASIA_PACIFIC_GROUP:["AFG","ARE","BGD","BHR","BRN","BTN","CHN","CYP","FJI","FSM","IDN","IND","IRN","IRQ","JOR","JPN","KAZ","KGZ","KHM","KIR","KOR","KWT","LAO","LBN","LKA","MDV","MHL","MMR","MNG","MYS","NPL","NRU","OMN","PAK","PHL","PLW","PNG","PRK","QAT","SAU","SGP","SLB","SYR","THA","TJK","TKM","TLS","TON","TUR","TUV","UZB","VNM","VUT","WSM","YEM"],EASTERN_EUROPEAN_GROUP:["ALB","ARM","AZE","BGR","BIH","BLR","CZE","EST","GEO","HRV","HUN","LTU","LVA","MDA","MKD","MNE","POL","ROU","RUS","SRB","SVK","SVN","UKR"],GRULAC:["ARG","ATG","BHS","BLZ","BOL","BRA","BRB","CHL","COL","CRI","CUB","DMA","DOM","ECU","GRD","GTM","GUY","HND","HTI","JAM","KNA","LCA","MEX","NIC","PAN","PER","PRY","SLV","SUR","TTO","URY","VCT","VEN"],WEOG:["AND","AUS","AUT","BEL","CAN","CHE","DEU","DNK","ESP","FIN","FRA","GBR","GRC","IRL","ISL","ISR","ITA","LIE","LUX","MCO","MLT","NLD","NOR","NZL","PRT","SMR","SWE","TUR","USA"]},t.UNFCCC=["AFG","AGO","ALB","AND","ARE","ARG","ARM","ATG","AUS","AUT","AZE","BDI","BEL","BEN","BFA","BGD","BGR","BHR","BHS","BIH","BLR","BLZ","BOL","BRA","BRB","BRN","BTN","BWA","CAF","CAN","CHE","CHL","CHN","CIV","CMR","COD","COG","COK","COL","COM","CPV","CRI","CUB","CYP","CZE","DEU","DJI","DMA","DNK","DOM","DZA","ECU","EGY","ERI","ESP","EST","ETH","EUU","FIN","FJI","FRA","FSM","GAB","GBR","GEO","GHA","GIN","GMB","GNB","GNQ","GRC","GRD","GTM","GUY","HND","HRV","HTI","HUN","IDN","IND","IRL","IRN","IRQ","ISL","ISR","ITA","JAM","JOR","JPN","KAZ","KEN","KGZ","KHM","KIR","KNA","KOR","KWT","LAO","LBN","LBR","LBY","LCA","LIE","LKA","LSO","LTU","LUX","LVA","MAR","MCO","MDA","MDG","MDV","MEX","MHL","MKD","MLI","MLT","MMR","MNE","MNG","MOZ","MRT","MUS","MWI","MYS","NAM","NER","NGA","NIC","NIU","NLD","NOR","NPL","NRU","NZL","OMN","PAK","PAN","PER","PHL","PLW","PNG","POL","PRK","PRT","PRY","PSE","QAT","ROU","RUS","RWA","SAU","SDN","SEN","SGP","SLB","SLE","SLV","SMR","SOM","SRB","SSD","STP","SUR","SVK","SVN","SWE","SWZ","SYC","SYR","TCD","TGO","THA","TJK","TKM","TLS","TON","TTO","TUN","TUR","TUV","TZA","UGA","UKR","URY","USA","UZB","VCT","VEN","VNM","VUT","WSM","YEM","ZAF","ZMB","ZWE"],UNSTATS_GEOGRAPHICAL_REGIONS={AFRICA:{NORTHERN_AFRICA:["DZA","EGY","ESH","LBY","MAR","SDN","TUN"],SUB_SAHARAN_AFRICA:{EASTERN_AFRICA:["ATF","BDI","COM","DJI","ERI","ETH","IOT","KEN","MDG","MOZ","MUS","MWI","MYT","REU","RWA","SOM","SSD","SYC","TZA","UGA","ZMB","ZWE"],MIDDLE_AFRICA:["AGO","CAF","CMR","COD","COG","GAB","GNQ","STP","TCD"],SOUTHERN_AFRICA:["BWA","LSO","NAM","SWZ","ZAF"],WESTERN_AFRICA:["BEN","BFA","CIV","CPV","GHA","GIN","GMB","GNB","LBR","MLI","MRT","NER","NGA","SEN","SHN","SLE","TGO"]}},AMERICAS:{LATIN_AMERICA_AND_THE_CARIBBEAN:{CARIBBEAN:["ABW","AIA","ATG","BES","BHS","BLM","BRB","CUB","CUW","CYM","DMA","DOM","GLP","GRD","HTI","JAM","KNA","LCA","MAF","MSR","MTQ","PRI","SXM","TCA","TTO","VCT","VGB","VIR"],CENTRAL_AMERICA:["BLZ","CRI","GTM","HND","MEX","NIC","PAN","SLV"],SOUTH_AMERICA:["ARG","BOL","BRA","BVT","CHL","COL","ECU","FLK","GUF","GUY","PER","PRY","SGS","SUR","URY","VEN"]},NORTHERN_AMERICA:["BMU","CAN","GRL","SPM","USA"]},ANTARCTICA:["ATA"],ASIA:{CENTRAL_ASIA:["KAZ","KGZ","TJK","TKM","UZB"],EASTERN_ASIA:["CHN","HKG","JPN","KOR","MAC","MNG","PRK"],SOUTHERN_ASIA:["AFG","BGD","BTN","IND","IRN","LKA","MDV","NPL","PAK"],SOUTH_EASTERN_ASIA:["BRN","IDN","KHM","LAO","MMR","MYS","PHL","SGP","THA","TLS","VNM"],WESTERN_ASIA:["ARE","ARM","AZE","BHR","CYP","GEO","IRQ","ISR","JOR","KWT","LBN","OMN","PSE","QAT","SAU","SYR","TUR","YEM"]},EUROPE:{EASTERN_EUROPE:["BGR","BLR","CZE","HUN","MDA","POL","ROU","RUS","SVK","UKR"],NORTHERN_EUROPE:["ALA",{CHANNEL_ISLANDS:["GGY","JEY"]},"DNK","EST","FIN","FRO","GBR","IMN","IRL","ISL","LTU","LVA","NOR","SJM","SWE"],SOUTHERN_EUROPE:["ALB","AND","BIH","ESP","GIB","GRC","HRV","ITA","MKD","MLT","MNE","PRT","SMR","SRB","SVN","VAT"],WESTERN_EUROPE:["AUT","BEL","CHE","DEU","FRA","LIE","LUX","MCO","NLD"]},OCEANIA:{AUSTRALIA_AND_NEW_ZEALAND:["AUS","CCK","CXR","HMD","NFK","NZL"],MELANESIA:["FJI","NCL","PNG","SLB","VUT"],MICRONESIA:["FSM","GUM","KIR","MHL","MNP","NRU","PLW","UMI"],POLYNESIA:["ASM","COK","NIU","PCN","PYF","TKL","TON","TUV","WLF","WSM"]}}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=J(n(318)),r=J(n(211)),o=J(n(213)),s=J(n(52)),l=J(n(53)),c=J(n(214)),u=J(n(25)),d=J(n(215)),p=J(n(2)),f=J(n(5)),m=J(n(103)),h=J(n(104)),y=J(n(102)),g=J(n(210)),v=J(n(73)),b=J(n(212)),S=J(n(321)),C=J(n(8)),k=J(n(133)),A=J(n(0)),w=J(n(137)),P=J(n(100)),T=J(n(324)),x=J(n(216)),M=J(n(217)),I=J(n(29)),R=J(n(326)),E=J(n(219)),D=J(n(209)),L=J(n(327)),N=J(n(38)),O=n(138),U=n(9),B=n(140),F=n(18),G=n(221),H=n(60),j=n(78),K=n(139),q=n(35),z=n(101),V=n(207),W=n(61);function J(e){return e&&e.__esModule?e:{default:e}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Q=function(e){function t(e,n,i,a,s,u,f,A,T,M,R,D,L,N,O,G,H){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var K=Y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,R,D,n));K.$http=i,K.$state=a,K.$element=s,K.$timeout=u,K.$cacheFactory=f,K.$rootScope=A,K.$stateParams=e,K.CollectionService=L,K.ReportService=G,K.OrcidService=N,K.RecentWorkService=H,K.savedQuery=new O,K.storage=new p.default(e.type+"-search"),K.rootStorage=new p.default,K.globalStorage=new p.default("global"),K.sessionStorage=new F.SessionStorageService(e.type+"-search");var q,z=null!==K.storage.get("analysisColumns")?K.storage.get("analysisColumns"):window.innerWidth>=1440,W=e.q||"",J=!(W.match(/OR | \|\|/g)&&W.match(/AND | &&/g));if(K.state=_.extend(K.state,{CountryGroupings:U.CountryGroupings,CountryGroupingsLabels:U.CountryGroupingsLabels,analysisColumns:z,analysisItems:[],analysisItemsActiveKey:0,analysisQueue:2,analysisWizardQuestion:1,authorField:e.authorField||"author",autocomplete:{},badges:w.default,canParseQueryString:J,cannedPatentFacets:P.default,cannedScholarFacets:x.default,chartData:{},chooseMoreMode:"default",clauses:(0,V.parseQueryString)(e.q||""),collectionTab:"export",createAnalysisFormConfig:{},currentStateName:"search.results",d:e.d,dashboardId:e.dashboardId,dateFilterField:e.dateFilterField,DefaultDashboard:"patent"===e.type?r.default:o.default,docPreviewIndex:0,e:"true"===e.e,exportConfig:{format:"CSV",size:1e3},exportFieldsList:"patent"===e.type?B.PATENT_EXPORT_FIELDS:B.SCHOLAR_EXPORT_FIELDS,f:"true"===e.f,facetFormatters:I.default,facetLoading:{},facetSearch:{default:{},all:{}},facets:{scholar:{},patent:{}},fauxJoinSearch:K.sessionStorage.get("previousSearch-"+(q=e.type,"patent"===q?"scholar":"patent")),fieldGroups:U.fieldGroups,fieldTips:_.cloneDeep(U.fieldGroups),fieldsByFilterName:U.fieldsByFilterName,fieldsList:U.fieldsList,fieldsMap:U.fieldsMapByType[e.type],fieldsMapByType:U.fieldsMapByType,filterCounts:{},filterKeys:U.filterKeys,FilterIcons:l.default,flags:"patent"===e.type?_.keys(j.patentFlagAggs):U.flags,FundingInfo:c.default,hasFullText:"true"===e.hasFullText,ignoreAnalysisLimit:K.sessionStorage.get("ignoreAnalysisLimit"),jurisdictionMap:U.jurisdictionMap,l:e.l||"en",LegalStatusInfo:d.default,loadingFacet:{},metrics:e.metrics,n:e.n?parseInt(e.n):10,nestedQueryWarning:{},openAccessFilterKeys:U.openAccessFilterKeys,OpenAccessColours:m.default,OpenAccessLicenses:h.default,orcid:e["profile.orcidId"],orderBy:e.d+e.s||e.orderBy,p:e.p||0,patentAnalysisViews:U.patentAnalysisViews,patentClassificationKeys:U.patentClassificationKeys,patentFacetKeys:U.patentFacetKeys,patentMetricAggTooltips:U.patentMetricAggTooltips,predicate:e.q&&e.q.match(/OR | \|\|/g)&&!e.q.match(/AND | &&/g)?"OR":"AND",predicates:{},presentation:"true"===e.presentation,presetDashboards:U.presetDashboards,preview:K.storage.get("preview")&&"false"!==e.preview||"true"===e.preview,promptLoadDashboardId:null,q:W,quickAnalysis:e.quickAnalysis,rightSidebarView:"dataset",s:e.s,scholarAnalysisViews:U.scholarAnalysisViews,searchingAutocomplete:{},searchingFacets:{},selectedClassifications:{},sequenceTypeLabels:U.sequenceTypeLabels,showAnalysisItem:z?{0:!0,1:!0,2:!0,3:!0}:{0:!0,1:!0},showAutocomplete:{},showFacet:e.showFacet||{},showFacetSearch:{},sorts:{patent:y.default,scholar:v.default},structuredView:e.structuredView||K.globalStorage.get("structuredView")||(J?"structured":"boolean"),subjectMatterFilterKeys:U.subjectMatterFilterKeys,suggestions:S.default,tab:e.type||"patent",tableColumns:K.storage.get("tableColumns")||U.defaultTableColumns,tableDensity:K.storage.get("tableDensity")||"default",listView:K.storage.get("listView")||U.defaultListView,type:e.type||"patent",useAuthorId:"true"===e.useAuthorId,userId:e["profile.userId"],view:e.view||"list",viewTab:e.view||"list",wizard:"patent"===e.type?g.default:b.default}),e.queryId)return K.redirectByQueryId(e.queryId),Y(K);window.LENS.searchFormInitialized=!0,K.state.flagKeys=K.state.flags.map((function(e){return U.fieldsMap[e].filterName})),K.optionalParams=_.concat(["authorCount.gte","authorCount.lte","authorship","autoSort","bioc","biof","collectionEventId","collectionId","collectionIntersectionIds","expandByExtendedFamily","familyId","extendedFamilyOf","groupByExtendedFamily","hasFullText","inventorship","inventorshipId","joinCollectionId","lensIdCreated.from","lensIdCreated.to","lensIdCreatedAfter","newMatchDate.from","newMatchDate.to","orcids","patentQueryId","profile.orcidId","profile.userId","regex","sat","scholarQueryId","seqFingerprint","tags"],U.patseqFilters,K.state.flagKeys);var Z={regex:!0,inventorship:!0,hasFullText:!0,groupByExtendedFamily:!0,expandByExtendedFamily:!0};K.state.flagKeys.forEach((function(e){Z[e]=!0}));var Q={"authorCount.gte":!0,"authorCount.lte":!0};K.optionalParams.forEach((function(t){Z[t]&&void 0!==e[t]?K.state[t]="true"===e[t]:Q[t]&&void 0!==e[t]?K.state[t]=parseFloat(e[t]):K.state[t]=e[t]})),K.state.sequenceType={N:K.state.sat&&K.state.sat.includes("N"),P:K.state.sat&&K.state.sat.includes("P")};var X=K.state.sequenceType,ee=X.N,te=X.P;if(ee&&te&&(K.state.sat=["N","P"]),K.state.stemmed="false"!==e.stemmed,K.resetDates(),U.dateFilterKeys.forEach((function(t){var n=(0,C.default)(e,t);n&&(0,k.default)(K.state,t,n)})),"date_published"===K.state.dateFilterField?K.state.dateFilterField="publishedDate":"year_published"===K.state.dateFilterField?K.state.dateFilterField="publishedYear":K.state.dateFilterField||(K.state.dateFilterField="patent"===K.state.type?"publishedDate":"publishedYear",U.dateFilterKeys.forEach((function(e){_.get(K.state,e)&&(K.state.dateFilterField=e.split(".").shift())}))),K.state.q&&!K.storage.get("neverAskAboutId")){var ne=(0,E.default)(K.state.q),ie=ne.isDoi,ae=ne.isPMC,re=ne.isPmid,oe=ne.isLens;if("scholar"===K.state.type&&(ie||ae||re||oe))return K.state.looksLikeAnId=!0,K.state.looksLikeAnIdType=ie?"DOI":ae?"PMCID":oe?"Lens":"PMID",Y(K);if("patent"===K.state.type&&oe)return K.state.looksLikeAnId=!0,Y(K)}u((function(){K.state.queryLengthWarning=window.location.href.length>2e3}),10);var se=function(e){if(K.state.type=e.type||"scholar",K.state.view=e.view||"list",K.state.viewTab=e.view||"list",K.state.DefaultDashboard="patent"===K.state.type?r.default:o.default,K.state.presentation="true"===e.presentation||!0===e.presentation,K.state.wizard="patent"===e.type?g.default:b.default,K.state.preview=K.storage.get("preview")&&"false"!==e.preview||"true"===e.preview,K.state.orcid=e["profile.orcidId"],K.state.userId=e["profile.userId"],K.state.fieldsMap=U.fieldsMapByType[e.type],K.state.flags="patent"===e.type?_.keys(j.patentFlagAggs):U.flags,K.state.exportFieldsList="patent"===e.type?B.PATENT_EXPORT_FIELDS:B.SCHOLAR_EXPORT_FIELDS,K.storage=new p.default(e.type+"-search"),K.updateBodyClasses(),K._search(),K.initDashboard(),!K.isEmptySearch()||localStorage.getItem("IGNORE_LENS_CACHE")){K._searchAggs();var t=_.keys(K.state.showFacet);t.length&&(K.state.showFacet={},K.showFilterPane(t[0]))}else K.useCannedFacets()},le=_.bind(K.refreshCollection,K),ce=_.bind(K.deleteCollection,K);L.on("REFRESH_COLLECTION",le),L.on("DELETE_COLLECTION",ce);var ue=[];ue.push(T.onSuccess({},(function(e){return se(e.params())}))),ue.push(A.$on("REMOVE_ANALYSIS_ITEM",(function(e,t){K.state.analysisItems.splice(t,1),K.storage.set("analysisItems",K.state.analysisItems),K.state.dirtyAnalysis=!0}))),ue.push(A.$on("PERSIST_ANALYSIS_ITEMS",_.debounce((function(){K.storage.set("analysisItems",K.state.analysisItems)}),500))),ue.push(A.$on("ADD_FILTERS",(function(e,t){_.keys(t).forEach((function(e){t[e].forEach((function(t){K._addFilter(e,t)}))})),K.search()})));var de=function(e){K.state.structuredSearchInline&&(0===$(e.target).closest(".structured-search-autosuggest").length&&(K.clickOverlay(),M.$digest()))};return $("body").on("click",de),M.$on("$destroy",(function(){$("body").off("click",de),ue.forEach((function(e){return e()})),L.removeListener("REFRESH_COLLECTION",le),L.removeListener("DELETE_COLLECTION",ce),K.cancelSlowLoadingTimeout()})),window.importDashboard=function(){K.state.importDashboardConfig=JSON.stringify(K.state.analysisItems,null,2),K.state.importDashboard=!0,M.$apply()},K.exportFieldFilter=K.exportFieldFilter.bind(K),K.applyDateFilter=K.applyDateFilter.bind(K),K.addAnalysisFilter=K.addFilter.bind(K),K.updateGroupByFamilyWarning(),K.initFilterMap(),K.initFilterCounts(),K.initAuthorField(),K.initJoinQuery(),K.selectAllExportFields(!0),K.initCollection(),K.updateQueryDetailsLogo(),K.updateBodyClasses(),se(e),K}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"updateBodyClasses",value:function(){document.body.classList.toggle("lens-ui-"+this.state.type,!0),document.body.classList.toggle("lens-ui-"+("scholar"===this.state.type?"patent":"scholar"),!1),this.state.presentation||document.body.classList.remove("analysis-report")}},{key:"redirectByQueryId",value:function(e){var t=this;this.state.loading=!0,this.$http.get("/lens/api/query/"+this.state.type+"/"+e).then((function(e){var n=(0,W.transformQuery)(e.data.query);n.type=t.state.type,n.view="list",t.$stateParams["lensIdCreated.from"]&&(n["lensIdCreated.from"]=t.$stateParams["lensIdCreated.from"]),t.$stateParams["newMatchDate.from"]&&(n["newMatchDate.from"]=t.$stateParams["newMatchDate.from"]),t.$state.go("search.results",n,{inherit:!1,location:"replace"})}))}},{key:"initAutoSort",value:function(){console.log("init autoSort before",this.state.autoSort),this.state.q||this.state.s||"default"===this.state.orderBy||this.state.autoSort?this.state.s||(this.state.autoSort=!1,this.state.orderBy="scholar"===this.state.type?"default":"+_score"):(this.state.orderBy=this.getAutoSortField(),this.state.autoSort=!0),console.log("init autoSort after",this.state.autoSort)}},{key:"useCannedFacets",value:function(){var e=this;if(this.state.analysisLoading=!1,this.state.facetsLoading=!1,this.state.analysisReady=!0,this.state.showAnalysisLimitWarning=!this.state.ignoreAnalysisLimit,"scholar"===this.state.type){this.state.metrics=M.default,this.state.totalHits=M.default["Scholarly Works"],this.state.facets.scholar={};var t=this.ScholarService.processFacets({aggregations:_.cloneDeep(x.default)});_.keys(t).forEach((function(n){e.state.facets.scholar[n]=t[n]})),this.state.metricsCarouselReady=!0}if("patent"===this.state.type){this.state.metrics=T.default,this.state.metricsCarouselReady=!0,this.state.facets.patent={},this.state.totalHits=parseInt(U.fieldsMapByType.patent.lens_id.uniqueCount.replace(/,/g,"")),this.state.facets.patent={},this.state.numFamilies=T.default["Simple Families"];var n=this.PatentService.processFacets({aggregations:_.cloneDeep(P.default)});_.keys(n).forEach((function(t){e.state.facets.patent[t]=n[t]}))}this.savePreviousSearch(),this.sessionStorage.set("previousSearchTotalHits",this.state.totalHits)}},{key:"isEmptySearch",value:function(){var e=this,t=!(this.$rootScope.totalFilterCount||this.state.q||this.state.collectionId||this.state.collectionEventId||this.state.orcids||this.state.familyId||this.state.extendedFamilyOf||this.state.seqFingerprint||this.state.patentQueryId||this.state.scholarQueryId||this.state["profile.userId"]||this.state["profile.orcidId"]||this.state.authorship||this.state.inventorship||this.state.inventorshipId||this.state["lensIdCreated.from"]||this.state["lensIdCreated.to"]);return U.patseqFilters.forEach((function(n){e.state[n]&&(t=!1)})),t}},{key:"_getUrlParams",value:function(){var e=this,t=[];this.state.sequenceType.P&&t.push("P"),this.state.sequenceType.N&&t.push("N"),this.state.orderBy&&(y.default[this.state.orderBy]||v.default[this.state.orderBy])&&"default"!==this.state.orderBy?(this.state.s=this.state.orderBy.slice(1),this.state.d=this.state.orderBy.slice(0,1)):(delete this.state.s,delete this.state.d);var n={type:this.state.type,view:this.state.view,q:this.state.q,p:this.state.p,n:this.state.n,s:this.state.s,d:this.state.d,f:this.state.f,e:this.state.e,l:this.state.l,"authorCount.gte":this.state["authorCount.gte"],"authorCount.lte":this.state["authorCount.lte"],authorField:this.state.authorField,authorship:this.state.authorship,autoSort:this.state.autoSort,bioc:this.state.bioc,biof:this.state.biof,citesNpl:this.state.citesNpl,collectionEventId:this.state.collectionEventId,collectionId:this.state.collectionId,collectionIntersectionIds:this.state.collectionIntersectionIds,dashboardId:this.state.dashboardId,dateFilterField:this.state.dateFilterField,expandByExtendedFamily:this.state.expandByExtendedFamily,extendedFamilyOf:this.state.extendedFamilyOf,familyId:this.state.familyId,groupByExtendedFamily:this.state.groupByExtendedFamily,hasFullText:this.state.hasFullText,inventorship:this.state.inventorship,inventorshipId:this.state.inventorshipId,"lensIdCreated.from":this.state["lensIdCreated.from"],"lensIdCreated.to":this.state["lensIdCreated.to"],lensIdCreatedAfter:this.state.lensIdCreatedAfter,metrics:this.state.metrics,"newMatchDate.from":this.state["newMatchDate.from"],"newMatchDate.to":this.state["newMatchDate.to"],orcids:this.state.orcids,orderBy:this.state.orderBy,patentQueryId:this.state.patentQueryId,presentation:this.state.presentation,preview:this.state.preview,"profile.orcidId":this.state["profile.orcidId"],"profile.userId":this.state["profile.userId"],regex:this.state.regex,scholarQueryId:this.state.scholarQueryId,seqFingerprint:this.state.seqFingerprint,showFacet:this.state.showFacet,stemmed:this.state.stemmed,tags:this.state.tags,useAuthorId:this.state.useAuthorId,sat:t};return U.patseqFilters.forEach((function(t){e.state[t]&&(n[t]=e.state[t])})),_.extend(n,(0,q.filterMapToQueryParams)(this.state.filterMap)),U.dateFilterKeys.forEach((function(t){var i=(0,C.default)(e.state,t);i&&(n[t]=i)})),_.keys(this.state.predicates).forEach((function(t){n[t+".predicate"]=e.state.predicates[t]})),n}},{key:"_createPatentRequest",value:function(){var e=this,t={q:this.state.q,st:this.state.stemmed};_.concat(["bioc","biof","citesNpl","collectionEventId","collectionId","collectionIntersectionIds","e","expandByExtendedFamily","f","familyId","extendedFamilyOf","groupByExtendedFamily","hasFullText","inventorship","inventorshipId","l","lensIdCreated.from","lensIdCreated.to","lensIdCreatedAfter","newMatchDate.from","newMatchDate.to","orcids","profile.orcidId","profile.userId","regex","sat","seqFingerprint","tags"],U.patseqFilters,this.state.flagKeys).forEach((function(n){void 0!==e.state[n]&&(t[n]=e.state[n])})),t.tags&&(t.tags=t.tags.split(",").filter((function(e){return e}))),this.state.scholarQueryId&&(t.scholarQueryId=this.state.scholarQueryId,delete t.collectionId),U.dateFilterKeys.forEach((function(n){var i=(0,C.default)(e.state,n);i&&(t[n]=i)})),_.extend(t,(0,q.filterMapToQueryParams)(this.state.filterMap)),this.state.orderBy&&y.default[this.state.orderBy]||(this.state.orderBy="");var n=this.state.orderBy.slice(1),i=this.state.orderBy.slice(0,1),a={track_total_hits:!0,size:this.state.n,from:this.state.p*this.state.n,_source:this.PatentService.MOST_FIELDS,highlight:R.default};return n&&"default"!==this.state.orderBy&&(a.sort=[Z({},n,{order:"-"===i?"asc":"desc"})],"_score"!==n&&(a.sort[0][n].missing="_last")),this.state.analysisRequest={params:t,body:a},{params:t,body:a}}},{key:"_patentAggs",value:function(e){var t=this,n=this._createPatentRequest().params,i=this.PatentService.facets(n,e);return this.$q.when(i).then((function(e){return e})).catch((function(e){return t.handleAggsError(e)}))}},{key:"_createBasicScholarRequest",value:function(){var e=this._createScholarRequest(),t=e.body,n=e.params;return t.size=0,delete t._source,delete t.from,delete t.sort,delete t.highlight,{body:t,params:n}}},{key:"_scholarAggs",value:function(e){var t=this,n=this._createBasicScholarRequest().params,i=this.ScholarService.facets(n,e,{track_total_hits:!0});return this.$q.when(i).catch((function(e){return t.handleAggsError(e)}))}},{key:"handleAggsError",value:function(e){console.error(e),this.cancelSlowLoadingTimeout(),this.state.facetsLoading=!1,this.state.aggsError=e.statusText||e}},{key:"cancelSlowLoadingTimeout",value:function(){this.state.showSlowLoadingNotice=!1,this.$timeout.cancel(this.slowLoadingTimeout)}},{key:"startSlowLoadingTimeout",value:function(){var e=this;this.cancelSlowLoadingTimeout(),this.slowLoadingTimeout=this.$timeout((function(){e.state.showSlowLoadingNotice=!0}),15e3)}},{key:"checkAnalysisWarning",value:function(){var e=this.state.totalHits>1e7;this.state.showAnalysisLimitWarning=e&&!this.state.ignoreAnalysisLimit}},{key:"_searchAggs",value:function(){var e=this;if(this.state.totalHits=null,"patent"===this.state.type){if(this.state.preview){this.state.facetsLoading=!0;var t={};_.keys(U.patentAnalysisViews).forEach((function(e){t[e]=j.patentFilterAggs[e]})),this._patentAggs(t).then((function(t){_.extend(e.state.facets.patent,t),e.state.facetsLoading=!1,e.$timeout((function(){e.state.analysisReady=!0}),300)}))}this.state.metricsCarouselReady=!1,this.state.metricsLoading=!0,this._patentAggs(L.default).then((function(t){if(t){e.state.metricsLoading=!1,e.state.metrics={"Patent Records":t["Patent Records"].value};var n=e.state.groupByExtendedFamily?"Extended Families":"Simple Families";e.state.numFamilies=_.get(t,"['"+n+"'].value"),_.keys(L.default).forEach((function(n){var i=t[n];e.state.metrics[n]=i.value||i.doc_count||0})),e.$timeout((function(){e.state.metricsCarouselReady=!0}),2e3)}}))}else{if(this.state.preview){this.state.facetsLoading=!0;var n={};_.keys(U.scholarAnalysisViews).forEach((function(e){n[e]=H.aggs[e]})),this._scholarAggs(n).then((function(t){_.extend(e.state.facets.scholar,t),e.state.facetsLoading=!1,e.$timeout((function(){e.state.analysisReady=!0}),300)}))}this.state.metricsLoading=!0,this._scholarAggs(D.default).then((function(t){e.state.metricsLoading=!1,e.state.metrics={},_.keys(t).forEach((function(n){var i=t[n];_.isNumber(i)?e.state.metrics[n]=i:e.state.metrics[n]=i.value||i.doc_count||0})),void 0!==e.state.metrics["Scholarly Works"]&&(e.state.totalHits=e.state.metrics["Scholarly Works"],e.sessionStorage.set("previousSearchTotalHits",e.state.totalHits),e.checkAnalysisWarning(),e.updateCitingPatentsMetric())}))}}},{key:"updateCitingPatentsMetric",value:function(){this.state.joinStats&&this.state.joinStats.joinResultSize&&this.state.metrics&&this.state.metrics["Citing Patents"]?(this.state.metricsCarouselReady=!0,this.state.metrics["Patent Citations"]=null,this.$rootScope.totalFilterCount||this.state.q?this.state.metrics["Citing Patents"]=null:this.state.metrics["Citing Patents"]=this.state.joinStats.joinResultSize):this.state.patentQueryId||this.state.scholarQueryId||!this.state.metrics||(this.state.metricsCarouselReady=!0)}},{key:"_createScholarRequest",value:function(){var e=this,t={q:this.state.q,st:this.state.stemmed};_.concat(["authorCount.gte","authorCount.lte","authorship","collectionId","collectionEventId","collectionIntersectionIds","lensIdCreated.from","lensIdCreated.to","lensIdCreatedAfter","newMatchDate.from","newMatchDate.to","orcids","patentQueryId","profile.userId","profile.orcidId","regex","scholarQueryId","tags"],this.state.flagKeys).forEach((function(n){void 0!==e.state[n]&&(t[n]=e.state[n])})),this.state.patentQueryId&&delete t.collectionId,U.dateFilterKeys.forEach((function(n){var i=(0,C.default)(e.state,n);i&&(t[n]=i)})),_.extend(t,(0,q.filterMapToQueryParams)(this.state.filterMap)),_.keys(this.state.predicates).forEach((function(n){t[n+".predicate"]=e.state.predicates[n]})),this.state.orderBy&&v.default[this.state.orderBy]||(this.state.orderBy="+_score");var n=this.state.orderBy.slice(1),i=this.state.orderBy.slice(0,1),a={size:this.state.n,from:this.state.p*this.state.n,sort:[Z({},n,{order:"-"===i?"asc":"desc"})],_source:{includes:this.ScholarService.MOST_FIELDS},highlight:R.default};return"_score"!==n&&(a.sort[0][n].missing="_last"),{params:t,body:a}}},{key:"_searchPatents",value:function(){var e=this;this.$cacheFactory.get("$http").remove("/lens/api/user/work-area/history");var t=this._createPatentRequest(),n=t.params,i=t.body;this.state.patentQuery=n;var a=this.PatentService.search(n,i,!0);return this.$q.when(a).then((function(t){e.state.queryId=t.queryId,e.state.joinStats=t.joinStats,e.state.patents=_.cloneDeep(t.hits),e.state.totalHits=t.totalHits||t.size,e.sessionStorage.set("previousSearchId",t.queryId),e.sessionStorage.set("previousSearchTotalHits",e.state.totalHits),e.state.showAnalysisLimitWarning=e.state.totalHits>1e7&&!e.state.ignoreAnalysisLimit,e.initStickyToolbar(),e.state.warnings=t.warnings,e.state.migratedQuery=t.migratedQuery;var n=localStorage.getItem("previous-patent-id");n&&t.hits.filter((function(e){return e.record_lens_id===n}))&&setTimeout((function(){var e=$("#patent-"+n).get(0);e&&(e.scrollIntoView({block:"center",behavior:"smooth"}),e.classList.add("active"),setTimeout((function(){return e.classList.remove("active")}),400)),localStorage.removeItem("previous-patent-id")}),100)})).catch((function(t){console.error(t),e.state.patents=[],e.state.error=t}))}},{key:"_searchScholar",value:function(){var e=this;this.$cacheFactory.get("$http").remove("/lens/api/user/work-area/history");var t=this._createScholarRequest(),n=t.params,i=t.body;i.track_total_hits=!0,this.state.analysisRequest={params:n,body:i};var a=this.ScholarService.search(n,i,!0);return this.$q.when(a).then((function(t){if(e.initScholar(t),e.initStickyToolbar(),1!==t.hits.length||!e.$stateParams.autoOpenSingleResult){var n=localStorage.getItem("previous-article-id");return n&&t.hits.filter((function(e){return e.record_lens_id===n}))&&setTimeout((function(){var e=$("#article-"+n).get(0);e&&(e.scrollIntoView({block:"center",behavior:"smooth"}),e.classList.add("active"),setTimeout((function(){return e.classList.remove("active")}),400)),localStorage.removeItem("previous-article-id")}),100),t}window.location="/lens/scholar/article/"+t.hits[0].record_lens_id})).catch((function(t){console.error(t),e.state.scholarlyWorks=[],e.state.error=t}))}},{key:"fetchScholar",value:function(){this._searchScholar()}},{key:"initScholar",value:function(e,t){this.state.joinStats=e.joinStats,this.state.scholarlyWorks=e.hits,this.state.queryId=e.queryId,this.state.scholarlySearchId=e.queryId,t&&t.authors&&(this.state.authors=t.authors)}},{key:"savePreviousSearch",value:function(){this.state.previousSearch=this._getUrlParams(),this.sessionStorage.set("previousSearch",this.state.previousSearch),this.sessionStorage.set("previousSearch-"+this.state.type,this.state.previousSearch)}},{key:"getAutoSortField",value:function(){return"scholar"===this.state.type?this.state.collectionId?"+date_published_sort":"+referenced_by_patent_count":this.state.collectionId?"+pub_date":"+cited_by.patent_count"}},{key:"_search",value:function(){var e=this;this.state.q&&this.state.autoSort&&(this.state.autoSort=!1,this.state.orderBy="+_score",this.state.s=this.state.orderBy.slice(1),this.state.d=this.state.orderBy.slice(0,1));var t=document.getElementById("vg-tooltip-element");t&&t.remove(),this.savePreviousSearch(),this.startSlowLoadingTimeout(),window.document.title="patent"===this.state.type?"Lens Patent Search":"Lens Scholarly Search",this.state.q&&(window.document.title=window.document.title+": "+this.state.q),this.state.loading=!0,"patent"===this.state.type?this._searchPatents().then((function(){e.loadingComplete()})):this._searchScholar().then((function(){e.loadingComplete()}))}},{key:"initStickyToolbar",value:function(){setTimeout((function(){window.beSticky(".toolbar-results")}),500)}},{key:"initJoinQuery",value:function(){var e=this;"scholar"===this.state.type&&this.state.patentQueryId?this.$http.get("/lens/api/query/patent/"+this.state.patentQueryId).then((function(t){e.state.joinQuery=t.data.query,e.state.joinQuery.type="patent",e.state.joinQuery.view="list",(0,W.transformQuery)(e.state.joinQuery)})).catch((function(t){console.error(t),e.state.joinQueryLoadingError=!0})):"patent"===this.state.type&&this.state.scholarQueryId&&this.$http.get("/lens/api/query/scholar/"+this.state.scholarQueryId).then((function(t){e.state.joinQuery=t.data.query,e.state.joinQuery.type="scholar",e.state.joinQuery.view="list",(0,W.transformQuery)(e.state.joinQuery)})).catch((function(t){console.error(t),e.state.joinQueryLoadingError=!0}))}},{key:"loadingComplete",value:function(){this.cancelSlowLoadingTimeout(),this.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),this.state.loading=!1,!1===this.rootStorage.get("oneTimeTour")&&window.trySearchTour()}},{key:"submitStructuredSearch",value:function(){this.isNewSearch()&&(this.state.preview=!0),this.state.q=this.printClause(),this.state.view="list",this.search()}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("structured"!==this.state.view||this.state.q){this.state.orcidId&&(this.state.orcids=[this.state.orcidId]),this.state.p=e,this.state.numFamilies=null,this.state.metrics=null,this.state.structuredSearchInline&&"boolean"!==this.state.structuredView&&this.state.clauses.length&&(this.state.q=this.printClause());var t=this._getUrlParams();this.$state.go("search.results",t,{inherit:!1,reload:!0})}else this.submitStructuredSearch()}},{key:"nextPage",value:function(){this.setPage(parseInt(this.state.p)+1)}},{key:"previousPage",value:function(){this.setPage(parseInt(this.state.p)-1)}},{key:"setPage",value:function(e){e=parseInt(e),e=Math.max(e,0),(e=Math.min(e,this.numberOfPages()-1))!==this.state.p&&this.search(e)}},{key:"numberOfPages",value:function(){var e=this.state.totalHits||0;return Math.floor((e-1)/(this.state.n||10))+1}},{key:"pageRange",value:function(){var e=Math.max(0,this.state.p-3),t=Math.min(this.numberOfPages(),parseInt(this.state.p)+5);return _.range(e,t)}},{key:"showFilterPane",value:function(e){var t=this;if(!this.state.facets[this.state.type][e]){this.state.facetLoading[e]=!0;var n=Z({},e,H.aggs[e]||j.patentFilterAggs[e]);"flags"===e&&(n="scholar"===this.state.type?H.flagAggs:j.patentFlagAggs),"fj"===e&&(n={jurisdiction:j.patentFilterAggs.jurisdiction}),this["scholar"===this.state.type?"_scholarAggs":"_patentAggs"](n).then((function(n){if(t.state.facetLoading[e]=!1,t.state.facets[t.state.type]||(t.state.facets[t.state.type]={}),_.extend(t.state.facets[t.state.type],n),"reference_cited.npl.record_lens_id"===e){var i=n["reference_cited.npl.record_lens_id"].map((function(e){return e.key}));t.initCitedWorksFilter(i)}}))}this.state.showFacet=Z({},e,!this.state.showFacet[e]),_.defer((function(){var e=t.$element.find(".filterGroup.active .autosuggest-input");e&&e.focus()}))}},{key:"toggleColumns",value:function(){var e=this;this.state.analysisColumns=!this.state.analysisColumns,this.storage.set("analysisColumns",this.state.analysisColumns),this.state.analysisLoading=!0,this.$timeout((function(){e.state.analysisLoading=!1,e.$rootScope.$broadcast("REFRESH_ANALYSIS_VISUALISATIONS")}),10)}},{key:"togglePreview",value:function(){var e=this;this.storage.set("preview",!this.state.preview),this.$timeout((function(){e.$state.go("search.results",{preview:!e.state.preview})}),300)}},{key:"toggleSearchType",value:function(){this.$state.go("search.results",{type:"patent"===this.state.type?"scholar":"patent",view:this.state.view||"list",preview:this.state.preview,patentQueryId:null,scholarQueryId:null,q:this.state.q},{inherit:!1})}},{key:"initAuthorField",value:function(){var e=this.state.authorField||"author";this.state.useAuthorId?(this.state.filterKeys[0]=e+".display_name_id",H.aggs[e+".display_name_id"]={terms:{field:e+".display_name_id"}},delete H.aggs[e+".display_name.keyword"]):(this.state.filterKeys[0]=e+".display_name.keyword",H.aggs[e+".display_name.keyword"]={terms:{field:e+".display_name.keyword"}},delete H.aggs[e+".display_name_id"]),this.state.filterKeys=_.uniq(this.state.filterKeys)}},{key:"_toggleAuthorField",value:function(){var e=this.state.authorField||"author";this.state.useAuthorId?(this.state.showFacet[e+".display_name_id"]=!0,delete this.state.filterMap[e+".display_name.keyword"]):(this.state.showFacet[e+".display_name.keyword"]=!0,delete this.state.filterMap[e+".display_name_id"]),this.changeAuthorField()}},{key:"toggleAuthorField",value:function(){var e=this;this.state.useAuthorId=!this.state.useAuthorId,this.$timeout((function(){e._toggleAuthorField()}),200)}},{key:"changeAuthorField",value:function(){this.initAuthorField();var e=this._createScholarRequest();this._searchAggs(e);var t=this.state.authorField||"author",n=this.state.useAuthorId?".display_name_id":".display_name.keyword";this.state.showFacet[t+n]=!1,this.showFilterPane(t+n)}},{key:"changeTab",value:function(e){this.state.viewTab=e,this.$state.go("search.results",{view:e})}},{key:"countryAutocomplete",value:function(){var e="author.affiliation.grid.address.country_code",t=this.state.addFilter[e],n=_.values(this.state.facets.scholar[e]).map((function(t){return{key:t.key,displayName:I.default[e](t.key),label:I.default[e](t.key),doc_count:t.doc_count}})),i=_.cloneDeep(window.FUSE_OPTS);i.threshold=.3,i.keys=["displayName"];var a=new u.default(n,i).search(t).slice(0,10).map((function(e){return e.item}));this.state.showAutocomplete[e]=t&&a.length,this.state.autocomplete[e]||(this.state.autocomplete[e]={}),this.state.autocomplete[e][t]=a}},{key:"jurisdictionAutocomplete",value:function(){var e=this.state.addFilter.jurisdiction,t=_.values(this.state.facets.patent.jurisdiction),n=_.cloneDeep(window.FUSE_OPTS);n.keys=["label"];var i=new u.default(t,n).search(e).map((function(e){return e.item}));this.state.autocomplete.jurisdiction||(this.state.autocomplete.jurisdiction={}),this.state.autocomplete.jurisdiction[e]=_.uniq(i).slice(0,10),this.state.showAutocomplete.jurisdiction=i.length>0}},{key:"organismSearch",value:function(){var e=this,t=this.state.addFilter["sequence.tax_id"],n=this.PatentService.organismSearch(t);return this.$q.when(n).then((function(n){e.state.autocomplete["sequence.tax_id"]||(e.state.autocomplete["sequence.tax_id"]={}),e.state.autocomplete["sequence.tax_id"][t]=_.uniq(n).slice(0,10),e.state.showAutocomplete["sequence.tax_id"]=n.length>0,e.state.autocomplete.sequence_organism_taxid[t]=n}))}},{key:"autocomplete",value:function(e){var t=this;if("sequence.tax_id"===e)return this.organismSearch();if("author.affiliation.grid.address.country_code"===e)return this.countryAutocomplete();if("jurisdiction"===e)return this.jurisdictionAutocomplete();var n=this.state.addFilter[e]||"";if(n){var i=this.state.fieldsMap[e],a=i.suggester||i.key;this.state.searchingAutocomplete[e]=!0;var r=void 0;if("scholar"===this.state.type){var o=this._createBasicScholarRequest().params;r=this.ScholarService.facetSearch(a,n,o,100)}else{var s=this._createPatentRequest().params;r=this.PatentService.facetSearch(a,n,s,100)}return this.$q.when(r).then((function(i){t.state.searchingAutocomplete[e]=!1,t.state.showAutocomplete[e]=!0,i&&(i=(i=a.includes(".display_name")?(0,K.authorSearch)(i,n):new u.default(i,window.FUSE_OPTS).search(n).slice(0,10)).map((function(e){return e.item})),t.state.autocomplete[e]||(t.state.autocomplete[e]={}),I.default[e]&&i.forEach((function(t){t.label=I.default[e](t.key)})),t.state.autocomplete[e][n]=i)})).catch((function(e){console.error(e)}))}this.state.showAutocomplete[e]=!1}},{key:"clearAutocomplete",value:function(){this.state.showAutocomplete={}}},{key:"selectAutocomplete",value:function(e,t){t&&(this.state.filterMap[e]||(this.state.filterMap[e]={}),this.state.filterMap[e][t]=!0,this.state.addFilter[e]=t,this.clearAutocomplete(),this.search())}},{key:"autoCompleteVisible",value:function(){var e=this;return _.keys(this.state.showAutocomplete).filter((function(t){return e.state.showAutocomplete[t]})).length>0}},{key:"clearParam",value:function(e){delete this.state[e],delete this.state.filterMap[e],this.search()}},{key:"clearTerm",value:function(){this.state.q="",this.search()}},{key:"clearFlags",value:function(){var e=this;U.flags.forEach((function(t){delete e.state.filterMap[U.fieldsMap[t].filterName]})),delete this.state.hasFullText,this.search()}},{key:"clearPatseqFilters",value:function(){var e=this;U.patseqFilters.forEach((function(t){delete e.state[t]})),this.search()}},{key:"_removeFilter",value:function(e){"so"===e&&(this.state.sequenceType={}),(this.isAuthorField(e)||e.startsWith("authorCount"))&&(delete this.state["authorCount.lte"],delete this.state["authorCount.gte"]),(e.startsWith("lensIdCreated")||e.startsWith("newMatchDate")||"hasFullText"===e)&&delete this.state[e],delete this.state.filterMap[e],this.search()}},{key:"removeFilter",value:function(e){var t=this;_.isArray(e)?e.forEach((function(e){return t._removeFilter(e)})):this._removeFilter(e)}},{key:"removeFilterValues",value:function(e,t){var n=this,i=this.state.fieldsMap[e].filterName;this.state.filterMap[i]&&(t.forEach((function(e){delete n.state.filterMap[i][e]})),this.search())}},{key:"removeFilterValue",value:function(e,t){this.state.filterMap[e]&&(delete this.state.filterMap[e][t],this.search())}},{key:"reset",value:function(){var e=this;this.optionalParams.filter((function(e){return"collectionId"!==e})).forEach((function(t){delete e.state[t]})),delete this.state.stemmed,this.state.sequenceType={},this.resetDates(),this.state.filterMap={},this.search()}},{key:"initFilterMap",value:function(){var e=this,t=this.$stateParams,n={},i=function(i){if(i.endsWith(".must")){var a=t[i];if(!a)return"continue";var r=_.isArray(a)?a:[a];"npl.must"===i&&1===r.length&&r[0].indexOf(",")>0&&(r=r[0].split(",")),r.forEach((function(e){var t=i.slice(0,-5);n[t]||(n[t]={}),n[t]&&(n[t][e]=!0)}))}else if(i.endsWith(".mustNot")){var o=t[i];if(!o)return"continue";(_.isArray(o)?o:[o]).forEach((function(e){var t=i.slice(0,-8);n[t]||(n[t]={}),n[t]&&(n[t][e]=!1)}))}else if(i.endsWith(".predicate")){var s=t[i];if(!s)return"continue";var l=i.slice(0,-10);e.state.predicates[l]=s}else if(U.fieldsByFilterName[e.state.type][i]&&"boolean"===U.fieldsByFilterName[e.state.type][i].fieldType){void 0!==t[i]&&(n[i]="true"===t[i])}},a=!0,r=!1,o=void 0;try{for(var s,l=_.keys(t)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)i(s.value)}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}this.state.filterMap=n}},{key:"updateCheckedItems",value:function(){this.state.selectedAll=!1,this.state.checkedItems=this.getSelected().map((function(e){return e.record_lens_id||e.lensId}))}},{key:"select",value:function(e){var t="patent"===this.state.type?this.state.patents:this.state.scholarlyWorks;"none"===e?(this.state.selectedAll=!1,t.forEach((function(e){e.checked=!1}))):"page"===e?(this.state.selectedAll=!1,t.forEach((function(e){e.checked=!0}))):"all"===e&&(this.state.selectedAll=!0,t.forEach((function(e){e.checked=!0}))),this.state.checkedItems=this.getSelected().map((function(e){return e.record_lens_id||e.lensId})),window.closeAllTooltips()}},{key:"getDateFilterField",value:function(){return this.state[this.state.dateFilterField]}},{key:"resetDates",value:function(){var e=this;U.dateFilterKeys.forEach((function(t){(0,k.default)(e.state,t,null)}))}},{key:"initFilterCounts",value:function(){var e=this;_.keys(this.state.filterMap).forEach((function(t){var n=e.state.filterMap[t],i=U.fieldsByFilterName[e.state.type][t];i&&"boolean"!==i.fieldType&&(e.state.filterCounts[t]=_.keys(n).length)})),this.state.filterCounts.flags=0,this.state.sat&&this.state.sat.length&&(this.state.filterCounts["sequence.tax_id"]=1),this.state.flagKeys.forEach((function(t){void 0!==e.state[t]&&e.state.filterCounts.flags++})),U.dateFilterKeys.forEach((function(t){(0,C.default)(e.state,t)&&(e.state.filterCounts.dates=1)})),this.state.filterCounts.classifications=0;["classCpc","classIpcr","classNat"].forEach((function(t){e.state.filterCounts[t]&&(e.state.filterCounts.classifications+=e.state.filterCounts[t])}));var t=_.keys(this.state.sequenceType).filter((function(t){return e.state.sequenceType[t]})).length;(this.state.seqFingerprint||this.state.bioc||this.state.biof)&&t++,t&&(this.state.filterCounts.so||(this.state.filterCounts.so=0),this.state.filterCounts.so+=t),this.state.filterCounts.queryTools=0;this.state.filterCounts.fj||(this.state.filterCounts.fj=0),["f","e","groupByExtendedFamily","expandByExtendedFamily","familyId","extendedFamilyOf"].forEach((function(t){e.state[t]&&e.state.filterCounts.fj++}));["regex","tags","inventorship","inventorshipId","newMatchDate.from","lensIdCreated.from","lensIdCreated.to"].forEach((function(t){e.state[t]&&e.state.filterCounts.queryTools++})),"en"!==this.state.l&&"patent"===this.state.type&&this.state.filterCounts.queryTools++,this.state.stemmed||this.state.filterCounts.queryTools++;var n=_.values(this.state.filterCounts).reduce((function(e,t){return e+t}),0);(this.state.orcids||this.state["authorCount.gte"]||this.state["authorCount.lte"])&&(this.state.filterCounts.authorName?this.state.filterCounts.authorName++:this.state.filterCounts.authorName=1),this.state.collectionIntersectionIds&&n++,(this.state["profile.userId"]||this.state["profile.orcidId"])&&n++;["lensIdCreated.from","lensIdCreated.to"].forEach((function(t){e.state[t]&&n++})),this.$rootScope.totalFilterCount=n,this.state.showQueryDetailsFilter=n>0||this.state.orcids||this.state.collectionEventId;var i=this.state.filterCounts;this.state.filterCounts.openAccess=0,this.state.openAccessFilterKeys.forEach((function(t){e.state.filterCounts.openAccess+=i[t]||0})),this.state.filterCounts.subjectMatter=0;["keyword","chemical","meshTerm","fieldOfStudy","subject"].forEach((function(t){e.state.filterCounts.subjectMatter+=i[t]||0}))}},{key:"addAnalysisView",value:function(e){this.state.showAnalysisInfo=!1;var t=_.cloneDeep(e);t.t=new Date,t.sample=!0,this.state.analysisItems.unshift(t),this.state.analysisQuickSelect=!1,this.state.analysisWizardQuestion=1,this.state.primaryFacet=null,this.state.stepTwo=null,this.storage.set("analysisItems",this.state.analysisItems),this.state.dirtyAnalysis=!0}},{key:"applyDateFilter",value:function(e,t,n){"analysis"===this.state.view&&(this.state.view="list"),"scholar"===this.state.type?(this.state.dateFilterField="publishedYear",this.state.publishedYear={from:e,to:t}):(this.state.dateFilterField=n||"publishedDate",this.state[this.state.dateFilterField]={from:e+"-01-01",to:t+"-12-31"}),this.search()}},{key:"clickAddChart",value:function(){this.state.analysisQuickSelect=!0,this.state.stepTwo=null,setTimeout((function(){var e=document.querySelector(".analysis-wizard");window.scrollY>e.offsetTop&&(0,N.default)(e)}),100)}},{key:"scrollToAnalysisItem",value:function(e){var t=document.querySelectorAll(".analysis-item-container")[e];this.state.showAnalysisItem[e]=!0,(0,N.default)(t),this.state.analysisItemsActiveKey=e}},{key:"clearDashboard",value:function(){this.state.dashboardId=null,this.state.analysisItems=[],this.storage.set("analysisItems",this.state.analysisItems),this.search()}},{key:"restoreDefaultDashboard",value:function(){var e=this;this.state.dashboardId=null,this.state.analysisItems=[],this.state.DefaultDashboard.forEach((function(t){e.state.analysisItems.push(t)})),this.storage.set("analysisItems",this.state.analysisItems),this.search()}},{key:"initDashboard",value:function(){var e=this;if(this.state.dashboardId){var t=this.state.dashboardId;this.$http.get("/lens/service/strings/"+t).then((function(t){e.state.dashboard=t.data,e.state.dashboardTitleInput=t.data.label,e.state.dashboardPublished=t.data.published;var n=JSON.parse(t.data.value);e.state.analysisItems=n.chartConfigs||n,e.RecentWorkService.add({type:"dashboard",id:e.state.dashboardId,title:t.data.label}),e.state.presentation&&e.presentationMode()})).catch((function(t){console.warn(t),(new f.default).error("Failed to load Dashboard"),e.state.analysisItems=e.storage.get("analysisItems")||e.state.DefaultDashboard,document.body.classList.remove("analysis-report")}))}else this.state.presentation?(this.state.analysisItems=this.storage.get("analysisItems")||this.state.DefaultDashboard,this.presentationMode()):this.$stateParams.newDashboard?(this.state.analysisItems=[],this.ignoreAnalysisWarning()):(document.body.classList.remove("analysis-report"),this.state.analysisItems=this.storage.get("analysisItems")||this.state.DefaultDashboard)}},{key:"attemptShareDashboard",value:function(){this.state.dashboard&&!this.state.dirtyAnalysis?this.$rootScope.shareModal():this.showSaveDashboardPrompt()}},{key:"showSaveDashboardPrompt",value:function(){this.state.dashboard||(this.state.dashboardPublished=!0),this.state.saveDashboardPrompt=!0}},{key:"editDashboard",value:function(){this.state.dashboardId=null,this.exitPresentationMode(),setTimeout((function(){window.trySearchTour()}),500)}},{key:"viewDashboard",value:function(){this.state.presentation=!0,this.search()}},{key:"importDashboard",value:function(){this.state.analysisItems=JSON.parse(this.state.importDashboardConfig),this.storage.set("analysisItems",this.state.analysisItems),this.state.importDashboard=!1}},{key:"presentationMode",value:function(){var e=this;this.state.analysisColumns=!1,this.state.facetsLoading=!0,document.body.classList.add("analysis-report"),this.$timeout((function(){e.state.facetsLoading=!1,setTimeout((function(){window.beSticky(".analysis-table-of-contents")}),100),$("#menu>div:eq(0)>a").one("click",(function(t){t.preventDefault(),e.editDashboard()}))}),100)}},{key:"exitPresentationMode",value:function(){this.state.presentation=!1,this.search()}},{key:"saveDashboard",value:function(){var e=this;if(this.state.dashboardId){var t=this.state.dashboardTitleInput||"Untitled Dashboard",n=!0===this.state.dashboardPublished;this.$http.put("/lens/service/strings/"+this.state.dashboardId,{type:this.state.type+"-dashboard",label:t,published:n,value:JSON.stringify(_.extend(this._getUrlParams(),{chartConfigs:this.state.analysisItems}))}).then((function(t){e.state.dirtyAnalysis=!1,e.state.saveDashboardPrompt=!1,e.state.savingDashboard=!1,e.$rootScope.$broadcast("REFRESH_DASHBOARD_LIST"),e.$timeout((function(){e.attemptShareDashboard()}),200)})).catch((function(t){console.warn(t),e.state.savingDashboard=!1}))}else this.saveNewDashboard()}},{key:"saveNewDashboard",value:function(){var e=this;this.state.savingDashboard=!0,this.$http.post("/lens/service/strings",{type:this.state.type+"-dashboard",label:this.state.dashboardTitleInput||"Untitled Dashboard",published:!0===this.state.dashboardPublished,value:JSON.stringify(_.extend(this._getUrlParams(),{chartConfigs:this.state.analysisItems}))}).then((function(t){e.state.dirtyAnalysis=!1,e.state.saveDashboardPrompt=!1,e.state.dashboard=t.data,e.state.dashboardId=t.data.id,e.state.dashboardTitleInput=t.data.label,e.state.dashboardPublished=t.data.published,e.state.savingDashboard=!1,e.$rootScope.$broadcast("REFRESH_DASHBOARD_LIST"),e.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.$timeout((function(){e.attemptShareDashboard()}),1e3),e.search()})).catch((function(t){console.warn(t),e.state.savingDashboard=!1}))}},{key:"ignoreAnalysisWarning",value:function(){this.state.ignoreAnalysisLimit=!0,this.state.showAnalysisLimitWarning=!1,this.sessionStorage.set("ignoreAnalysisLimit",!0)}},{key:"expandAll",value:function(){var e=this,t="patent"===this.state.type?this.state.patents:this.state.scholarlyWorks;if(t){this.state.expandedAll=!this.state.expandedAll,t.forEach((function(t){t.expanded=e.state.expandedAll,t.loading=e.state.expandedAll}));this.state.expandedAll&&function n(i){var a="scholar"===e.state.type?"getScholarlyWork":"getPatent";t[i].expanded=!0,t[i].loading=!0;var r=function(e){t[i+1]&&setTimeout((function(){n(i+1)}),i%4==0?2e3:100)};e[a](t[i],!0).then(r).catch(r)}(0)}}},{key:"_addFilter",value:function(e,t){var n=this.state.fieldsMap[e].filterName;this.state.filterMap[n]||(this.state.filterMap[n]={}),this.state.filterMap[n][t]=!0}},{key:"_addExcludeFilter",value:function(e,t){var n=this.state.fieldsMap[e].filterName;this.state.filterMap[n]||(this.state.filterMap[n]={}),this.state.filterMap[n][t]=!1}},{key:"addFilter",value:function(e,t,n,i){var a=this;if(e.startsWith("class_"))return this.$rootScope.classificationViewer={type:e.slice(6).toUpperCase().slice(0,3),term:t},void this.$rootScope.$digest();this.state.showFacet[e]=!0,_.isArray(t)?t.forEach((function(t){a._addFilter(e,t)})):this._addFilter(e,t),this.search()}},{key:"addExcludeFilter",value:function(e,t){var n=this;_.isArray(t)?t.forEach((function(t){n._addExcludeFilter(e,t)})):this._addExcludeFilter(e,t),this.search()}},{key:"toggleSubjectMatterPanel",value:function(){var e=this;this.state.facets.scholar&&(this.state.showSubjectMatterPanel=!this.state.showSubjectMatterPanel,this.state.showSubjectMatterPanel&&!this.state.facets.scholar.keyword&&(this.state.subjectMatterLoading=!0,this._scholarAggs(H.subjectMatterAggs).then((function(t){e.state.subjectMatterLoading=!1,_.extend(e.state.facets.scholar,t)}))))}},{key:"forceDigest",value:function(){this.$timeout((function(){}),10)}},{key:"changeChooseMoreMode",value:function(){this.state.chooseMoreFilter="";var e=this.state.showMoreFacet;"all"===this.state.chooseMoreMode?this.state.facetSearch[this.state.chooseMoreMode][e]={}:this.state.facetSearch[this.state.chooseMoreMode][e]={"":this.state.facets[this.state.type][e]},this.changeChooseMoreSearchInput()}},{key:"changeChooseMoreSearchInput",value:function(){var e=this,t=this.state.chooseMoreFilter||"";t||(this.state.showFacetSearch[n]=!1);var n=this.state.showMoreFacet;if(this.state.facetSearch[this.state.chooseMoreMode][n]||(this.state.facetSearch[this.state.chooseMoreMode][n]={}),"author.affiliation.grid.address.country_code"!==n)if("jurisdiction"!==n){var i={},a=void 0;"scholar"===this.state.type?("all"!==this.state.chooseMoreMode&&(i=this._createBasicScholarRequest().params),a=this.ScholarService.facetSearch(n,t,i,100)):("all"!==this.state.chooseMoreMode&&(i=this._createPatentRequest().params),a=this.PatentService.facetSearch(n,t,i,100)),this.state.searchingFacets[n]=!0,this.$q.when(a).then((function(i){e.state.searchingFacets[n]=!1,i&&(e.state.showFacetSearch[n]=!0,i=(i=n.includes(".display_name")?(0,K.authorSearch)(i,t,100):new u.default(i,window.FUSE_OPTS).search(t)).map((function(e){return e.item})),e.state.facetSearch[e.state.chooseMoreMode][n][t]=_.uniqBy(i,(function(e){return e.key})))}))}else{var r="all"!==this.state.chooseMoreMode?this.state.facets.patent.jurisdiction:P.default.jurisdiction.buckets,o=_.values(r),s=_.cloneDeep(window.FUSE_OPTS);s.keys=["label"];var l=new u.default(o,s).search(t).map((function(e){return e.item}));this.state.facetSearch[this.state.chooseMoreMode][n][t]=l}else{var c="all"!==this.state.chooseMoreMode?this.state.facets.scholar["author.affiliation.grid.address.country_code"]:x.default["author.affiliation.grid.address.country_code"].buckets;"all"===this.state.chooseMoreMode&&c.forEach((function(e){e.label||(e.label=I.default.country(e.key))}));var d=_.values(c),p=_.cloneDeep(window.FUSE_OPTS);p.keys=["label"];var f=new u.default(d,p).search(t).map((function(e){return e.item}));this.state.facetSearch[this.state.chooseMoreMode][n][t]=f}}},{key:"clickChooseMore",value:function(e){var t=this,n=_.get(this.state.addFilter,e);n&&(this.state.chooseMoreFilter=n),this.state.showMoreFacet=e,this.getTopFacets(e),setTimeout((function(){document.querySelector(".explorer-search-input").focus(),n&&t.changeChooseMoreSearchInput()}),500)}},{key:"getTopFacets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=Z({},e,{terms:{field:e,size:n}}),a=void 0;if("scholar"===this.state.type){var r=this._createBasicScholarRequest(),o=r.params;a=this.ScholarService.facets(o,i)}else{var s=this._createPatentRequest(),l=s.params;a=this.PatentService.facets(l,i)}return this.$q.when(a).then((function(n){return _.assign(t.state.facets[t.state.type][e],n[e]),n}))}},{key:"allDocsNewSearchUrl",value:function(){var e=this.state.fieldsMap[this.state.showMoreFacet],t={},n=this.state.filterMap[e.filterName],i=this.state.facetSearch[this.state.chooseMoreMode][this.state.showMoreFacet];if(i&&n){var a=i[this.state.chooseMoreFilter];a&&a.forEach((function(e){n&&n[e.key]&&(t[e.key]=!0)}))}if(_.keys(t).length){var r=Z({},e.filterName,t),o=(0,q.filterMapToQueryParams)(r),s=$.param(o,!0);return"/lens/search/"+this.state.type+"/list?"+s}}},{key:"openSaveQueryDialog",value:function(){this.saveQueryDialogOpen=!0}},{key:"cancelSaveQuery",value:function(){this.saveQueryDialogOpen=!1}},{key:"saveQuery",value:function(e){var t=this;this.savedQuery.queryId=this.state.queryId,this.savedQuery.title=e.title,this.savedQuery.published=e.published,this.savedQuery.description=e.description,this.savedQuery.queryType="scholar"===this.state.type?"SCHOLARLY":"PATENT";var n=new f.default;return this.savedQuery.$save().then((function(){n.notify("Query Saved"),t.saveQueryDialogOpen=!1,t.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY")})).catch((function(e){console.error(e),n.error("Could not save Query")}))}},{key:"editTags",value:function(e,t){t.showTags=!t.showTags,t.showTags&&(t.inputTags=t.metadata.tags.join(","),setTimeout((function(){var t=e.currentTarget.closest(".div-table-results-row");$(t).find(".resultTags input").focus()}),10))}},{key:"addTags",value:function(e){var t=e.inputTags.trim().split(" ").map((function(e){return e.trim()})).join(","),n="patent"===this.state.type?this.PatentService:this.ScholarService,i=n.addTags(e.lensId||e.record_lens_id,t);this.$q.when(i).then((function(i){e.metadata||(e.metadata={}),e.metadata.tags=i||t.split(","),e.showTags=!1,n.clearCache()}))}},{key:"editQueryLink",value:function(){return"/lens/search/edit"+window.location.search+"&type="+this.state.type.toUpperCase()}},{key:"removeOrcidId",value:function(e){this.state.orcids=this.state.orcids.split(",").filter((function(t){return t!==e})).join(","),this.search()}},{key:"removeTag",value:function(e){this.state.tags=this.state.tags.split(",").filter((function(t){return t!==e})).join(","),this.search()}},{key:"analysisTour",value:function(){this.clickAddChart(),(0,a.default)()}},{key:"_export",value:function(){var e=this;this.state.export=!1;var t="scholar"===this.state.type?this._createScholarRequest():this._createPatentRequest(),n=t.params,i=t.body;_.assign(i,this.state.exportConfig),i.async=i.size>1e3,i.fields=_.keys(this.state.exportConfig.fields).filter((function(t){return e.state.exportConfig.fields[t]})).filter(this.exportFieldFilter),("scholar"===this.state.type?this.ScholarService:this.PatentService).export(n,i).then((function(t){var n=new f.default;500===t.status?(console.error(t),n.error("Export Failed")):202===t.status||i.async?n.notify(window.messages.prop("export.async.success"),{life:5e3}):200===t.status&&t.text().then((function(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"}),i=e.state.exportConfig.format||"CSV",a=e.state.exportConfig.filename||"lens-export";s.default.saveAs(n,a+"."+({BIBTEX:"bib"}[i]||i.toLowerCase()))}))}))}},{key:"export",value:function(){this.state.export=!0}},{key:"selectAllExportFields",value:function(e){var t={};this.state.exportFieldsList.forEach((function(n){t[n]=e})),this.state.exportConfig.fields=t}},{key:"exportFieldFilter",value:function(e){if(this){var t=("scholar"===this.state.type?B.UNSUPPORTED_EXPORT_FIELDS:B.PATENT_UNSUPPORTED_EXPORT_FIELDS)[this.state.exportConfig.format];return!t||!_.includes(t,e)}console.warn("WARNING: exportFieldFilter not bound properly")}},{key:"searchId",value:function(){this.state.looksLikeAnId=!1;var e=(0,E.default)(this.state.q).isLens,t=e?"lens_id":"citation_id";"patent"!==this.state.type||e||(t="pub_key");var n=this.state.q.trim();this.state.q=t+':"'+n+'"',this.search()}},{key:"neverAskAboutId",value:function(){this.sessionStorage.set("neverAskAboutId",!0),this.state.looksLikeAnId=!1,this._search()}},{key:"toggleFlag",value:function(e){this.state.filterMap[e]?delete this.state.filterMap[e]:this.state.filterMap[e]=!0,this.search()}},{key:"getChartTitle",value:function(e,t){return e.title?e.title:"Chart "+(t+1)+" ("+(((0,z.getChartMetadata)(e)||{}).label||e.view)+")"}},{key:"loadDashboard",value:function(e){this.$state.go("search.results",{view:"analysis",dashboardId:e})}},{key:"addClause",value:function(e){var t={field:e.field};e.value&&(t.value=e.value),this.state.clauses.push(t),window.dispatchEvent(new CustomEvent("addClause",{detail:{field:e.field}})),setTimeout((function(){var e=document.querySelectorAll(".search-fields-add-column input");e[e.length-1].focus()}),200)}},{key:"removeClause",value:function(e){this.state.clauses=_.reject(this.state.clauses,(function(t,n){return n===e}))}},{key:"printClause",value:function(){var e=this,t=this.state.clauses.filter((function(e){return e.value})).map((function(t){return(0,V.formatClause)(t,e.state.predicate)})),n=_.keys(this.state.selectedClassifications).filter((function(t){return e.state.selectedClassifications[t]}));if(n.length){var i=(0,G.addClassificationSearch)(this.state.classificationViewer.type,n,!0,this.state.predicate);t.push(i)}return t.join(" "+(this.state.predicate||"AND")+" ")}},{key:"scholarDatasetFilter",value:function(e){return e.uniqueCountLabel&&e.uniqueCountShort&&0===e.key.indexOf("has_")||0===e.key.indexOf("is_")}},{key:"scholarDatasetFilterAlt",value:function(e){return e.uniqueCountLabel&&e.uniqueCountShort&&-1===e.key.indexOf("has_")&&-1===e.key.indexOf("is_")}},{key:"isNewSearch",value:function(){return""===this.state.q}},{key:"refreshCollection",value:function(e,t){e.id===parseInt(this.state.collectionId)&&(t&&t.removeSearchFromCollection?(this.state.q="",this.reset()):this.search())}},{key:"deleteCollection",value:function(e){var t=this.state.collection;t&&t.id===e&&this.$state.go("workArea.collections")}},{key:"getFieldByClauseIndex",value:function(e){var t=this.state.clauses[e].field;return this.getField(t)}},{key:"getField",value:function(e){return this.state.fieldsMap[e]||{}}},{key:"getFieldType",value:function(e){return this.getField(e).fieldType||"text"}},{key:"getPlaceholder",value:function(e){if(!e)return"e.g. malaria";var t=this.getField(e);return t.example?"e.g. "+t.example:""}},{key:"changeClause",value:function(e){var t=this,n=this.getFieldByClauseIndex(e);if(n.facetSearch){this.state.addFilter=Z({},n.key,this.state.clauses[e].value);var i=this.autocomplete(n.key);this.state.searchingAutocomplete[e]=!0,this.state.showOverlay=!1,this.state.showAutocomplete[e]=!0,this.state.showOverlay=!0,i&&i.then?i.then((function(i){t.state.searchingAutocomplete[e]=!1,t.state.autocomplete[e]=t.state.autocomplete[n.key]})).catch((function(n){console.error(n),t.state.showOverlay=!1,t.state.searchingAutocomplete[e]=!1,(new f.default).error("Autosuggest failed")})):(this.state.searchingAutocomplete[e]=!1,this.state.autocomplete[e]=this.state.autocomplete[n.key])}}},{key:"keyupClause",value:function(e,t){var n=this.state.clauses[t].value;("Escape"===e.key||!n||!n.length||n.length<3)&&(this.state.showAutocomplete[t]=!1,this.state.showOverlay=!1,this.state.patentDocPreview=null),this.state.nestedQueryWarning[t]=n.match(/ AND | OR | \|\| | && /g)}},{key:"clickOverlay",value:function(){this.state.showOverlay=!1,this.state.showAutocomplete={}}},{key:"selectAutosuggestItem",value:function(e,t,n){var i='"'+t+'"';n.ctrlKey||n.metaKey?this.addClause({field:this.state.clauses[e].field,value:i}):(this.state.clauses[e].value=i,this.state.showAutocomplete[e]=!1,this.state.showOverlay=!1)}},{key:"searchFields",value:function(){var e=this;this.state.fieldTips={patent:{},scholar:{}};if((this.state.fieldsFilterInput||"").length){var t=_.clone(window.FUSE_OPTS);t.shouldSort=!1,t.threshold=.3,t.keys=["key","label"],new u.default(this.state.fieldsList[this.state.type].filter((function(e){return e.type&&!e.excludedSearch})),t).search(this.state.fieldsFilterInput).map((function(e){return e.item})).forEach((function(t){var n=t.type.toLowerCase();e.state.fieldTips[n][t.group]||(e.state.fieldTips[n][t.group]=[]),e.state.fieldTips[n][t.group].push(t)}))}else this.state.fieldTips=this.state.fieldGroups}},{key:"togglePredicate",value:function(e){e=U.fieldsMap[e].filterName;var t=this.state.predicates[e];this.state.predicates[e]="AND"===t?"OR":"AND"}},{key:"launchClassificationViewer",value:function(e,t,n){e.preventDefault(),e.stopPropagation(),this.$rootScope.classificationViewer={type:t.split("class_")[1].replace(".symbol","").toUpperCase(),term:n.label}}},{key:"createReport",value:function(e){e.preventDefault(),this.state.creatingReport=!0,this.ReportService.create(this.state.newReport.title,this.state.newReport.subheading)}},{key:"isAuthorField",value:function(e){return U.authorFields.includes(e)}},{key:"quickAnalysis",value:function(e){var t=U.fieldsMap[e];t&&(this.state.dashboardId=t.quickAnalysisDashboardId,this.state.view="analysis",this.search())}},{key:"getPreviousSearchQuery",value:function(e){return e}},{key:"filtersNotInAggs",value:function(e){var t={},n=this.state.fieldsMap[e];if(!this.state.filterMap||!n)return{};var i=this.state.filterMap[n.filterName],a=this.state.facets[this.state.type];if(!a||!i)return{};var r=a[e];return _.keys(i).forEach((function(e){r&&0===r.filter((function(t){return t.key===e})).length&&(t[e]=i[e])})),t}},{key:"updateQueryDetailsLogo",value:function(){var e=this;this.state.singleInstitutionName=null;var t=this.state.filterMap;["applicant","owner","institution"].forEach((function(n){var i=_.keys(t[n]).filter((function(e){return t[n][e]}));t[n]&&1===i.length&&(e.state.singleInstitutionName=i[0])}))}},{key:"initCollection",value:function(){var e=this;this.state.collectionNotFound=!1,!this.state.collectionId&&!this.state.joinCollectionId||this.state.collection||this.CollectionService.fetch(this.state.collectionId||this.state.joinCollectionId).then((function(t){t.user.type="personal",e.state.collection=t,e.RecentWorkService.add({type:"collection",id:t.id,title:t.title,dataType:e.state.type})})).catch((function(t){console.error(t),e.state.collectionNotFound=!0}))}},{key:"clickPatentMetric",value:function(e){if("Simple Families"===e)this.groupByFamily("f");else if("Extended Families"===e)this.groupByFamily("groupByExtendedFamily");else if("NPL Citations"===e||"Resolved NPL Citations"===e){var t={patentQueryId:this.state.queryId,type:"scholar"};this.$state.go("search.results",t,{inherit:!1})}else"Cites NPL"===e?this.$state.go("search.results",{citesNpl:!0}):"Cites Patents"===e?this.$state.go("search.results",{citesPatent:!0}):"Cited By Patents"===e&&this.$state.go("search.results",{citedByPatent:!0})}},{key:"updateGroupByFamilyWarning",value:function(){this.state.e&&(this.state.f=!1)}},{key:"toggleSelectAllChooseMore",value:function(){void 0===this.state.chooseMoreAllSelected?(this.state.chooseMoreAllSelected=!0,$(".exp-scroll-window-inner input[type=checkbox]:not(:checked)").trigger("click")):this.state.chooseMoreAllSelected?(this.state.chooseMoreAllSelected=!1,$(".exp-scroll-window-inner input[type=checkbox]:checked").trigger("click")):(delete this.state.chooseMoreAllSelected,$(".exp-scroll-window-inner input[type=checkbox]:indeterminate").trigger("click"))}},{key:"persistTableSettings",value:function(){this.storage.set("tableColumns",this.state.tableColumns),this.storage.set("tableDensity",this.state.tableDensity)}},{key:"persistListSettings",value:function(){this.storage.set("listView",this.state.listView)}},{key:"groupByFamily",value:function(e){delete this.state.e,delete this.state.f,delete this.state.groupByExtendedFamily,delete this.state.expandByExtendedFamily,e&&(this.state[e]=!0),this.search()}},{key:"legalStatusModal",value:function(e){var t=this;e.legal_status.calculation_log?this.state.legalStatusModal=e:this._getPatent(e).then((function(e){t.state.legalStatusModal=e}))}},{key:"countryGroupFilterCount",value:function(e,t){var n=this.state.filterMap.country||{};return _.keys(n).filter((function(i){return n[i]===t&&e.includes(i)})).length}}]),t}(O.BaseSearchController),X=A.default.controller("SearchController",["$stateParams","$q","$http","$state","$element","$timeout","$cacheFactory","$rootScope","$transitions","$scope","PatentService","ScholarService","CollectionService","OrcidService","SavedQueryResource","ReportService","RecentWorkService",Q]);e.exports=X},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!(window.innerWidth<900)){var e={text:"Skip Tour",className:"anno-btn-low-importance",click:function(e,t){e.hide()}},t=function(){$("body").toggleClass("search-tour-filter-step-active",!0)},n=function(){$("body").toggleClass("search-tour-filter-step-active",!1)},i=[{target:".analysis-tour-1",position:"right",className:"anno-width-400",content:"\n            <h4>Analysis Feature Tour</h4>\n            <p>Welcome to the Lens Analysis. This feature tour will explain how to visualise the results of your search.</p>\n        ",buttons:[e,window.Anno.NextButton],onShow:t,onHide:n},{target:".analysis-tour-3",position:"top",className:"anno-width-400",content:"\n            <p>This is the Add Chart Wizard. It provides simple default chart configurations. These can be modified once created so feel free to explore!</p>\n        ",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n},{target:".analysis-tour-4",position:"top",className:"anno-width-400",content:"\n            <p>This is your visualisation. Click the settings dropdown in the top right to configure data, size, colour and chart types. When viewing a chart, use your mouse wheel to zoom in and out, click a circle to view that indiviual item or filter your search.</p>\n        ",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n},{target:".analysis-tour-5",position:"bottom",content:"You can add more charts, change views and share your dashboard using the toolbar.",buttons:[e,window.AnnoButton.BackButton,window.Anno.NextButton],onShow:t,onHide:n}];new window.Anno(i).show()}}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{type:"scholar",label:'Scholarly Works authored by "Craig Venter"',url:"/lens/search/scholar/list?q=author.display_name:(%22Craig%20Venter%22)"},{type:"scholar",label:'Scholarly works on "CRISPR" technology',url:"/lens/search/scholar/list?q=field_of_study:CRISPR%20OR%20keyword:CRISPR%20OR%20mesh_term.mesh_heading:CRISPR*"},{type:"scholar",label:'Scholarly works by "Harvard University" authors in Medicine',url:"/lens/search/scholar/list?q=author.affiliation.name:(%22Harvard%20University%22)%20AND%20field_of_study:Medicine"},{type:"scholar",label:'Scholarly works from the "International Symposium on Computer and Information Sciences" published in 2011',url:"/lens/search/scholar/list?q=conference.instance:(%22ISCIS%202011%22)%20OR%20conference.name:(%22International%20Symposium%20on%20Computer%20and%20Information%20Sciences%22)&publishedYear.from=2011&publishedYear.to=2011&regex=false&p=0&n=10&s=score&d=%2B&dateFilterField=year_published&preview=false"},{type:"scholar",label:'Scholarly works on "Solar Power Generation"',url:"/lens/search/scholar/list?q=title:(%22solar%20power%20generation%22)%20OR%20abstract:(%22solar%20power%20generation%22)%20OR%20fulltext:(%22solar%20power%20generation%22)%20OR%20title:(%22photovoltaic%20power%20generation%22)%20OR%20abstract:(%22photovoltaic%20power%20generation%22)%20OR%20fulltext:(%22photovoltaic%20power%20generation%22)"},{type:"scholar",label:"Scholarly works with clinical trials and UK funding ",url:"/lens/search/scholar/list?q=funding.country:(%22United%20Kingdom%22)%20AND%20has_clinical_trial:true"},{type:"scholar",label:"Scholarly works with clinical trials cited by patents ",url:"/lens/search/scholar/list?q=is_referenced_by_patent:true%20AND%20has_clinical_trial:true"},{type:"scholar",label:"Open access scholarly works cited by patents ",url:"/lens/search/scholar/list?q=is_referenced_by_patent:true&isOpenAccess=true"},{type:"patent",label:'Patents with "Solar Power" or "Photovoltaic Power" in the title/abstract/claim',url:"/lens/search/patent/list?st=true&q=title:(%22solar%20power%22)%20OR%20abstract:(%22solar%20power%22)%20OR%20claim:(%22solar%20power%22)%20OR%20title:(%22photovoltaic%20power%22)%20OR%20abstract:(%22photovoltaic%20power%22)%20OR%20claim:(%22photovoltaic%20power%22)&p=0&n=10&l=en"},{type:"patent",label:'US Patents with "Electric" and "Bicycle" in the abstract',url:"/lens/search/patent/list?st=true&q=abstract:(electric AND bicycle)&p=0&n=10&l=en&j.must=US"},{type:"patent",label:'Patents referencing "climate change" in the full text',url:"/lens/search/patent/list?q=description:%22climate%20Change%22&p=0&n=10&l=en"},{type:"patent",label:'Patents with "Breast cancer gene" in the claim',url:"/lens/search/patent/list?q=claim:%22breast%20cancer%20gene%22&p=0&n=10&l=en"},{type:"patent",label:"Patents filed by MIT",url:"/lens/search/patent/list?q=applicant.name.exact:(%22MASSACHUSETTS%20INST%20TECHNOLOGY%22%20OR%20%20%22MASSACHUSETTS%20INSTITUTE%20OF%20TECHNOLOGY%22)&p=0&n=10&s=&d=&f=false&e=false&l=en&dateFilterField=publishedDate&presentation=false&preview=&stemmed=true&useAuthorId=false"}]},function(e,t,n){var i=n(134),a=n(55),r=n(136),o=n(15),s=n(34);e.exports=function(e,t,n,l){if(!o(e))return e;for(var c=-1,u=(t=a(t,e)).length,d=u-1,p=e;null!=p&&++c<u;){var f=s(t[c]),m=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=d){var h=p[f];void 0===(m=l?l(h,f,p):void 0)&&(m=o(h)?h:r(t[c+1])?[]:{})}i(p,f,m),p=p[f]}return e}},function(e,t,n){var i=n(14),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e){e.exports=JSON.parse('{"Patent Records":132955349,"Simple Families":74726126,"Extended Families":71484685,"Cites Patents":38781164,"Cited By Patents":45957038,"Patent Citations":344845011,"Cites NPL":11873885,"NPL Citations":60835959,"Resolved NPL Citations":23357551}')},function(e,t,n){"use strict";window.jur_mapping={AP:{name:"ARIPO Patents",z:10,countries:["BW","GH","GM","KE","LS","MW","MZ","NA","SL","TZ","UG","ZM","ZW"]},CS:{name:"Czechoslovakia",countries:["CZ"]},DD:{name:"German Democratic Republic",countries:["DE"]},EA:{name:"Eurasian Patents",z:20,countries:["AM","AZ","BY","KG","KZ","MD","RU","TJ","TM"]},EP:{name:"European Patents",z:15,countries:["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MK","MT","NL","NO","PL","PT","RO","SE","SI","SK","SM","SZ","TR"]},GC:{name:"GCC Patents",z:25,countries:["BH","KW","OM","QA","SA","AE"]},OA:{name:"OAPI Patents",z:5,countries:["BF","BJ","CF","CG","CI","CM","GA","GN","GQ","GW","ML","MR","NE","SN","TD"]},SU:{name:"Soviet Union",countries:["RU"]},WO:{name:"WO - WIPO",z:0,countries:["AE","AG","AL","AM","AO","AT","AU","AZ","BA","BB","BE","BF","BG","BH","BJ","BR","BW","BZ","CA","CF","CG","CH","CI","CL","CM","CN","CO","CR","CU","CY","CZ","DE","DK","DM","DO","DZ","EC","EE","EG","ES","FI","FR","GA","GB","GD","GE","GH","GM","GN","GQ","GR","GT","GW","HN","HR","HU","ID","IE","IL","IN","IS","IT","JP","KE","KG","KM","KN","KP","KR","KZ","LA","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MK","ML","MN","MR","MT","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NZ","OM","PE","PG","PH","PL","PT","RO","RS","RU","SC","SD","SE","SG","SI","SK","SL","SM","SN","ST","SV","SY","SZ","TD","TG","TH","TJ","TM","TN","TR","TT","TZ","UA","UG","US","UZ","VC","VN","ZA","ZM","ZW"]},YU:{name:"Yugoslavia/Serbia and Montenegro",countries:["RS","ME"]},AN:{name:"Netherlands Antilles"},BX:{name:"Benelux office for Intellectual Property (BOIP)"},IB:{name:"world intellectual property organization (WIPO)"},NT:{name:"Neutral Zone"},PZ:{name:"Palmyra Atoll"},WK:{name:"Wake Island"},XN:{name:"Nordic Patent Institute (NPI)"},XV:{name:"Visegrad Patent Institute (VPI)"}}},function(e,t,n){"use strict";e.exports={type:"plain",pre_tags:['<span class="highlight">'],post_tags:["</span>"],fields:{title:{fragment_size:500},fulltext:{},claim:{},description:{},abstract:{}},number_of_fragments:3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Simple Families":{cardinality:{field:"family.simple.id"}},"Extended Families":{cardinality:{field:"family.extended.id"}},"Cites Patents":{filter:{term:{cites_patent:!0}}},"Cited By Patents":{filter:{term:{cited_by_patent:!0}}},"Patent Citations":{sum:{field:"cited_by.patent_count"}},"Cites NPL":{filter:{term:{cites_npl:!0}}},"NPL Citations":{sum:{field:"reference_cited.npl_count"}},"Resolved NPL Citations":{sum:{field:"reference_cited.npl_resolved_count"}}}},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(60),o=l(n(0)),s=l(n(38));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(e,n,i,a,o,s,l,c,u,d,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c,u,o));f.$http=a,f.$q=o,f.$rootScope=s,f.$scope=i,f.$state=n,f.OrcidService=d,f.PatentService=c,f.LinkedIdentityResource=p;var m=e.orcid||"";f.state={profileMentions:null,_histogramFilter:[],histogramFilter:[],isProfile:!0,loading:!0,forceOwner:e.forceOwner,orcid:m.toUpperCase(),patentLimit:20,scholarLimit:20,showProfileSidebar:!0,tab:"education",userId:parseInt(e.userId),wizardAuthorsLimit:10},f.histogramFilter=f.histogramFilter.bind(f);var h=_.debounce((function(e){f.state._histogramFilter=e,f.$scope.$digest()}),200);f.$scope.$watch("$ctrl.state.histogramFilter",(function(e){h(e)})),f.scholarRequestBody={size:100,sort:[{referenced_by_count:{order:"desc"}}],_source:{includes:f.ScholarService.MOST_FIELDS}},f.patentSort=[{"cited_by.patent_count":{order:"desc"}}],f.scholarAggs=r.profileScholarAggs,f.patentAggs={pub_year:{terms:{field:"pub_year",size:300}}};var y=function(e){f.state.importPatentWizard=null,f.state.importScholarWizard=null,i.type=e.split(".").pop(),f.state.type=i.type,f.state.userId?f.initUser():f.state.noLinkedOrcid=!0,f.state.orcid&&f.initOrcid()};y(n.current.name),"st-filters"===f.$rootScope.sideTabsView&&f.collapseSidebar(),s.isAnon||(f.initCurrentUser(),f.initFollowing());var g=[];return g.push(l.onSuccess({},(function(e){return y(e.to().name)}))),g.push(s.$on("PROMPT_CREATE_NEW_COLLECTION",(function(e,t){f.state.promptNewCollection=!0}))),g.push(s.$on("DISMISS_CREATE_COLLECTION",(function(e,t){f.state.promptNewCollection=!1}))),i.$on("$destroy",(function(){g.forEach((function(e){return e()}))})),document.body.classList.toggle("lens-ui-scholar",!1),document.body.classList.toggle("lens-ui-patent",!1),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"collapseSidebar",value:function(){"st-collapse"!==this.$rootScope.sideTabsView&&this.$rootScope.setSideTabsView("st-collapse")}},{key:"scrollToList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){var e=document.getElementById("user-profile-nav");(0,s.default)(e)}),e)}},{key:"initCurrentUser",value:function(){var e=this,t=this.LinkedIdentityResource.query();t.$promise.then((function(){var n=t.filter((function(e){return"ORCID"===e.provider&&e.active}));e.state.currentUserHasLinkedOrcid=n.length>0}))}},{key:"initFollowing",value:function(){var e=this,t=this.state.userId||this.state.orcid,n=fetch("/lens/service/follow/"+t+"/following");this.$q.when(n).then((function(e){return e.json()})).then((function(t){e.state.following=t}))}},{key:"currentUserIsOwner",value:function(){return this.state.forceOwner||this.$rootScope.user.id===this.state.userId}},{key:"fetchPatents",value:function(){var e=this;this.state.patentLoading=!0;var t=this.state.userId?{"profile.userId":this.state.userId}:{"profile.orcidId":this.state.orcid},n=this.PatentService.search(t,{size:100,sort:[{"cited_by.patent_count":{order:"desc"}}],_source:{includes:this.PatentService.MOST_FIELDS}});this.$q.when(n).then((function(t){e.state.patentLoading=!1,e.state.totalPatentHits=t.totalHits||t.size,e.state.patents=t.hits,e.state.totalPatentHits||!e.currentUserIsOwner()||"patent"!==e.state.type?e.currentUserIsOwner()&&e.autoBulkClaim():e.state.importPatentWizard={step:1,name:e.getName()}})).catch((function(t){console.error(t),e.state.patentLoading=!1,e.state.patentError=t}))}},{key:"fetchScholar",value:function(){var e=this,t=this.state.userId?c({},"profile.userId",this.state.userId):c({},"profile.orcidId",this.state.orcid);this.state.scholarLoading=!0;var n=Promise.all([this.ScholarService.search(t,this.scholarRequestBody),this.ScholarService.facets(t,this.scholarAggs)]);this.$q.when(n).then((function(t){var n=i(t,2),a=n[0],r=n[1];e.initScholar(a,r)})).catch((function(t){console.error(t),e.state.scholarLoading=!1,e.state.scholarError=!0}))}},{key:"initScholar",value:function(e,t){e.totalHits>1e3&&console.error("Display warning: over 1000 publications?"),this.state.scholarLoading=!1,this.state.scholarlyWorks=e.hits,this.state.totalHits=e.totalHits,this.state.collaborationIndex=Math.round(t.collaboration_index.doc_count/t.collaboration_index_denominator.doc_count*100),this.state.coauthors=t.coauthors,this.state.dates=t.dates,this.state.institutions=t["author.affiliation.name.keyword"],this.state.authors=t.authors,this.state.patentCitations=t["Patent Citations"].value,this.state.scholarCitations=t["Scholarly Citations"].value,this.state.fieldsOfStudy=t.field_of_study,this.state.openAccessCount=t.is_open_access.doc_count,this.state.openAccessRatio=Math.round(this.state.openAccessCount/this.state.totalHits*100),this.state.totalHits||!this.currentUserIsOwner()||"scholar"!==this.state.type?(this.currentUserIsOwner()&&"scholar"===this.state.type&&this.autoBulkClaim(),this.initHindex(this.state.scholarlyWorks),this.initHistogram(t,this.state.scholarlyWorks)):this.state.importScholarWizard={step:1,name:_.get(this.state,"orcidProfile.name")||_.get(this.state,"userProfile.displayName")}}},{key:"initHindex",value:function(e){var t=this,n=_.orderBy(_.clone(e),(function(e){return e.referenced_by_count}),"desc");this.state.hIndex=0,n.forEach((function(e,n){n<e.referenced_by_count&&(t.state.hIndex=n+1)}))}},{key:"autoBulkClaim",value:function(){}},{key:"search",value:function(){var e={type:this.state.type,view:"list",q:this.state.q};this.state.userId?e["profile.userId"]=this.state.userId:this.state.orcid&&(e["profile.orcidId"]=this.state.orcid),this.$state.go("search.results",e)}},{key:"initHistogram",value:function(e,t){var n=this;if(this.$q.when(this.PatentService.facets({"profile.orcidId":this.state.orcid},this.patentAggs)).then((function(e){e&&e.pub_year&&(n.state.patentHistogramData=e.pub_year,!t.length&&n.state.patentHistogramData.length>1&&(n.state.patentHistogram=!0))})),t.length){this.state.histogramLoading=!0;var i=t.map((function(e){return"reference.lens_id:"+e.record_lens_id})).join(" OR "),a=this.ScholarService.facets({q:i},{dates:r.profileScholarAggs.dates});this.$q.when(a).then((function(t){var i={};t.dates.forEach((function(e){i[e.label]=e.value})),n.state.histogramData=e.dates.map((function(e){return{key:e.key,label:e.label,value:e.value,citations:i[e.label]||0}})),!n.state.histogramData.length&&n.state.patentHistogramData&&(n.state.patentHistogram=!0),t.dates.forEach((function(e){n.state.histogramData.filter((function(t){return t.label===e.label})).length||n.state.histogramData.push({key:e.key,label:e.label,value:0,citations:e.value})}))})).catch((function(t){console.error(t),n.state.histogramData=e.dates})).finally((function(){n.state.histogramLoading=!1}))}}},{key:"emptyOrcidMetadata",value:function(){var e=this.state.orcidProfile;return!e.employments.length&&!e.educations.length&&!e.urls.length}},{key:"getName",value:function(){return _.get(this.state,"userProfile.displayName")||_.get(this.state,"orcidProfile.name")}},{key:"follow",value:function(){var e=this,t=this.state.userId||this.state.orcid,n={"Content-Type":"application/json"};if(this.state.following=!this.state.following,this.state.following){var i=fetch("/lens/service/follow/"+t,{method:"POST",headers:n});this.$q.when(i).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(){e.state.following=!1,(new Notification).error("Follow Author Failed")}))}else{var a=fetch("/lens/service/follow/"+t+"/unfollow ",{method:"PUT",headers:n});this.$q.when(a).then((function(e){if(console.log(e),200!==e.status)throw new Error("Unfollow failed")})).catch((function(){e.state.following=!0,(new Notification).error("Follow Author Failed")}))}}},{key:"bulkDeleteAuthorship",value:function(){var e=this;if("patent"===this.state.type){var t=this.getSelected().map((function(t){var n=t.metadata.inventorships.filter((function(t){return t.user.id===e.$rootScope.user.id})).pop().id;return fetch("/lens/service/patent-entity/inventorship/"+n,{method:"DELETE"})})),n=Promise.all(t);this.state.bulkDeleting=!0,this.$q.when(n).then((function(t){(new Notification).notify("Inventorship Removed"),e.state.promptDeleteAllAuthorship=!1,e.PatentService.clearCache(),e.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.$state.reload()})).finally((function(){e.state.bulkDeleting=!1}))}else if("scholar"===this.state.type){var i=this.getSelected().map((function(t){var n=t.metadata.authorship.filter((function(t){return t.user.id===e.$rootScope.user.id})).pop().id;return fetch("/lens/service/authorship/"+n,{method:"DELETE"})})),a=Promise.all(i);this.state.bulkDeleting=!0,this.$q.when(a).then((function(t){(new Notification).notify("Authorship Removed"),e.ScholarService.clearCache(),e.state.promptDeleteAllAuthorship=!1,e.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.$state.reload()})).finally((function(){e.state.bulkDeleting=!1}))}}},{key:"searchLinkoutParams",value:function(){var e={type:this.state.type};return this.state.userId?e["profile.userId"]=this.state.userId:e["profile.orcidId"]=this.state.orcid,e}},{key:"getClaimed",value:function(){return this.getResults().filter((function(e){return e.claimed}))}},{key:"getUnclaimed",value:function(){return this.getResults().filter((function(e){return!e.claimed}))}},{key:"histogramFilter",value:function(e){if(!this.state._histogramFilter.length)return!0;var t=i(this.state._histogramFilter,2),n=t[0],a=t[1];return parseInt(e.year_published)>=window.moment(n).year()&&parseInt(e.year_published)<=window.moment(a).year()}},{key:"updateName",value:function(){var e=this,t=this.state.nameInput;if(t&&!(t.length<5)&&t.includes(" ")){var n=t.split(" "),i=n[0],a=n.slice(1).join(" ");this.state.userProfile.displayName=t,this.state.importPatentWizard&&(this.state.importPatentWizard.name=t),this.state.importScholarWizard&&(this.state.importScholarWizard.name=t),this.$http.get("/lens/service/user").then((function(t){var n=t.data;_.assign(n,{firstName:i,lastName:a}),e.$http.put("/lens/user/profile",n).then((function(e){(new Notification).success("Name Updated")}))}))}}},{key:"selectedIncludesClaimed",value:function(){return this.getSelected().filter((function(e){return e.claimed})).length>0}},{key:"selectedIncludesUnclaimed",value:function(){return this.getSelected().filter((function(e){return!e.claimed})).length>0}},{key:"select",value:function(e){"none"===e?this.getResults().forEach((function(e){e.checked=!1})):"all"===e&&this.getResults().forEach((function(e){e.checked=!0})),window.closeAllTooltips()}}]),t}(n(138).BaseSearchController),d=o.default.controller("UserProfileController",["$stateParams","$state","$scope","$http","$q","$rootScope","$transitions","PatentService","ScholarService","OrcidService","LinkedIdentityResource",u]);e.exports=d},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(35),o=h(n(0)),s=h(n(2)),l=h(n(5)),c=h(n(38)),u=n(60),d=n(9),p=h(n(29)),f=h(n(53)),m=n(18);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=new l.default,v={"article.collections":"Collections","article.citations.articles":"References","article.citations.citing":"Citing Scholarly Works","article.citations.patents.list":"Citing Patents"},b=function(){function e(t,n,i,a,r,o,l,c,u,h,y){var g=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"article"===o.current.name&&o.go(".main"),"referenced_by_patent"===a.section&&o.go("article.citations.patents.list"),this.ScholarService=n,this.PatentService=t,this.ZoteroService=i,this.$http=u,this.$state=o,this.$timeout=h,this.$q=r,this.$scope=l,this.storage=new s.default("scholar-search"),this.sessionStorage=new m.SessionStorageService("scholar-search");var b=this.sessionStorage.get("previousSearch")||{type:"scholar"},S=this.sessionStorage.get("previousSearchTotalHits");localStorage.setItem("previous-article-id",a.id),this.state={addToCollection:null,creatingCollection:null,displayCitationsLimit:20,facetFormatters:p.default,facets:{scholar:{}},fieldsMap:d.fieldsMap,filterKeys:d.filterKeys,FilterIcons:f.default,flags:d.flags,id:a.id,model:a.article,checkedItems:[a.id],newCollection:null,isViewArticle:!0,previousSearch:b,previousSearchTotalHits:S,q:b?b.q:"",recommendedView:"full",removeFromCollection:null,section:a.section,showDownloadCitationModal:!1,showFacet:{},showOriginalCitations:!1,type:"scholar",download:{format:"ris",filename:"lens-citation"},scholarIdToReferenceCountDeclaredKey:{doi:"cr",magid:"mag",pmid:"pm"},subjectMatterFilterKeys:d.subjectMatterFilterKeys,openAccessFilterKeys:d.openAccessFilterKeys},this._get().then((function(){_(o.current.name)}));var _=function(e){g.state.subPage=v[e],"article.citations.patents.analysis"!==e||g.state.facetDataAvailable?"article.citations.patents.list"!==e||g.state.patentsLoaded?"article.recommended"===e?g._fetchRecommended():"article.citations.articles"===e?g.fetchCitations():"article.citations.citing"===e&&g.checkForwardCitations():g._getPatents():g._getPatentFacetData()},C=[];C.push(y.$on("REFRESH_NOTES",(function(){n.clearCache();var e=g.ScholarService.get(g.state.id,"lens_ids");g.$q.when(e).then((function(e){g.state.model=e}))}))),C.push(c.onSuccess({},(function(e){_(e.to().name)}))),l.$on("$destroy",(function(){C.forEach((function(e){return e()}))})),setTimeout((function(){window.beSticky()}),1e3),this.initFilters()}return a(e,[{key:"_get",value:function(){var e=this;this.state.loading=!0;var t=this.state.id.match(/\d{3}-\d{3}-\d{3}-\d{3}-\d{2}(\d|[Xx])/)?"lens_ids":"external_ids",n=this.ScholarService.get(this.state.id,t);return this.$q.when(n).then((function(t){e.state.loading=!1;var n=e.state.model?e.state.model.openAccessLocations:null,i=e.state.model?e.state.model.openAccessInfoFetched:null;e.state.model=t,n&&(e.state.model.openAccessLocations=n,e.state.model.openAccessInfoFetched=i),e.state.error=null,t?(window.document.title=t.title,e.state.section&&e.scrollToSection(),e.ZoteroService.notify()):e.state.notFound=!0})).catch((function(t){return e.handleError(t)}))}},{key:"_fetchRecommended",value:function(){var e=this;if(this.state.model&&this.state.model.recommended_works&&"article.recommended"===this.$state.current.name){this.state.loadingRecommended=!0;var t={};this.state.model.recommended_works.forEach((function(e){t[e.id_value]=e.score}));var n={q:this.state.model.recommended_works.map((function(e){return e.id_type+":"+e.id_value})).join(" OR ")},i={_source:{includes:this.ScholarService.MOST_FIELDS},size:20};this.ScholarService.facets(n,u.aggs).then((function(t){e.state.facets.scholar=t}));var a=this.ScholarService.search(n,i);this.$q.when(a).then((function(n){var i=n.hits.sort((function(e,n){return t[n.magid]-t[e.magid]}));e.state.recommendedQuery=i.map((function(e){return"lens_id: "+e.record_lens_id})).join(" OR "),e.state.loadingRecommended=!1,e.state.recommended=i,e.ZoteroService.notify()})).catch((function(t){console.error(t),e.state.loadingRecommended=!1}))}}},{key:"_getPatents",value:function(){var e=this;if(this.state.model){var t={"npl.must":this.state.model.record_lens_id},n=this.PatentService.search(t,{size:20,sort:[{earliest_priority_claim_date:"desc"}]});this.state.patentsLoading=!0,this.$q.when(n).then((function(t){e.state.patents=t.hits,e.state.totalPatents=t.totalHits||t.size,e.state.patentsLoaded=!0,e.state.patentsLoading=!1,e.ZoteroService.notify()})).catch((function(t){console.error(t),e.state.patentsLoading=!1}))}}},{key:"getCitingPatentsDateHistogram",value:function(){var e=this,t={"npl.must":this.state.model.record_lens_id},n=this.PatentService.facets(t,{pub_year:{terms:{field:"pub_year",size:200}}});this.$q.when(n).then((function(t){if(t.pub_year){var n=t.pub_year.map((function(e){var t=e.count;e.key;return{label:e.label,value:t,color:"Citing Patents"}}));e.state.citationsOverTimeData||(e.state.citationsOverTimeData=[]),e.state.citationsOverTimeData=e.state.citationsOverTimeData.concat(n)}})).catch((function(e){console.error(e)}))}},{key:"_getPatentFacetData",value:function(){}},{key:"checkForwardCitations",value:function(){var e=this;this.state.forwardCitationsLoading=!0;var t={q:"reference.lens_id:"+this.state.model.record_lens_id},n={_source:{excludes:this.ScholarService.EXCLUDE_SEARCH_FIELDS},size:20,track_total_hits:!0,aggregations:{dates:{date_histogram:{field:"date_published_sort",calendar_interval:"year",min_doc_count:1,format:"yyyy"}}}},a=Promise.all([this.ScholarService.search(t,n),this.ScholarService.facets(t,u.aggs)]);this.$q.when(a).then((function(t){var n=i(t,2),a=n[0],r=n[1];e.state.facets.scholar=r,e.state.forwardCitations=a.hits,e.state.forwardCitationCount=a.totalHits,e.state.forwardCitationsLoading=!1,e.state.model.forwardCitationCount=a.totalHits,e.state.citationsOverTimeData=a.aggregations.dates.buckets.map((function(e){return{label:e.key_as_string,value:e.doc_count,color:"Citing Scholarly Works"}})),e.getCitingPatentsDateHistogram(),e.ZoteroService.notify()})).catch((function(t){console.warn(t),e.state.forwardCitationsLoading=!1}))}},{key:"handleError",value:function(e){console.warn(e),this.state.loading=!1,this.state.error=e.message||e}},{key:"scrollToSection",value:function(){var e=this;this.$timeout((function(){var t=document.getElementById("article-section-"+e.state.section);t&&(0,c.default)(t)}))}},{key:"fetchCitations",value:function(){var e=this;this.state.metaLoading=!0;var t={q:"referenced_by:"+this.state.model.record_lens_id},n={_source:{excludes:this.ScholarService.EXCLUDE_SEARCH_FIELDS},size:20},a=Promise.all([this.ScholarService.search(t,n),this.ScholarService.facets(t,u.aggs)]);this.$q.when(a).then((function(t){var n=i(t,2),a=n[0],r=n[1];e.state.facets.scholar=r;var o=a.hits;e.state.metaLoading=!1,e.state.articles=o,e.ZoteroService.notify()})).catch((function(t){e.state.metaLoading=!1,e.state.loading=!1,e.state.scholarError=!0,console.error(t)}))}},{key:"searchMap",value:function(e,t){var n=y({},e,t);n=JSON.stringify(n),this.$state.go("search.results",{q:"",filterMap:n,view:"list",type:"scholar"})}},{key:"downloadCitation",value:function(){var e=(new Date).getTime().toString(),t="/lens/api/scholarly/"+this.state.id+"/citation?"+$.param({format:this.state.download.format,filename:this.state.download.filename,token:e}),n=this.state,i=this.$scope;function a(e){i.$apply((function(){n.showDownloadCitationModal=!1})),e?g.notify(window.messages.prop("export.download.success"),{life:5e3}):g.error(window.messages.prop("export.download.error"),{life:5e3})}$.fileDownload(t,{cookieName:"etk",cookieValue:e,cookiePath:"/lens/",successCallback:function(e){a(!0)},failCallback:function(e,t){a(!1)}})}},{key:"initFilters",value:function(){var e=this;this.ScholarService.getFromCache("facets",0,(function(e){return"facets"===e.bucket&&_.get(e,"value.dates")})).then((function(t){if(t)e.state.facets.scholar=t;else{var n=e.ScholarService.facets({q:""},u.aggs);e.$q.when(n).then((function(t){e.state.facets.scholar=t}))}}))}},{key:"showFilterPane",value:function(e){var t=this;this.state.facetLoading=y({},e,!0);var n=y({},e,u.aggs[e]);"flags"===e&&(n=u.flagAggs);var i=this.sessionStorage.get("previousSearch")||{},a=_.extend(i,(0,r.filterMapToQueryParams)(this.state.filterMap)),o=this.ScholarService.facets(a,n);this.$q.when(o).then((function(n){t.state.facetLoading[e]=!1,_.extend(t.state.facets.scholar,n)})),this.state.showFacet=y({},e,!this.state.showFacet[e])}},{key:"search",value:function(){var e=this.sessionStorage.get("previousSearch")||{},t=_.extend(e,(0,r.filterMapToQueryParams)(this.state.filterMap));this.$state.go("search.results",_.extend(t,{type:"scholar",view:"list",q:this.state.q}))}},{key:"getScholarlyWork",value:function(e){if(!e.expanded){e.loading=!0,e.expanded=!0;var t=this.ScholarService.get(e.record_lens_id);return this.$q.when(t).then((function(t){_.keys(t).forEach((function(n){e[n]=t[n]})),e.loading=!1}))}e.expanded=!1}},{key:"toggleSubjectMatterPanel",value:function(){var e=this;this.state.facets.scholar&&(this.state.showSubjectMatterPanel=!this.state.showSubjectMatterPanel,this.state.showSubjectMatterPanel&&!this.state.facets.scholar.keyword&&(this.state.subjectMatterLoading=!0,this._scholarAggs(u.subjectMatterAggs).then((function(t){e.state.subjectMatterLoading=!1,_.extend(e.state.facets.scholar,t.aggregations)}))))}}]),e}();o.default.controller("ViewArticleController",["PatentService","ScholarService","ZoteroService","$stateParams","$q","$state","$scope","$transitions","$http","$timeout","$rootScope",b]),e.exports=b},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=v(n(53)),o=v(n(331)),s=v(n(215)),l=v(n(2)),c=v(n(0)),u=n(138),d=n(18),p=n(9),f=n(35),m=n(78),h=n(222),y=n(61),g=n(332);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={fulltext:"Full-text","citations?view=publications":"Cites Works","citations?view=in":"Cited By Patents","citations?view=out":"Cites Patents",family:"Family Info",sequences:"Sequences",regulatory:"Legal Info",notes:"Notes",collections:"Collections"},C=function(e){function t(e,n,i,a,c,u,f,h,y){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i,a));v.CollectionService=e,v.PatentService=n,v.$q=a,v.$http=c,v.$state=u,v.$stateParams=f,v.$scope=h,v.storage=new l.default("patent-search"),v.sessionStorage=new d.SessionStorageService("patent-search");var b=v.sessionStorage.get("previousSearch")||{type:"patent"},C=v.sessionStorage.get("previousSearchTotalHits"),k=new URLSearchParams(window.location.search);v.state=_.extend(v.state,{addToCollection:!1,citedPhaseLabels:g.citedPhaseLabels,docPreviewIndex:0,facetKeys:p.patentFacetKeys,FilterIcons:r.default,facetLoading:{},facets:{patent:{}},familytab:"simple",fieldsMap:p.fieldsMap,filterMap:{},flags:_.keys(m.patentFlagAggs),isViewPatent:!0,lang:f.l,legaltab:k.get("legaltab")||"inpadoc",LegalStatusInfo:s.default,LegalEventClassInfo:o.default,newCollection:null,patentClassificationKeys:p.patentClassificationKeys,previousSearch:b,patentFacetKeys:p.patentFacetKeys,previousSearchTotalHits:C,q:b.q||"",removeFromCollection:!1,showFacet:{},subPage:S[window.location.href.split("/").pop()],type:"patent",view:f.view,listView:p.defaultListView}),v.$stateParams.id||(v.$stateParams.id=window.location.pathname.split("/lens/patent/")[1].split("/")[0]);var A=[];return A.push(y.onSuccess({},(function(e){return function(e){var t=e.view;v.state.view=t,v.initCitations(t),_.defer((function(){v.state.subPage=S[window.location.pathname.split("/").pop()],v.state.patent&&v.initTitle()}))}(e.params())}))),h.$on("$destroy",(function(){A.forEach((function(e){return e()}))})),v.$stateParams.patent&&(h.patent=f.patent,v.state.patent=h.patent,v.initTitle()),v.getPatent(),v.initFilters(),v}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getPatent",value:function(){var e=this;this.state.loading=!0;var t=this.state.lang||"en",n=this.PatentService.get(this.$stateParams.id,t);this.$q.when(n).then((function(t){e.state.loading=!1,window.regulatoryPageModel&&(t.legalEvents=window.regulatoryPageModel.legalEvents);var n=e.state.patent&&e.state.patent.title_highlighted?e.state.patent.title:null,i=e.state.patent&&e.state.patent.applyCssCaseFormatting;e.$scope.patent=t,e.state.patent=t,n&&(t.title=n,t.title_highlighted=!0,t.applyCssCaseFormatting=i),localStorage.setItem("previous-patent-id",t.record_lens_id),e.initCitations(),e.initTitle()})).catch((function(t){console.error(t),e.state.loading=!1,e.state.error=t}))}},{key:"initTitle",value:function(){var e=this;_.defer((function(){var t=e.state.patent,n=t.display_key,i=t.title;t.title_highlighted&&(i=$("<span>"+i+"</span>").text());var a=e.state.subPage||"The Lens",r=void 0;r=(r=i?n+" - "+(0,h.patentTitle)(i):n)+" | "+a,document.title=r}))}},{key:"initCitations",value:function(){var e=this,t=this.state.patent,n=this.state.view;if("in"===n){this.state.citationsLoading=!0;var a=this.PatentService.search({q:"reference_cited.patent.lens_id:"+t.record_lens_id},{size:10,_source:{includes:this.PatentService.MOST_FIELDS}});this.$q.when(a).then((function(t){e.state.incomingCitations=t.hits,e.state.citationsLoading=!1}))}else if("out"===n){this.state.citationsLoading=!0;var r=this.PatentService,o=[r.search({q:"cited_by.patent.lens_id:"+t.record_lens_id},{size:10,_source:r.MOST_FIELDS}),r.search({q:"record_lens_id:"+t.record_lens_id},{size:1,_source:["reference_cited.patent"]})];this.$q.when(Promise.all(o)).then((function(t){var n=i(t,2),a=n[0],r=n[1];e.state.outgoingCitations=a.hits,e.state.citationsLoading=!1;var o=r.hits[0].reference_cited.map((function(e){return e.patent}));e.state.outgoingCitations.forEach((function(e){var t=o.filter((function(t){return e.record_lens_id===t.lens_id}));t&&(e.cited_phase=t.map((function(e){return e.cited_phase})))}))}))}else if("publications"===n){this.state.citationsLoading=!0;var s=Promise.all([this.PatentService.search({q:"record_lens_id:"+t.record_lens_id},{size:1,_source:["reference_cited.npl.text","reference_cited.npl.lens_id"]}),this.ScholarService.search({"patentCitationLensId.must":t.record_lens_id},{size:20,_source:{includes:this.ScholarService.MOST_FIELDS}})]);this.$q.when(s).then((function(t){var n=i(t,2),a=n[0],r=n[1];console.log(a);var o=a.hits[0];e.state.reference_cited_patent=o.reference_cited.filter((function(e){return e.patent})).map((function(e){return e.patent})),e.state.reference_cited_npl=o.reference_cited.filter((function(e){return e.npl})).map((function(e){return e.npl})),e.state.articles=r.hits,e.state.articles.length||(e.state.showOriginalCitations=!0),e.state.unresolvedCitations=e.state.reference_cited_npl.filter((function(e){return!e.lens_id.length})),e.state.totalArticles=r.totalHits,e.state.citationsLoading=!1}))}}},{key:"initFilters",value:function(){var e=this,t=this.sessionStorage.get("previousSearchId");t&&this.$http.get("/lens/api/query/patent/"+t,{cache:!0}).then((function(t){e.state.previousSearchQuery=(0,y.transformQuery)(t.data.query),e.state.previousSearchQuery.type="patent"}))}},{key:"showFilterPane",value:function(e){var t=this;this.state.facetLoading[e]=!0;var n=b({},e,m.patentFilterAggs[e]);"flags"===e&&(n=m.patentFlagAggs);var i=this.PatentService.facets(this.state.previousSearchQuery||{q:""},n);this.$q.when(i).then((function(n){if(t.state.facetLoading[e]=!1,_.extend(t.state.facets.patent,n),"reference_cited.npl.record_lens_id"===e){var i=n["reference_cited.npl.record_lens_id"].map((function(e){return e.key}));t.initCitedWorksFilter(i)}})),this.state.showFacet=b({},e,!this.state.showFacet[e])}},{key:"search",value:function(e){var t=this.sessionStorage.get("previousSearch")||{},n=_.extend(t,(0,f.filterMapToQueryParams)(this.state.filterMap));e&&_.isObject(e)&&(n=_.extend(n,e)),this.$state.go("search.results",_.extend(n,{type:"patent",q:this.state.q}))}},{key:"quickAnalysis",value:function(e){var t=p.fieldsMap[e];t&&this.search({view:"analysis",dashboardId:t.quickAnalysisDashboardId})}},{key:"getPreviousSearchQuery",value:function(e){var t=_.cloneDeep(this.state.previousSearch);return _.extend(t,e)}},{key:"isSequencesTab",value:function(){return window.location.pathname.endsWith("/sequences")}},{key:"legalStatusModal",value:function(e){this.state.legalStatusModal=e}},{key:"changeFamilyTab",value:function(e){var t=this;this.state.familytab=null,setTimeout((function(){t.state.familytab=e,t.$scope.$digest()}),10)}}]),t}(u.BaseSearchController),k=c.default.controller("ViewPatentController",["CollectionService","PatentService","ScholarService","$q","$http","$state","$stateParams","$scope","$transitions",C]);e.exports=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={A:"Application filing",B:"Application discontinuation",C:"Application revival",D:"Search and examination",E:"Pre-grant review request",F:"IP right grant",G:"Protection beyond IP right term",H:"IP right cessation",K:"IP right revival",L:"IP right review request",M:"IP right maintenance",N:"Termination",P:"Document modification",Q:"Document publication",R:"Party data change",S:"Licensing information",T:"Administrative procedure adjustment",U:"Payment",V:"Appeal",W:"Other",Y:"Correction and deletion of event information",Z:"Not classifiable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.citedPhaseLabels={SEA:"Originates from the Search report, date search report completed",ISR:"Originates from International Search Report, date international search report completed",SUP:"Originates from Supplementary Search Report, date supplementary search report completed",PRS:"Origin Pre-Grant/Pre-Search national, date search report completed",APP:"Cited by the Applicant, date information available in EPO systems",EXA:"Revealed during the Examination phase (citing document is kind-code 'A'), date information available in EPO systems",OPP:"Revealed during the Opposition phase, date opposition letters filed",APL:"Filed for appeal by applicant / proprietor / patentee, date appeal filed",FOP:"Filed for opposition by any third party, date observation letters filed",TPO:"Third party observation, date observation letters filed",CH2:"Chapter 2, date international search report completed"}},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),r=n(71),o=l(n(2)),s=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var c=new r.Remarkable;c.inline.ruler.enable(["sub","sup"]);var u=function(){function e(t,n,i,a,r,s,l,c,u,d){var p=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=n,this.$state=t,this.$rootScope=i,this.$http=a,this.$q=r,this.ReportService=u,this.PatentService=c,this.ScholarService=l,this.LinkedIdentityResource=d,this.globalStorage=new o.default("global"),this.state={isWorkArea:!0,projects:this.globalStorage.get("projects")||[],view:this.globalStorage.get("workarea-view")||"table",orderBy:"updated",show:{report:!0,collection:!0,savedQuery:!0}},void 0!==this.globalStorage.get("selectedProjectId")){var f=parseFloat(this.globalStorage.get("selectedProjectId"));this.state.selectedProject=this.state.projects.filter((function(e){return e.id===f}))[0]}document.body.classList.toggle("lens-ui-scholar",!1),document.body.classList.toggle("lens-ui-patent",!1);var m=[],h=function(e){p.state.currentStateTitle=e.title,p.state.currentStateName=e.name,document.title=(e.title||e.name)+" | The Lens","st-filters"===i.sideTabsView&&i.setSideTabsView("st-overview"),e.name,"workArea.inventorship"===e.name&&p.initInventorship(),"workArea.authorship"===e.name&&p.initAuthorship()};h(t.current),m.push(s.onSuccess({},(function(e){var t=e.to();h(t)}))),m.push(i.$on("PROMPT_CREATE_REPORT",(function(e,t){p.state.promptCreateReport=!0}))),m.push(i.$on("PROMPT_CREATE_NEW_COLLECTION",(function(e,t){p.state.promptNewCollection=!0}))),m.push(i.$on("DISMISS_CREATE_COLLECTION",(function(e,t){p.state.promptNewCollection=!1}))),m.push(i.$on("ADD_ITEM_TO_PROJECT",(function(e,t){var n=t.item,i=t.type;p.state.selectedProject[i]||(p.state.selectedProject[i]=[]),p.state.selectedProject[i].push(n),p.saveProjects()}))),n.$on("$destroy",(function(){m.forEach((function(e){return e()}))}))}return i(e,[{key:"initAuthorship",value:function(){var e=this;this.state.loadingAuthorship=!0,this.state.authorshipError=!1;var t={size:100,_source:{excludes:this.ScholarService.EXCLUDE_SEARCH_FIELDS}};this.ScholarService.search({authorship:!0},t).then((function(t){e.state.authorshipWorks=t.hits,e.state.authorshipCount=t.totalHits,e.state.loadingAuthorship=!1,e.digest()})).catch((function(t){console.error(t),e.state.authorshipError=!0,e.state.loadingAuthorship=!1,e.digest()}))}},{key:"initInventorship",value:function(){var e=this;this.state.loadingInventorship=!0,this.PatentService.search({inventorship:!0},{size:100}).then((function(t){t.hits.forEach((function(e){e.metadata.inventorships.forEach((function(e){var t=e.created;_.isArray(t)&&(t[1]--,e.created=window.moment(t).toDate())}))})),e.state.inventorshipCount=t.totalHits,e.state.inventorshipPatents=t.hits,e.state.loadingInventorship=!1,e.digest()})).catch((function(t){console.error(t),e.state.loadingInventorship=!1,e.digest()}))}},{key:"getSelected",value:function(){return"workArea.inventorship"===this.state.currentStateName?this.state.inventorshipPatents.filter((function(e){return e.selected})):"workArea.authorship"===this.state.currentStateName?(this.state.authorshipWorks||[]).filter((function(e){return e.selected})):void 0}},{key:"bulkDeleteAuthorship",value:function(){var e=this;if("workArea.inventorship"===this.state.currentStateName){var t=this.getSelected().map((function(t){var n=t.metadata.inventorships.filter((function(t){return t.user.id===e.$rootScope.user.id})).pop().id;return fetch("/lens/service/patent-entity/inventorship/"+n,{method:"DELETE"})})),n=Promise.all(t);this.state.bulkDeleting=!0,this.$q.when(n).then((function(t){(new s.default).notify("Inventorship Removed"),e.PatentService.clearCache(),e.state.promptDeleteAllAuthorship=!1,e.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.$state.reload()})).finally((function(){e.state.bulkDeleting=!1}))}else if("workArea.authorship"===this.state.currentStateName){var i=this.getSelected().map((function(t){var n=t.metadata.authorship.filter((function(t){return t.user.id===e.$rootScope.user.id})).pop().id;return fetch("/lens/service/authorship/"+n,{method:"DELETE"})})),a=Promise.all(i);this.state.bulkDeleting=!0,this.$q.when(a).then((function(t){(new s.default).notify("Authorship Removed"),e.ScholarService.clearCache(),e.state.promptDeleteAllAuthorship=!1,e.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.$state.reload()})).finally((function(){e.state.bulkDeleting=!1}))}}},{key:"search",value:function(){this.$state.go("search.results",{type:"scholar",view:"list",q:this.state.q})}},{key:"addItemToProject",value:function(e){console.log("addItemToProject",e,this.state.selectedProject)}},{key:"createProject",value:function(){var e=_.cloneDeep(this.state.newProject);e.id=this.state.projects.length,this.state.projects.push(e),this.state.newProject={},this.state.promptNewProject=!1,this.saveProjects()}},{key:"selectProject",value:function(e){this.state.selectedProject=e,this.globalStorage.set("selectedProjectId",e.id)}},{key:"closeProject",value:function(){this.state.selectedProject=null,this.globalStorage.remove("selectedProjectId")}},{key:"saveProjects",value:function(){this.globalStorage.set("projects",this.state.projects)}},{key:"saveProject",value:function(){this.state.editProject=!1,this.saveProjects()}},{key:"digest",value:function(){this.$scope.$digest()}},{key:"render",value:function(e){return e?c.render(e.trim()):""}},{key:"createReport",value:function(e){e.preventDefault(),this.state.creatingReport=!0,this.ReportService.create(this.state.newReport.title,this.state.newReport.subheading)}},{key:"deleteProject",value:function(){var e=this.state.promptDeleteProject.id;this.state.promptDeleteProject=null,this.state.projects=this.state.projects.filter((function(t){return t.id!==e})),this.state.selectedProject.id===e&&(this.state.selectedProject=null),this.saveProjects()}},{key:"setView",value:function(e){this.state.view=e,this.globalStorage.set("workarea-view",e)}},{key:"removeFromProject",value:function(e,t){this.state.selectedProject[e].splice(t,1),this.saveProjects()}},{key:"toggleSelectAll",value:function(){var e="workArea.authorship"===this.state.currentStateName?this.state.authorshipWorks:this.state.inventorshipPatents,t=this.state.selectAll;e.forEach((function(e){e.selected=t}))}}]),e}();a.default.directive("lensAddToProjectButton",["$rootScope",function(e){return{template:'\n        <a ng-click="click()">\n            <em class="far fa-folders"></em>\n            Add to project\n        </a>\n    ',scope:{item:"<",type:"<"},link:function(e,t){t.remove()}}}]),a.default.directive("hackReportThumbnail",["$http","$rootScope",function(e,t){return{scope:{reportId:"<"},link:function(n,i){e.get("/lens/service/strings/"+n.reportId).then((function(e){var n=JSON.parse(e.data.value);n.image.startsWith("http")||(n.image=t.assetLocation+"/img/landscape/"+n.image),i.attr("src",n.image)})).catch((function(e){console.error("Failed to load thumbnail",e)}))}}}]);var d=a.default.controller("WorkAreaController",["$state","$scope","$rootScope","$http","$q","$transitions","ScholarService","PatentService","ReportService","LinkedIdentityResource",u]);e.exports=d},function(e,t,n){"use strict";e.exports={APICarouselDirective:n(335),AccordionDirective:n(336),AddToCollectionDirective:n(337),AlertsDirective:n(338),AnalysisHeadingControl:n(340),AnalysisItemDirective:n(342),ApplicantLogoDirective:n(425),ArticleItemMetaDirective:n(426),ArticleItemPreviewDirective:n(427),AuthorIconDirective:n(430),AutoGrowTextareaDirective:n(432),AutocompleteSequenceDirective:n(433),BooleanEditorDirective:n(434),BreadcrumbsDirective:n(437),CancelEnterDirective:n(438),CarouselDirective:n(439),ChallengeCarouselDirective:n(440),ChartIconDirective:n(441),CitationItemDirective:n(442),CitationsDirective:n(445),ClaimsDirective:n(446),ClassificationList:n(447),ClassificationViewer:n(449),CollaborationNetworkDirective:n(451),CollectionActionDirective:n(453),CollectionControlsDirective:n(455),CollectionDetailsDirective:n(456),CollectionFormDirective:n(458),CollectionHistoryDirective:n(460),CollectionListDirective:n(461),CollectionListItemDirective:n(462),CoverageDirective:n(463),CreateCollectionDirective:n(467),DatepickerDirective:n(469),DisplayQueryDirective:n(470),ExplorerWindow:n(472),ExportToCsvButton:n(473),FamilyMapDirective:n(474),FauxSelectDirective:n(476),FavouritesDirective:n(477),FeaturedPatentsCarouselDirective:n(479),FeaturedPatentsDirective:n(480),FlagDirective:n(481),FocusDirective:n(482),FulltextDirective:n(483),GreedyNavDirective:n(484),GroupingsDirective:n(485),HeatMapDirective:n(487),HomeFormDirective:n(488),HorizontalBarChartDirective:n(489),HtmlToPlaintextDirective:n(491),HtmlTooltipDirective:n(492),ImageUploadDirective:n(493),IncludeReplaceDirective:n(494),InlineCollectionDirective:n(495),InlineCollectionEventDirective:n(497),InlineNotesDirective:n(499),InlineQueryDirective:n(500),InstitutionDetailsDirective:n(502),LandingUpdateNotice:n(503),LastUpdatedDirective:n(504),LazyLoadDirective:n(506),LensCoinsDirective:n(507),LineChartDirective:n(508),LinkedIdentitiesDirective:n(510),LinkedIdentitiesIconsDirective:n(511),ListNotesDirective:n(513),LoaderDirective:n(514),LogoGridDirective:n(516),LogoTooltipDirective:n(518),MediaLibraryDirective:n(519),MentionsDirective:n(521),MetricsCarouselDirective:n(523),ModalDirective:n(524),MultiSelectDirective:n(525),NavDirective:n(527),NoteTableRowDirective:n(529),OrcidAuthorDirective:n(531),OrcidAvatarDirective:n(534),PagedResourcePaginationDirective:n(535),PatCiteHistoryDirective:n(537),PatSeqFinderHistoryDirective:n(539),PatentDocPreviewDirective:n(541),PatentFamilyDirective:n(543),PatentLinkoutDirective:n(548),PatentTitleDirective:n(550),PieChartDirective:n(551),PreviewAnalysisItemDirective:n(553),PriorityNavDirective:n(556),ProfileLinkDirective:n(557),QuickSearchDirective:n(559),RangeSliderDirective:n(568),RecentCollectionsDirective:n(569),RecentNotesDirective:n(571),RecentWorkDirective:n(573),ReferenceItemDirective:n(575),RegistrationSuccessRedirectDirective:n(576),RemoveFromCollectionDirective:n(577),SaveAsImageDirective:n(579),SavedQueriesDirective:n(581),SavedQueryDirective:n(583),ScholarlyWorkTitleDirective:n(585),SearchHistoryDirective:n(586),SearchOrcidDirective:n(588),SearchTipsDirective:n(590),SelectCollectionsListDirective:n(592),SelectCollectionsListItemDirective:n(594),SelectOnClickDirective:n(596),SequencePageDirective:n(597),SideTabsDirective:n(598),SidebarContentDirective:n(599),SimpleBarChartDirective:n(600),SliderDirective:n(602),StateActiveDirective:n(603),StickyDirective:n(604),StringListDirective:n(605),SubscriptionsDirective:n(607),TagsListDirective:n(610),TemporaryClassDirective:n(612),TooltipDirective:n(613),TristateCheckboxDirective:n(614),TruncateDirective:n(615),UrlSafeDirective:n(616),UserProfileCarouselDirective:n(617),UserProfilePictureDirective:n(618),UserSettingsDirective:n(620),VegaChartDirective:n(622),VennDiagramDirective:n(623),VersionCheckDirective:n(625),WizardDirective:n(626),WordCloudDirective:n(628),WorkAreaCollectionsDirective:n(631),WorkAreaNotesDirective:n(633),WorkAreaSummaryDirective:n(635),WorldMapDirective:n(637)}},function(e,t,n){"use strict";var i,a=n(0);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}((i=a)&&i.__esModule?i:{default:i}).default.directive("lensApiCarousel",(function(){return{link:function(e,t){setTimeout((function(){var e;t.owlCarousel((r(e={nav:!0,navText:["<em class='fal fa-angle-left'>","<em class='fal fa-angle-right'>"],dots:!0,loop:!0,singleItem:!1,scrollPerPage:!1,slideSpeed:1e3,autoHeight:!0,lazyLoad:!0,autoplay:8e3,autoplayTimeout:8e3,autoplayHoverPause:!0,margin:0},"autoplay",!0),r(e,"items",1),e))}),0)}}}))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensAccordion",(function(e){return{restrict:"AE",replace:!0,scope:{},link:function(t,n){e((function(){n.addClass("lens-accordion-initialised"),n.accordion({collapsible:!0,active:!1,heightStyle:"content"})}))}}}))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(5));r.default.directive("lensAddToCollection",[].concat(["CollectionService","$q"],[function(e,t){return{template:n(141),scope:{lensIds:"<",selectedAll:"<",queryId:"<",newCollection:"=",visible:"=",type:"<"},link:function(n){var i=n.vm={collections:window.globalCollections||[],collectionFilter:{title:"",type:n.type},checkedCollections:{}};if(1===i.collections.length){var a=i.collections[0];i.checkedCollections[a.id]=!0}n.addToCollection=function(){i.submitting=!0,i.valid=!0;var a=n.lensIds,r=_.keys(i.checkedCollections).filter((function(e){return i.checkedCollections[e]}));if(!r.length)return i.submitting=!1,void(i.valid=!1);if(n.selectedAll){var s=r.map((function(t){var a=i.collections.filter((function(e){return parseInt(t)===e.id})).pop();return e.addSearchToCollection(a,n.queryId).then((function(e){var t=e.itemCount;if(t){var n="Added "+t.toLocaleString()+" of all search results to collection";o.notify(n)}else if(e.collectionLimitExceeded){var i=window.messages.prop("collection.limit.reached");o.warning(i)}else{var a=window.messages.prop("user.collections.add.exists");o.info(a)}})).catch((function(e){console.error(e),i.submitting=!1,o.error("Adding to Collection failed. Please retry.")}))}));t.all(s).then((function(){i.submitting=!1,n.close()})).catch((function(e){console.error(e),i.submitting=!1,o.error("Adding to Collection failed. Please retry.")}))}else{var l=[];r.forEach((function(t){var n=a.length,r=i.collections.filter((function(e){return parseInt(t)===e.id})).pop(),s=e.addItems(t,a).then((function(e){var t=e.itemCount;if(t){var a="Added "+t+" of "+n+" items to collection";t<n&&(a+=" ("+(n-t)+" already exist in collection)"),o.notify(a)}else if(e.collectionLimitExceeded){var r=window.messages.prop("collection.limit.reached");o.warning(r)}else{var s=window.messages.prop("user.collections.add.exists");o.info(s)}i.checkedCollections={}})).catch((function(e){console.warn(e),o.error("Could not add to collection: "+r.title)}));l.push(s)})),t.all(l).then((function(){i.submitting=!1,n.visible=!1})).catch((function(e){console.warn(e),i.submitting=!1}))}},n.doNewCollection=function(){n.newCollection={type:n.type,access:"OPEN_ACCESS"},n.visible=!1},n.close=function(){n.visible=!1};var r=function(e){i.loading=!1,console.warn(e.data)};n.refresh=function(){i.loading=!0,e.getAll().then((function(e){i.loading=!1,i.collections=e})).catch(r)},e.on("REFRESH_COLLECTIONS",n.refresh),n.$on("$destroy",(function(){e.removeListener("REFRESH_COLLECTIONS",n.refresh)})),window.globalCollections||n.refresh()}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensAlerts",[].concat(["$q"],[function(e){return{template:n(339),scope:{widget:"<",activeOnly:"<"},link:function(t){var n=t.vm={view:"table"};t.load=function(){var i=fetch("/lens/service/notifications?activeOnly="+t.activeOnly).then((function(e){return e.json()}));e.when(i).then((function(e){n.items=e}))},t.load(),t.readAll=function(){n.items=[],fetch("/lens/service/notifications/read?ids="+n.items.map((function(e){return e.id})).join(","),{method:"PUT",headers:{"Content-Type":"application/json"},body:"{}"}).then((function(){t.load()}))},t.read=function(e,t){t&&(t.preventDefault(),t.stopPropagation()),n.items=n.items.filter((function(t){return t.id!==e})),fetch("/lens/service/notifications/"+e+"/read",{method:"PUT"}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},t.label=function(e){return"QUERY"===e.refType?"Saved Query":"COLLECTION"===e.refType?"Collection":e.refType}}}}]))},function(e,t){e.exports='\x3c!-- Collection Notifications Table Template\n<div class="div-table-alerts table-stretch"> \n    <div class="div-table">\n        <div class="div-table-heading">\n            <div class="div-table-row">\n                <div class="div-table-cell" style="width: 50px;">\n                    <em class="far fa-calendar-alt col-feat"></em>\n                </div>\n                <div class="div-table-cell">\n                    02 February 2021\n                </div>\n            </div>\n        </div>\n        <div class="div-table-body">\n            <div class="div-table-row">\n                <div class="div-table-cell">\n                    <label class="checkbox">\n                        <input type="checkbox" name="" value="" />\n                        <i></i>\n                    </label>\n                </div>\n                <div class="div-table-cell">\n                    <div>213 new patent documents available for Dynamic Collection Updater: Battery Operated Bicycles</div>\r                    <div class="col-meta text-small">Battery AND Bicycle OR Batteries AND Bikes OR Battery Technologies</div> \n                </div>\n            </div>\n            <div class="div-table-row">\n                <div class="div-table-cell">\n                    <label class="checkbox">\n                        <input type="checkbox" name="" value="" />\n                        <i></i>\n                    </label>\n                </div>\n                <div class="div-table-cell">\n                    <div>16 new patent records available for Electric Bike Technologies</div>\r                    <div class="col-meta text-small">Battery AND Bicycle OR Batteries AND Bikes OR Battery Technologies OR Lithium Cell AND Push Bikes</div> \n                </div>\n            </div>\n            <div class="div-table-row">\n                <div class="div-table-cell">\n                    <label class="checkbox">\n                        <input type="checkbox" name="" value="" />\n                        <i></i>\n                    </label>\n                </div>\n                <div class="div-table-cell">\n                    <div>53 new patent records available for Batteries</div>\r                    <div class="col-meta text-small">Bikes OR Battery Technologies OR Lithium Cell AND Push Bikes</div> \n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n--\x3e\n\n\n<div ng-if="!widget">\n    <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n    <div class="workarea--table workarea--table--mobile  workarea--table--tags" ng-show="vm.filteredItems.length"\n        ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.items.length && !vm.loading && !$root.isAnon"\n    >\n        <div class="div-table">\n            <div class="div-table-heading">\n                <div class="div-table-row">\n                    <div class="div-table-cell">\n                        Type\n                    </div>\n                    <div class="div-table-cell">\n                        Message\n                    </div>\n                    <div class="div-table-cell">\n                        Title\n                    </div>\n                    <div class="div-table-cell">\n                        {{::\'common.tools\' | message}}\n                    </div>\n                </div>\n            </div>\n            <div class="div-table-body">\n                <div class="div-table-row" ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter)">\n                    <div class="div-table-cell">\n                        {{label(item)}}\n                    </div>\n                    <div class="div-table-cell">\n                        {{item.message}}\n                    </div>\n                    <div class="div-table-cell">\n                        {{item.title}}\n                    </div>\n                    <div class="div-table-cell">\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div ng-if="widget">\n    <div ng-if="!$root.isAnon && vm.items.length">\n        <label class="dd-dropdown workarea-dd-dropdown">\n            <div class="badge" ng-if="vm.items.length">{{vm.items.length}}</div>\n            <div class="dd-button dd-button--icon far fa-bell"\n                ng-class="{\'bell-active\': vm.items.length}"\n                tooltip-title\n                tooltip-content-selector="#notifications"\n                tooltip-options="::{trigger: \'click\', side: \'bottom\'}"\n            ></div>\n        </label>\n    </div>\n\n    <div hidden>\n        <div id="notifications">\n            <div class="notications-container">\n                <div class="notications-container-heading">\n                    <a ng-click="readAll()" class="pull-right text-small hide-all" tooltip-title="Dismiss All">\n                        <em class="far fa-times col-error" style="margin-right: 0;"></em>\n                        Clear All\n                    </a>\n                    <strong>Notifications</strong>\n                </div>\n                <ul class="dd-menu--list size--250 list-icons">\n                    <li ng-repeat="item in vm.items">\n                        <a ng-click="read(item.id, $event)" class="hide-notification">\n                            <em class="far fa-times col-error text-small"></em>\n                        </a>\n                        <a ng-href="{{item.url}}">\n                            <em class="list-icons--icon far fa-bell"></em>\n                            <span class="list-icons--label">\n                                <div class="notification-label">{{::label(item)}}</div>\n                                <small class="list-icons--meta">\n                                    {{::item.message}}\n                                    {{::item.title}}, \n                                    from {{::item.created | date}}\n                                </small>\n                            </span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensAnalysisHeadingControl",[].concat([],[function(){return{template:n(341),transclude:!0,scope:{label:"<",searchable:"<",visible:"="},link:function(e,t,n,i,a){var r=e.vm={filter:{label:""}};e.filter=function(){var t=r.filter.key,n=$("#modify-chart-"+e.id);n.find("li:Contains("+t+")").show(),n.find("li:not(:Contains("+t+"))").hide()},e.id=Math.round(1e6*Math.random())}}}])),jQuery.expr[":"].Contains=function(e,t,n){return jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0}},function(e,t){e.exports='<span>    \n    <a class="dd-dropdown-sort heading-select-link" tooltip-title tooltip-content-selector="#modify-chart-{{id}}"\n        tooltip-options="::{trigger: \'click\', side: \'bottom\', theme: \'tooltipster-shadow\' + (searchable ? \' modify-chart-pane\' : \'\')}">\n        {{label}}\n        <small class="fas fa-sort"></small>\n    </a>\n    <div hidden>\n        <div id="modify-chart-{{id}}" class="heading-select--menu ">\n            <form ng-if="searchable" class="modify-chart-pane--search">\n                <label class="input input-sm">\n                    <input placeholder="search" ng-model="vm.filter.key" ng-change="filter()">\n                    <em class="far fa-search icon_append"></em>\n                </label>\n            </form>\n            <ul class="dd-menu dismiss-tooltip-on-click" ng-transclude></ul>\n        </div>\n    </div>\n</span>\n'},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=I(n(223)),r=I(n(8)),o=I(n(133)),s=n(60),l=n(382),c=n(83),u=n(235),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33)),p=I(n(0)),f=I(n(383)),m=I(n(73)),h=I(n(52)),y=I(n(25)),g=I(n(384)),v=I(n(419)),b=I(n(26)),S=I(n(2)),C=I(n(420)),k=I(n(102)),A=I(n(421)),w=I(n(422)),P=n(150),T=n(9),x=I(n(29)),M=n(208);function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var D=n(423),L=(0,a.default)(x.default);L["author.display_name_id"]=function(e){var t=e.split("~"),n=i(t,2),a=n[0],r=n[1],o=r?r.split(":"):[];return o.length>1?a+" ("+o[1]+")":a};var N=_.extend(_.cloneDeep(s.aggs),s.subjectMatterAggs),O=n(51),U=(0,a.default)(O),B=U.filter((function(e){return"SCHOLAR"===e.type})),F=U.filter((function(e){return"PATENT"===e.type})),G=F.filter((function(e){return!e.excludedAnalysis&&"date"!==e.fieldType})).map((function(e){return e.key})),H=M._scholarScatterPlotFields.map((function(e){return _.clone(T.fieldsMapByType.scholar[e]||{key:e})})),j=[{key:"",label:"None"}].concat(E(H)),K=[{key:"",label:"None"}].concat(E(F.filter((function(e){return!e.excludedAnalysis})))),q=new S.default("report");p.default.directive("lensAnalysisItem",[].concat(["PatentService","ScholarService","CollectionService","$q","$rootScope","$timeout","$sce"],[function(e,t,i,s,p,S,x){return{template:n(424),scope:{aggs:"<",filterMap:"<",request:"<",config:"=",analysisQueue:"=",index:"<",subIndex:"<",q:"<",applyAnalysisDateFilter:"<",addFilter:"<",columns:"<",queued:"<",type:"<",width:"<",configBelow:"<",configOpen:"<",editable:"<",hideTitle:"<",hideAnnotation:"<"},link:function(n,i){var x=("patent"===n.type?M._patentHistogramFields:M._scholarHistogramFields).map((function(e){return T.fieldsMapByType[n.type][e]||{key:e}}));n.filterMap||(n.filterMap={}),n.aggs||(n.aggs={});var I,O,U=function(){if(n.width)return n.width;var e=document.body.classList.contains("analysis-report"),t="st-collapse"===p.sideTabsView&!e?100:400,i=window.innerWidth-t;return n.columns&&!e&&(i=(window.innerWidth-t-15)/2),document.body.classList.contains("theme-vanilla")&&n.columns&&(i=(window.innerWidth-t-40)/2),V&&V.pinned&&(i-=350),i},z=_.sortBy(M.scholarlyAggKeys,(function(e){return T.fieldsMapByType.scholar[e].fieldOrder})),V=n.vm={vegaView:null,vegaSpec:null,fieldsMap:T.fieldsMap,aggKeys:"patent"===n.type?G:z,scholarlyAggKeys:z,scholarFields:B.filter((function(e){return!e.excludedAnalysis})),patentFields:F.filter((function(e){return!e.excludedAnalysis})),patentFacetKeys:G,sorts:{scholar:m.default,patent:k.default},wordCloudWarning:null,logoGridKeys:M.logoGridKeys,dateFields:(I=n.type,O=F.filter((function(e){return e.key})).filter((function(e){return"date"===e.fieldType||"temporal"===e.fieldType})).filter((function(e){return!e.excludedAnalysis})),"patent"===I?O:[{key:"date_published_sort",label:"Date Published"},{key:"conference.date",label:"Conference Date"}]),metrics:D,metricAggregationLabels:M.metricAggregationLabels,legalStatusColourScale:P.legalStatusColourScale,openAccessColourScale:{domain:["bronze","gold","green","hybrid","unknown"],range:["#fd8d3c","#bcbd22","#74c476","#6baed6","#d9d9d9"]},scholarScatterPlotFields:H,scholarScatterPlotSizeFields:j,patentScatterPlotSizeFields:K,histogramFields:x,width:U()+"px",filterExtent:[],configMenu:n.configOpen,config:{view:"article-scatter",primaryFacet:n.config.primaryFacet,secondaryFacet:"author.affiliation.name.keyword",limit:10,secondaryFacetLimit:10,barChartType:"grouped",basicChartType:"bar-chart",colourScheme:"auto",displayBarChartLegend:!0,flip:!1,overTimeMark:"line",scaleType:"linear",scatterPlotSort:"referenced_by_patent_count",histogram:{interval:10,field:"author_count",min_doc_count:1},timeline:{series:{published:!0,filed:!0,granted:!0,expires:!0}},citingPatentScatter:{x:{field:"date_published"},y:{field:"cited_by.patent_count"},color:{field:"jurisdiction"},sort:"+cited_by.patent_count"},scholarArticleScatter:{x:{field:"referenced_by_patent_count"},color:{field:"is_open_access"},y:{field:"referenced_by_count"},sort:"+referenced_by_patent_count"}}};if(_.keys(n.config).forEach((function(e){n.config[e]&&(V.config[e]=n.config[e])})),"basic"!==n.config.view||n.config.limit||(V.config.limit=20),V.config.groupings){var W=_.keys(V.config.groupings);V.sortables={},W.forEach((function(e){var t=V.config.groupings[e];V.sortables[t]||(V.sortables[t]=[]),V.sortables[t].push(e)}))}else V.sortables={};V.config.source&&(n.request={params:V.config.source},V.alternateDataSourceWarning=!0),n._reset=function(){V.error=null,V.headingSelect=!1,V.articleScatterPlotSpec=null,V.scatterPlotSpec=null,V.historicalData=null,V.groupedBarChartSpec=null,V.stackedBarChartSpec=null,V.analysisReady=!1,V.loading=!0},n.retryOverTime=function(i){if(i&&_.isFunction(n[i])){var r=(0,a.default)(n.request);if(r){var o={size:0,aggregations:R({},V.config.primaryFacet,{terms:{field:V.config.primaryFacet,size:V.config.limit}})},l=("patent"===n.type?e:t).search(r.params,o);s.when(l).then((function(e){var t=e.aggregations[V.config.primaryFacet].buckets;n.aggs[V.config.primaryFacet]=t,n[i]()})).catch((function(e){console.warn(e),n.handleError(e)}))}else console.warn("no request. aborting retryOverTime")}else console.error("Abort retryOverTime due to invalid parameter")};var J=function(){var e={filters:{filters:{}}},t=V.config.primaryFacet,i=T.fieldsMap[t];i||(i={key:t,label:t,filterName:t},console.log("Warning: unknown field:",t));var a=n.filterMap[i.filterName]||{},r=_.keys(a).filter((function(e){return a[e]}))||[];if(!r.length||!V.config.restrictToFilterValues){var o=n.aggs[V.config.primaryFacet];o&&(r=o.slice(0,V.config.limit).map((function(e){return e.key})))}var s=V.config.groupings||{};return r.filter((function(e){return!s[e]})).forEach((function(t){"boolean"===T.fieldsMap[V.config.primaryFacet].fieldType&&(t=t?"true":"false"),e.filters.filters[t]={match:R({},V.config.primaryFacet,t)}})),_.keys(s).forEach((function(t){var n=V.config.groupings[t];e.filters.filters[n]||(e.filters.filters[n]={bool:{filter:{terms:R({},V.config.primaryFacet,[])}}}),e.filters.filters[n].bool.filter.terms[V.config.primaryFacet].push(t)})),e};n.performTimeline=function(){e.facets(n.request.params,M.timelineAggregations).then((function(e){V.loading=!1,V.analysisReady=!0;var t={};["published","filed","granted","expires","earliest_priority"].filter((function(e){return V.config.timeline.series[e]})).forEach((function(n){e[n].forEach((function(e){_.set(t,"["+e.label+"]["+n+"]",e.value)}))})),V.timelineData=_.keys(t).reduce((function(e,n){return e.concat([{color:"Published",label:n,value:t[n].published||0},{color:"Filed",label:n,value:t[n].filed||0},{color:"Earliest Priority",label:n,value:t[n].earliest_priority||0},{color:"Granted",label:n,value:t[n].granted||0},{color:"Anticipated Termination",label:n,value:t[n].expires||0}])}),[]).filter((function(e){return parseInt(e.label)>(V.config.timeline.startYear||1950)&&e.value})),ne()}))},n.renderTimeline=function(){V.timelineData&&(V.timelineSpec=(0,c.HistoricalAnalysisSpec)({width:U(),height:V.config.height,data:V.timelineData,mark:V.config.overTimeMark||"line",temporalLabel:"Year",yAxisLabel:"Patents",colourAxisLabel:"Action",colourScale:"greenblue"}))},n.performHistoricalAnalysis=function(){if(V.config.primaryFacet){var i=(0,a.default)(n.request),r={size:0,aggregations:R({},V.config.primaryFacet,{terms:{field:V.config.primaryFacet,size:V.config.limit}})};if(V.config.excludeFilterValues){var o=T.fieldsMap[V.config.primaryFacet],l=n.filterMap[o.filterName],c=_.keys(l).filter((function(e){return l[e]})).join("|");r.aggregations[V.config.primaryFacet].terms.exclude=c}var u=("patent"===n.type?e:t).search(i.params,r);s.when(u).then((function(e){var t=e.aggregations[V.config.primaryFacet].buckets;n.aggs[V.config.primaryFacet]=t,Z()})).catch((function(e){console.warn(e),n.handleError(e)}))}else Z()};var Z=function(){X();var i={dates:{}};V.config.primaryFacet&&(i.dates.aggregations={groupings:J()});var r="patent"===n.type?"date_published":"date_published_sort",o=V.config.dateField||r;if(V.config.interval?("scholar"===n.type&&"date_published_sort"===o&&(o="date_published"),"auto"===V.config.interval?i.dates.auto_date_histogram={field:o}:i.dates.date_histogram={field:o,calendar_interval:V.config.interval,min_doc_count:1}):i.dates.date_histogram={field:o,calendar_interval:"year",min_doc_count:1,format:"yyyy"},V.config.metric&&V.config.metricAggregation){var l=V.config.metric,c={result:R({},V.config.metricAggregation,{field:l})};V.config.primaryFacet?i.dates.aggregations.groupings.aggregations=c:i.dates.aggregations=c}var u=(0,a.default)(n.request),p={aggregations:i,size:0};u.params["publishedYear.from"]||u.params["publishedDate.from"]||(u.params["publishedYear.from"]=V.config.startYear||1950);var f=("patent"===n.type?e:t).search(u.params,p);s.when(f).then((function(e){V.loading=!1,V.analysisReady=!0;var t="scholar"===n.type?V.config.metricAggregation+"#result":"result",i=e.aggregations.dates.buckets;V.historicalData=i.reduce((function(e,n){if(V.config.primaryFacet){var i=n.groupings||n["filters#groupings"],a=_.keys(i.buckets).map((function(e){return{color:e,filterValue:e,label:n.key_as_string,value:i.buckets[e][t]?i.buckets[e][t].value:i.buckets[e].doc_count}}));return e.concat(a)}return e.concat({color:"all",filterValue:"?",label:n.key_as_string,value:n[t]?n[t].value:n.doc_count})}),[]),V.datesExtent=d.extent(V.historicalData.map((function(e){return e.label})));var a=L[V.config.primaryFacet];a&&V.historicalData.forEach((function(e){e.color=a(e.color)}));var r=V.config.groupings||{};V.sortables.default=_.uniq(V.historicalData.map((function(e){return e.filterValue})).filter((function(e){return!r[e]}))),Y(),n.renderHistoricalAnalysisChart()})).catch((function(e){n.handleError(e)}))};n._getFieldBasedOnAggregation=function(){return"citing-patents"===V.config.metric?"referenced_by_patent.lens_id":"citing-scholarly"===V.config.metric?"referenced_by":""};var Y=function(){n.initialised||(n.initialised=!0),n.analysisQueue++};n.performHistogram=function(){var i=V.config.histogram,a=i.interval,r=i.field,o=i.min_doc_count,l={aggregations:{histogram:{histogram:{field:r,interval:a,min_doc_count:o}}},size:0},c=("patent"===n.type?e:t).search(n.request.params,l);s.when(c).then((function(e){V.loading=!1,V.analysisReady=!0,n.analysisQueue++;var t=e.aggregations.histogram.buckets;V.histogramData=t.map((function(e){return{key:e.key,x2:e.key+a,value:e.doc_count}})),n.renderHistogram()}))},n.performBasicAnalysis=function(){var i={applicant:"applicant.name.exact",classification_cpc:"class_cpc.symbol",classification_ipcr:"class_ipcr.symbol",classification_nat:"class_national.symbol",inventor:"inventor.name.exact",owner:"owner_all.name.exact",type:"publication_type",sequence_organism_taxid:"sequence.tax_id"};V.config.primaryFacet&&i[V.config.primaryFacet]&&(console.warn("mapping legacy field"),V.config.primaryFacet=i[V.config.primaryFacet]),"map"!==V.config.basicChartType||_.includes(M.mapKeys,V.config.primaryFacet)||(V.config.basicChartType="bar-chart"),"logo-grid"!==V.config.basicChartType||_.includes(M.logoGridKeys,V.config.primaryFacet)||(V.config.basicChartType="bar-chart");var r=V.config.groupings||{},o=R({},V.config.primaryFacet,(0,a.default)(N[V.config.primaryFacet])||{terms:{field:V.config.primaryFacet}}),l=T.fieldsMap[V.config.primaryFacet];if(!l){var c=V.config.primaryFacet;return console.log("unknown field",c),void(l={key:c,label:c})}var u=n.filterMap[l.filterName+".must"]||[],d=_.uniq([].concat(E(u),E(_.keys(n.filterMap[l.filterName])),E(_.keys(V.config.groupings)))).map((function(e){return'"'+e+'"'})).join("|");if(d&&V.config.restrictToFilterValues&&(o[V.config.primaryFacet].terms.include=d),d&&V.config.excludeFilterValues&&(console.log("excludeFilterValues"),o[V.config.primaryFacet].terms.exclude=d),_.keys(V.config.groupings).length&&(o.groupings=J()),o[V.config.primaryFacet].terms.size=V.config.limit||100,o[V.config.primaryFacet].terms.shard_size=4*V.config.limit+10,_.includes(M.mapKeys,V.config.primaryFacet)&&(o[V.config.primaryFacet].terms.shard_size=200,"map"===V.config.basicChartType&&(o[V.config.primaryFacet].terms.size=200)),V.config.metric&&V.config.metricAggregation){var p=V.config.metric;o[V.config.primaryFacet].terms.order=R({},V.config.orderBy||"_count","desc");var f={result:R({},V.config.metricAggregation,{field:p})};o[V.config.primaryFacet].aggregations=f,o.groupings&&(o.groupings.aggregations=f)}V.config.showMissingValues&&"is_open_access"!==V.config.primaryFacet&&(o[V.config.primaryFacet].terms.missing="Missing");var m={aggregations:o,size:0},h=("patent"===n.type?e:t).search(n.request.params,m);s.when(h).then((function(e){V.loading=!1,V.analysisReady=!0;var t="scholar"===n.type?V.config.metricAggregation+"#result":"result",i=L[V.config.primaryFacet],a=e.aggregations[V.config.primaryFacet],o=a.buckets,s=a.sum_other_doc_count;if(V.basicData=o.filter((function(e){return!_.keys(r).includes(e.key)||"Other"===e.key})).map((function(e){return{key:V.config.primaryFacet,filterValue:e.key,label:i?i(e.key):e.key,value:V.config.metric&&e[t]?e[t].value:e.doc_count,doc_count:e.doc_count}})),V.sortables.default=V.basicData.map((function(e){return e.filterValue})).filter((function(e){return!r[e]})),e.aggregations.groupings){var l=e.aggregations.groupings.buckets;V.basicData=V.basicData.filter((function(e){return!V.config.groupings[e.key]})),_.keys(l).filter((function(e){return e.startsWith("* ")})).map((function(e){var n=l[e];V.basicData.push({key:V.config.primaryFacet,label:i?i(e):e,value:V.config.metric&&n[t]?n[t].value:n.doc_count,doc_count:n.doc_count})}))}V.config.groupOtherValues&&V.basicData.push({key:V.config.primaryFacet,label:"Other",value:s}),V.config.max&&(V.itemsExceedMax=V.basicData.filter((function(e){return e.value>V.config.max})).length),V.config.hideItemsExceedingMax&&"heatmap"===V.config.basicChartType&&V.config.max&&(V.basicData=V.basicData.filter((function(e){return e.value<=V.config.max}))),Q(),Y()})).catch((function(e){n.handleError(e)}))};var Q=function(){_.includes(M.mapKeys,V.config.primaryFacet)&&(V.map={counts:{}},V.basicData.forEach((function(e){var t=e.label,n=e.value,i=b.default.country(t),a=i?i.name:t;V.map.counts[a]=n})))};n.performCitationComparisonAnalysis=function(){var i={scatter:{terms:{field:(0,r.default)(N[V.config.primaryFacet],"terms.field")||V.config.primaryFacet,size:V.config.limit||100,order:R({},V.config.scatterPlotSort,"desc")},aggs:{referenced_by_count:{cardinality:{field:"patent"===n.type?"reference_cited.npl.record_lens_id":"referenced_by"}},referenced_by_patent_count:{cardinality:{field:"patent"===n.type?"reference_cited.patent.lens_id":"referenced_by_patent.lens_id"}}}}};if(V.config.excludeFilterValues){var a=T.fieldsMap[V.config.primaryFacet];if(a&&n.filterMap[a.filterName]){var o=n.filterMap[a.filterName],l=_.keys(o).filter((function(e){return o[e]}));i.scatter.terms.exclude=l.join("|")}}var c={aggregations:i,size:0},u=("patent"===n.type?e:t).search(n.request.params,c);s.when(u).then((function(e){if(V.loading=!1,V.analysisReady=!0,V.scatterPlotData=e.aggregations.scatter.buckets.map((function(e){return{doc_count:e.doc_count,key:e.key,filterValue:e.key,referenced_by_count:e["patent"===n.type?"referenced_by_count":"cardinality#referenced_by_count"].value,referenced_by_patent_count:e["patent"===n.type?"referenced_by_patent_count":"cardinality#referenced_by_patent_count"].value}})),n.aggs[V.config.primaryFacet]&&V.config.restrictToFilterValues){var t=T.fieldsMap[V.config.primaryFacet],i=n.filterMap[t.filterName]||{},a=_.keys(i).filter((function(e){return i[e]}));a.length>1&&(V.scatterPlotData=V.scatterPlotData.filter((function(e){return a.includes(e.key)})))}n.renderScatterPlot(),Y()})).catch((function(e){n.handleError(e)}))},n.performTopHits=function(){X();var i=(0,a.default)(n.request),r="scholar"===n.type?"+referenced_by_patent_count":"-date_published";"patent"===n.type&&(i.params.f=!0);var o=V.config.sort||r,l=o.slice(1),c="-"===o.slice(0,1)?"asc":"desc",u={size:V.config.limit||5,sort:[R({},l,{order:c})],_source:{includes:"scholar"===n.type?t.MOST_FIELDS:e.MOST_FIELDS}},d=("scholar"===n.type?t:e).search(i.params,u);s.when(d).then((function(e){n.analysisQueue++,V.loading=!1,V.analysisReady=!0,V.topHits=e.hits})).catch((function(e){n.handleError(e)}))},n.performScholarlyCitationComparisonAnalysis=function(){var e=_.uniq(["record_lens_id","title","year_published",V.config.scholarArticleScatter.color.field,V.config.scholarArticleScatter.x.field,V.config.scholarArticleScatter.y.field,_.get(V.config.scholarArticleScatter,"size.field")]).filter((function(e){return e})),i=(0,a.default)(n.request),l=V.config.scholarArticleScatter.sort,c=l.slice(1),u="-"===l.slice(0,1)?"ASC":"DESC",d={_source:{includes:e},size:V.config.limit||100,sort:[R({},c,{order:u})]},p=t.search(i.params,d);s.when(p).then((function(t){V.loading=!1,V.analysisReady=!0,"article-scatter"===V.config.view&&(V.articleScatterData=t.hits.map((function(t){var n={};return e.forEach((function(e){var i=(0,r.default)(t,e);L[e]&&(i=L[e](i)),(0,o.default)(n,e,i)})),n.year_published=n.year_published+"",n})).filter((function(e){return"undefined"!==e.year_published})),n.renderArticleScatterPlot(),Y())})).catch((function(e){n.handleError(e)}))},n.performNestedAnalysis=function(){if(!n.aggs[V.config.primaryFacet])return console.log("Refusing to render targeted analysis until aggs are available"),void S((function(){n.retryOverTime("performNestedAnalysis")}),1e3);var i=V.config.groupings||{};V.sortables.default=n.aggs[V.config.primaryFacet].map((function(e){return e.key})).filter((function(e){return!i[e]})).slice(0,V.config.limit||10);var o={groupings:J()};if(o.groupings.aggregations={sub:{terms:{field:(0,r.default)(N[V.config.secondaryFacet],"terms.field")||V.config.secondaryFacet,size:V.config.secondaryFacetLimit||10,order:R({},V.config.metric&&V.config.metricAggregation&&V.config.orderBy?V.config.orderBy:"_count","desc")}}},V.config.excludeFilterValues){var l=T.fieldsMap[V.config.primaryFacet];if(l&&n.filterMap[l.filterName]){var c=n.filterMap[l.filterName];_.keys(c).filter((function(e){return c[e]})).forEach((function(e){delete o.groupings.filters.filters[e]}))}var u=T.fieldsMap[V.config.secondaryFacet];if(u&&n.filterMap[u.filterName]){var d=n.filterMap[u.filterName],p=_.keys(d).filter((function(e){return d[e]})).join("|");o.groupings.aggregations.sub.terms.exclude=p}}if(V.config.metric&&V.config.metricAggregation){var f=V.config.metric,m={result:R({},V.config.metricAggregation,{field:f})};o.groupings.aggregations.sub.aggregations=m}var h=(0,a.default)(n.request),y={aggregations:o,size:0},g=("patent"===n.type?e:t).search(h.params,y);s.when(g).then((function(e){V.loading=!1,V.analysisReady=!0;var t=L[V.config.primaryFacet],i=L[V.config.secondaryFacet],a=e.aggregations.groupings.buckets,r=_.keys(a).map((function(e){var t=null;return _.keys(a[e]).forEach((function(n){n.indexOf("#sub")&&(t=a[e][n])})),{key:e,sub:t}})),o="scholar"===n.type?V.config.metricAggregation+"#result":"result";V.groupedBarChartData=r.reduce((function(e,n){return e.concat(n.sub.buckets.map((function(e){return{label:i?i(e.key):e.key,filterValue:e.key,color:t?t(n.key):n.key,value:e[o]?e[o].value:e.doc_count,doc_count:e.doc_count}})))}),[]),n.renderBarCharts(),Y()})).catch((function(e){n.handleError(e)}))},n.performPatentScatter=function(){V.patentScatterSpec=null;var t=V.config.citingPatentScatter,i=t.x,a=t.y,r=t.color,o=t.size,l=_.get(T.fieldsMapByType.patent[o.field],"key"),c=_.uniq(["record_lens_id","title","application_reference.date",T.fieldsMapByType.patent[i.field].key,T.fieldsMapByType.patent[a.field].key,T.fieldsMapByType.patent[r.field].key,l]).filter((function(e){return e})),u=void 0;(u=n.request.params).f=!0,u.includeMetadata=!1;var d=V.config.citingPatentScatter.sort,p=d.slice(1),f=d.slice(0,1),m={size:V.config.limit,sort:[R({},p,{order:"-"===f?"asc":"desc"})],_source:c},h=e.search(u,m);s.when(h).then((function(e){e.joinedQueryStats&&(V.citingPatentsCapped=e.joinedQueryStats.SCHOLAR.capped),e.hits.forEach((function(e){e.publication_type&&(e.publication_type=L.publication_type(e.publication_type)),_.isArray(e.reference_cited)&&(e.reference_cited={patent_count:e["reference_cited.patent_count"],npl_count:e["reference_cited.npl_count"],npl_resolved_count:e["reference_cited.npl_resolved_count"]})})),V.patentScatterData=e.hits,V.loading=!1,V.analysisReady=!0,n.renderPatentScatterChart(),Y()})).catch((function(e){n.handleError(e)}))},n.submit=function(){"source.title"===V.config.primaryFacet&&(V.config.primaryFacet="source.title.keyword"),"pub_year"===V.config.primaryFacet&&"line"===V.config.basicChartType&&(V.config={type:"patent",view:"over-time",overTimeMark:"line",dateField:"date_published"}),X(),V.config.limit||(V.config.limit=10),n._reset(),V.width=U()+"px",V.loading=!0,"over-time"===V.config.view?n.performHistoricalAnalysis():"scatter-plot"===V.config.view?n.performCitationComparisonAnalysis():"basic"===V.config.view?n.performBasicAnalysis():"x-by-y"===V.config.view?n.performNestedAnalysis():"article-scatter"===V.config.view?n.performScholarlyCitationComparisonAnalysis():"patent-scatter"===V.config.view?n.performPatentScatter():"histogram"===V.config.view?n.performHistogram():"timeline"===V.config.view?n.performTimeline():"iframe"===V.config.view||"image"===V.config.view?(V.loading=!1,n.analysisQueue++):"top-hits"===V.config.view?n.performTopHits():console.warn("Unknown view:",V.config.view)},n.isView=function(e){return _.isString(e)&&(e=[e]),_.isArray(e)||console.error(e,"is not an array"),e.includes(V.config.view)},n.switchAnalysis=function(){var e=V.config.primaryFacet;V.config.primaryFacet=V.config.secondaryFacet,V.config.secondaryFacet=e,n.submit()},n.switchScholarScatterAxes=function(){var e=V.config.scholarArticleScatter.x.field;V.config.scholarArticleScatter.x={field:V.config.scholarArticleScatter.y.field},V.config.scholarArticleScatter.y={field:e},n.submit()},n.switchPatentScatterAxes=function(){var e=V.config.citingPatentScatter.x.field;V.config.citingPatentScatter.x={field:V.config.citingPatentScatter.y.field},V.config.citingPatentScatter.y={field:e},n.renderPatentScatterChart()},n.renderScatterPlot=function(){X();var e=V.config.colourScheme;"auto"===V.config.colourScheme&&(e="plasma"),V.scatterPlotSpec=(0,A.default)({values:V.scatterPlotData,scale:V.config.scaleType,keyTitle:T.fieldsMap[V.config.primaryFacet].label,colourScheme:e,width:U(),height:V.config.height,displayLabels:V.config.displayScatterLabels,displayCitationRatio:V.config.displayCitationRatio,maxY:V.config.max})};var X=function(){V.config.primaryFacet&&(V.previousPrimaryFacet=V.config.primaryFacet),M.configKeys.forEach((function(e){n.config[e]=V.config[e]})),"iframe"!==V.config.view&&"image"!==V.config.view&&"annotation"!==V.config.view||(delete n.config.limit,delete n.config.primaryFacet,delete n.config.scaleType,delete n.config.sample),"scatter-plot"!==V.config.view&&delete n.config.scatterPlotSort,"histogram"!==V.config.view&&delete n.config.histogram,"article-scatter"!==V.config.view&&delete n.config.scholarArticleScatter,"patent-scatter"!==V.config.view&&delete n.config.citingPatentScatter,"timeline"!==V.config.view&&delete n.config.timeline,"over-time"!==V.config.view&&"timeline"!==V.config.view&&delete n.config.overTimeMark,"x-by-y"!==V.config.view&&(delete n.config.secondaryFacet,delete n.config.secondaryFacetLimit,delete n.config.barChartType),"basic"!==V.config.view&&(delete n.config.basicChartType,delete n.config.flip,delete n.config.groupOtherValues,delete n.config.showMissingValues),"auto"===V.config.colourScheme&&delete n.config.colourScheme,V.config.title||delete n.config.title,V.config.annotation||delete n.config.annotation,V.config.max||delete n.config.hideItemsExceedingMax,p.$broadcast("PERSIST_ANALYSIS_ITEMS")};n.persistConfig=X,n.renderArticleScatterPlot=function(){if(V.articleScatterData){X(),V.articleScatterZeros={patents:V.articleScatterData.filter((function(e){return 0===e.referenced_by_patent_count})).length,articles:V.articleScatterData.filter((function(e){return 0===e.referenced_by_count})).length};var e=V.config.scholarArticleScatter,t=e.x,n=e.y,i=e.color,r=e.size;V.config.scholarArticleScatter.x.type=(0,l.getPatentFieldType)(t.field,T.fieldsMapByType.scholar[t.field].fieldType),V.config.scholarArticleScatter.y.type=(0,l.getPatentFieldType)(n.field,T.fieldsMapByType.scholar[n.field].fieldType),V.config.scholarArticleScatter.color.type=(0,l.getPatentFieldType)(i.field,T.fieldsMapByType.scholar[i.field].fieldType),V.config.scholarArticleScatter.x.title=T.fieldsMapByType.scholar[t.field].label,V.config.scholarArticleScatter.y.title=T.fieldsMapByType.scholar[n.field].label,V.config.scholarArticleScatter.color.title=T.fieldsMapByType.scholar[i.field].label,r&&r.field&&(V.config.scholarArticleScatter.size.type=(0,l.getPatentFieldType)(r.field,T.fieldsMapByType.scholar[r.field].fieldType),V.config.scholarArticleScatter.size.title=T.fieldsMapByType.scholar[r.field].label);var o=V.config.colourScheme;if("auto"===o)if("quantitative"===V.config.scholarArticleScatter.color.type)o="greenblue";else o=_.uniq(V.articleScatterData.map((function(e){return e[V.config.scholarArticleScatter.color.field]}))).length<=5?"tableau10":"category20c";var s=null;"open_access.colour"===V.config.scholarArticleScatter.color.field&&(s=(0,a.default)(V.openAccessColourScale)),V.articleScatterPlotSpec=(0,f.default)({data:V.articleScatterData,width:U(),height:V.config.height,scaleType:V.config.scaleType,displayLabels:V.config.displayScatterLabels,x:V.config.scholarArticleScatter.x,y:V.config.scholarArticleScatter.y,color:V.config.scholarArticleScatter.color,colourScheme:o,colourScale:s})}},n.renderHistogram=function(){var e=V.config.histogram,t=e.interval,n=e.color;V.histogramSpec=(0,v.default)({width:U(),height:V.config.height,values:V.histogramData,binSize:t,scaleType:V.config.scaleType,xAxisTitle:(0,r.default)(T.fieldsMap[V.config.histogram.field],"label")||V.config.histogram.field,color:n})},n.renderBarCharts=function(){if(X(),V.groupedBarChartData){var e=V.groupedBarChartData,t=U(),i={scheme:"auto"===V.config.colourScheme?"category20c":V.config.colourScheme};"open_access.colour"===V.config.secondaryFacet?i=(0,a.default)(V.openAccessColourScale):"legal_status.patent_status"===V.config.secondaryFacet&&(i=(0,a.default)(V.legalStatusColourScale)),V.stackedBarChartSpec=(0,w.default)({values:e,width:t,height:V.config.height,xAxisLabel:n.metricLabel(),yAxisLabel:T.fieldsMap[V.config.primaryFacet].label,colourLabel:T.fieldsMap[V.config.secondaryFacet].label,colourScale:i,normalise:V.config.normalise,flip:V.config.flip}),V.groupedBarChartSpec=(0,g.default)({width:t,height:V.config.height,data:e,max:V.config.max,colourScale:i,primaryLabel:T.fieldsMap[V.config.primaryFacet].label,secondaryLabel:T.fieldsMap[V.config.secondaryFacet].label,title:T.fieldsMap[V.config.secondaryFacet].label+" by "+T.fieldsMap[V.config.primaryFacet].label,displayLegend:!1,alternateColours:V.config.alternateColours,metricLabel:n.metricLabel(),flip:V.config.flip})}},n.colourScheme=function(){return"basic"===V.config.view&&"legal_status.patent_status"===V.config.primaryFacet?V.legalStatusColourScale:V.config.colourScheme},n.renderPatentScatterChart=function(){if(V.patentScatterData){X(),V.patentScatterSpec=null;var e=V.config.citingPatentScatter,t=e.x,n=e.y,i=e.color,a=e.size;V.config.citingPatentScatter.x.type=(0,l.getPatentFieldType)(t.field,T.fieldsMapByType.patent[t.field].fieldType),V.config.citingPatentScatter.y.type=(0,l.getPatentFieldType)(n.field,T.fieldsMapByType.patent[n.field].fieldType),V.config.citingPatentScatter.color.type=(0,l.getPatentFieldType)(i.field,T.fieldsMapByType.patent[i.field].fieldType),V.config.citingPatentScatter.x.title=T.fieldsMapByType.patent[t.field].label,V.config.citingPatentScatter.y.title=T.fieldsMapByType.patent[n.field].label,V.config.citingPatentScatter.color.title=T.fieldsMapByType.patent[i.field].label,V.config.citingPatentScatter.size.field&&(V.config.citingPatentScatter.size.type=(0,l.getPatentFieldType)(a.field,T.fieldsMapByType.patent[a.field].fieldType),V.config.citingPatentScatter.size.title=T.fieldsMapByType.patent[a.field].label);var r=V.config.colourScheme;if("auto"===r)if("quantitative"===V.config.citingPatentScatter.color.type)r="greenblue";else{var o=_.uniq(V.patentScatterData.map((function(e){return e[V.config.citingPatentScatter.color.field]})));r=o.length<=5?"tableau10":"category20c"}S((function(){V.patentScatterSpec=(0,C.default)({data:V.patentScatterData,colourScheme:r,width:U(),height:V.config.height,scale:V.config.scaleType,x:V.config.citingPatentScatter.x,y:V.config.citingPatentScatter.y,maxX:V.config.citingPatentScatter.maxX,maxY:V.config.citingPatentScatter.maxY,color:V.config.citingPatentScatter.color,size:V.config.citingPatentScatter.size,displayLabels:V.config.displayScatterLabels,mark:V.config.citingPatentScatter.mark||"circle"})}))}},n.renderHistoricalAnalysisChart=function(){if(X(),V.historicalData){if("legal_status.patent_status"===V.config.primaryFacet)V.config.overTimeColourScale=(0,a.default)(V.legalStatusColourScale);else if("open_access.colour"===V.config.primaryFacet)V.config.overTimeColourScale=(0,a.default)(V.openAccessColourScale);else{var e=V.config.colourScheme;if("auto"===e){var t=_.uniq(V.historicalData.map((function(e){return e.color}))).length;V.numberOfSeries=t,e=t<=5?"tableau10":"category20c"}V.config.overTimeColourScale={scheme:e}}var i=V.config.groupings||{},r={};V.historicalData.forEach((function(e){r[e.label]||(r[e.label]={});var t=i[e.color]||e.color;r[e.label][t]||(r[e.label][t]=0),r[e.label][t]+=e.value}));var o=[];Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){var n=r[e][t];o.push({color:t,label:e,value:n})}))}));var s=V.config.dateField&&T.fieldsMap[V.config.dateField]?T.fieldsMap[V.config.dateField].label:"Date Published",l=V.config.primaryFacet,u=T.fieldsMap[V.config.primaryFacet]||{key:l,label:l};n.historicalAnalysisSpec=(0,c.HistoricalAnalysisSpec)({width:U(),height:V.config.height,data:o,mark:V.config.overTimeMark,yAxisLabel:n.metricLabel(),colourAxisLabel:u.label,colourScale:V.config.overTimeColourScale,max:V.config.max,interval:V.config.interval,temporalLabel:s})}else console.warn("Attempting to render historical analysis with no data. aborting...")},n.getMetricLabel=function(e,t){var i=D.filter((function(i){return i.type.toLowerCase()===n.type&&i.field===t&&i.aggregation===e})).pop();return i&&i.label?i.label:(V.metricAggregationLabels[e]||e)+" "+(T.fieldsMap[t]?T.fieldsMap[t].label:t)},n.metricLabel=function(){var e=n.getMetricLabel(V.config.metricAggregation,V.config.metric);return V.config.metricAggregation&&V.config.metric?e:"Document Count"},n.applyGroupings=function(){V.config.groupings={},_.keys(V.sortables).filter((function(e){return"default"!==e})).forEach((function(e){var t=V.sortables[e];t&&t.forEach((function(t){V.config.groupings[t]=e}))})),V.showGroupings=!1,V.configMenu=null,ae()},n.promptAddNewGrouping=function(){V.addNewGrouping=!0,setTimeout((function(){document.querySelector(".add-new-grouping-input").focus()}),10)},n.addNewGrouping=function(){V.sortables["* "+V.newGroupingName]=[],V.newGroupingName="",V.addNewGrouping=!1},n.removeGrouping=function(e){V.sortables.default=V.sortables.default.concat(V.sortables[e]),delete V.sortables[e]},n.getNumberOfGroupings=function(){return _.keys(V.sortables).length-1},n.promptDeleteAll=function(){V.promptDeleteAll?(V.sortables={},V.promptDeleteAll=!1,n.applyGroupings()):V.promptDeleteAll=!0},n.handleError=function(e){console.error(e),V.loading=!1,V.error=e.statusText||e,n.analysisQueue++},n.selfDestruct=function(){p.$broadcast("REMOVE_ANALYSIS_ITEM",n.index,n.subIndex)},n.quantitativeFieldFilter=function(e){return"quantitative"===(0,l.getPatentFieldType)(e.key,e.fieldType)||!e.key},n.scatterPlotFieldFilter=function(e){return["date","integer"].includes(e.fieldType)},n.colourFieldFilter=function(e){return["text","integer","boolean","keyword"].includes(e.fieldType)&&!e.isMulti},n.changeDisplayLabels=function(){"article-scatter"===V.config.view?n.renderArticleScatterPlot():"patent-scatter"===V.config.view?n.renderPatentScatterChart():n.renderScatterPlot()},n._clickStackedBarChart=function(e){n.addFilter(V.config.secondaryFacet,e.filterValue||e.label,V.config.source,V.config.type)},n._clickGroupedBarChart=function(e){(e.filterValue||e.label)&&n.addFilter(V.config.secondaryFacet,e.filterValue||e.label,V.config.source,V.config.type)},n.clickTimelinePoint=function(e){var t=e.utcyear_label.getFullYear(),i=(e.utcyear_label_end.getFullYear(),{Published:"publishedDate","Earliest Priority":"earliestPriorityDate",Filed:"filingDate"}[e.color]);i?n.applyAnalysisDateFilter(t,t,i):alert("Date filter is only supported for Published, Filing or Priority dates at this time.")},n.clickPatentScatterPoint=function(t){if(t.record_lens_id){V.clickedPatent=t,V.loadingClickedPatent=!0;var i=e.get(t.record_lens_id);s.when(i).then((function(e){V.clickedPatent=e,V.loadingClickedPatent=!1})),n.$digest()}},n.clickArticleScatterPoint=function(e){if(e.record_lens_id){V.clickedArticle=e,V.loadingClickedArticle=!0;var i=t.get(e.record_lens_id);s.when(i).then((function(e){V.clickedArticle=e,V.loadingClickedArticle=!1})),n.$digest()}},n.clickWordCloud=function(e){var t=e.data.filterValue;n.addFilter(V.config.primaryFacet,t,V.config.source,V.config.type)},n.clickSimpleBarChart=function(e){var t=e.data,i=t.key,a=t.label,r=t.filterValue;if(_.values(V.config.groupings).includes(a)){var o=[];return _.keys(V.config.groupings).forEach((function(e){V.config.groupings[e]===a&&o.push(e)})),void n.addFilter(i,o)}n.addFilter(i,r||a,V.config.source,V.config.type)},n.clickScatterPlot=function(e){e.key&&(n.addFilter(V.config.primaryFacet,e.filterValue,V.config.source,V.config.type),document.getElementById("vg-tooltip-element").remove())},n.clickLineChart=function(e){if(e.color){var t=_.values(V.config.groupings),i=e.color;if(t.includes(i)){var a=[];return _.keys(V.config.groupings).forEach((function(e){V.config.groupings[e]===i&&a.push(e)})),void n.addFilter(V.config.primaryFacet,a,V.config.source,V.config.type)}if(!e.filterValue){var r=new Date(e.label).getFullYear(),o=V.config.dateField&&T.fieldsMap[V.config.dateField]?T.fieldsMap[V.config.dateField].filterName:"date_published";return void(o?n.applyAnalysisDateFilter(r,r,o):alert("Date filter is only supported for Published, Filing or Priority dates at this time."))}n.addFilter(V.config.primaryFacet,e.filterValue||e.color,V.config.source,V.config.type)}},n.clickCountry=function(e){_.isString(e)&&n.addFilter(V.config.primaryFacet,e,n.request.params||V.config.source,V.config.type||n.type)},n.export=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";V.vegaView.toImageURL(e).then((function(t){var n=V.config.title?V.config.title.replace(/[\.\/]/g,""):"Lens Analysis Export",i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("download",n+"."+e),i.dispatchEvent(new MouseEvent("click"))})).catch((function(e){console.warn(e)}))},n.importConfig=function(){console.log(V.configClone);try{V.config=JSON.parse(V.configClone),X(),p.$broadcast("ANALYSIS_ITEM_IMPORTED"),ne()}catch(e){console.error(e)}V.configImportAvailable=!1,V.viewSource=!1},n.getDownloadData=function(){return!!V.vegaSpec&&(V.downloadData=ee(),!0)},n.dataTableSort=function(e){V.dataTableSort===e?V.dataTableSortReverse=!V.dataTableSortReverse:V.dataTableSort=e},n.downloadData=function(){var e=ee();if("csv"===V.downloadFormat){var t=(0,u.jsonToCsv)(e),n=new Blob([t],{type:"text/plain;charset=utf-8"});h.default.saveAs(n,"data.csv")}else{var i=JSON.stringify(e,null,2),a=new Blob([i],{type:"text/plain;charset=utf-8"});h.default.saveAs(a,"data.json")}},n.getSortableKeys=function(){return _.keys(V.sortables).reverse()},n.formatter=function(e){var t=L[V.config.primaryFacet];return t?t(e):e};var ee=function(){var e=n.metricLabel(),t=_.cloneDeep(V.vegaSpec?V.vegaSpec.data.values:V.basicData),i=void 0;if("basic"===V.config.view||"x-by-y"===V.config.view)i=t.map((function(t){var n,i=t.label,a=t.value,r=t.color,o=(R(n={},T.fieldsMap[V.config.primaryFacet].label,i),R(n,e,a),n);return r&&(o[T.fieldsMap[V.config.primaryFacet].label]=r,o[T.fieldsMap[V.config.secondaryFacet].label]=i),o}));else if("over-time"===V.config.view)i=t.map((function(t){var n,i=t.label,a=t.value,r=t.color,o=(R(n={},e,a),R(n,"Publication Year",i),n);return T.fieldsMap[V.config.primaryFacet]&&(o[T.fieldsMap[V.config.primaryFacet].label]=r),o}));else if("article-scatter"===V.config.view)i=t.map((function(e){return _.keys(e).forEach((function(t){var n=T.fieldsMap[t].label||t;e[n]=e[t],delete e[t],console.log(e)})),e}));else if("patent-scatter"===V.config.view){var a=[V.config.citingPatentScatter.x.field,V.config.citingPatentScatter.y.field,V.config.citingPatentScatter.color.field,V.config.citingPatentScatter.size.field?V.config.citingPatentScatter.size.field:null];i=t.map((function(e){var t={};return a.forEach((function(n){var i=T.fieldsMap[n],a=i?i.label:n;t[a]=e[n]})),t}))}else"article-scatter"===V.config.view?i=t.map((function(e){return _.keys(e).forEach((function(t){var n=V.fieldMap[t],i=n?n.label:t;e[i]=e[t],delete e[t]})),e})):"scatter-plot"===V.config.view?i=t.map((function(e){var t,n=e.referenced_by_count,i=e.referenced_by_patent_count,a=e.key,r=e.doc_count;return R(t={},T.fieldsMap[V.config.primaryFacet].label,a),R(t,"Document Count",r),R(t,"Citing Patents",i),R(t,"Citing Scholarly Works",n),t})):"histogram"===V.config.view&&(i=t.map((function(e){var t,n=e.key,i=e.x2,a=e.value,r=V.fieldMap[V.config.histogram.field].label;return R(t={},r+" - min",n),R(t,r+" - max",i),R(t,"Document Count",a),t})));return i};n.viewSource=function(){console.log(V.vegaSpec),V.configClone=JSON.stringify(n.config,null,2),V.vegaSpec?(V.vegaSpecRaw=JSON.stringify(V.vegaSpec,null,2),V.vegaSpecRawData=JSON.stringify(ee(),null,2),V.viewSource="data"):V.viewSource="config"},n.facetChange=function(){n.config.sample&&n.config.title&&(V.config.title="",V.config.annotation="",n.config.sample=!1),V.sortables={},n.applyGroupings(),n.submit()},n.autoFill=function(e){var t=(0,a.default)(window.FUSE_OPTS);t.threshold=.3;var n=V.sortables.default.map((function(e){return{key:e}})),i=e.slice(2),r=new y.default(n,t).search(i).map((function(e){return e.item.key}));r.forEach((function(t){V.sortables[e].push(t)})),V.sortables.default=_.reject(V.sortables.default,(function(e){return r.includes(e)}))},n.autoGroup=function(e){e="* "+e,V.sortables[e]=[],n.autoFill(e)},n.changeCombinedMetricAgg=function(e){var t=e.aggregation,i=e.metric;V.config.metricAggregation=t,V.config.metric=i,n.submit()},n.changeChartType=function(e){V.config.basicChartType=e,n.submit()},n.getTimelineHeading=function(){var e={expires:"Expiring"},t=V.config.timeline.series;return"Patents "+_.keys(t).filter((function(e){return t[e]})).map((function(t){return e[t]||t.toTitleCase()})).join(", ")},n.saveToReport=function(){X();var e=q.get("saved-analysis-items")||[],t=_.cloneDeep(n.config);t.source=n.request.params||{},t.source.type=n.type,e.unshift(t),q.set("saved-analysis-items",e.slice(0,8)),V.savedToReport=!0};var te=function(){n.queued?console.warn("queued"):(V.width=U()+"px","article-scatter"===V.config.view?n.renderArticleScatterPlot():"over-time"===V.config.view?n.renderHistoricalAnalysisChart():"x-by-y"===V.config.view?n.renderBarCharts():"timeline"===V.config.view?n.renderTimeline():"patent-scatter"===V.config.view?n.renderPatentScatterChart():"scatter-plot"===V.config.view?n.renderScatterPlot():"histogram"===V.config.view?n.renderHistogram():"basic"===V.config.view&&n.config&&n.config.basicChartType!==V.config.basicChartType&&(V.config.basicChartType=n.config.basicChartType))},ne=_.debounce((function(){te(),n.$apply()}),500);$(window).on("resize",ne);var ie=[];ie.push(p.$on("SIDE_TAB_CHANGED",ne)),ie.push(p.$on("REFRESH_ANALYSIS_VISUALISATIONS",te)),ie.push(p.$on("REFRESH_ANALYSIS_VISUALISATION",(function(e,t,i){t===n.index&&i===n.subIndex&&te()})));var ae=_.debounce(n.submit,100);n.queued||n.submit(),n.$watch("vm.analysisReady",(function(e){e?S((function(){V.displayFooter=!0}),0):V.displayFooter=!1})),n.$watch("width",te),n.$watch("queued",(function(e){e||ae()})),n.$on("$destroy",(function(){ie.forEach((function(e){return e()})),$(window).off("resize",ne)}))}}}]))},function(e,t,n){var i=n(142),a=n(349),r=n(134),o=n(350),s=n(357),l=n(360),c=n(361),u=n(362),d=n(364),p=n(232),f=n(365),m=n(82),h=n(370),y=n(371),g=n(376),v=n(6),b=n(143),S=n(378),_=n(15),C=n(380),k=n(62),A=n(147),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,P,T,x,M){var I,R=1&n,E=2&n,D=4&n;if(P&&(I=x?P(t,T,x,M):P(t)),void 0!==I)return I;if(!_(t))return t;var L=v(t);if(L){if(I=h(t),!R)return c(t,I)}else{var N=m(t),O="[object Function]"==N||"[object GeneratorFunction]"==N;if(b(t))return l(t,R);if("[object Object]"==N||"[object Arguments]"==N||O&&!x){if(I=E||O?{}:g(t),!R)return E?d(t,s(I,t)):u(t,o(I,t))}else{if(!w[N])return x?t:{};I=y(t,N,R)}}M||(M=new i);var U=M.get(t);if(U)return U;M.set(t,I),C(t)?t.forEach((function(i){I.add(e(i,n,P,i,t,M))})):S(t)&&t.forEach((function(i,a){I.set(a,e(i,n,P,a,t,M))}));var B=L?void 0:(D?E?f:p:E?A:k)(t);return a(B||t,(function(i,a){B&&(i=t[a=i]),r(I,a,e(i,n,P,a,t,M))})),I}},function(e,t,n){var i=n(43);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(43),a=n(59),r=n(57);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(o)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(79),a=n(62);e.exports=function(e,t){return e&&i(t,a(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(28),a=n(20);e.exports=function(e){return a(e)&&"[object Arguments]"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(28),a=n(144),r=n(20),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&a(e.length)&&!!o[i(e)]}},function(e,t,n){var i=n(146),a=n(356),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var i=n(227)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(79),a=n(147);e.exports=function(e,t){return e&&i(t,a(t),e)}},function(e,t,n){var i=n(15),a=n(146),r=n(359),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var i=n(10),a=t&&!t.nodeType&&t,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(64)(e))},function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){var i=n(79),a=n(148);e.exports=function(e,t){return i(e,a(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[a++]=o)}return r}},function(e,t,n){var i=n(79),a=n(229);e.exports=function(e,t){return i(e,a(e),t)}},function(e,t,n){var i=n(233),a=n(229),r=n(147);e.exports=function(e){return i(e,r,a)}},function(e,t,n){var i=n(14)(n(10),"DataView");e.exports=i},function(e,t,n){var i=n(14)(n(10),"Promise");e.exports=i},function(e,t,n){var i=n(14)(n(10),"Set");e.exports=i},function(e,t,n){var i=n(14)(n(10),"WeakMap");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(149),a=n(372),r=n(373),o=n(374),s=n(375);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Set]":return new l;case"[object Symbol]":return o(e)}}},function(e,t,n){var i=n(149);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(19),a=i?i.prototype:void 0,r=a?a.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},function(e,t,n){var i=n(149);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(377),a=n(231),r=n(146);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:i(a(e))}},function(e,t,n){var i=n(15),a=Object.create,r=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},function(e,t,n){var i=n(379),a=n(80),r=n(145),o=r&&r.isMap,s=o?a(o):i;e.exports=s},function(e,t,n){var i=n(82),a=n(20);e.exports=function(e){return a(e)&&"[object Map]"==i(e)}},function(e,t,n){var i=n(381),a=n(80),r=n(145),o=r&&r.isSet,s=o?a(o):i;e.exports=s},function(e,t,n){var i=n(82),a=n(20);e.exports=function(e){return a(e)&&"[object Set]"==i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPatentFieldType=function(e,t){if("year_published"===e)return"temporal";return["integer"].includes(t)?"quantitative":"date"===t?"temporal":"nominal"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.data,n=e.width,i=e.height,a=e.scaleType,r=e.color,o=e.colourScale,s=e.colourScheme,l=e.x,c=e.y,u=e.size,d=e.displayLabels,p=[l.field,c.field],f={$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),transform:"log"===a&&_.intersection(p,["referenced_by_patent_count","referenced_by_count"]).length?[{filter:{field:"referenced_by_patent_count",gt:0}},{filter:{field:"referenced_by_count",gt:0}}]:null,selection:{grid:{type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},vconcat:[{view:{stroke:null},encoding:{x:{field:l.field,type:l.type,axis:window.vegaLegend({title:l.title,labelFontSize:10,grid:!1}),scale:{type:"temporal"===l.type?"time":a}},y:{field:c.field,type:c.type,sort:{field:l.field,order:"descending"},axis:window.vegaLegend({title:c.title,labelFontSize:10}),scale:{type:a}}},transform:[{filter:{selection:"brush"}}],layer:[{selection:{grid:{type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},width:n-90,height:parseFloat(i)||n/3,mark:{type:"circle",size:200,cursor:"pointer"},encoding:{size:u?{field:u.field,type:u.type,axis:{title:u.field},legend:window.vegaLegend({orient:"bottom",direction:"horizontal",padding:20,offset:0,tickCount:3}),scale:{range:[50,1e3]}}:null,color:{field:r.field,type:r.type||"ordinal",axis:window.vegaLegend({title:r.title,labelFontSize:10}),legend:window.vegaLegend({orient:"bottom",columns:2,columnPadding:10,rowPadding:1}),scale:o||{scheme:s||"category20c"}},tooltip:[{field:"title",type:"nominal",title:"Title of Scholarly Work"},{field:"year_published",timeUnit:"utcyear",type:"temporal",title:"Year Published"},{field:r.field,type:r.type,title:r.title},{field:l.field,type:l.type,title:l.title},{field:c.field,type:c.type,title:c.title},u?{field:u.field,type:u.type,title:u.title}:null]}}]},{width:n-90,height:100,view:{stroke:null},mark:{type:"bar",cornerRadiusEnd:1},selection:{brush:{encodings:["x"],type:"interval"}},encoding:{x:{field:"year_published",type:"temporal",timeUnit:"utcyear",axis:window.vegaLegend({title:"Year Published",labelFontSize:10,grid:!1})},y:{aggregate:"count",type:"quantitative",axis:window.vegaLegend({title:"Scholarly Works",labelFontSize:10})},color:"quantitative"===r.type?null:{field:r.field,type:"nominal",axis:{title:r.title},legend:window.vegaLegend({orient:"bottom",columns:2,columnPadding:10,rowPadding:1})}}}],data:{values:t}};return l.tickMinStep&&(f.vconcat[0].encoding.x.axis.tickMinStep=l.tickMinStep),c.tickMinStep&&(f.vconcat[0].encoding.y.axis.tickMinStep=c.tickMinStep),f.vconcat[0].layer[0].encoding.tooltip.forEach((function(e){e&&"temporal"===e.type&&(e.scale={type:"utc"})})),d&&f.vconcat[0].layer.push({mark:{type:"text",dy:20,limit:200},encoding:{text:{field:"title",type:"nominal"}}}),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(385)),a=r(n(415));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t,n=e.width,r=e.data,s=e.colourScale,l=e.primaryLabel,c=e.secondaryLabel,u=e.displayLegend,d=e.alternateColours,p=e.max,f=e.height,m=e.flip,h=e.metricLabel,y=void 0===h?"Document Count":h;p=p||d3.max(r,(function(e){return e.value}));var g=r[0].color,v=r.filter((function(e){return e.color===g})).length;r=(0,i.default)(r,["color","value"],["asc","desc"]),_.values((0,a.default)(r,(function(e){return e.color}))).forEach((function(e){e.forEach((function(e,t){e.index=t}))}));var b={$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),transform:[{filter:{field:"value",gt:0}}],facet:o({},m?"column":"row",{field:"color",type:"nominal",sort:{op:"sum",field:"value",order:"descending"},header:window.vegaLegend({labelLimit:v<5?60:v<10?100:200,title:null,labelPadding:15,labelFontSize:12,labelFont:"source_sans_prosemibold",labelColor:"dark"===window.THEME?"#22afed":"#0f4965"})}),spec:{autosize:"fit",width:n-240,view:o({stroke:"#d8e1ed",strokeDash:[2,2],strokeDashOffset:5},"stroke",null),mark:{type:"bar",cursor:"pointer"},encoding:(t={},o(t,m?"y":"x",{field:"value",type:"quantitative",format:",",scale:{domain:[0,p]},axis:window.vegaLegend({title:y,labelFontSize:10})}),o(t,m?"x":"y",{field:"label",type:"nominal",sort:{field:"value",order:"descending"},axis:window.vegaLegend({title:null})}),o(t,"color",{field:"label",type:"nominal",legend:!!u&&{},axis:window.vegaLegend({title:c,titlePadding:10,labelLimit:140}),scale:s||{range:{scheme:"category20c"}}}),o(t,"tooltip",[{field:"value",type:"quantitative",title:y},{field:"color",type:"nominal",title:l},{field:"label",type:"nominal",title:c},{field:"doc_count",type:"nominal",title:"Document Count"}]),t)},resolve:{scale:{y:"independent"}},data:{values:r}};return f&&(b.height=parseFloat(f)),d&&(b.spec.encoding.color.field="index",b.spec.encoding.color.type="nominal",b.spec.encoding.color.scale={scheme:"paired"}),b}},function(e,t,n){var i=n(386),a=n(6);e.exports=function(e,t,n,r){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(n=r?void 0:n)||(n=null==n?[]:[n]),i(e,t,n))}},function(e,t,n){var i=n(77),a=n(54),r=n(236),o=n(407),s=n(412),l=n(80),c=n(413),u=n(241),d=n(6);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=i(t,l(r));var f=o(e,(function(e,n,a){return{criteria:i(t,(function(t){return t(e)})),index:++p,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},function(e,t,n){var i=n(388),a=n(399),r=n(240);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(142),a=n(237);e.exports=function(e,t,n,r){var o=n.length,s=o,l=!r;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new i;if(r)var m=r(d,p,u,e,t,f);if(!(void 0===m?a(p,d,3,r,f):m))return!1}}return!0}},function(e,t,n){var i=n(142),a=n(238),r=n(395),o=n(398),s=n(82),l=n(6),c=n(143),u=n(226),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,m,h){var y=l(e),g=l(t),v=y?"[object Array]":s(e),b=g?"[object Array]":s(t),S=(v="[object Arguments]"==v?d:v)==d,_=(b="[object Arguments]"==b?d:b)==d,C=v==b;if(C&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(C&&!S)return h||(h=new i),y||u(e)?a(e,t,n,f,m,h):r(e,t,v,n,f,m,h);if(!(1&n)){var k=S&&p.call(e,"__wrapped__"),A=_&&p.call(t,"__wrapped__");if(k||A){var w=k?e.value():e,P=A?t.value():t;return h||(h=new i),m(w,P,n,f,h)}}return!!C&&(h||(h=new i),o(e,t,n,f,m,h))}},function(e,t,n){var i=n(57),a=n(391),r=n(392);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=r,e.exports=o},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var i=n(19),a=n(234),r=n(58),o=n(238),s=n(396),l=n(397),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var m=1&i;if(f||(f=l),e.size!=t.size&&!m)return!1;var h=p.get(e);if(h)return h==t;i|=2,p.set(e,t);var y=o(f(e),f(t),i,c,d,p);return p.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var i=n(232),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,o,s){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:a.call(t,p)))return!1}var f=s.get(e),m=s.get(t);if(f&&m)return f==t&&m==e;var h=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[p=c[d]],v=t[p];if(r)var b=l?r(v,g,p,t,e,s):r(g,v,p,e,t,s);if(!(void 0===b?g===v||o(g,v,n,r,s):b)){h=!1;break}y||(y="constructor"==p)}if(h&&!y){var S=e.constructor,_=t.constructor;S==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof _&&_ instanceof _||(h=!1)}return s.delete(e),s.delete(t),h}},function(e,t,n){var i=n(239),a=n(62);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}},function(e,t,n){var i=n(237),a=n(8),r=n(401),o=n(56),s=n(239),l=n(240),c=n(34);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?r(n,e):i(t,o,3)}}},function(e,t,n){var i=n(402),a=n(403);e.exports=function(e,t){return null!=e&&a(e,t,i)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(55),a=n(225),r=n(6),o=n(136),s=n(144),l=n(34);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(r(e)||a(e))}},function(e,t,n){var i=n(405),a=n(406),r=n(56),o=n(34);e.exports=function(e){return r(e)?i(o(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(54);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(242),a=n(81);e.exports=function(e,t){var n=-1,r=a(e)?Array(e.length):[];return i(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}},function(e,t,n){var i=n(409),a=n(62);e.exports=function(e,t){return e&&i(e,t,a)}},function(e,t,n){var i=n(410)();e.exports=i},function(e,t){e.exports=function(e){return function(t,n,i){for(var a=-1,r=Object(t),o=i(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(r[l],l,r))break}return t}}},function(e,t,n){var i=n(81);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!i(n))return e(n,a);for(var r=n.length,o=t?r:-1,s=Object(n);(t?o--:++o<r)&&!1!==a(s[o],o,s););return n}}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var i=n(414);e.exports=function(e,t,n){for(var a=-1,r=e.criteria,o=t.criteria,s=r.length,l=n.length;++a<s;){var c=i(r[a],o[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},function(e,t,n){var i=n(27);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,r=e==e,o=i(e),s=void 0!==t,l=null===t,c=t==t,u=i(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||a&&s&&c||!n&&c||!r)return 1;if(!a&&!o&&!u&&e<t||u&&n&&r&&!a&&!o||l&&n&&r||!s&&r||!c)return-1}return 0}},function(e,t,n){var i=n(135),a=n(416),r=Object.prototype.hasOwnProperty,o=a((function(e,t,n){r.call(e,n)?e[n].push(t):i(e,n,[t])}));e.exports=o},function(e,t,n){var i=n(417),a=n(418),r=n(236),o=n(6);e.exports=function(e,t){return function(n,s){var l=o(n)?i:a,c=t?t():{};return l(n,e,r(s,2),c)}}},function(e,t){e.exports=function(e,t,n,i){for(var a=-1,r=null==e?0:e.length;++a<r;){var o=e[a];t(i,o,n(o),e)}return i}},function(e,t,n){var i=n(242);e.exports=function(e,t,n,a){return i(e,(function(e,i,r){t(a,e,n(e),r)})),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.height,i=e.values,a=e.scaleType,r=e.xAxisTitle,o=(e.binSize,e.color);o=o||"#0e9ca6";var s={x:{field:"key",type:"quantitative",bin:{binned:!0},axis:window.vegaLegend({title:r})},x2:{field:"x2"},y:{field:"value",type:"quantitative",scale:{type:a||"linear"},axis:window.vegaLegend({title:"Publications"})}};return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),view:{stroke:null},config:{mark:{color:o}},vconcat:[{mark:{type:"bar",cornerRadiusEnd:1},width:t-100,height:parseFloat(n)||t/3.5,encoding:s,view:{stroke:null},transform:[{filter:{selection:"brush"}}]},{mark:"bar",width:t-100,height:80,encoding:s,view:{stroke:null},selection:{brush:{encodings:["x"],color:"blue",type:"interval"}}}],data:{values:i}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.data,n=e.width,i=e.height,a=e.scale,r=e.x,o=e.y,s=e.color,l=e.mark,c=e.colourScheme,u=e.size,d=e.displayLabels,p=(e.dateField,e.maxX),f=e.maxY,m={$schema:"https://vega.github.io/schema/vega-lite/v5.json",selection:{grid:{type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},background:(window.THEME,"transparent"),vconcat:[{width:n-90,height:"nominal"===o.type?null:parseInt(i)||n/3,view:{stroke:null},transform:[{filter:{selection:"brush"}}],encoding:{x:{field:r.field,type:r.type,axis:window.vegaLegend({title:r.title,labelFontSize:10,grid:!1}),scale:{type:"temporal"===r.type?"utc":a||"linear"}},y:{field:o.field,type:o.type,axis:window.vegaLegend({title:o.title,labelFontSize:10}),scale:{type:"temporal"===o.type?"utc":a||"linear"}}},layer:[{selection:{selected:{type:"single"},grid:{type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},mark:{type:l||"circle",size:200,cursor:"pointer"},encoding:{size:u.field?{field:u.field,type:u.type,axis:{title:u.title},legend:window.vegaLegend({orient:"bottom",direction:"horizontal",padding:0,offset:0,tickCount:3}),scale:{range:[50,1e3]}}:null,color:s.field?{field:s.field,type:s.type||"nominal",axis:{title:s.title},scale:{scheme:c||"category20c"}}:null,tooltip:[{field:"title",type:"nominal",title:"Title of Patent"},{field:r.field,type:r.type,title:r.title},{field:o.field,type:o.type,title:o.title},{field:s.field,title:s.title,type:s.type||"nominal"},u?{field:u.field,type:u.type,title:u.title}:null]}}]},{width:n-90,height:100,mark:{type:"bar",cornerRadiusEnd:1},view:{stroke:null},selection:{brush:{encodings:["x"],type:"interval"}},encoding:{x:{field:"application_reference.date",type:"temporal",timeUnit:"utcyear",scale:{type:"utc"},axis:window.vegaLegend({title:"Filing Date",labelFontSize:10,grid:!1})},y:{aggregate:"count",type:"quantitative",axis:window.vegaLegend({title:"Number of Patents",labelFontSize:10})},color:{field:s.field,axis:{title:s.title},type:s.type||"nominal",legend:window.vegaLegend({orient:"bottom",direction:"horizontal",labelFontSize:11,labelLimit:90,offset:20,columns:2,columnPadding:10,rowPadding:1})}}}],data:{values:t}};return p&&(m.vconcat[0].encoding.x.scale={domain:[0,p]}),f&&(m.vconcat[0].encoding.y.scale={domain:[0,f]}),m.vconcat[0].layer[0].encoding.tooltip.forEach((function(e){"temporal"===e.type&&(e.scale={type:"utc"})})),d&&m.vconcat[0].layer.push({mark:{type:"text",dy:20,limit:200},encoding:{text:{field:"title",type:"nominal"}}}),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=e.width,i=e.height,a=e.scale,r=e.keyTitle,o=e.displayLabels,s=e.colourScheme,l=(e.displayCitationRatio,e.maxY),c=e.docCountSize;n-=20;var u=[{field:"key",type:"nominal",axis:{title:r}},{field:"doc_count",type:"quantitative",format:",",axis:{title:"Number of Publications"}},{field:"referenced_by_patent_count",type:"quantitative",format:",",axis:{title:"Citing Patents"}},{field:"referenced_by_count",type:"quantitative",format:",",axis:{title:"Citing Scholarly Works"}},{field:"citation_ratio",type:"quantitative",axis:{title:"Patent / Scholar Citation Ratio"}}],d={$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),autosize:"fit",transform:[{calculate:"datum.referenced_by_patent_count / datum.referenced_by_count",as:"citation_ratio"}],selection:{grid:{type:"interval",bind:"scales"}},encoding:{x:{field:"referenced_by_patent_count",type:"quantitative",axis:window.vegaLegend({title:"Citing Patents",labelFontSize:10,tickMinStep:1}),scale:{type:a||"sqrt"}},y:{field:"referenced_by_count",type:"quantitative",axis:window.vegaLegend({title:"Citing Scholarly Works",labelFontSize:10,tickMinStep:1}),scale:{type:a||"linear"}}},layer:[{selection:{grid:{type:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}},width:n,height:i||n/1.5,mark:{type:"circle",size:200},encoding:{color:{field:"doc_count",type:"quantitative",axis:{title:"Document Count"},legend:window.vegaLegend({orient:"bottom",columns:2,columnPadding:10,rowPadding:1}),scale:{scheme:s||"greenblue"}},tooltip:u}}],data:{values:t}};if(c&&(d.layer[0].encoding.size={field:"doc_count",type:"quantitative",axis:{title:"Document Count"},scale:{range:[50,1e3]}}),l)d.encoding.y.scale={domain:[0,l]};else if(t){var p=_.max(t.map((function(e){return e.referenced_by_patent_count}))),f=_.max(t.map((function(e){return e.referenced_by_count})));d.encoding.x.scale={domain:[0,1.1*p]},d.encoding.y.scale={domain:[0,1.05*f]}}return o&&d.layer.push({mark:{type:"text",dy:-10,color:"dark"===window.THEME?"#9eb3c7":"#565f69"},encoding:{text:{field:"key",type:"nominal"}}}),d}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.values,a=e.width,r=e.xAxisLabel,o=e.yAxisLabel,s=e.colourScale,l=e.colourLabel,c=e.normalise,u=e.height,d=e.flip;return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",mark:{type:"bar",cursor:"pointer"},width:a-30,height:parseInt(u)||(d?600:null),autosize:"fit",padding:0,background:(window.THEME,"transparent"),view:{stroke:null},encoding:(t={},i(t,d?"y":"x",{field:"value",type:"quantitative",axis:window.vegaLegend({title:r,labelFontSize:10}),stack:c?"normalize":"zero"}),i(t,d?"x":"y",{field:"color",type:"ordinal",sort:{op:"sum",field:"value",order:"descending"},axis:window.vegaLegend({title:o,labelLimit:140,titlePadding:10}),scale:{rangeStep:20}}),i(t,"color",{field:"label",type:"nominal",axis:{title:l},legend:window.vegaLegend({orient:"bottom",labelLimit:120,columns:3,columnPadding:10,rowPadding:1}),scale:s||{range:{scheme:"category20c"}}}),i(t,"tooltip",[{field:"value",type:"quantitative",title:r},{field:"color",type:"nominal",title:o},{field:"label",type:"nominal",title:l}]),t),data:{values:n}}}},function(e){e.exports=JSON.parse('[{"type":"SCHOLAR","field":"affiliation_count","aggregation":"avg","label":""},{"type":"PATENT","field":"agent_count","aggregation":"avg","label":""},{"type":"PATENT","field":"applicant_count","aggregation":"avg","label":""},{"type":"SCHOLAR","field":"author_count","aggregation":"avg","label":""},{"type":"PATENT","field":"cited_by.patent_count","aggregation":"avg","label":""},{"type":"PATENT","field":"family.extended.size","aggregation":"avg","label":""},{"type":"PATENT","field":"family.simple.size","aggregation":"avg","label":""},{"type":"PATENT","field":"inventor_count","aggregation":"avg","label":""},{"type":"PATENT","field":"owner_all_count","aggregation":"avg","label":""},{"type":"PATENT","field":"reference_cited.npl_count","aggregation":"avg","label":""},{"type":"PATENT","field":"reference_cited.npl_resolved_count","aggregation":"avg","label":""},{"type":"PATENT","field":"reference_cited.patent_count","aggregation":"avg","label":""},{"type":"SCHOLAR","field":"reference_count","aggregation":"avg","label":""},{"type":"SCHOLAR","field":"referenced_by_count","aggregation":"avg","label":""},{"type":"SCHOLAR","field":"referenced_by_patent_count","aggregation":"avg","label":""},{"type":"PATENT","field":"sequence.count","aggregation":"avg","label":""},{"type":"PATENT","field":"agent.country","aggregation":"cardinality","label":""},{"type":"PATENT","field":"agent.name.exact","aggregation":"cardinality","label":"Unique Count Agent Name"},{"type":"PATENT","field":"applicant.name.exact","aggregation":"cardinality","label":"Unique Count Applicant Name"},{"type":"PATENT","field":"applicant.residence","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"author.affiliation.grid.address.country_code","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"author.affiliation.name.keyword","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"author.display_name.keyword","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"author.display_name_orcid","aggregation":"cardinality","label":""},{"type":"PATENT","field":"cited_by.patent.lens_id","aggregation":"cardinality","label":"Unique Citing Patents"},{"type":"SCHOLAR","field":"conference.name.keyword","aggregation":"cardinality","label":""},{"type":"PATENT","field":"family.extended.id","aggregation":"cardinality","label":"Extended Patent Families"},{"type":"PATENT","field":"family.simple.id","aggregation":"cardinality","label":"Simple Patent Families"},{"type":"SCHOLAR","field":"funding.organisation.keyword","aggregation":"cardinality","label":""},{"type":"PATENT","field":"inventor.name.exact","aggregation":"cardinality","label":"Unique Count Inventor Name"},{"type":"PATENT","field":"inventor.residence","aggregation":"cardinality","label":""},{"type":"PATENT","field":"jurisdiction","aggregation":"cardinality","label":""},{"type":"PATENT","field":"owner_all.country","aggregation":"cardinality","label":""},{"type":"PATENT","field":"owner_all.name.exact","aggregation":"cardinality","label":"Unique Count Examiner Name"},{"type":"SCHOLAR","field":"reference.lens_id","aggregation":"cardinality","label":"Unique Citing Scholarly Works"},{"type":"PATENT","field":"reference_cited.npl.record_lens_id","aggregation":"cardinality","label":"Unique Citing Scholarly Works"},{"type":"PATENT","field":"reference_cited.patent.lens_id","aggregation":"cardinality","label":"Unique Cited Patents"},{"type":"SCHOLAR","field":"referenced_by_patent.lens_id","aggregation":"cardinality","label":"Unique Citing Patents"},{"type":"PATENT","field":"sequence.organism.name.exact","aggregation":"cardinality","label":"Unique Count Biological Organism Name"},{"type":"SCHOLAR","field":"source.country","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"source.publisher.keyword","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"source.title.keyword","aggregation":"cardinality","label":""},{"type":"SCHOLAR","field":"affiliation_count","aggregation":"sum","label":""},{"type":"PATENT","field":"cited_by.patent_count","aggregation":"sum","label":""},{"type":"PATENT","field":"family.extended.size","aggregation":"sum","label":""},{"type":"PATENT","field":"family.simple.size","aggregation":"sum","label":""},{"type":"PATENT","field":"reference_cited.npl_count","aggregation":"sum","label":""},{"type":"PATENT","field":"reference_cited.npl_resolved_count","aggregation":"sum","label":""},{"type":"PATENT","field":"reference_cited.patent_count","aggregation":"sum","label":""},{"type":"SCHOLAR","field":"reference_count","aggregation":"sum","label":""},{"type":"SCHOLAR","field":"referenced_by_count","aggregation":"sum","label":""},{"type":"SCHOLAR","field":"referenced_by_patent_count","aggregation":"sum","label":""},{"type":"PATENT","field":"sequence.count","aggregation":"sum","label":""}]')},function(e,t){e.exports='<div class="analysis-item analysis-tour-4" ng-class="{\'has-error\': vm.error}">\n    <div class="panel panel-default" ng-class="{[\'annotation-position-\' + vm.config.annotationPosition]: true}">\n        <div class="panel-heading" ng-if="::!hideTitle">\n            <div class="clearfix analysis-configuration-container">\n                <ul class="analysis-configuration-menu pull-right" ng-if="::editable">\n                    \x3c!--\n                    <li class="configuration-menu-item" ng-click="getDownloadData(); vm.dataTable = vm.dataTable ? null : 1" tooltip-title="Data Table" hidden>\n                        <em ng-class="{\'col-ter\': vm.dataTable}" class="fa fa-table config-icon"></em>\n                    </li>\n                    --\x3e\n                    <li class="configuration-menu-item"\n                        ng-class="{\'active\': vm.showGroupings}"\n                        ng-click="vm.showGroupings = true"\n                        ng-if="(vm.config.view === \'basic\' || vm.config.view === \'over-time\' || vm.config.view === \'x-by-y\')"\n                        tooltip-title="Groupings"\n                    >\n                        <em class="fa fa-layer-group config-icon"></em>\n                    </li>\n                    <li class="configuration-menu-item" ng-class="{\'open\': vm.configMenu, \'close\': !vm.configMenu}" ng-click="vm.configMenu = !vm.configMenu">\n                        <em tooltip-title="Settings" ng-class="{\'fa-chevron-up col-ter\': vm.configMenu, \'fa-chevron-down\': !vm.configMenu}" class="fa config-icon"></em>\n                    </li>\n                    <li class="configuration-menu-item text-center" ng-click="!vm.configMenu ? selfDestruct() : (vm.configMenu = null)" tooltip-title="Remove Panel">\n                        <em class="fa fa-times col-error"></em>\n                    </li>\n                </ul>\n            </div>\n            <div ng-include="\'analysis-item-title\'"></div>\n            <div class="analysis-config-panel clearfix" ng-if="editable && !configBelow && !vm.pinned" ng-include="\'analysis-config\'"></div>\n        </div>\n        \n        <div class="analysis-item-panel-body--wrapper">\n            <div ng-if="vm.pinned" class="analysis-config-panel--pinnned">\n                <a class="btn btn-xs btn-default btn-analysis-config-pin" tooltip-title="Pin Configuration" ng-click="vm.pinned = false">\n                    <em class="fa fa-thumbtack"></em>\n                </a>\n                <div><strong>Chart Types</strong></div>\n                <div ng-include="\'analysis-config-charts\'"></div>\n                <div><strong>Configuration option</strong></div>\n                <div ng-include="\'analysis-config-form\'"></div>\n                <div><strong>Export</strong></div>\n                <div ng-include="\'analysis-config-export\'"></div>\n            </div>\n    \n            <div class="panel-body analysis-item-panel-body analysis-item-data-table" ng-if="vm.dataTable">\n                <div class="div-table div-table-reverse">\n                    <div class="div-table-heading">\n                        <div class="div-table-row">\n                            <div class="div-table-cell link"\n                                ng-repeat="(k, v) in vm.downloadData[0]"\n                                ng-click="dataTableSort(k)"\n                            >\n                                {{::k}}\n                                <em ng-if="vm.dataTableSort === k"\n                                    ng-class="{\'fa-chevron-up\': vm.dataTableSortReverse, \'fa-chevron-down\': !vm.dataTableSortReverse}"\n                                    class="fa pull-right"\n                                ></em>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="div-table-body">\n                        <div class="div-table-row" ng-repeat="row in vm.downloadData | orderBy:\'\\u0022\' + vm.dataTableSort + \'\\u0022\':vm.dataTableSortReverse">\n                            <div class="div-table-cell" ng-repeat="(k, v) in row">{{v}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="panel-body analysis-item-panel-body" ng-class="{ [\'analysis-item-panel-body-\' + vm.config.view]: true }" ng-style="{\'width\': vm.width}" ng-hide="vm.dataTable">\n                <div class="analysis-item-content" ng-include="\'analysis-item-content\'"></div>\n            </div>\n        </div>\n        <div class="panel-footer" ng-class="{[\'annotation-hide-\' + vm.config.hideAnnotation]: true}" ng-if="editable && !hideAnnotation && vm.displayFooter">\n            <div ng-hide="vm.editAnnotation || vm.loading || isView(\'annotation\')" class="annotation-display">\n                <em class="far fa-edit pull-right" ng-click="vm.editAnnotation = !vm.editAnnotation"></em>\n\n                <p class="p-annotation"\n                    ng-click="vm.editAnnotation = !vm.editAnnotation"\n                    ng-repeat="p in vm.config.annotation.split(\'\\n\') track by $index"\n                    ng-if="p">\n                    {{p}}\n                </p>\n            </div>\n            <form ng-if="vm.editAnnotation && editable" class="annotation-display">\n                <label class="textarea">\n                    <textarea class="full"\n                        ng-model="vm.config.annotation"\n                    ></textarea>\n                </label>\n                <div class="inline-group" ng-if="!isView(\'annotation\')">\n                    \x3c!--Annotation Alignment --\x3e\n                    <label class="select select-sm" style="margin-right: 5px;">\n                        <select ng-model="vm.config.annotationPosition">\n                            <option value="top">Position Top of Chart</option>\n                            <option selected value="">Position Bottom of Chart</option>\n                            \x3c!--<option value="left">Left of Chart</option>\n                            <option value="right">Right of Chart</option>--\x3e\n                        </select>\n                        <i></i>\n                    </label>\n                    <label class="checkbox" style="display: inline-block; float: none;">\n                        <input type="checkbox" ng-model="vm.config.hideAnnotation" name="displayAnnotation" value="displayOn" ng-change="persistConfig()">\n                        <i></i>\n                        Hide Annotation\n                    </label>\n                </div>\n                <span class="btn btn-sm btn-pri" style="margin-bottom: 4px;" ng-click="vm.editAnnotation = false; persistConfig()">Save Annotation</span>\n            </form>\n        </div>\n    </div>\n\n    <div lens-modal visible="vm.viewSource" ng-if="vm.viewSource">\n        <h3 class="modal-heading">View Source</h3>\n        <ul class="modal-tabs">\n            <li class=""\n                ng-class="{active: vm.viewSource === \'data\'}"\n                ng-click="vm.viewSource = \'data\'"\n                ng-if="vm.vegaSpecRawData"\n            >\n                Data only\n            </li>\n            <li class=""\n                ng-class="{active: vm.viewSource === \'spec\'}"\n                ng-click="vm.viewSource = \'spec\'"\n                ng-if="vm.vegaSpecRaw"\n            >\n                Vega Spec\n                <em class="far fa-info-circle link col-sec" tooltip-title="Vega-Lite is a high-level grammar of interactive graphics. It provides a concise JSON syntax for rapidly generating visualizations to support analysis"></em>\n            </li>\n            <li class=""\n                ng-class="{active: vm.viewSource === \'config\'}"\n                ng-click="vm.viewSource = \'config\'"\n            >\n                Lens Chart Config\n            </li>\n            <li class=""\n                ng-class="{active: vm.viewSource === \'request\'}"\n                ng-click="vm.viewSource = \'request\'"\n            >\n                Request\n            </li>\n        </li>\n        <form>\n            <label class="textarea view-source-textarea" ng-if="vm.viewSource === \'request\'">\n                <textarea class="full" readonly>{{request.params | json}}</textarea>\n            </label>\n            <label class="textarea view-source-textarea" ng-if="vm.viewSource === \'config\'">\n                <textarea class="full" ng-model="vm.configClone" ng-change="vm.configImportAvailable = true"></textarea>\n            </label>\n            <label class="textarea view-source-textarea" ng-if="vm.viewSource === \'spec\'">\n                <textarea class="full" ng-model="vm.vegaSpecRaw" readonly></textarea>\n            </label>\n            <label class="textarea view-source-textarea" ng-if="vm.viewSource === \'data\'">\n                <textarea class="full" ng-model="vm.vegaSpecRawData" readonly></textarea>\n            </label>\n        </form>\n        <div class="pull-right">\n            <a ng-click="importConfig()" class="btn btn-sm" ng-if="vm.configImportAvailable && vm.viewSource === \'config\'">\n                Import from Config\n            </a>\n            <a ng-click="vm.viewSource = false" class="btn btn-sm btn-danger">\n                {{::\'common.action.close\' | message}}\n            </a>\n        </div>\n    </div>\n\n    <div ng-if="::editable">\n        <div lens-modal size="900" visible="vm.showGroupings" ng-if="vm.showGroupings">\n            <div lens-groupings></div>\n        </div>\n    </div>\n\n    <div lens-modal size="sm" visible="vm.savedToReport" ng-if="vm.savedToReport">\n        <h3 class="modal-heading">Saved to Lens Clipboard</h3>\n        <p class="alert alert-info">\n            Visualisation has been saved to your Lens Clipboard. When editing a Report, click "Lens Clipboard" to insert this visualisation.\n        </p>\n        <div lens-string-list sidebar="true" type="\'report\'" edit-links="true"></div>\n        <div class="pull-right">\n            <a ng-click="vm.savedToReport = false" class="btn btn-sm btn-danger-txt">\n                {{::\'common.action.close\' | message}}\n            </a>\n        </div>\n    </div>\n\n    <div lens-modal visible="vm.clickedPatent" ng-if="vm.clickedPatent">\n        <h3 class="modal-heading">View Individual Patent</h3>\n        <div ng-if="vm.loadingClickedPatent">\n            <div class="lead loading-msg text-center">\n                <div class="loader--cogs">\n                    <em class="fas fa-cog fa-spin animated infinite cog-1"></em>\n                    <em class="fas fa-cog fa-spin--reverse animated infinite cog-2"></em>\n                    <em class="fas fa-cog fa-spin--reverse animated infinite cog-3"></em>\n                </div>\n                <p>Loading Patent</p>\n                <small>Shouldn\'t take long. Thanks for your patience</small>\n            </div>\n        </div>\n        <div ng-if="!vm.loadingClickedPatent" ng-init="patent = vm.clickedPatent">\n            <div class="has_preview modal--listing-header" ng-include="\'patent-list-item\'"></div>\n        </div>\n        <div class="pull-right">\n            <a ng-click="vm.clickedPatent = false" class="btn btn-sm btn-danger-txt">\n                {{::\'common.action.cancel\' | message}}\n            </a>\n            <a ui-sref="patent.main({id: vm.clickedPatent.record_lens_id})" class="btn btn-sm btn-pri">\n                View Patent\n            </a>\n        </div>\n    </div>\n\n    <div lens-modal visible="vm.clickedArticle" ng-if="vm.clickedArticle">\n        <h3 class="modal-heading">View Individual Scholarly Work</h3>\n        <div ng-if="vm.loadingClickedArticle">\n            <div class="lead loading-msg text-center">\n                <div class="loader--cogs">\n                    <em class="fas fa-cog fa-spin animated infinite cog-1"></em>\n                    <em class="fas fa-cog fa-spin--reverse animated infinite cog-2"></em>\n                    <em class="fas fa-cog fa-spin--reverse animated infinite cog-3"></em>\n                </div>\n                <p>Loading Scholarly Work</p>\n                <small>Shouldn\'t take long. Thanks for your patience</small>\n            </div>\n        </div>\n        <div ng-if="!vm.loadingClickedArticle && vm.clickedArticle">\n            <div class="has_preview modal--listing-header" >\n                <div lens-article-item-meta item="::vm.clickedArticle" is-title="false"></div>\n            </div>\n        </div>\n        <div class="pull-right">\n            <a ng-click="vm.clickedArticle = false; document.body.classList.remove(\'analysis-report\')" class="btn btn-sm btn-danger-txt">\n                {{::\'common.action.cancel\' | message}}\n            </a>\n            <a ui-sref="article.main({id: vm.clickedArticle.record_lens_id})" class="btn btn-sm btn-pri">\n                View Scholarly Work\n            </a>\n        </div>\n    </div>\n    <div class="analysis-config-overlay" ng-if="vm.configMenu" ng-click="vm.configMenu = false">\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=n(36);r.default.directive("lensApplicantLogo",["$rootScope",function(e){return{scope:{name:"<",src:"<",textFallback:"<",imageFallback:"<",useBg:"<",type:"<",onClickMissing:"<",exists:"="},template:'\n        <img ng-if="src" ng-src="{{src}}" alt="{{text}}">\n        <div>{{text}}</div>\n    ',link:function(t,n,i){!function(){var a=t.textFallback||"";a.length>40&&(a=a.slice(0,40)+"..."),t.text=a;var r=$("<img>");r.attr("crossorigin","anonymous");var s="png";"headshot"===t.type&&(s="jpg");var l=t.src||o(t.name,s);r.on("load",(function(){i.exists&&(t.exists=!0),n.addClass("applicant-logo"),t.src=l,t.$apply()})),r.on("error",(function(){i.exists&&(t.exists=!1),t.textFallback||t.imageFallback?(n.addClass("applicant-logo"),"headshot"===t.type?t.src=e.assetLocation+"/img/missing-user.png":t.src=e.assetLocation+"/img/missing-insitution.png",t.onClickMissing&&n.on("click",(function(){t.onClickMissing.apply(void 0,[t.textFallback]),t.$apply()})),t.$digest()):n.remove()})),r.attr({src:l})}()}}}])},function(e,t,n){"use strict";var i=s(n(0)),a=s(n(44)),r=s(n(137)),o=n(35);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default.directive("lensExternalLinkout",[function(){return{scope:{lensExternalLinkout:"<"},link:function(e,t){var n=e.lensExternalLinkout,i=n.type,r=n.value;t.attr("href",(0,a.default)("publisher",i,r))}}}]),i.default.directive("lensArticleItemMeta",[].concat(["$state"],[function(e){return{template:n(151),scope:{item:"<",isTitle:"<",displayFields:"<"},link:function(t){t.vm={badges:r.default},t.search=function(t,n){var i=(0,o.filterMapToQueryParams)(l({view:"list",type:"scholar"},t,l({},n,!0)));e.go("search.results",i)},t.linkout=function(e){var t=e.type,n=e.value;return(0,a.default)("publisher",t,n)}}}}]))},function(e,t,n){"use strict";var i=n(35),a=n(83),r=d(n(0)),o=d(n(44)),s=d(n(218)),l=d(n(103)),c=d(n(104)),u=d(n(428));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.directive("lensArticleItemPreview",[].concat(["$state","$q","$rootScope","ScholarService"],[function(e,t,r,d){return{template:n(429),scope:{item:"<",previousSearch:"<",citationsOverTimeData:"<"},link:function(t){var n=t.vm={previousSearch:t.previousSearch,OpenAccessLicenses:c.default,OpenAccessColours:l.default,OpenAccessAliases:s.default,OpenAccessSources:u.default,oaLocationLimit:2,$parent:t.$parent,citationsOverTimeType:"Citing Scholarly Works"};t.linkout=function(e){return(0,o.default)("publisher",e.type,e.value)},t.clinicalTrialLinkout=function(e){var t=e.registry,n=e.identifier;return(0,o.default)("clinicalTrial",t,n)},t.search=function(e,n){t.searchMap(e,p({},n,!0))},t.searchMap=function(t,n){var a=(0,i.filterMapToQueryParams)(p({view:"list",type:"scholar"},t,n));e.go("search.results",a,{inherit:!1})},t.extendPreviousSearch=function(e){return e.p=0,_.assign(_.cloneDeep(n.previousSearch),e)},t.filterPreviousSearch=function(t,a){var r=n.previousSearch,o=(0,i.filterMapToQueryParams)(p({view:"list",type:"scholar"},t,p({},a,!0)));e.go("search.results",_.extend(r,o))},t.removeInvalidFilterChars=function(e){try{e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\.,]/gi,"")}catch(t){e=e.replace(/[\.,]/gi,"")}return e},t.openAccessLicenseLabel=function(e){var t=s.default[e];return t&&t.abbreviation?t.label+" ("+t.abbreviation+")":t?t.label:e||"Unknown"},t.openAccessLicenseAbbreviation=function(e){var t=s.default[e];return t&&t.abbreviation?t.abbreviation:t?t.label:e},t.getOpenAccessSources=function(e){return e.open_access.summary.sources?e.open_access.summary.sources.map((function(e){return u.default[e]})).join(", "):""},t.oaLocationSort=function(e){return-1!==(e.url_for_landing_page||e.url_for_pdf).indexOf("semanticscholar.org")?"z":e.host_type},t.onClickOverTime=function(i){if(i.utcyear_label){var a=i.utcyear_label.getFullYear(),r=t.item.record_lens_id,o="Citing Patents"===n.citationsOverTimeType,s={type:o?"patent":"scholar",view:"list",q:o?"":"reference.lens_id:"+r,"publishedYear.from":a,"publishedYear.to":a};o&&(s["npl.must"]=r),e.go("search.results",s)}};var r=function(){!t.citationsOverTimeData||t.citationsOverTimeData.length<2||(n.hasCitationsOverTimeData={"Citing Scholarly Works":t.citationsOverTimeData.filter((function(e){return"Citing Scholarly Works"===e.color})).length>0,"Citing Patents":t.citationsOverTimeData.filter((function(e){return"Citing Patents"===e.color})).length>0},n.hasCitationsOverTimeData["Citing Scholarly Works"]||(n.citationsOverTimeType="Citing Patents"),n.overTimeVegaView={},n.overTimeVegaSpec={},n.overTimeSpec=(0,a.HistoricalAnalysisSpec)({data:t.citationsOverTimeData.filter((function(e){return e.color===n.citationsOverTimeType})),width:document.querySelector(".lf-main-preview-panel-slim").clientWidth-25,height:80,mark:"bar",minimal:!0,yAxisLabel:!1}))};t.$watch("citationsOverTimeData",r),t.renderCitationsOverTime=r,r()}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={doaj:"Directory of Open Access Journals","pmc-nih":"PubMed Central",unpaywall:"unpaywall.org",core:"Core Open Access Repository"}},function(e,t){e.exports='<div class="lf-main-content clearfix quick-flip article-item-preview" lens-html-tooltip>\n    <main class="lf-main-panel x-result-with-sidebar">\n        <div class="content">\n        \n            <p ng-if="vm.fetchingMeta">\n                <span ng-include="\'loading-inline\'" include-replace ></span>\n            </p>\n\n            <div class="article-preview-abstract">\n                <h5 class="article-section-heading" id="article-section-abstract">{{::\'scholar.common.abstract\' | message}}</h5>\n                <span ng-if="!item.abstract">No abstract available yet</span>\n                <span ng-if="item.abstract" ng-bind-html="item.abstract | unsafe"></span>\n            </div>\n\n            <div class="masonry-columns masonry-columns-1-2 grid-summary clearfix-both">\n                <div class="masonry-card summary-section article-section-authors">\n                    <h5 class="article-section-heading" id="article-section-authors">{{::\'scholar.common.authors\' | message}}</h5>\n                    <ul class="inlineFloat list-inline-alt-2 {{$root.highlightedInstitutions}}">\n                        <li ng-repeat="author in item.authors | limitTo:(item.showAllAuthorsList ? 500 : 20)">\n                            <a ng-click="$ctrl.search(\'authorName\', author.display_name.keyword)"\n                                ng-mouseenter="$root.hoverAuthor(author); setTootip({type: \'author\', author: author}, $event)"\n                                ng-mouseleave="clearTooltip()"\n                                ng-class="$root.institutionClasses(author)"\n                            >\n                                {{::author.display_name}}\n                                <sup class="col-meta">{{author.affiliationIndices}}</sup>\n\n                                \x3c!-- Show Claimed badge --\x3e \n                                <em class="fa fa-user author-has-claim--icon" ng-if="item.metadata.authorshipMap[author.display_name]"></em>\n                            </a>\n\n                            \x3c!-- Show identifier icons --\x3e\n                            <span lens-author-icon\n                               author="author"\n                               ng-if="author.display_name_id"\n                            ></span>\n                            \n                            <span ng-if="!$last" class="comma-seperator">, &nbsp;</span>\n                        </li>\n                        <li ng-if="item.authors.length > 20 && !item.showAllAuthorsList">\n                            <a ng-click="item.showAllAuthorsList = true">\n                                Show all...\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                \n                <div class="masonry-card summary-section profiles-release" ng-if="(item.metadata.authorship | filter:{user: {hasPublicProfile: true}}).length">\n                    <h5 class="article-section-heading" id="article-section-authors">\n                        Linked Profiles\n                    </h5>\n                    <ul class="list-avatars">\n                        <li ng-repeat="authorship in item.metadata.authorship | filter:{user: {hasPublicProfile: true}} track by $index">\n                            <a class="list-avatars-item" ui-sref="userProfile.scholar({userId: authorship.user.id})">\n                                <div class="list-avatars-img">\n                                    <img ng-if="!authorship.user.profilePictureKey" ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="user">\n                                    <img ng-if="authorship.user.profilePictureKey" lens-avatar-fallback ng-src="{{$root.userProfilePictureUrl(authorship.user.profilePictureKey)}}" alt="user">\n                                </div>\n                                <div class="list-avatars-text">\n                                    {{authorship.user.displayName}}\n                                    <div class="col-meta text-small"> Claimed: {{authorship.created | date}}</div>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n\n                <div class="masonry-card summary-section" ng-if="item.has_affiliations">\n                    <h5 class="article-section-heading" id="article-section-affiliation">{{::\'scholar.common.institutions\' | message}}</h5>\n                    <ol class="list-ordered-styled {{$root.highlightedInstitutions}}">\n                        <li ng-repeat="(i, affiliation) in item.unique_affiliations" class="{{\'institution-\' + (i + 1)}}">\n                            <span class="link"\n                              ng-mouseenter="$root.hoverAuthor({affiliationIndices: (i + 1) + \'\'}); setTootip({type: \'affiliation\', affiliation: affiliation}, $event)"\n                              ng-mouseleave="clearTooltip()">\n                                {{::affiliation.name || affiliation}}\n                            </span>\n                        </li>\n                    </ol>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.has_institutions">\n                    <h5 class="article-section-heading" id="article-section-affiliation">{{::\'scholar.common.affiliated.dossier\' | message}}</h5>\n                    <ul class="list-inline clearfix">\n                        <li hidden>\n                            <div ng-include="\'attested-document-badge\'" include-replace></div>\n                        </li>\n                        <li ng-repeat="institution in item.institutions" class="text-center institution-logo">\n                            <a class="listing-logo" ng-href="/lens/in4m/dossier/{{::institution.datasetAlias}}/{{::institution.slug}}/research-discipline">\n                                <img ng-src="{{::institution.logoUrl}}" style="max-width: 50px;" tooltip-title tooltip-title-variable="institution.name">\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.chemicals.length">\n                    <h5 class="article-section-heading" id="article-section-chemical">{{::\'scholar.common.chemicals\' | message}}</h5>\n                    <ul class="inlineFloat list-inline-alt-2">\n                        <li ng-repeat="chemical in item.chemicals">\n                            <span class="link" ng-mouseenter="setTootip({type: \'chemical\', chemical: chemical}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::chemical.substance_name}}\n                            </span>\n                            <span ng-if="!$last" class="comma-seperator">,</span>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.mesh_terms.length">\n                    <h5 class="article-section-heading" id="article-section-mesh_term">{{::\'scholar.common.mesh_terms\' | message}}</h5>\n                    <ul class="inlineFloat list-inline-alt-2">\n                        <li ng-repeat="mesh_term in item.mesh_terms">\n                            <span class="link" ng-mouseenter="setTootip({type: \'mesh_term\', mesh_term: mesh_term}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::mesh_term.mesh_heading}}\n                            </span>\n                            <span ng-if="!$last" class="comma-seperator">,</span>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.fundings.length">\n                    <h5 class="article-section-heading" id="article-section-funding">{{::\'scholar.common.funding_info\' | message}}</h5>\n                    <ul class="list-styled">\n                        <li ng-repeat="funding in item.fundings">\n                            <span class="link" ng-mouseenter="setTootip({type: \'funding\', funding: funding}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::funding.org || funding.organisation_id}}\n                                <span ng-if="funding.funding_name || funding.funding_id">\n                                    ({{::funding.funding_name || funding.funding_id}})\n                                </span>\n                            </span>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.clinical_trials.length">\n                    <h5 class="article-section-heading" id="article-section-clinical_trial">{{::\'scholar.common.clinical_info\' | message}}</h5>\n                    <ul class="list-styled">\n                        <li ng-repeat="clinical_trial in item.clinical_trials">\n                            <span class="link" ng-mouseenter="setTootip({type: \'clinical_trial\', clinical_trial: clinical_trial}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::clinical_trial.registry}}\n                                {{::clinical_trial.identifier}}\n                            </span>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.keywords.length">\n                    <h5 class="article-section-heading" id="article-section-keyword">{{::\'scholar.common.keywords\' | message}}</h5>\n                    <ul class="inlineFloat list-inline-alt-2">\n                        <li ng-repeat="keyword in item.keywords">\n                            <span class="link" ng-mouseenter="setTootip({type: \'keyword\', keyword: keyword}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::keyword.value}}\n                            </span>\n                            <span ng-if="!$last" class="comma-seperator">,</span>\n                        </li>\n                    </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.conference.name">\n                    <h5 class="article-section-heading" id="article-section-keyword">{{::\'scholar.facets.conference\' | message}}</h5>\n                        <ul class="list-styled">\n                            <li ng-if="::item.conference.name">\n                                <span class="link" ng-mouseenter="setTootip({type: \'conference\', conference: item.conference}, $event)" ng-mouseleave="clearTooltip()">\n                                    {{::item.conference.name}}\n                                </span>\n                            </li>\n                        </ul>\n                </div>\n    \n                <div class="masonry-card summary-section" ng-if="item.has_fields_of_study">\n                    <h5 class="article-section-heading" id="article-section-keyword">{{::\'scholar.flag.description.field_of_study\' | message}}</h5>\n                    <ul class="inlineFloat list-inline-alt-2">\n                        <li ng-repeat="field in item.fields_of_study track by $index">\n                            <span class="link" ng-mouseenter="setTootip({type: \'field\', field: field}, $event)" ng-mouseleave="clearTooltip()">\n                                {{::field.name || field}}\n                            </span>\n                            <span ng-if="!$last" class="comma-seperator">,</span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n    \n            \x3c!-- Source/Provenance Attribution --\x3e\n            <div class="panel-data-source" ng-if="item.source_urls.length">\n                <h5 class="article-section-heading">Links to other sources</h5>\n                <ul class="list-inline-alt list-data-source">\n                    <li ng-repeat="source in item.source_urls | limitTo:(item.showAllDataSources ? 500 : 5)">\n                        <a ng-href="{{::source.url}}" target="_blank" rel="noopener noreferrer">\n                            <em class="fa fa-file-pdf" ng-if="::source.type === \'pdf\'"></em>\n                            <em class="fa fa-external-link" ng-if="::source.type === \'html\'"></em>\n                            <em class="fa fa-question-circle" ng-if="::source.type === \'unknown\'"></em>\n                            <em class="fa fa-file-alt" ng-if="::source.type === \'core_fulltext\'"></em>\n                            <em class="fa fa-file-alt" ng-if="::source.type === \'doc\'"></em>\n                            <em class="fa fa-file-alt" ng-if="::source.type === \'ppt\'"></em>\n                            <em class="fa fa-file-alt" ng-if="::source.type === \'xls\'"></em>\n                            <em class="fa fa-file-alt" ng-if="::source.type === \'ps\'"></em>\n                            <em class="fa fa-minus-square" ng-if="::source.type === null"></em>\n                            {{::source.url | urlHost}}\n                        </a>\n                    </li>\n                    <li ng-if="item.source_urls.length > 5 && !item.showAllDataSources">\n                        <a ng-click="item.showAllDataSources = true">\n                            Show all...\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </main>\n\n    <aside class="lf-main-preview-panel-slim">\n        <div class="content">\n            <div ng-if="vm.overTimeSpec">\n                <div class="btn-group btn-group-sm citation-histogram-toggle" ng-if="vm.hasCitationsOverTimeData[\'Citing Scholarly Works\'] && vm.hasCitationsOverTimeData[\'Citing Patents\']">\n                    <a class="btn is-patent"\n                        ng-click="vm.citationsOverTimeType = \'Citing Patents\'; renderCitationsOverTime()"\n                        ng-class="{active: vm.citationsOverTimeType === \'Citing Patents\'}">\n                        Citing Patents\n                    </a>\n                    <a class="btn is-scholar"\n                        ng-click="vm.citationsOverTimeType = \'Citing Scholarly Works\'; renderCitationsOverTime()"\n                        ng-class="{active: vm.citationsOverTimeType === \'Citing Scholarly Works\'}">\n                        Citing Scholarly Works\n                    </a>\n                </div>\n       \n                <h5 class="article-section-heading" ng-if="vm.hasCitationsOverTimeData[\'Citing Scholarly Works\'] && !vm.hasCitationsOverTimeData[\'Citing Patents\']">Citing Scholarly Works</h5>\n                <h5 class="article-section-heading" ng-if="!vm.hasCitationsOverTimeData[\'Citing Scholarly Works\'] && vm.hasCitationsOverTimeData[\'Citing Patents\']">Citing Patents</h5>\n               \n                <div lens-vega-chart\n                    spec="vm.overTimeSpec"\n                    view="vm.overTimeVegaView"\n                    raw-spec="vm.overTimeVegaSpec"\n                    filter-extent="vm.overTimeFilterExtent"\n                    scroll-notice="true"\n                    on-click="onClickOverTime"\n                    class="single-result-histogram"\n                ></div>\n            </div>\n\n            <div class="pub-info">\n                <ul class="list-unstyled list-bordered">\n                    <li ng-if="item.journal">\n                        <strong ng-if="::item.journal.title || item.issue || item.volume || item.pages">In:</strong>\n                        <span ng-if="::item.journal.title">\n                            {{::item.journal.title}},\n                        </span>\n                        <span ng-if="::item.issue">{{::\'scholar.common.issue\' | message}}: {{::item.issue}}, </span>\n                        <span ng-if="::item.volume">{{::\'scholar.common.volume\' | message}}: {{::item.volume}}, </span>\n                        <span ng-if="::item.pages">{{::\'scholar.common.page\' | message}}: {{::item.pages}}</span>\n                        <div ng-if="item.open_access && item.publication_type === \'journal article\'">\n                            <strong>Journal is Open Access:</strong>\n                            {{item.open_access.summary.journal_is_oa}}\n                        </div>\n                        <div ng-if="item.doajLinkout">\n                            <strong>Journal is in DOAJ:</strong>\n                            <a ng-href="{{item.doajLinkout}}">true</a>\n                        </div>\n                    </li>\n                    <li ng-if="::item.year_published">\n                        <strong>{{::\'scholar.common.published\' | message}}:</strong>\n                        <span ng-if="::!item.date_published">{{::item.year_published}}<br></span>\n                        <span ng-if="::item.date_published">{{::item.date_published | date}}<br></span>\n                        <span ng-if="!$root.isEmpty(item.date_published_print)">\n                            <strong>{{::\'scholar.common.published.print\' | message}}:</strong>\n                            {{::item.date_published_print | partialDate}}<br>\n                        </span>\n                        <span ng-if="!$root.isEmpty(item.date_published_electronic)">\n                            <strong>{{::\'scholar.common.published.electronic\' | message}}:</strong>\n                            {{::item.date_published_electronic | partialDate}}\n                        </span>\n                    </li>\n                    <li ng-if="::item.journal.type && !item.publication_type.length">\n                        <strong>{{::\'scholar.common.publication_type\' | message}}:</strong>\n                        {{::item.journal.type}}\n                    </li>\n                    <li ng-if="::item.publication_type">\n                        <strong>{{::\'scholar.common.publication_info\' | message}}:</strong>\n                        <span class="publisher-info">{{::item.publication_type}}</span>\n                    </li>\n                    <li ng-if="item.publication_supplementary_type.length">\n                        <strong>Supplementary Info:</strong>\n                        <span class="publisher-info">{{::item.publication_supplementary_type.join(\', \')}}</span>\n                    </li>\n                    <li ng-if="item.journal.publisher">\n                        <strong>{{::\'scholar.common.publisher\' | message}}:</strong> {{::item.journal.publisher}}\n                    </li>\n                </ul>\n            </div>\n    \n    \n            <div>\n                <div class="linkouts-panel">\n                    <div class="linkouts-panel-heading ison {{item.open_access.summary.colour}}"\n                        tooltip-title\n                        tooltip-title-variable="vm.OpenAccessColours[item.open_access.summary.colour] + \' - Source: \' + getOpenAccessSources(item)"\n                        ng-if="item.open_access"\n                    >\n                        <div ng-include="\'open-access-icon\'" include-replace></div>\n                        {{::\'scholar.common.open.access\' | message}}\n                        <em class="far fa-info-circle"></em>\n                    </div>\n                    <div class="linkouts-panel-body" ng-if="item.open_access">\n                        <ul class="list-unstyled list-bordered">\n                            <li>\n                                <div class="linkouts-panel-oa-details">\n                                    <div>\n                                        <strong>License:</strong>\n                                        <span tooltip-title="{{vm.OpenAccessLicenses[item.open_access.summary.license] || item.open_access.summary.license}}">\n                                            {{openAccessLicenseLabel(item.open_access.summary.license)}}\n                                        </span>\n                                    </div>\n                                </div>\n                            </li>\n                            <li class="linkouts-row" ng-if="vm.fetchingMeta">\n                                <span ng-include="\'loading-inline\'" include-replace ></span>\n                            </li>\n                        </ul>\n                        <ul class="list-unstyled list-bordered" ng-repeat="record in item.open_access.records">\n                            <li class="linkouts-row" ng-repeat="location in record.oa_locations | orderBy:oaLocationSort | limitTo: vm.oaLocationLimit" ng-class="{best_oa_location: location.is_best}">\n                                <div class="linkouts-website-container">\n                                    <a class="linkouts-website"\n                                        ng-href="{{::location.url_for_landing_page || location.url_for_pdf}}"\n                                        ng-if="::location.url_for_landing_page || location.url_for_pdf"\n                                        target="_blank"\n                                        rel="noopener noreferrer"\n                                    >\n                                        <span ng-if="::location.meta">\n                                            <img ng-src="{{::$root.assetLocation}}/img/{{::location.meta.icon}}" alt="{{::location.meta.label}}" ng-if="location.meta.icon">\n                                            {{::location.meta.label}}\n                                        </span>\n                                        <span ng-if="!location.meta">\n                                            <em class="fa fa-external-link"></em>\n                                            <span ng-if="!location.institution">\n                                                {{::location.host_type === \'publisher\' ? \'Publisher Website\' : \'Repository Website\'}}\n                                            </span>\n                                            <span ng-if="::location.institution" title="{{::location.institution + \' (\' + location.repository + \')\'}}">\n                                                {{::location.institution}}\n                                                <span ng-if="location.institution !== location.repository">({{::location.repository}})</span>\n                                            </span>\n                                        </span>\n                                    </a>\n                                </div>\n                                <div class="linkouts-fulltext" ng-if="::location.url_for_pdf">\n                                    <a ng-href="{{::location.url_for_pdf}}" target="_blank" rel="noopener noreferrer">\n                                        <em class="fa fa-file-pdf"></em>\n                                        <em>{{::\'scholar.common.view.fulltext\' | message}}</em>\n                                    </a>\n                                    \x3c!--\n                                    <em class="fa fa-file-pdf link"\n                                        ng-click="vm.$parent.$ctrl.state.patentDocPreview = { docAssets: { pdfUrl: location.url_for_pdf } }"\n                                        tooltip-title="View PDF"\n                                    ></em>\n                                    --\x3e\n                                </div>\n                            </li>\n                            <li class="linkouts-more-rows" ng-if="record.oa_locations.length > vm.oaLocationLimit"\n                                ng-click="vm.oaLocationLimit = record.oa_locations.length"\n                            >\n                                <span>Show {{record.oa_locations.length - vm.oaLocationLimit}} more...</span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n    \n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <b>Sources</b>\n                </div>\n                <div class="panel-body">\n                    <ul class="list-unstyled list-bordered list-sources">\n                        \x3c!--\n                        <li>\n                            <img class="doc-open-access" tooltip-title="Open Access" ng-show="item.open_access" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/open-access-color.svg">\n                            {{::(!item.publication_type || item.publication_type === \'unknown\' ? \'Document\' : item.publication_type) | titleCase}}\n                        </li>\n                        --\x3e\n                        <li>\n                            <a href="/{{item.record_lens_id}}">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/favicon-32x32.png">\n                                <span>{{item.record_lens_id}}</span>\n                            </a>\n                        </li>\n                        <li ng-repeat="id in item.external_ids">\n                            <a ng-href="{{linkout(id)}}" target="_blank" rel="noopener noreferrer" ng-class="{\'cursor-default\': id.type===\'pii\'}">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pub-med.png" ng-if="::id.type===\'pmid\'">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-cross-ref.png" ng-if="::id.type===\'doi\'">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pub-med-central.png" ng-if="::id.type===\'pmc\' || id.type === \'pmcid\'">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pii.png" ng-if="::id.type===\'pii\'">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-mag.png" ng-if="id.type===\'magid\'">\n                                <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-core.png" ng-if="id.type===\'coreid\'">\n                                <span>{{id.value}}</span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n    \n    \n            <div hidden ng-if="item.recommended_works.length">\n                <h3>{{::\'scholar.common.recommended\' | message}}</h3>\n                <div ng-repeat="article in item.recommended_works | orderBy:\'score\':true | limitTo:10">\n                    <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-mag.png" style="max-width: 16px;">\n                    <a ui-sref="article.main({id: article.id || article.id_value})">\n                        {{article.id || article.id_value}}\n                    </a>\n                    \x3c!-- <small>({{article.score}})</small> --\x3e\n                </div>\n                <div>\n                    <a ui-sref="article.recommended({id: item.record_lens_id})">\n                        {{::\'common.view.more\' | message}}\n                    </a>\n                </div>\n            </div>\n            \n        </div>\n    </aside>\n\n\n    <div class="tooltip-logo tooltip-explore"\n        ng-if="vm.tooltip"\n        ng-style="vm.tooltipPosition"\n        ng-mouseenter="keepTooltipOpen()"\n        ng-mouseleave="clearTooltip()"\n    >\n        <div ng-if="vm.tooltip.type === \'author\'"\n            ng-init="authorship = item.metadata.authorshipMap[vm.tooltip.author.display_name]"\n            ng-include="\'authorship-tooltip\'"\n        ></div>\n\n        <div ng-if="vm.tooltip.type === \'affiliations\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.affiliation\' | message}}</strong></p>\n            <div ng-repeat="affiliation in vm.tooltip.affiliations">\n                {{::affiliation.name || affiliation}}\n            </div>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'affiliation\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.affiliation.details\' | message}}</strong></p>\n            <div class="pre-mock" ng-if="vm.tooltip.affiliation.grid">\n                <div>GRID:\n                    <a ng-href="https://grid.ac/institutes/{{vm.tooltip.affiliation.grid.id}}">{{vm.tooltip.affiliation.grid.id}}</a>\n                </div>\n                <div hidden>Type: {{vm.tooltip.affiliation.grid.types.join(\', \')}}</div>\n                <div ng-if="vm.tooltip.affiliation.grid.addresses[0]" hidden>Address: {{vm.tooltip.affiliation.grid.addresses[0] | formatGridAddress}}</div>\n            </div>  \n            <div class="tip-flex-container">\n                <div lens-applicant-logo class="applicant-logo" name="vm.tooltip.affiliation.name"></div>\n                <div class="list-tooltip-options">\n                    <ul class="list-tooltip-options">\n                        <li ng-if="vm.previousSearch && (vm.tooltip.affiliation)">\n                            <a ng-click="filterPreviousSearch(\'institution\', vm.tooltip.affiliation.name)">\n                                <small>\n                                    <em class="far fa-filter"></em>\n                                    {{::\'tooltip.filter.by\' | message}}\n                                    {{::\'scholar.common.affiliation\' | message}}:\n                                </small>\n                                <div class="tooltip--term">{{::vm.tooltip.affiliation.name | truncate:50}}</div>\n                            </a>\n                        </li>\n                        <li ng-if="vm.tooltip.affiliation">\n                            <a ng-click="search(\'institution\', vm.tooltip.affiliation.name)">\n                                <small>\n                                    <em class="far fa-search"></em>\n                                    {{::\'tooltip.new.search\' | message}}\n                                    {{::\'scholar.common.affiliation\' | message}}:\n                                </small>\n                                <div class="tooltip--term">{{::vm.tooltip.affiliation.name | truncate:50}}</div>\n                            </a>\n                        </li>\n                        <li ng-if="vm.tooltip.affiliation.grid.wikipedia_url">\n                            <a ng-href="{{vm.tooltip.affiliation.grid.wikipedia_url}}">\n                                \x3c!-- <em class="fa fa-wikipedia"></em> --\x3e\n                                Wikipedia\n                            </a>\n                        </li>\n                        <li ng-repeat="link in vm.tooltip.affiliation.grid.links">\n                            <a ng-href="{{link}}">\n                                {{::link}}\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'funding\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.funding.details\' | message}}</strong></p>\n            <ul class="list-tooltip-options">\n                <li ng-if="vm.previousSearch && (vm.tooltip.funding.org)">\n                    <a ng-click="filterPreviousSearch(\'funding\', vm.tooltip.funding.org)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.common.funding\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.funding.org}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.funding.org">\n                    <a ng-click="search(\'funding\', vm.tooltip.funding.org)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.common.funding\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.funding.org}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'conference\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.conference.details\' | message}}</strong></p>\n            <div class="pre-mock" ng-if="item.conference.abbreviation || item.conference.instance">\n                <div ng-if="::item.conference.name">{{::item.conference.name}}</div>\n                <div ng-if="::item.conference.abbreviation">{{::item.conference.abbreviation}}</div>\n                <span ng-if="::item.conference.date || item.conference.instance.start_date">{{::item.conference.date || item.conference.instance.start_date | date}}</span>\n                <span ng-if="::item.conference.year && !item.conference.date">{{::item.conference.year}}</span>\n                <div ng-if="::item.conference.location">{{::item.conference.location}}</div>\n            </div>\n\n            <ul class="list-tooltip-options">\n                <li ng-if="::item.conference.instance.official_url">\n                    <a ng-href="{{::item.conference.instance.official_url}}" target="_blank">\n                        {{::\'common.go.website\' | message}}\n                    </a>\n                </li>\n                <li ng-if="vm.previousSearch && (vm.tooltip.conference.name)">\n                    <a ng-click="filterPreviousSearch(\'conference\', vm.tooltip.conference.name)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.facets.conference\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.conference.name}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.conference.name">\n                    <a ng-click="search(\'conference\', vm.tooltip.conference.name)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.facets.conference\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.conference.name}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'mesh_term\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.mesh_term.details\' | message}}</strong></p>\n            <div class="pre-mock">\n                <div ng-if="vm.tooltip.mesh_term.major_topic">\n                    {{::\'scholar.common.mesh.det.topic\' | message}}:\n                    {{::vm.tooltip.mesh_term.major_topic}}\n                </div>\n                <div ng-if="vm.tooltip.mesh_term.mesh_heading">\n                    {{::\'scholar.common.mesh.det.heading\' | message}}:\n                    {{::vm.tooltip.mesh_term.mesh_heading}}\n                </div>\n                <div ng-if="vm.tooltip.mesh_term.mesh_ui">\n                    {{::\'scholar.common.mesh.det.ui\' | message}}:\n                    {{::vm.tooltip.mesh_term.mesh_ui}}\n                </div>\n                <div ng-if="vm.tooltip.mesh_term.qualifier_name">\n                    {{::\'scholar.common.mesh.det.qualifier.name\' | message}}:\n                    {{::vm.tooltip.mesh_term.qualifier_name}}\n                </div>\n                <div ng-if="vm.tooltip.mesh_term.qualifier_ui">\n                    {{::\'scholar.common.mesh.det.qualifier.ui\' | message}}:\n                    {{::vm.tooltip.mesh_term.qualifier_ui}}\n                </div>\n            </div>\n\n\n            <ul class="list-tooltip-options">\n                <li ng-if="vm.previousSearch && (vm.tooltip.mesh_term.mesh_heading)">\n                    <a ng-click="filterPreviousSearch(\'meshTerm\', vm.tooltip.mesh_term.mesh_heading)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.common.mesh_terms\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.mesh_term.mesh_heading}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.mesh_term.mesh_heading">\n                    <a ng-click="search(\'meshTerm\', vm.tooltip.mesh_term.mesh_heading)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.common.mesh_terms\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.mesh_term.mesh_heading}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n\n        <div ng-if="vm.tooltip.type === \'chemical\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.chemical.details\' | message}}</strong></p>\n            <div class="pre-mock">\n                <div ng-if="vm.tooltip.chemical.mesh_ui">\n                    {{::\'scholar.common.mesh.det.ui\' | message}}:\n                    {{::vm.tooltip.chemical.mesh_ui}}\n                </div>\n                <div ng-if="vm.tooltip.chemical.registry_number">\n                    {{::\'scholar.common.mesh.det.qualifier.name\' | message}}:\n                    {{::vm.tooltip.chemical.registry_number}}\n                </div>\n            </div>\n\n            <ul class="list-tooltip-options">\n                <li ng-if="vm.previousSearch && vm.tooltip.chemical.substance_name">\n                    <a ng-click="filterPreviousSearch(\'chemical\', vm.tooltip.chemical.substance_name)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.common.chemical\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.chemical.substance_name}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.chemical.substance_name">\n                    <a ng-click="search(\'chemical\', vm.tooltip.chemical.substance_name)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.common.chemical\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.chemical.substance_name}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'field\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.fos\' | message}}</strong></p>\n            <ul class="list-tooltip-options">\n                <li ng-if="vm.previousSearch && vm.tooltip.field">\n                    <a ng-click="filterPreviousSearch(\'fieldOfStudy\', vm.tooltip.field.name || vm.tooltip.field)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.common.fos\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.field.name || vm.tooltip.field}}</div>\n                    </a>\n                </li>\n                <li>\n                    <a ng-click="search(\'fieldOfStudy\', vm.tooltip.field.name || vm.tooltip.field)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.common.fos\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.field.name || vm.tooltip.field}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'clinical_trial\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.clinical.trial.details\' | message}}</strong></p>\n            <ul class="list-tooltip-options">\n                <li>\n                    <a ng-href="{{::clinicalTrialLinkout(vm.tooltip.clinical_trial)}}" target="_blank" rel="noopener noreferrer">\n                        {{::\'scholar.common.clinical.trial.view\' | message}}\n                    </a>\n                </li>\n                <li ng-if="vm.previousSearch && (vm.tooltip.clinical_trial.identifier)">\n                    <a ng-click="filterPreviousSearch(\'clinical_trial\', vm.tooltip.clinical_trial.identifier)">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            {{::\'scholar.common.clinical.trial\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.clinical_trial.identifier}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.clinical_trial.identifier">\n                    <a ng-click="search(\'clinical_trial\', vm.tooltip.clinical_trial.identifier)">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            {{::\'scholar.common.clinical.trial\' | message}}:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.clinical_trial.identifier}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n        <div ng-if="vm.tooltip.type === \'keyword\'">\n            <p class="tip-heading"><strong>{{::\'scholar.common.keywords\' | message}}</strong></p>\n            <ul class="list-tooltip-options">\n                <li ng-if="vm.previousSearch && vm.tooltip.keyword.value">\n                    <a ng-click="filterPreviousSearch(\'keyword\', vm.tooltip.keyword.value.toLowerCase())">\n                        <small>\n                            <em class="far fa-filter"></em>\n                            {{::\'tooltip.filter.by\' | message}}\n                            Keyword:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.keyword.value}}</div>\n                    </a>\n                </li>\n                <li ng-if="vm.tooltip.keyword.value">\n                    <a ng-click="search(\'keyword\', vm.tooltip.keyword.value.toLowerCase())">\n                        <small>\n                            <em class="far fa-search"></em>\n                            {{::\'tooltip.new.search\' | message}}\n                            Keyword:\n                        </small>\n                        <div class="tooltip--term">{{::vm.tooltip.keyword.value}}</div>\n                    </a>\n                </li>\n            </ul>\n        </div>\n\n    </div>\n\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptRemoveAuthorshipId">\n    <h3 class="modal-heading">Remove Authorship</h3>\n    <p>\n        Are you sure you want to remove your claim for this work? This action will remove the work from your ORCID record.\n    </p>\n    <div class="text-right">\n        <span ng-click="vm.promptRemoveAuthorshipId = false" class="btn">Cancel</span>\n        <button ng-click="$root.removeAuthorship(vm.promptRemoveAuthorshipId); vm.promptRemoveAuthorshipId = false;" class="btn btn-danger">Remove</button>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var s=function(e,t){return"magid"===e?"https://academic.microsoft.com/author/"+t:"orcid"===e?"/lens/orcid/"+t+"/scholar":""};o.default.directive("lensAuthorIcon",[].concat([],[function(){return{template:n(431),scope:{author:"<"},link:function(e){e.linkouts=[];var t=(_.get(e.author,"display_name_id")||"").split("~");if(t[1]&&"noid"!==t[1]){var n=t[1].split(":",2),i=a(n,2),r=i[0],o=i[1];"orcid"===r&&(o=t[1].slice(6)),e.linkouts.push({type:r,id:o,url:s(r,o)})}e.author.orcid&&0===e.linkouts.filter((function(e){return"orcid"===e.type})).length&&e.linkouts.push({type:"orcid",id:e.author.orcid,url:s("orcid",e.author.orcid)})}}}]))},function(e,t){e.exports='<span ng-repeat="(i, linkout) in linkouts">\n    <a ng-href="{{linkout.url}}"\n        tooltip-title\n        tooltip-content-selector="#author-icon-{{linkout.id}}"\n    >\n        <img class="pmid-icon"\n            ng-src="{{::$root.assetLocation}}/img/{{::linkout.type === \'magid\' ? \'icon-mag\' : \'orcid-mini-icon\'}}.png"\n            style="width: 14px;"\n        >\n    </a>\n    <div hidden>\n        <div id="author-icon-{{linkout.id}}" class="dismiss-tooltip-on-click">\n            <div class="tip-heading">\n                {{::linkout.type === "magid" ? "MAG" : "ORCID"}} ID:\n                <a ng-href="{{linkout.url}}">\n                    {{::linkout.id}}\n                </a>\n            </div>\n            <div class="indentifier-icon-flex">\n                <div class="icon-img">\n                    <img ng-src="{{::$root.assetLocation}}/img/orcid-mini-icon.png" ng-if="linkout.type === \'orcid\'">\n                    <img ng-src="{{::$root.assetLocation}}/img/icon-mag.png" ng-if="linkout.type === \'magid\'">\n                </div>\n                <div ng-if="linkout.type === \'orcid\'">\n                    <p class="text-small col-meta">\n                        <a href="https://orcid.org" target="_blank">ORCID</a>\n                        provides a persistent digital identifier (an ORCID iD) that you own and control, and that distinguishes you from every other researcher. You can connect your iD with your professional information — affiliations, grants, publications, peer review, and more.\n                    </p>\n                    <a class="text-small" href="https://vimeo.com/97150912" target="_blank"><strong>What is ORCID?</strong></a>\n                </div>\n                <div ng-if="linkout.type === \'magid\'">\n                    <p class="text-small col-meta">\n                        <a href="https://academic.microsoft.com" target="_blank">Microsoft Academic </a>\n                        employs advances in machine learning, semantic inference and knowledge discovery to help you explore scholarly information in more powerful ways than ever before.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</span>\n\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensAutoGrowTextarea",["$timeout","$rootScope",function(e,t){return{restrict:"A",link:function(n,i){n.initialHeight=n.initialHeight||i[0].style.height;var a=function(){i[0].style.height=n.initialHeight,i[0].style.height=i[0].scrollHeight+"px"};i.on("input change",a),e(a,0),t.$on("RESIZE_TEXTAREA",a)}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensAutocompleteSequence",[function(){return{scope:{seqListPubKey:"<"},link:function(e,t){var n={};t.autocomplete({autoFocus:!0,search:function(){t.addClass("working")},open:function(){t.removeClass("working")},minLength:0,source:function(t,i){var a=t.term;if(a in n)i(n[a]);else var r=$.getJSON("/lens/service/sequence/autocomplete",{query:a,pubkey:e.seqListPubKey,limit:10},(function(e,t,o){var s=_.map(e.organisms,(function(e,t,n){return{label:t+" ("+e+")",value:t}}));n[a]=s,o===r&&i(s)}))},change:function(e,n){n.item||t.val("")},select:function(e,n){t.val(n.item.value);var i=t.closest("form");i.append('<input name="sp" type="hidden" value="'+n.item.value+'">'),i.submit()}})}}}])},function(e,t,n){"use strict";var i=s(n(0)),a=s(n(84)),r=n(435),o=(n(70),s(n(25)));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(51),c=l.filter((function(e){return"PATENT"===e.type&&!e.excludedSearch})),u=l.filter((function(e){return"SCHOLAR"===e.type&&!e.excludedSearch})),d=window.FUSE_OPTS;i.default.directive("lensBooleanEditor",[].concat(["$q","$http","ScholarService"],[function(e,t,i){return{template:n(436),scope:{q:"=",type:"<",inline:"<"},link:function(e){var t=e.vm={q:e.q,type:e.type,result:null,showAllFields:!1,fields:{patent:c,scholar:u},suggestions:[],filter:{label:""},predicates:["AND","OR","NOT"]};e.$watch("type",(function(e){t.type=e})),e.checkSearchQuery=function(){t.result=null,t.invalidFields=null,t.errorMessage=null,t.dirty=!1,t.hasOtherInvalidFields=!1;try{t.errorMessage=null,t.errorPosition=null,t.result=a.default.parse(t.q);var e=(0,r.extractFields)(t.result),n=t.fields[t.type].map((function(e){return e.key}));if(t.invalidFields=_.uniq(e.filter((function(e){return!_.includes(n,e)}))),t.invalidFields.length){var i=t.fields[t.type.toLowerCase()].map((function(e){return e.key}));throw console.log(_.uniq(e.filter((function(e){return _.includes(i,e)})))),t.hasOtherInvalidFields=_.uniq(e.filter((function(e){return _.includes(i,e)}))).length>0,new Error("Unrecognised Fields: "+t.invalidFields.join(", "))}}catch(e){t.result=null,t.errorMessage=e,e.location&&(t.errorPosition=e.location),e.column&&(t.errorPosition=e.column(),console.log(t.errorPosition))}},e.selectError=function(){$("#boolean-editor-textarea").focus(),console.log("setSelectionRange",[t.errorPosition.start.offset,t.errorPosition.end.offset])};var n=_.debounce((function(){}),500);e.keyup=function(n){if(t.dirty=!0,n.ctrlKey&&32===n.keyCode){if(t.suggestions&&t.suggestions.length){var i=t.suggestions[0],a=i.key,r=i.example;e.termCompletion(a,r)}}else n.ctrlKey&&13===n.keyCode&&setTimeout((function(){e.checkSearchQuery(),e.$apply()}),500)},e.change=function(n){t.dirty=!0;var i=$("#boolean-editor-textarea").prop("selectionStart"),a=t.q.slice(0,i).split(/[\s]+/g).pop();t.predicates.forEach((function(e){a===e.toLowerCase()&&(t.q=t.q.trim().slice(0,-1*e.length)+e+" ")}));var r=a.toUpperCase().trim();t.suggestions="AND"===r||"OR"===r||"NOT"===r?[]:new o.default(t.fields[t.type],d).search(a).map((function(e){return e.item})),e.q=t.q,console.log(e.q)},e.termCompletion=function(i){t.dirty=!0;var a=$("#boolean-editor-textarea").prop("selectionStart"),r=t.q.slice(0,a).split(/[\s]+/g),o=t.q.slice(a);r.pop(),r.push(i+": "),t.q=r.join(" ")+o,e.format(),n(),setTimeout((function(){$("#boolean-editor-textarea").focus()}),10)},e.format=function(){},e.appendPredicate=function(e){t.q=t.q+"\n"+e+" ",n(),setTimeout((function(){$("#boolean-editor-textarea").focus()}),10)},e.appendMultiField=function(i){var a=t.q.split(/[\s]+/g).pop(),r=t.multiFields[t.type][i](a);e.appendPredicate(r),n()},e.searchLink=function(){var e=t.q.replace(/\n/g," "),n=$.deparam(window.location.search)||{};delete n.type,n.q=e;var i=$.param(n);return"/lens/search/"+t.type+"/list?"+i},e.toggleType=function(){t.type="SCHOLAR"===t.type?"PATENT":"SCHOLAR",e.checkSearchQuery()},e.clearTerm=function(){t.q="",e.checkSearchQuery()},window.addEventListener("addClause",(function(n){var i=n.detail.field,a=t.fields[t.type].filter((function(e){return e.key===i})).pop();e.termCompletion(i,a.example)})),e.format(),t.q&&e.checkSearchQuery()}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.extractFields=function e(t){var n=[];return t.right&&t.right.right&&(n=n.concat(e(t.right))),t.left&&t.left.field&&"<implicit>"!==t.left.field&&n.push(t.left.field),t.right&&t.right.field&&"<implicit>"!==t.right.field&&n.push(t.right.field),t&&t.field&&"<implicit>"!==t.field&&n.push(t.field),n};t.default=i},function(e,t){e.exports='<div class="boolean-editor">\n    <div class="query-details-container clearfix">\n\n        <div class="query-details">\n            <div class="query-details-query">\n                <strong>{{vm.type | titleCase}} Query</strong>\n                <strong class="query-details-equals">=</strong>\n                <span ng-if="!vm.result">\n                    {{vm.q && !vm.dirty ? \'Invalid Query\' : \'All Documents\'}}\n                </span>\n                <span lens-query\n                    result="vm.result"\n                    ng-show="vm.result"\n                >\n                    <div class="query-details-syntax-highlight" ng-if="vm.result && !vm.dirty"></div>\n                </span>\n            </div>\n\n            <div class="query-details-filters">\n                <strong>Query Status: </strong>\n                <span class="query-details-filter-label">\n                    <span ng-if="vm.dirty && !vm.errorMessage">\n                        <em class="far fa-info-circle col-sec"></em>\n                        <span class="col-meta">Changes detected. Automatic validation has been temporarily disabled</span>\n                    </span>\n\n                    <span ng-if="vm.result && !vm.dirty">\n                        <em class="fa fa-check-circle col-ter"></em>\n                        <span class="col-meta">Query Valid</span>\n                    </span>\n\n                    <span hidden class="col-sec" ng-if="vm.invalidFields.length && !vm.dirty">\n                        <em class="fa fa-exclamation-triangle"></em>\n                        Unrecognised fields:\n                        {{vm.invalidFields.join(\', \')}}.\n                    </span>\n\n                    <span ng-if="vm.errorMessage">\n                        <span class="col-error">\n                            <em class="fa fa-exclamation-triangle"></em>\n                            {{vm.errorMessage}}\n                        </span>\n\n                        \x3c!-- <strong ng-if="vm.hasOtherInvalidFields" class="link" ng-click="toggleType()"> --\x3e\n                        <span ng-if="vm.hasOtherInvalidFields" hidden>\n                            This appears to be a valid {{vm.type === \'SCHOLAR\' ? \'Patent\' : \'Scholar\'}} Query.\n                            Try changing query type.\n                        </span>\n\n                    </span>\n                </span>\n            </div>\n        </div>\n    </div>\n\n    <div class="boolean-editor-body" ng-class="{\'inline\': inline}">\n\n            <form ng-submit="checkSearchQuery()">\n                <label class="textarea textarea-resizable boolean-editor-textarea-wrap" style="position: relative;">\n                    <div class="boolean-editor-field-suggestions">\n                        <div ng-repeat="field in vm.suggestions.slice(0, 5)"\n                            ng-click="termCompletion(field.key, field.example)"\n                            ng-if="field.example"\n                            ng-show="!vm.showAllFields"\n                            class="boolean-editor-field-suggest"\n                        >\n                            <em class="far fa-hashtag col-feat"></em>\n                            {{::field.label}}\n                        </div>\n                    </div>\n\n                    <div class="error-position" ng-if="vm.errorPosition.start.column">\n                        Line: {{vm.errorPosition.start.line}},\n                        Column: {{vm.errorPosition.start.column}},\n                        <span ng-if="vm.q.slice(vm.errorPosition.start.offset, vm.errorPosition.end.offset)">\n                            near <em>{{vm.q.slice(vm.errorPosition.start.offset, vm.errorPosition.end.offset)}}</em>\n                        </span>\n                        <span class="styled-link" ng-click="selectError()" hidden>Highlight Error</span>\n                    </div>\n\n                    <textarea ng-model="vm.q"\n                        class="full"\n                        ng-class="{danger: vm.errorMessage}"\n                        ng-keyup="keyup($event)"\n                        ng-model-options="{debounce: 300}"\n                        ng-change="change($event)"\n                        id="boolean-editor-textarea"\n                        placeholder="Start typing your boolean query in here. Fields will be suggested below."\n                        autocomplete="off"\n                        spellcheck="false"\n                    ></textarea>\n\n                    <em class="fa fa-minus-circle col-error link boolean-clear"\n                        tooltip-title="Clear query"\n                        ng-click="clearTerm()"\n                        ng-class="{danger: vm.errorMessage}"\n                    ></em>\n\n                    <div class="boolean-operators">\n                        <div class="predicates btn-group btn-group-xs">\n                            <strong class="predicate btn link" ng-repeat="predicate in vm.predicates" ng-click="appendPredicate(predicate)">\n                                {{predicate}}\n                            </strong>\n                        </div>\n                    </div>\n                </label>\n                \n                <div class="boolean-editor-submit-button-div">\n                    <a class="btn boolean-editor-submit-button"\n                        ng-class="{\'btn-ter\': !vm.dirty && vm.result, \'btn-danger\': !vm.dirty && vm.errorMessage, \'btn-sec\': vm.dirty && !vm.errorMessage}"\n                        ng-click="checkSearchQuery()"\n                        ng-if="vm.dirty"\n                    >\n                        {{!vm.dirty && vm.result ? \'Submit Search\' : \'Validate Query\'}}\n                    </a>\n\n                    <a ng-href="{{searchLink()}}"\n                        class="btn boolean-editor-submit-button btn-pri"\n                        ng-click="vm.submitting = true"\n                        ng-class="{submitting: vm.submitting}"\n                        ng-if="vm.result && !vm.dirty"\n                    >\n                        {{vm.submitting ? \'Submitting...\' : \'Submit Search\'}}\n                    </a>\n\n                    <a ng-href="{{searchLink()}}"\n                        class="btn boolean-editor-submit-button"\n                        ng-click="vm.submitting = true"\n                        ng-class="{submitting: vm.submitting}"\n                        ng-if="vm.q && !vm.result && !vm.dirty"\n                    >\n                        {{vm.submitting ? \'Submitting...\' : \'Submit Search Anyway\'}}\n                    </a>\n                </div>\n                \n                <small class="link pull-right"\n                    style="margin-left: 1em;"\n                    tooltip-title ="There\'s no enforced limit on the query length, however queries are URL-based, which are typically limited to ~2000 characters (browser dependent)."\n                >\n                    <em class="far fa-info-circle col-sec"></em>\n                    Query Length Advice\n                </small>\n\n                <small class="link pull-right"\n                    tooltip-title\n                    tooltip-options="::{trigger: \'hover\'}"\n                    tooltip-content-selector="#boolean-editor-keyboard-shortcuts"\n                >\n                    <em class="far fa-info-circle col-sec"></em>\n                    Keyboard Shortcuts\n                </small>\n\n                \n            </form>\n\n    </div>\n\n    <div hidden>\n        <div id="boolean-editor-keyboard-shortcuts">\n            <p>Keyboard shortcuts:</p>\n            <ul>\n                <li>Ctrl + Space: autocomplete top suggested field</li>\n                <li>Ctrl + Enter: Validate query</li>\n                <li>Ctrl + Enter: Submit validated query</li>\n            </ul>\n        </div>\n    </div>\n\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensRouterBreadcrumbs",[].concat(["$state"],[function(e){return{template:n(152),replace:!0}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensCancelEnter",["$rootScope",function(e){return{link:function(e,t,n){t.on("keypress",(function(e){if(13===e.keyCode)return e.preventDefault(),e.stopPropagation(),!1}))}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensCarousel",[function(){return{link:function(e,t,n){t.hide(),setTimeout((function(){var i=$(t);i.owlCarousel({items:n.items?parseInt(n.items):4,nav:!0,navText:["<em class='fal fa-angle-left'></em>","<em class='fal fa-angle-right'></em>"],navContainer:".owl-custom-nav",dots:!0,loop:!0,singleItem:!1,scrollPerPage:!1,slideSpeed:1e3,autoHeight:!0,lazyLoad:!0,autoplayTimeout:8e3,autoplayHoverPause:!0,margin:10,autoplay:!0,transitionStyle:!1}),t.find(".owl-next").click((function(e){return i.trigger("next.owl.carousel")})),t.find(".owl-prev").click((function(e){return i.trigger("prev.owl.carousel")})),t.find(".owl-play").click((function(e){return i.trigger("play.owl.carousel",1e3)})),t.find(".owl-stop").click((function(e){return i.trigger("stop.owl.carousel")})),setTimeout((function(){t.show(),e.$digest()}),1e3)}),1e3)}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensChallengeCarousel",(function(){return{link:function(e,t){setTimeout((function(){t.owlCarousel({loop:!0,margin:20,nav:!0,navText:["<em class='fal fa-angle-left'>","<em class='fal fa-angle-right'>"],autoplay:8e3,responsiveClass:!0,responsive:{0:{items:1},480:{items:2},768:{items:3},980:{items:2},1400:{items:3},1800:{items:4}}})}),0)}}}))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensChartIcon",[].concat(["$rootScope"],[function(e){return{scope:{option:"<"},link:function(t,n){var i=t.option;if(i){var a=e.assetLocation+(i.altIcon?"/img/chart-icons-alt/":"/img/chart-icons/")+("chart-"+i.icon+".png");n.css({"background-image":"url("+a+")"})}}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(443));function r(e){return e&&e.__esModule?e:{default:e}}var o=n(44);i.default.directive("lensCitationItem",[].concat(["$state","$q","ScholarService"],[function(e,t,i){return{template:n(444),scope:{article:"<"},link:function(n){n.vm={fallbackToLinks:!e.includes("scholar")&&!e.includes("article")},n.filterLink=function(e){return e?'/lens/search/patent/list?npl="'+e.record_lens_id+'"':"/"},n.scholarFilterLink=function(e){return"/lens/search/scholar/list?referenceId.must="+e.record_lens_id},n.getLinkout=function(e,t){return o("publisher",e,t)},n.getArticleLink=function(e){return"/lens/scholar/article/"+(0,a.default)(e).replace(/\//g,"~2F")+"/main"},n.expand=function(e){if(!e.expanded){e.loading=!0,e.expanded=!0;var n=i.get(e.record_lens_id);return t.when(n).then((function(t){_.keys(t).forEach((function(n){e[n]=t[n]})),e.loading=!1}))}e.expanded=!1}}}}]))},function(e,t,n){"use strict";e.exports=function(e){if(e.record_lens_id)return e.record_lens_id;if(e.record_lens_id)return _.isArray(e.record_lens_id)?e.record_lens_id[0]:e.record_lens_id;var t=e.external_ids[0].value;return e.doi&&e.doi[0]&&(t=e.doi[0]),e.pmcid&&e.pmcid[0]&&(t=e.pmcid[0]),e.pmid&&e.pmid[0]&&(t=e.pmid[0]),t}},function(e,t){e.exports='<form>\n    <a style="margin-top: 4px;" ng-click="expand(article)" class="expand-result far" ng-class="{\'fa-chevron-circle-down\': !article.expanded, \'fa-chevron-circle-down active\': article.expanded}" tooltip-title="Expand View"></a>\n</form>\n<header>\n    <div class="listing-header">\n\n        <div class="listing-with-sidebar">\n            <span>\n                <h3 class="listing-result-title">\n                    <a ng-if="vm.fallbackToLinks" ng-href="{{::getArticleLink(article)}}">\n                        {{::article.title | titleCase}}\n                    </a>\n                    <a ng-if="!vm.fallbackToLinks" ui-sref="article.main({id: article.record_lens_id})">\n                        {{::article.title | titleCase}}\n                    </a>\n                </h3>\n                <ul class="list-unstyled header-meta header-meta-scholarly">\n                    <li class="header-meta-inline-item">\n                        <strong>\n                            {{::article.publication_type | titleCase}}\n                        </strong>\n                    </li>\n                    <li ng-if="::article.pmcid.length" class="header-meta-inline-item">\n                        <img style="margin: 0;" class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-open-access.png" title="{{::\'patentView.citations.plos_alt\' | message}}">\n                        Open Access\n                    </li>\n                    <li class="header-meta-inline-item">\n                        {{::article.title_full}}\n                        <span class="article-journal-title" ng-if="article.journal.title">{{::article.journal.title}},&nbsp;</span>\n                        <span ng-if="article.issue">{{\'journal.issue\' | message}}: {{::article.issue}},&nbsp;</span>\n                        <span ng-if="article.volume">{{\'journal.volume\' | message}}: {{::article.volume}},&nbsp;</span>\n                        <span ng-if="article.pages">{{\'journal.pages\' | message}}: {{::article.pages}}.&nbsp;</span>\n                        <span>\n                            <span ng-if="!article.date_published">{{::article.year_published}}</span>\n                            <span ng-if="article.date_published">{{::article.date_published | date}}</span>\n                        </span>\n                    </li>\n                    \n                    <li ng-if="article.authors.length">\n                        <span ng-repeat="author in article.authors | limitTo:(article.showAllAuthors ? 500 : 50)">\n                            {{::author.display_name}}<span ng-if="!$last">,</span>\n                        </span>\n                        <a ng-if="article.authors.length > 50 && !article.showAllAuthors" ng-click="article.showAllAuthors = true">\n                            Show all...\n                        </a>\n                    </li>\n                \n                    <li class="meta-sources link-outs" style="display: block;" ng-if="!vm.metaLoading">\n                        <a ng-href="{{::filterLink(article)}}" class="lensLink" ng-if="::article.referenced_by_patent_count">\n                            Citing Patents:\n                            {{::article.referenced_by_patent_count}}\n                        </a>\n    \n                        <a ui-sref="search.results({\'referenceId.must\': article.record_lens_id})" class="lensLink" ng-if="::article.referenced_by_count">\n                            Citing Scholarly Works:\n                            {{::article.referenced_by_count}}\n                        </a>\n                    </li>\n                    \n                    <li class="meta-sources link-outs" ng-if="!vm.metaLoading">\n                        <a ng-if="vm.fallbackToLinks" ng-href="{{::getArticleLink(article)}}">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/favicon-32x32.png">\n                            <span>{{article.record_lens_id}}</span>\n                        </a>\n                        <a ng-if="!vm.fallbackToLinks" ui-sref="article.main({id: article.record_lens_id})">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/favicon-32x32.png">\n                            <span>{{article.record_lens_id}}</span>\n                        </a>\n                        <a target="_blank" rel="noopener noreferrer" ng-href="{{getLinkout(\'pmid\', article.pmid[0])}}" ng-if="::article.pmid.length">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-pub-med.png"\n                                title="{{::\'patentView.citations.pubmed_alt\' | message}} {{::shortCitation}}"\n                            >\n                            {{article.pmid[0]}}\n                            \x3c!--{{\'scholar.common.view.via\' | message}} PubMed--\x3e\n                        </a>\n                        <a target="_blank" rel="noopener noreferrer" ng-href="{{getLinkout(\'pmcid\', article.pmcid[0])}}" ng-if="::article.pmcid.length">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-open-access.png"\n                                title="{{::\'patentView.citations.plos_alt\' | message}}"\n                            >\n                            {{article.pmcid[0]}}\n                            \x3c!--{{\'scholar.common.view.open.access\' | message}}--\x3e\n                        </a>\n                        <a target="_blank" rel="noopener noreferrer" ng-href="{{getLinkout(\'doi\', article.doi[0])}}" ng-if="::article.doi.length">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-cross-ref.png"\n                                title="{{::\'patentView.citations.crossref_alt\' | message}} {{::shortCitation}}"\n                            >\n                            {{article.doi[0]}}\n                            \x3c!--{{\'scholar.common.view.via\' | message}} Crossref--\x3e\n                        </a>\n                        <a target="_blank" rel="noopener noreferrer" ng-href="{{getLinkout(\'magid\', article.magid[0])}}" ng-if="::article.magid.length">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-mag.png">\n                            {{article.magid[0]}}\n                            \x3c!--{{\'scholar.common.view.via\' | message}} Microsoft Academic--\x3e\n                        </a>\n                        \n                        <lens-coins item="article"></lens-coins>\n\n                        <span ng-if="article.doi.length || article.pmid.length">\n                            <img class="pmid-icon" ng-src="{{::$root.assetLocation}}/img/icon-libkey.png">\n                            <a target="_blank" ng-href="http://libkey.io/{{article.doi[0] || article.pmid[0]}}?utm_source=lens" title="Find full-text at your institution with LibKey">\n                                LibKey\n                            </a>\n                        </span>\n\n                    </li>\n                </ul>\n            </span>\n        </div>\n\n\n\n    </div>\n</header>\n\n<div class="result-expanded" ng-if="article.expanded" lens-article-item-preview item="article"></div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensCitations",[function(){return{template:n(153),link:function(e,t){}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensClaims",["$http",function(e){return{scope:{lensId:"<"},link:function(t,n){n.html("Loading...");var i="/lens/patent/"+t.lensId+"/claims";e.get(i).then((function(e){var t=e.data;t.length>1e6&&(n.before('\n                    <div class="alert alert-warning">\n                        Warning! Claims have been truncated.\n                        <a href="'+i+'" target="_blank">Load full claims in a new window</div>\n                    </div>\n                '),t=t.slice(0,1e6)),n.html(t),n.expander({slicePoint:1500,expandPrefix:"…",expandEffect:"fadeIn",expandSpeed:250,collapseEffect:"fadeOut",collapseSpeed:200,preserveWords:!0,expandText:"Read More",collapseTimer:0,userCollapseText:"Read Less"})})).catch((function(e){console.error(e),n.html("Error loading Claims")}))}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensClassificationList",[].concat([],[function(){return{template:n(448),scope:{type:"<",classifications:"<",previousSearch:"<",delimeter:"<"},link:function(e,t){e.vm={loading:!0,classifications:e.classifications};e.getPreviousSearchQuery=function(t){var n=_.cloneDeep(e.previousSearch);return _.extend(n,t)}}}}]))},function(e,t){e.exports='\x3c!--\n{\n\t"symbol": "G06F21/32",\n\t"version_indicator": "2013-01-01",\n\t"class_symbol_position": "L",\n\t"class_value": "A",\n\t"action_date": "2019-12-05",\n\t"class_status": "B",\n\t"class_data_source": "H",\n\t"generating_office": "EP",\n\t"sequence": 1\n}\n--\x3e\n<div lens-html-tooltip>\n    <ul class="inlineFloat list-inline-alt list-classifications">\n        <li ng-repeat="classification in vm.classifications" ng-class="{[\'classification-value-\' + (classification.class_value || classification.symbol_position)]: true}">\n            <a ng-mouseenter="setTootip({type: \'classification\', classification: classification}, $event)"\n                ng-mouseleave="clearTooltip()"\n                ng-click="$root.classificationViewer = { type: classification.type, term: classification.symbol }"\n            >\n                {{::classification.symbol}}\n                \x3c!--<span ng-if="type === \'IPC\' || type === \'CPC\'">({{::classification.version_indicator | classificationVersion}})</span>--\x3e\n                \x3c!--{{::delimeter}}--\x3e\n            </a>\n        </li>\n    </ul>\n    <div class="tooltip-logo tooltip-explore"\n        ng-if="vm.tooltip"\n        ng-style="vm.tooltipPosition"\n        ng-mouseenter="keepTooltipOpen()"\n        ng-mouseleave="clearTooltip()"\n    >\n        <div ng-if="vm.tooltip.type === \'classification\'"\n             ng-include="\'classification-tooltip\'"\n        ></div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=n(221),s=n(243),l=n(2),c=void 0,u=function(e,t,n,i){return function(t,a){c=new s({cache:!1,storage:new l("classification-viewer")}),t.term=t.term||"",t.type=t.type||"CPC",t.searchType="search",t.items=[],t.loading=!1,t.symbol="",t.classifications=t.selected||{},t.$watch("term",(function(){t.search()}));var r=function(){var e=t.type.toUpperCase();"CLASS_CPC.SYMBOL"===e&&(t.type="CPC"),"CLASS_NATIONAL.SYMBOL"!==e&&"US"!==e&&"NAT"!==e&&"NATIONAL"!==e||(t.type="USPC"),"CLASS_IPCR.SYMBOL"!==e&&"IPCR"!==e||(t.type="IPC")};t.fetch=function(){t.searchType="lookup",t.loading=!0,t.error=null,r(),e.when(c.ancestorsAndSelf(t.type,t.symbol)).then((function(e){if(e.forEach((function(e){e.type=t.type})),t.loading=!1,e.length){_.each(e,(function(t,n){e[n+1]&&(t.showChildren=!0,t.children=[e[n+1]])}));var n=e[0]?t.items.filter((function(t){return t.id===e[0].id}))[0]:null;n||(n={id:e[0]?e[0].id:null,children:[]},t.items.push(n)),_.extend(n,e[0]),_.defer((function(){var t=_.last(e),n="#classification-viewer-item-"+(t?t.id:""),i=a.find(n).get(0);i&&i.scrollIntoView()}))}else t.items=[]})).catch((function(e){console.error(e),t.loading=!1,t.error="Could not fetch Classification Data for "+t.type+": "+t.symbol}))};var u=void 0;t.fetchRoot=function(){return t.about=!1,t.error=null,t.loading=!0,t.items=[],u&&u.abort&&u.abort(),r(),u=c.getChildren(t.type),e.when(u).then((function(e){e.forEach((function(e){e.type=t.type,_.isString(e.classTitle)?e.classTitle=n.trustAsHtml(e.classTitle):console.warn("item already trusted")})),t.items=_.sortBy(e,"symbol"),t.loading=!1,u=null})).catch((function(e){console.error(e),t.loading=!1,t.error="Could not fetch Classification Data for "+t.type}))},t.search=function(){if(t.items=[],t.term.trim()){if(r(),d(t.term)||"USPC"===t.type)return t.symbol=t.term.toUpperCase(),void t.fetch();t.searchType="search",t.about=!1,t.error=null,t.loading=!0,t.searched=!0,e.when(c.search(t.type,t.term)).then((function(e){e.forEach((function(e){e.type=t.type,e.symbol=e.symbol.formatted,e.classTitle=n.trustAsHtml(e.classTitle),e.textBody=n.trustAsHtml(e.textBody)})),t.items=e,t.loading=!1})).catch((function(e){console.error(e),t.loading=!1,t.error="Could not find Classification Data for search term: "+t.term}))}else t.fetchRoot()},t.type?(t.searchType="lookup",t.fetchRoot().then((function(){t.term&&t.search()}))):0===t.items.length&&(t.about=!0),t.hasSelected=function(){return _.values(t.classifications).includes(!0)},t.clearSelected=function(e){e.preventDefault(),_.each(_.keys(t.classifications),(function(e){t.classifications[e]=!1}))},t.applySelections=function(e,n){e.preventDefault();var a=_.filter(_.keys(t.classifications),(function(e){return t.classifications[e]})),r=_.groupBy(a,(function(e){return m(e)?"symbol":"prefix"}));r.prefix=_.map(r.prefix,h),r.type=t.type,r.newSearch=n,o.applyFilter(r,i)},t.isSearchInitialized=p}};r.default.directive("lensClassificationViewerExplorer",(function(){return{template:n(154)}})),r.default.directive("lensClassificationViewer",["$q","$window","$sce","$state",function(e,t,i,a){return{scope:{type:"=",term:"=",hideActionButtons:"<",selected:"="},template:n(155),link:u(e,0,i,a)}}]),r.default.directive("lensClassificationViewerItem",["$q","$state",function(e,t){return{restrict:"E",template:n(156),replace:!0,scope:{item:"=",selected:"=",classifications:"="},link:function(n){n.searchBySymbolPrefix=function(e,n,i){e.stopPropagation(),e.preventDefault();var a=h(n.symbol),r={type:n.type,prefix:[a],newSearch:i};o.applyFilter(r,t)},n.applyFilter=function(e,n,i){e.stopPropagation(),e.preventDefault();var a=_.extend({},n);a.newSearch=i,o.applyFilter(a,t)},n.searchBySymbol=function(e,i,a){m(i.symbol)?n.applyFilter(e,i,a,t):n.searchBySymbolPrefix(e,i,a)},n.getFilterLink=function(e){return o.getFilterUrl(e)},n.toggleChildren=function(e){if("search"===n.$parent.$parent.searchType)return n.$parent.$parent.searchType="lookup",n.$parent.$parent.symbol=n.item.symbol,n.$parent.$parent.items=[],void n.$parent.$parent.fetch();n.item.showChildren=void 0!==e?e:!n.item.showChildren,n.item.showChildren&&!n.item.childrenFetched&&n.getChildren()},n.getChildren=function(){n.item.id&&(n.item.loading=!0,e.when(c.getChildren(n.item.type,n.item.id)).then((function(e){e.forEach((function(e){return e.type=n.item.type})),n.item.children=e,n.item.childrenFetched=!0,n.item.loading=!1})))},n.canFilter=m,n.hasChildren=function(){return n.item.childCount>0||void 0===n.item.childCount},n.isSearchInitialized=p,n.tooltipContentId=function(){return"symbol-"+n.item.id},n.newSearchText=function(){return window.messages.prop("classification.viewer.startNewSearch",n.item.symbol)},n.filterExistingSearchText=function(){return window.messages.prop("classification.viewer.filterExistingSearch",n.item.symbol)}}}}]),r.default.directive("lensInlineClassification",["$q",function(e){return{template:n(450),scope:{type:"<",symbol:"<",minimal:"<"},link:function(t,n){var i,a=t.vm={loading:!0};(i=t.type.toUpperCase()).startsWith("CLASS_CPC")&&(t.type="CPC"),(i.startsWith("CLASS_NATIONAL")||"US"===i||"NAT"===i||"NATIONAL"===i)&&(t.type="USPC"),(i.startsWith("CLASS_IPCR")||"IPCR"===i)&&(t.type="IPC");var r=new s({cache:!1,storage:new l("classification-viewer")});e.when(r.ancestorsAndSelf(t.type,t.symbol)).then((function(e){a.loading=!1;var t=e[0],n=e.pop();a.item=e,n&&(a.label=n.classTitle||n.textBody||n.subClassDescription),t&&(a.parent=t.classTitle||t.textBody)}))}}}]),e.exports=r.default;var d=function(e){return e.length>1&&"ABCDEFGHY".indexOf(e[0].toUpperCase())>=0&&/\d/.test(e[1])},p=function(){return window.LENS.searchFormInitialized},f=function(e){return"/00"===e.slice(-3)},m=function(e){return e.indexOf("/")>0&&!f(e)},h=function(e){return f(e)?e.replace("/00","\\/"):e}},function(e,t){e.exports='<span ng-if="vm.loading">\n    <em class="far fa-spinner fa-spin col-feat"></em>\n    Loading...\n</span>\n\n<div ng-if="!vm.loading">\n    <b class="inline-classification-heading" ng-if="minimal" tooltip-title="{{vm.label}}">\n        {{vm.parent | titleCase}}\n    </b>\n    <b class="inline-classification-heading" ng-if="!minimal">\n        {{vm.parent | titleCase}}\n    </b>\n    <div class="text-small inline-classification-label" ng-if="!minimal">\n        {{vm.label}}\n    </div>\n    <div ng-if="!vm.parent && !vm.label">Classification not available in current version</div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33));r.default.directive("lensCollaborationNetwork",[].concat([],[function(){return{template:n(452),scope:{data:"<"},link:function(e,t){var n=_.debounce((function(){var n=t.find(".collaboration-network");n.empty();var i=e.data,a=o.scaleOrdinal(o.schemeCategory10),r=i.links.map((function(e){return Object.create(e)})),s=i.nodes.map((function(e){return Object.create(e)})),l=o.forceSimulation(s).force("link",o.forceLink(r).id((function(e,t){return t}))).force("charge",o.forceManyBody().strength(-1e3)).force("x",o.forceX()).force("y",o.forceY()).on("tick",(function(){d.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),p.attr("transform",(function(e){return"translate("+e.x+","+e.y+")"}))})),c=o.select(n.get(0)).append("svg").attr("viewBox",[-400,-200,800,400]).style("background","white"),u=c.append("g"),d=u.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(r).enter().append("line").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),p=u.append("g").selectAll("g").data(s).enter().append("g"),f=s.map((function(e){return e.value})).sort();f.unshift(0),f.pop();var m=o.extent(f);o.scaleLinear().domain(m).range([10,20]),p.append("circle").attr("r",(function(e){return 20})).attr("fill",(function(e,t){return a(e.group)})).attr("stroke","#fff").call(function(e){return o.drag().on("start",(function(t){o.event.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=o.event.x,e.fy=o.event.y})).on("end",(function(t){o.event.active||e.alphaTarget(0),t.fx=null,t.fy=null}))}(l));p.append("text").text((function(e){return e.label})).attr("fill","#444444").attr("font-family","sans-serif").attr("font-size","14px").attr("x",15).attr("y",5),p.append("title").text((function(e){return e.id+" ("+e.group+")"})),o.zoom().on("zoom",(function(){u.attr("transform",o.event.transform)}))(c)}),500);$(window).resize(n),n()}}}]))},function(e,t){e.exports='<div>\n    <div class="collaboration-network"></div>\n</div>\n'},function(e,t,n){"use strict";var i=o(n(0)),a=n(140),r=o(n(52));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(5),l=new s;i.default.directive("lensCollectionAction",[].concat(["CollectionService","PatentService","ScholarService","$q","$rootScope"],[function(e,t,i,o,c){return{template:n(454),scope:{collection:"<",action:"="},link:function(n){var c=n.vm={ASYNC_EXPORT_LIMIT:1e3,exportFilename:n.collection.title,exportConfig:{format:"CSV",size:1e3,fields:[]},exportFieldsList:"PATENT"===n.collection.type?a.PATENT_EXPORT_FIELDS:a.SCHOLAR_EXPORT_FIELDS,type:"PATENT"===n.collection.type?"patent":"scholar",importData:"",importType:"lens-ids",importPlaceholders:{pubkey:"e.g. US_5599670_A, EP_0571457_B1, WO_2017_177216_A1","lens-ids":"e.g. 042-081-813-275-046, 002-333-446-171-92X",doi:"e.g. 10.1109/tcsvt.2012.2221191\n10.1145/332040.332418\n10.1007/3-540-45518-3_18",pmcid:"e.g. 156379\n26536\n2195837",pmid:"e.g. 12351792\n8628236\n19002977",mag:"e.g. 2043747172\n2167898414\n2146395539"}},u=function(e){console.error(e.data),c.error=!0,c.submitting=!1;var t="Unknown Collection Error";e.data.error?t=e.data.error:e.data.errors&&e.data.errors.length&&(t=e.data.errors.join(", ")),l.error(t,{life:5e3})};n.create=function(){c.saving=!0,e.create(n.collection).then((function(e){n.close()})).catch(u)},n.delete=function(){c.submitting=!0,e.delete(n.collection.id).then((function(){l.notify("Collection Deleted"),n.close()})).catch(u)},n.save=function(){c.saving=!0,e.save(n.collection).then((function(e){n.close()})).catch(u)},n.import=function(){c.submitting=!0;n.collection.itemCount;e.import(n.collection.id,c.importData,c.importType).then((function(e){if(e&&e.itemCount){var t="Added "+e.itemCount+" items to collection";l.notify(t)}n.close()})).catch(u)},n.export=function(){c.submitting=!0;var e=_.clone(c.exportConfig),a=c.exportConfig.filename||n.collection.title||"lens-export",l="SCHOLARLY_WORK"===n.collection.type;e.filename=encodeURIComponent(a),e.async=l||n.collection.itemCount>=1e3,e.fields=_.keys(c.exportConfig.fields).filter((function(e){return c.exportConfig.fields[e]})).filter(n.exportFieldFilter);var d=l?i:t,p=new s;o.when(d.export({collectionId:n.collection.id},e)).then((function(t){n.action=null,202===t.status||e.async?p.notify(window.messages.prop("export.async.success"),{life:5e3}):200===t.status&&t.text().then((function(e){var t=new Blob([e],{type:"text/plain;charset=utf-8"}),n=c.exportConfig.format||"CSV";r.default.saveAs(t,a+"."+({BIBTEX:"bib"}[n]||n.toLowerCase()))}))})).catch(u)},n.close=function(){c.submitting=!1,e.emit("REFRESH_COLLECTIONS"),n.action=null},n.selectAllExportFields=function(e){c.exportFieldsList.forEach((function(t){c.exportConfig.fields[t]=e}))},n.exportFieldFilter=function(e){var t=("PATENT"===n.collection.type?a.PATENT_UNSUPPORTED_EXPORT_FIELDS:a.UNSUPPORTED_EXPORT_FIELDS)[c.exportFormat];return!t||!_.includes(t,e)},n.selectAllExportFields(!0)}}}]))},function(e,t){e.exports='<div>\n    \x3c!-- Import Modal --\x3e\n    <div ng-if="action === \'import\'" ng-include="\'import-collection\'"></div>\n\n    \x3c!-- Export Modal --\x3e\n    <div ng-if="action === \'export\'" ng-include="\'export-collection\'"></div>\n\n    \x3c!-- Publish Modal --\x3e\n    <div ng-if="action === \'publish\'" ng-include="\'publish-collection\'" include-replace></div>\n\n    \x3c!-- Create Modal --\x3e\n    <div ng-if="action === \'create\'">\n        <h3 class="modal-heading">{{\'user.collections.createNew.title\' | message}}</h3>\n        <div lens-collection-form collection="collection" submit="create" close="close"></div>\n    </div>\n\n    \x3c!-- Edit Modal --\x3e\n    <div ng-if="action === \'edit\'">\n        <h3 class="modal-heading">{{::\'user.collections.edit.longDesc\' | message}}</h3>\n        <div lens-collection-form collection="collection" submit="save" close="close"></div>\n    </div>\n\n    \x3c!-- Delete Confirmation --\x3e\n    <div ng-if="action === \'delete\'">\n        <div ng-include="\'delete-collection\'"></div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};new(n(5));r.default.directive("lensCollectionControls",[].concat(["$rootScope","CollectionService"],[function(e,t){return{template:n(157),scope:{newCollection:"=",addToCollection:"=",removeFromCollection:"=",type:"<"},link:function(t){var n=window.globalCollections||[],i=(t.vm={collections:n,filteredCollections:n.filter((function(e){return e.type===t.type}))},[]);i.push(e.$on("PROMPT_CREATE_NEW_COLLECTION",(function(){t.doNewCollection()}))),t.$on("$destroy",(function(){i.forEach((function(e){return e()}))})),t.doNewCollection=function(){t.newCollection={type:t.type,access:"OPEN_ACCESS",displayAvatar:!0}},t.doAddToCollection=function(){t.addToCollection=!0},t.doRemoveFromCollection=function(){t.removeFromCollection=!0}}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(71).Remarkable);o.inline.ruler.enable(["sub","sup"]),r.default.directive("lensCollectionDetails",[].concat(["$rootScope","$timeout","$http","CollectionService"],[function(e,t,i,a){return{template:n(457),scope:{collection:"<"},link:function(n){var r=n.vm={},s=function(){t((function(){n.vm.reveal=!0}),500)};n.collection.user&&(n.collection.user.type="personal",i.get("/lens/service/user/"+n.collection.user.id+"/publicProfile").then((function(e){r.hasProfile=!0})).catch((function(e){r.hasProfile=!1}))),n.render=function(e){return e?o.render(e.trim()):""},n.collectionAction=function(e){n.vm.collectionAction=e},n.uploaded=function(e){r.uploading=!1,n.collection.avatar=e,n.collection.avatarId=e.id};var l=[];l.push(e.$on("MEDIA_LIBRARY_SELECT",(function(t,i){r.avatar=i,n.collection.avatar=i,n.collection.avatarId=i.id,e.showMediaLibrary=!1,0===$("[lens-collection-action]").length&&a.save(n.collection)})));var c=e.$on("collectionAction",(function(e,t){r.collectionAction=t}));n.$on("$destroy",(function(){c(),l.forEach((function(e){return e()}))})),n.collection.user&&s();var u=a.getAdditionalMetadata(n.collection);u&&(n.item=u.item,n.vm.introText=u.introText,s()),a.getIn4mMetadata(n.collection).then((function(e){e&&(n.item=e.item,n.vm.introText=e.introText,s())}))}}}]))},function(e,t){e.exports='<div class="collection-details">\n\n    \x3c!-- Collection Header --\x3e\n    <div class="collection-header" ng-class="{\'collection-header-collapsed\': $root.hideQueryDetails}">\n        <div class="collection-header-inner">\n            <div class="logo collection-header-img" ng-class="{reveal: vm.reveal, \'is-upload-cloud\': collection.user.id === $root.user.id}" ng-if="::collection.displayAvatar">\n                <a ng-click="$root.showMediaLibrary = true" class="logo--edit" ng-if="collection.user.id === $root.user.id">\n                    <em class="fa fa-cloud-upload"></em>\n                </a>\n                <span ng-if="item" ng-click="item.type === \'institution\' ? vm.lightbox = !vm.lightbox : null" style="background: white; display: inline-block; cursor: pointer;">\n                    <img ng-if="!item.user.metadata.logoUrl" ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="user">\n                    <img ng-if="item.user.metadata.logoUrl" ng-src="{{item.user.metadata.logoUrl}}" alt="user">\n                </span>\n                <span ng-if="collection.avatar">\n                    <img ng-src="{{$root.imageUploadUrl(collection.avatar.key)}}" alt="">\n                </span>\n                <span ng-if="!collection.avatar">\n                    <img ng-if="collection.user.profilePictureKey" lens-avatar-fallback ng-src="{{$root.userProfilePictureUrl(collection.user.profilePictureKey)}}" alt="user">\n                    <img ng-if="!collection.user.profilePictureKey" ng-src="{{::$root.assetLocation}}/img/missing-user.png" alt="user">\n                </span>\n            </div>\n            \n            <div class="collection-header-details">\n                <h1>{{::collection.title}}</h1>\n                <ul class="list-unstyled list-collection-header">\n                    <li>\n                        <b>\n                            <em class="far fa-user col-feat"></em> \n                            {{\'common.curator\' | message}}:\n                        </b>\n                        \n                        <a ui-sref="userProfile.collections({userId: item.user.id || collection.user.id})" class="text-link" style="color: white;" ng-if="vm.hasProfile">\n                            {{::(item ? item.user.displayName : collection.user.displayName) || \'Anonymous\'}}\n                        </a>\n                        <span ng-if="!vm.hasProfile">\n                            {{::(item ? item.user.displayName : collection.user.displayName) || \'Anonymous\'}}\n                        </span>\n                       \n                    </li>\n                    <li ng-if="collection.user.metadata.GRID">\n                    <li ng-if="collection.user.metadata.GRID">\n                        <div class="lens-university-grid-container">\n                            <a ng-href="https://grid.ac/institutes/{{collection.user.metadata.GRID}}">\n                                <img alt="GRID ID" class="grid-id-logo" ng-src="{{::$root.assetLocation}}/fonts/svg-icons/grid-id.svg">\n                                {{collection.user.metadata.GRID}}\n                            </a>\n                        </div>\n                    </li>\n                    <li>\n                        <b>\n                            <span ng-if="collection.hasLinkedSavedQueries">\n                                <em class="far fa-repeat-alt col-feat"></em> \n                                Dynamic\n                            </span>\n                            <em ng-if="!collection.hasLinkedSavedQueries" class="far fa-folder-open col-feat"></em> \n                            Collection:\n                        </b>\n                        \n                        {{collection.itemCount | customNumber}}\n                        {{\'user.collections.type.\' + collection.type | message}}\n                        ({{::\'user.sharing.\' + collection.access | message}})\n                        \n                    </li>\n                    \x3c!--<li>\n                        <em>Access:</em>\n                        {{::\'user.sharing.\' + collection.access | message}}\n                    </li>--\x3e\n                    <li>\n                        <b>\n                            <em class="far fa-calendar-alt col-feat"></em> \n                            {{\'common.dateCreated\' | message}}:\n                        </b>\n                        {{::collection.created | date}}\n                        <em style="margin-left: 5px;">{{\'common.Updated\' | message}}:</em>\n                            {{::collection.updated | date}}\n                    </li>\n                </ul>\n            </div>\n            \n            <div class="collection-header-actions">\n                <div class="report-header-primary-btns">\n                    <label ng-if="collection.user.id === $root.user.id" class="dd-dropdown workarea-dd-dropdown collection-header-controls">\n                        <div class="dd-button dd-button--icon">\n                            <em class="fas fa-ellipsis-h" style="padding-right: 3px;"></em>\n                            Manage\n                        </div> \n                        <input type="checkbox" class="dd-input">\n                        <ul class="dd-menu" ng-include="\'modify-collection-buttons\'"></ul>\n                    </label>\n                </div>\n                \n                <div class="report-header-secondary-btns">\n                    <a class="report-only btn btn-xxs exit-presentation-mode" ng-click="$parent.$ctrl.editDashboard()">\n                        <em class="fa fa-times-circle col-error"></em>\n                        {{::\'presentation.mode.exit\' | message}}\n                    </a>\n                    \n                    <div class="edit-toggle" ng-if="!$root.searchEmbed">\n                        <div class="round-edge"></div>\n                        <div class="round-edge-cover"></div>\n                        <a class="query-details-toggle btn btn-xxs" ng-click="$root.toggleQueryDetails()">\n                            <em class="far" ng-class="{\'fa-chevron-circle-down\': $root.hideQueryDetails, \'fa-chevron-circle-up col-error\': !$root.hideQueryDetails}"></em>\n                            <div ng-if="$root.hideQueryDetails">{{::\'query.details.show\' | message}}</div>\n                            <div ng-if="!$root.hideQueryDetails">{{::\'query.details.hide\' | message}}</div>\n                        </a>\n                        <a class="query-details-toggle btn btn-xxs" ng-click="$root.state.collectionDescription = !$root.state.collectionDescription">\n                            <em class="far" ng-class="{\'fa-chevron-circle-down\': $root.state.collectionDescription, \'fa-chevron-circle-up col-error\': !$root.state.collectionDescription}"></em>\n                            {{$root.state.collectionDescription ? \'Show\' : \'Hide\'}} Description\n                        </a>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    \x3c!-- Collection Details --\x3e\n    <div class="tab-item collection-description" ng-class="{\'no-details\': $root.state.collectionDescription}">\n        <div class="collection-description-txt" ng-hide="$root.state.collectionDescription">\n            <strong ng-if="!collection.user.accountType === \'INSTITUTIONAL\'">\n                {{::\'user.collections.description\' | message}}:\n            </strong>\n            <p ng-if="vm.introText">\n                {{vm.introText}}\n            </p>\n            <div class="panel panel-default collection-description--markup" ng-if="::collection.description && collection.user.accountType === \'INSTITUTIONAL\'">\n                <div class="panel-body" ng-bind-html="render(collection.description) | unsafe"></div>\n            </div>\n            <p ng-if="::collection.description && collection.user.accountType !== \'INSTITUTIONAL\'">\n                {{::collection.description}}\n            </p>\n            <p ng-if="item.slug" ng-include="$root.institutionDataLocation + \'/public/descriptions/\' + item.slug + \'.html\'"></p>\n            <p ng-if="!collection.description && !item.slug && !vm.introText">\n                {{::\'common.alert.no.description\' | message}}\n            </p>\n        </div>\n        \n        <div ng-if="$parent.$ctrl.state.dashboard && $parent.$ctrl.state.view === \'analysis\'" ng-hide="$root.hideQueryDetails " class="collection--linked-saved-queries" ng-class="{\'no-description\': $root.state.collectionDescription}">\n            <b>Dashboard:</b>\n            {{$parent.$parent.$ctrl.state.dashboard.label}}\n        </div>\n\n        <div ng-if="::collection.hasLinkedSavedQueries && collection.savedQueries.length" ng-hide="$root.hideQueryDetails " class="collection--linked-saved-queries" ng-class="{\'no-description\': $root.state.collectionDescription}">\n            <b>Linked Queries:</b>\n            <span ng-repeat="item in collection.savedQueries">\n                <a ui-sref="search.results({queryId: item.queryId, type: collection.type === \'SCHOLARLY_WORK\' ? \'scholar\' : \'patent\'})" ui-sref-opts="{inherit: false}">\n                    {{::item.title}}\n                </a>\n                <em ng-if="::!$last">,</em>\n            </span>\n        </div>\n            \n    </div>\n\n    \x3c!-- Add / Edit / Publish / Import / Export Collection --\x3e\n    <div lens-modal size="vm.collectionAction === \'delete\' ? \'sm\': 800" visible="vm.collectionAction" ng-if="vm.collectionAction">\n        <div lens-collection-action\n             ng-if="collection"\n             collection="collection"\n             action="vm.collectionAction"\n        ></div>\n    </div>\n\n    \x3c!-- In4M Modal --\x3e\n    <div lens-modal visible="vm.lightbox">\n        <div lens-institution-details visible="vm.lightbox" item="item"></div>\n    </div>\n</div>\n\n\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensCollectionForm",[].concat(["SavedQueryResource","$http","$rootScope"],[function(e,t,i){return{template:n(459),scope:{collection:"=",submit:"<",submitting:"<",close:"<",selectType:"<",queryId:"<"},link:function(t){var n=t.vm={avatar:null},a=e.query(),r=function(){var e=t.collection&&"PATENT"===t.collection.type?"PATENT":"SCHOLARLY";n.savedQueries=a.filter((function(t){return t.queryType===e}))};n.loadingSavedQueries=!0,a.$promise.then((function(){r(),n.loadingSavedQueries=!1})),t.changeAutoupdate=function(){t.collection.moreQueries||(t.collection.selectedSavedQuery={})},t.deleteAvatar=function(){console.log(t.collection.avatar),t.collection.avatar&&t.collection.avatar.id&&(t.collection.avatar=null,t.collection.avatarId=null,n.avatar=null)},t.uploading=function(){n.uploading=!0},t.uploaded=function(e){n.uploading=!1,t.collection.avatar=e,t.collection.avatarId=e.id};var o=[];o.push(i.$on("MEDIA_LIBRARY_SELECT",(function(e,a){n.avatar=a,t.collection.avatar=a,t.collection.avatarId=a.id,i.showMediaLibrary=!1}))),o.push(t.$watch("vm.avatar",(function(e){e&&(t.collection.avatarId=e.id)}))),o.push(t.$watch("collection",(function(e,t){t&&e&&t.type!==e.type&&r()}),!0)),t.$on("$destroy",(function(){o.forEach((function(e){return e()}))}))}}}]))},function(e,t){e.exports='<form ng-submit="submit(collection)">\n    <div class="collections-edit--grid">\n        \n        \n        <div class="collections-edit--grid--main-details">\n            <label ng-if="selectType">\n                Type\n            </label>\n            <label class="select" ng-if="selectType">\n                <select ng-model="collection.type">\n                    <option value="PATENT">Patent</option>\n                    <option value="SCHOLARLY_WORK">Scholar</option>\n                </select>\n                <i></i>\n            </label>\n            \n            <label class="input">\n                Collection Title\n                <input type="text" ng-model="collection.title" required lens-auto-focus>\n            </label>\n            <label class="textarea">\n                <a href="https://commonmark.org/help/" target="_blank" class="pull-right text-small" ng-if="::collection.description && collection.user.accountType === \'INSTITUTIONAL\'">\n                    <em class="far fa-info-circle col-sec"></em>\n                    Formatting help\n                </a>\n                Description\n                <textarea ng-model="collection.description"></textarea>\n            </label>\n            \n            \n            <div>\n                <label class="checkbox">\n                    <input type="checkbox" ng-model="collection.displayAvatar">\n                    <i></i>\n                    <b>Display Collection Avatar</b>\n                    <em class="far fa-info-circle col-sec" tooltip-title="This will display your profile avatar in the collection header. Alternatively you can upload another image to represent this collection."></em>\n                </label>\n                \n                <div class="avatar-upload-container" ng-if="collection.displayAvatar" style="margin-top: 8px;">\n                    <div class="avatar-upload-container--inner">\n                        \x3c!-- Existing Avatar: --\x3e\n                        <div class="avatar-upload—image" ng-if="collection.avatar.key && collection.displayAvatar">\n                            <img ng-src="{{$root.imageUploadUrl(collection.avatar.key)}}">\n                            <span class="col-error delete-link" ng-click="deleteAvatar()" tooltip-title="Delete">\n                                <em class="fa fa-minus-circle"></em>\n                            </span>\n                        </div>\n                        \n                        <div class="avatar-upload--dropzone"\n                             lens-image-upload\n                             on-upload="uploaded"\n                             on-upload-start="uploading"\n                             key="vm.avatar"\n                        ></div>\n                    </div>\n                </div>\n            \n                <p class="text-small col-meta" ng-if="collection.displayAvatar">Supported file types: .png, .jpg and can be resized and cropped after upload. By sharing this data with Lens.org and the public, you acknowledge that you are authorized to do so.</p>\n            </div>\n            \n            \n            <div ng-if="collection.id || !queryId" class="collections-edit--make-dynamic">\n                <label class="checkbox" style="margin: 12px 0 5px 0;">\n                    <input type="checkbox" ng-model="collection.moreQueries" ng-change="changeAutoupdate()">\n                    <i></i>\n                    <b>Make Dynamic Collection</b>\n                    <em class="far fa-info-circle col-sec" tooltip-title="This Dynamic Collection is automatically updated from your linked Saved Queries when new items are added to our search index"></em>\n                </label>\n            </div>\n            <div ng-if="queryId">\n                <label class="checkbox" style="margin: 12px 0 5px 0;">\n                    <input type="checkbox" ng-model="collection.autoupdate" ng-change="collection.moreQueries = collection.autoupdate ? collection.moreQueries : false">\n                    <i></i>\n                    <b>Make Dynamic Collection</b>\n                    <em class="far fa-info-circle col-sec" tooltip-title="This Dynamic Collection is automatically updated from your current query when new items are added to our search index"></em>\n                </label>\n\n                <label class="checkbox" ng-if="collection.autoupdate" style="margin-bottom: 5px;" hidden>\n                    <input type="checkbox" ng-model="collection.moreQueries">\n                    <i></i>\n                    <b>Include Saved Queries in collection</b>\n                    <em class="far fa-info-circle col-sec" tooltip-title="Include additional saved queries to this dynamic collection, when new items are added to our search index your selected saved queries will automatically update this dynamic collection."></em>\n                </label>\n            </div>\n                        \n        </div>\n        \n        \n        <div class="collections-edit--grid--sidebar">\n            <div class="collection-new-features">\n                \n                \x3c!-- Dynamic Collection --\x3e\n                <div ng-if="collection.autoupdate || collection.moreQueries">\n                    <div style="padding-bottom: 10px;" class="collection-new-features-heading">\n                        <strong>Dynamic Collections</strong>\n                        <div class="badge">New</div> \n                    </div>\n                    \n                    <p class="text-small col-meta">\n                        Dynamic collections are automatically updated when new items are added to our search index. Stay up to date with emails and notifications then choose to accept or reject new items into your collection. \n                    </p>\n                    \n                    <label hidden class="toggle">\n                        <input type="checkbox" ng-model="collection.moreQueries">\n                        <i></i>\n                        Include Saved Queries\n                        <em class="far fa-info-circle col-sec" tooltip-title="You can include additional saved queries to this dynamic collection."></em>\n                    </label>\n                    \n                    <div ng-if="!collection.moreQueries" class="dynamic-collections--not-applied">\n                        <ul class="list-unstyled">\n                            <li><em class="fa fa-check col-ter"></em> Auto update from this query.</li>\n                            <li><em class="fa fa-check col-ter"></em> Receive alert notifications.</li>\n                            <li><em class="fa fa-check col-ter"></em> Review new items when available.</li>\n                            <li><em class="fa fa-check col-ter"></em> Always up to date.</li>\n                        </ul>\n                    </div>\n                    \n                    <div ng-if="collection.moreQueries">\n                        <div class="alert alert-danger" style="margin: 10px 0 0 0;" ng-if="vm.savedQueries.length === 0 && !vm.loadingSavedQueries">\n                            <em class="far fa-info-circle"></em>\n                            No Saved Queries\n                        </div>\n                        <label class="input input--lookup-queries" ng-if="vm.savedQueries.length">\n                            <input type="text" ng-model="vm.savedQueryFilter.title" placeholder="Filter Saved Queries">\n                            <em class="far fa-search icon_append"></em>\n                        </label>\n                        <div class="window-scroll" style="max-height: 240px;" ng-if="vm.savedQueries.length">\n                            <label class="checkbox window-scroll--item" ng-repeat="item in vm.savedQueries | filter:vm.savedQueryFilter">\n                                <div class="window-scroll--check">\n                                    <input type="checkbox" ng-model="collection.selectedSavedQuery[item.id]" ng-disabled="!item.notificationsEnabled">\n                                    <i></i>\n                                </div>\n                                <div class="window-scroll--label">\n                                    <a ui-sref="search.results({queryId: item.queryId, type: item.queryType === \'SCHOLARLY_WORK\' ? \'scholar\' : \'patent\'})" class="window-scroll--label-title">\n                                        {{item.title}}\n                                    </a>\n                                    <div class="text-small window-scroll--label-meta" ng-class="{\'is-scholar\': item.queryType === \'SCHOLARLY\', \'is-patent\': item.queryType !== \'SCHOLARLY\'}">\n                                        {{item.queryType | titleCase}} - \n                                        {{item.created | date}}\n                                    </div>\n                                    <div class="txt-danger text-small col-meta" ng-if="!item.notificationsEnabled">\n                                        To link this saved query,\n                                        <a style="color: inherit;" class="text-link" ui-sref="workArea.queries.savedQueries">enable notifications</a>\n                                        on it first.\n                                    </div>\n                                </div>\n                            </label>\n                        </div>\n                    </div>\n                \n                </div>\n                \n                \x3c!-- Static Collection --\x3e\n                <div class="static-collection-marketing" ng-if="!collection.autoupdate && !collection.moreQueries">\n                    <div style="padding-bottom: 10px;">\n                        <strong>Static Collections</strong>\n                    </div>\n                    \n                    <p class="text-small col-meta">\n                        Collections are a saved grouping of patents or scholarly works. Any items in a search result can be manually added or removed from a collection. Give your collection a name and description, import/export items or choose your sharing settings.\n                    </p>\n                    \n                    <ul class="list-unstyled">\n                        <li><em class="fa fa-check col-ter"></em> Manually curate items.</li>\n                        <li><em class="fa fa-check col-ter"></em> Add notes to annotate collections.</li>\n                        <li><em class="fa fa-check col-ter"></em> Private or public publishing.</li>\n                        <li><em class="fa fa-times col-error"></em> Receive alert notifications.</li>\n                        <li><em class="fa fa-times col-error"></em> Automatically updated.</li>\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n        \n        <div class="collections-edit--grid--main-publish">\n            <label class="collection-modal-sharing-label" for="">{{::\'user.sharing.who\' | message}}</label>\n            <div class="collection-modal-sharing-panel panel panel-default">\n                <div class="panel-body">\n                    <div ng-include="\'publish-collection-options\'"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div style="margin-top: 15px;">\n        <span class="btn btn-sm btn-danger-txt" ng-click="close()">\n            {{::\'common.action.cancel\' | message}}\n        </span>\n        <button class="btn btn-sm btn-pri" ng-disabled="submitting || vm.uploading" ng-class="{\'btn-submitting\': submitting || vm.uploading}">\n            <em class="fa fa-sync fa-spin" ng-if="submitting"></em>\n            {{::\'common.action.save\' | message}}\n        </button>\n    </div>\n</form>\n\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(244);r.default.directive("lensCollectionHistory",[].concat(["CollectionService"],[function(e){return{template:n(158),scope:{collectionId:"<",eventId:"<",type:"<"},link:function(t,n){var i=t.vm={actionFilter:{},loading:!0,orderBy:"created",actionMap:o.collectionActionMap,hasAction:{}},a=function(){var e=i.items.filter((function(e){var t=i.actionFilter;return 0===_.keys(t).filter((function(e){return t[e]})).length||t[e.action]}));i.grouped=_.groupBy(e,(function(e){return window.moment(e.created).format("MMMM Do YYYY")}))};t.updateFilter=function(){a()},e.history(t.collectionId).then((function(e){e.forEach((function(e){i.hasAction[e.action]=!0})),i.items=e,i.loading=!1,a()}))}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensCollectionList",[].concat(["$http","CollectionService"],[function(e,t){return{template:n(159),replace:!0,scope:{items:"<",lensId:"<",userId:"<",loading:"<"},link:function(n){n.limit=50,n.load=function(){n.lensId?e.get("/lens/service/collection/viewable/"+n.lensId).then((function(e){n.items=e.data})).catch((function(e){console.error(e)})):n.userId&&e.get("/lens/service/collection/viewable?userId="+n.userId).then((function(e){n.items=e.data})).catch((function(e){console.error(e)}))},n.increaseLimit=function(){n.limit+=50},t.on("REFRESH_COLLECTIONS",n.load),n.load()}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensCollectionListItem",[].concat(["$http","CollectionService","SettingsService"],[function(e,t,i){return{template:n(160),replace:!0,scope:{collection:"<",isHeading:"="},link:function(n){if(n.collection){n.vm={},e({url:"/lens/service/user/"+n.collection.user.id+"/linked-identities",cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){n.collection.user.linkedAccounts=e.data})),n.favourites={},n.MAX_DESCRIPTION_LENGTH=200,n.collection.showFullDescription=n.collection.description&&n.collection.description.length<n.MAX_DESCRIPTION_LENGTH,i.get("favourites.collections").then((function(e){n.favourites=e||{}})),n.favourite=function(e){n.favourites[e]=!n.favourites[e],i.set("favourites.collections["+e+"]",n.favourites[e])},n.starIcon=function(e){return{"fa-star col-sec":!!n.favourites&&n.favourites[e],"fa-star":!n.favourites||!n.favourites[e]}},n.collection.user.type="personal";var a=t.getAdditionalMetadata(n.collection);a&&(n.item=a.item,n.vm.introText=a.introText),t.getIn4mMetadata(n.collection).then((function(e){e&&(n.item=e.item,n.vm.introText=e.introText)}))}else console.warn("abort")}}}]))},function(e,t,n){"use strict";var i=l(n(464)),a=l(n(465)),r=l(n(29)),o=n(9),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={patent:"count,has_title,has_abstract,has_claim,has_description,has_full_text,has_inpadoc,has_docdb,has_applicant,has_owner,has_inventor,has_agent,has_sequence,Simple Families,Extended Families",scholar:"count,Works Cited by Patents,Works Cited by Scholarly,Citing Patents,Patent Citations,Scholarly Citations,has_abstract,has_affiliation,has_chemical,has_clinical_trial,has_field_of_study,has_fulltext,has_funding,has_keyword,has_mesh_term,is_open_access,is_referenced_by_patent,is_referenced_by_scholarly"};s.default.directive("lensCoverage",[].concat([],[function(){return{template:n(466),scope:{type:"<"},link:function(e,t){var n=e.vm={loading:!0,metric:"count",type:e.type,metrics:u[e.type].split(","),view:null,data:[],fieldsMap:o.fieldsMap,cannedMetrics:{},yearFilter:!0};e.getPercent=function(e){var t=n.cannedMetrics.count;return Math.round(e/t*100)},e.changeMetric=function(){var t="scholar"===n.type?a.default:i.default;n.cannedMetrics=n.data.filter((function(e){return"ALL"===e.jurisdiction})).pop(),console.log(n.cannedMetrics);var s=n.data.filter((function(e){return"ALL"!==e.jurisdiction})).map((function(t){return"scholar"===e.type?c({publication_type:t.publication_type,year:t.year},n.metric,t[n.metric]):c({jurisdiction:r.default.jurisdiction(t.jurisdiction),legal_status:t.legal_status.toTitleCase(),type:r.default.type(t.type||""),year:t.year},n.metric,t[n.metric])}));n.yearFilter&&(s=s.filter((function(e){return e.year>=1920}))),n.spec=t({metric:n.metric,data:s,fieldsMap:o.fieldsMap})};var s=window.UI_CONFIG.assetLocation+"/"+n.type+"-coverage.csv";fetch(s).then((function(e){return e.text()})).then((function(t){var i=function(e){for(var t=e.split("\n"),n=[],i=t[0].split(","),a=1;a<t.length;a++){for(var r={},o=t[a].split(","),s=0;s<i.length;s++){var l=i[s],c=l.startsWith("has_")||"count"===l?parseInt(o[s]):o[s];r[l]=c}n.push(r)}return n}(t);n.data=i,e.changeMetric(),n.loading=!1,e.$digest()}))}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(150);t.default=function(e){var t=e.metric,n=e.data,a=(e.url,e.fieldsMap),r=window.vegaLegend({title:_.get(a,t+".label")||t||"Patents",legend:!1}),o=[{field:t||"count",type:"quantitative",aggregate:"sum",format:","}];return{data:{values:n},width:1e3,transform:[{filter:{selection:"jurisdiction"}},{filter:{selection:"legal_status"}},{filter:{selection:"type"}}],vconcat:[{width:1e3,height:400,mark:{type:"line",point:{cursor:"pointer",size:80}},encoding:{x:{field:"year",type:"temporal"},y:{field:t||"count",type:"quantitative",aggregate:"sum",axis:r,legend:!1},tooltip:[{field:t||"count",type:"quantitative",aggregate:"sum",format:","},{field:"year",type:"temporal"}]},transform:[{filter:{selection:"brush"}}]},{width:1e3,height:100,mark:"bar",encoding:{x:{field:"year",type:"temporal"},y:{field:t||"count",type:"quantitative",aggregate:"sum",axis:r}},selection:{brush:{encodings:["x"],type:"interval"}}},{transform:[{filter:{selection:"brush"}}],hconcat:[{width:300,mark:{type:"bar",cursor:"pointer"},encoding:{x:{field:t||"count",type:"quantitative",aggregate:"sum",axis:r},y:{field:"legal_status",type:"nominal",sort:"-x",axis:window.vegaLegend({title:"Legal Status"})},color:{field:"legal_status",legend:!1,scale:i.legalStatusColourScale,axis:window.vegaLegend({title:"Legal Status"})},tooltip:o.concat({field:"legal_status"})},selection:{legal_status:{encodings:["y"],type:"point"}}},{width:500,mark:{type:"bar",cursor:"pointer"},encoding:{x:{field:t||"count",type:"quantitative",aggregate:"sum",axis:r},y:{field:"type",type:"nominal",sort:"-x",axis:window.vegaLegend({title:"Document Type"})},tooltip:o.concat({field:"type"})},selection:{type:{encodings:["y"],type:"point"}}}]},{width:1e3,mark:{type:"bar",cursor:"pointer"},transform:[{filter:{selection:"brush"}}],encoding:{y:{field:t||"count",type:"quantitative",aggregate:"sum",axis:r,scale:{type:"sqrt"}},x:{field:"jurisdiction",type:"nominal",sort:"-y",axis:window.vegaLegend({title:"Jurisdiction"})},tooltip:o.concat({field:"jurisdiction",type:"nominal"})},selection:{jurisdiction:{encodings:["x"],type:"point"}}}]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.metric,n=e.data,i=(e.url,e.fieldsMap),a=window.vegaLegend({title:_.get(i,t+".label")||t||"Scholarly Works"});return{data:{values:n},width:1e3,transform:[{filter:{selection:"point"}}],vconcat:[{width:1e3,height:400,mark:{type:"line",point:{cursor:"pointer",size:80}},encoding:{x:{field:"year",type:"temporal"},y:{field:t||"count",type:"quantitative",aggregate:"sum",axis:a},tooltip:[{field:t||"count",type:"quantitative",aggregate:"sum",format:","},{field:"year",type:"temporal"}]},transform:[{filter:{selection:"brush"}}]},{width:1e3,height:100,mark:"bar",encoding:{x:{field:"year",type:"temporal"},y:{field:t||"count",type:"quantitative",aggregate:"sum",axis:a}},selection:{brush:{encodings:["x"],type:"interval"}}},{transform:[{filter:{selection:"brush"}}],hconcat:[{width:500,mark:{type:"bar",cursor:"pointer"},encoding:{x:{field:t||"count",type:"quantitative",aggregate:"sum",axis:a},y:{field:"publication_type",type:"nominal",sort:"-x",axis:window.vegaLegend({title:"Document Type"})}},selection:{point:{encodings:["y"],type:"point"}}}]}]}}},function(e,t){e.exports='<div class="island">\n    <h1>\n        {{vm.type === \'scholar\' ? \'Scholar Data Coverage\' : \'Patent Data Coverage\'}}\n        <small>\n            <em class="far fa-info-circle col-sec" tooltip-title="" tooltip-content-selector="#coverage-help"></em>\n        </small>\n    </h1>\n\n    <p class="lead">This page provides an overview of the coverage of The Lens data and allows you to filter by doc type, jurisdiction and legal status to attempt to identify trends in the data</p>\n\n    <div hidden>\n        <div id="coverage-help">\n            <ul>\n                <li>Click a series to add a filter.</li>\n                <li>Double click to clear.</li>\n                <li>Click and drag on the small date histogram to select a date range.</li>\n                <li>Please be patient, some filtering takes time to apply</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="pull-right" style="width: 20%">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                Metric\n                <small class="styled-link pull-right" ng-click="vm.metric = \'count\'; changeMetric()" ng-if="vm.metric !== \'count\'">Show All</small>\n            </div>\n            <div class="panel-body">\n                <div ng-repeat="metric in vm.metrics"\n                     ng-init="count = vm.cannedMetrics[metric]"\n                     ng-if="vm.cannedMetrics[metric]"\n                     class="coverage-metric link"\n                     ng-click="vm.metric = metric; changeMetric();"\n                     ng-class="{active: vm.metric === metric}"\n                     >\n                     {{vm.fieldsMap[metric].label || metric}}\n                     <div class="coverage-metric-count" hidden>\n                         {{count | customNumber}}\n                     </div>\n                    <div class="coverage-metric-percent" style="border: 1px solid #ccc;">\n                        <div ng-style="{width: getPercent(count) + \'%\'}" style="background: {{type === \'patent\' ? \'#0099a5\' : \'#2b54b2\'}}; text-align: right;">\n                            {{getPercent(count)}}%\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <form action="">\n            <label class="checkbox">\n              <input type="checkbox" ng-model="vm.yearFilter" ng-change="changeMetric()">\n              <i></i>\n              Display only last 100 years\n            </label>\n        </form>\n    </div>\n\n    <div ng-if="!vm.loading" style="width: 75%;" class="panel panel-default">\n        <div class="panel-heading">\n            <strong style="" ng-if="vm.metric === \'count\'">\n                {{vm.type === \'scholar\' ? \'Scholarly Works\' : \'Patents\'}}\n                <span class="col-meta">\n                    {{vm.cannedMetrics[\'count\'] | customNumber}}\n                </span>\n            </strong>\n            <strong style="" ng-if="vm.metric !== \'count\'">\n                {{vm.fieldsMap[vm.metric].label || vm.metric}}:\n                <span class="col-meta">\n                    {{vm.cannedMetrics[vm.metric] | customNumber}}\n                </span>\n            </strong>\n        </div>\n        <div class="panel-body" style="overflow-x: scroll; padding-right: 100px;">\n            <div lens-vega-chart spec="vm.spec" view="vm.view" auto-resize="true"></div>\n        </div>\n    </div>\n\n    <div ng-if="vm.loading">\n        <em class="far fa-spinner fa-spin col-feat"></em>\n        Loading...\n    </div>\n\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(5));r.default.directive("lensCreateCollection",[].concat(["CollectionService","SavedQueryResource","$rootScope","$q","$state"],[function(e,t,i,a,r){return{template:n(468),scope:{collection:"=",lensIds:"<",queryId:"<",selectedAll:"<",selectType:"<",submitting:"=",visible:"="},link:function(n){var s=function(e){console.warn(e),n.submitting=!1;var t=messages.prop("user.collections.create.failed");o.error(t)};n.createNewCollection=function(){var l=n.lensIds||[];n.submitting=!0;var c=n.collection,u=c.selectedSavedQuery,d=c.autoupdate;delete n.collection.selectedSavedQuery;var p=function(e,t){return t.map((function(t){return fetch("/lens/service/query/"+t+"/collections",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({collectionId:e.id})}).then((function(e){return console.log(e),e})).catch((function(e){console.error(e)}))}))};e.create(n.collection).then((function(c){var f=function(){e.clearCache();var t=messages.prop("user.collections.create.success");n.submitting=!1,o.success(t),n.collection=null,i.$broadcast("REFRESH_COLLECTIONS"),_.defer((function(){i.$broadcast("DISMISS_CREATE_COLLECTION"),i.$apply(),"workArea.collections"===i.currentState.name&&r.reload()}))};if(d){var m=new t({notificationsEnabled:!0,queryId:n.queryId,title:"Dynamic Collection Updater: "+c.title,description:"Dynamic Updater for Collection #"+c.id,queryType:"PATENT"===c.type?"PATENT":"SCHOLARLY"});m.$save().then((function(){var e=_.keys(u).filter((function(e){return u[e]})),t=p(c,[m.id].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)));a.when(Promise.all(t))})).catch((function(e){console.error(e),o.error("Failed to create autoupdate query")}))}else if(u){var h=_.keys(u).filter((function(e){return u[e]})),y=p(c,h);a.when(Promise.all(y)).then(f)}var g=function(){u||f()};n.selectedAll?e.addSearchToCollection(c,n.queryId).then(g).catch(s):l.length?e.addItems(c.id,l).then(g).catch(s):d||g()})).catch(s)},n.close=function(){n.collection=null}}}}]))},function(e,t){e.exports='<div class="create-collection">\n    <h3 class="modal-heading">{{::\'user.collections.createNew.title\' | message}}</h3>\n    <p class="alert alert-info">\n        <em class="far fa-info-circle"></em>\n        Limit: {{$root.user.collectionSizeLimits[collection.type] | customNumber}}\n    </p>\n    <div lens-collection-form\n        collection="collection"\n        submit="createNewCollection"\n        submitting="submitting"\n        close="close"\n        query-id="queryId"\n        select-type="selectType"\n    ></div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensDatepicker",[].concat([],[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var a=function(t){i.$setViewValue(t),i.$render(),e.$apply()};t.datepicker({maxDate:new Date,yearRange:"-200:+0",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showButtonPanel:!0,onSelect:function(e){a(e)},onChangeMonthYear:function(e,t){var n=new Date(e,t-1),i=window.moment(n).format("YYYY-MM-DD");$(this).datepicker("setDate",i),a(i)}})}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(84));function r(e){return e&&e.__esModule?e:{default:e}}var o=n(51);o.map((function(e){return e.key}));i.default.directive("lensQuery",(function(){return{scope:{q:"<",result:"<",depth:"<",multiline:"<",queryType:"<"},template:n(471),link:function(e,t){var n=e.queryType||"scholar",i=o.filter((function(e){return e.type.toLowerCase()===(n.toLowerCase()||"scholar")})),r=i.map((function(e){return e.key}));e.validField=function(e){return _.includes(r,e)},e.formatOperator=function(e){return"<implicit>"===e?"AND":e},e.formatTerm=function(e){return e.indexOf(" ")>=0?'"'+e+'"':e},e.formatField=function(e){var t=i.filter((function(t){return t.key===e})).pop();return t?t.label:e};var s=function(){if(e.q)try{if(e.containsNot=e.q.indexOf("NOT ")>=0,e.containsNot)throw new Error("Query string contains NOT clause, refusing to display");e.showQuery=!0,e.result=a.default.parse(e.q)}catch(t){e.showQuery=!1}};e.$watch("q",s),s()}}}))},function(e,t){e.exports='<span>\n    <span ng-if="result">\n        <span class="field" ng-if="result.field && result.field !== \'<implicit>\'" ng-class="{invalid: !validField(result.field)}">{{formatField(result.field)}}:</span>\n        <span class="paren" ng-if="depth > 1">(</span>\n        <span class="left">\n            <span ng-if="result.left.left">\n                <span lens-query result="result.left" depth="depth + 1" query-type="queryType"></span>\n            </span>\n            <span ng-if="!result.left.operator">\n                <span class="field" ng-if="result.left.field && !result.left.left && result.left.field !== \'<implicit>\'" ng-class="{invalid: !validField(result.left.field)}">{{formatField(result.left.field)}}:</span>\n                <span ng-if="result.left.term_min">\n                    [<span class="term">{{result.left.term_min}}</span> <span class="operator">TO</span> <span class="term">{{result.left.term_max}}</span>]\n                </span>\n                <span ng-if="result.left.term">\n                    {{result.left.prefix}}<span class="term">{{formatTerm(result.left.term)}}</span>\n                </span>\n                <span ng-if="result.left.similarity">~</span>\n                <span ng-if="result.left.proximity">\n                    ~{{result.left.proximity}}\n                </span>\n            </span>\n        </span>\n        <span ng-if="result.operator" class="operator"><span class="lens-query-line"></span>{{formatOperator(result.operator)}}</span>\n        <span class="right">\n            <span ng-if="result.right.left">\n                <span lens-query result="result.right" depth="depth + 1" query-type="queryType"></span>\n            </span>\n            <span ng-if="!result.right.operator">\n                <span class="field" ng-if="result.right.field && !result.right.right && result.right.field !== \'<implicit>\' && result.right.left.field !== \'<implicit>\'" ng-class="{invalid: !validField(result.right.field)}">{{formatField(result.right.field)}}:</span>\n                <span ng-if="result.right.term_min">\n                    [<span class="term">{{result.right.term_min}}</span> <span class="operator">TO</span> <span class="term">{{result.right.term_max}}</span>]\n                </span>\n                <span ng-if="result.right.term">\n                    {{result.right.prefix}}<span class="term">{{formatTerm(result.right.term)}}</span>\n                </span>\n                <span ng-if="result.right.similarity">~</span>\n                <span ng-if="result.right.proximity">\n                    ~{{result.right.proximity}}\n                </span>\n            </span>\n        </span>\n        <span class="paren" ng-if="depth > 1">)</span>\n    </span>\n    \x3c!--\n    <span ng-if="depth === 1 && containsNot" style="opacity: 0.5;">\n        <em class="fa fa-exclamation-triangle" tooltip-title="Syntax highlighting can not be applied to this query due to a known issue in the parser library."></em>\n    </span>\n    --\x3e\n</span>\n<span ng-if="!showQuery">{{q}}</span>\n\x3c!-- <pre ng-if="depth === 1">{{result | json}}</pre> --\x3e\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensExplorerWindow",["$window",function(e){return{scope:!1,link:function(t,n){var i=function(e){27===e.keyCode&&(a(),t.$digest())},a=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.visible=!1,$("body").off("keyup",i),$("body").toggleClass("exp-window-active",!1),n&&e.history.replaceState({},"","#")};n.draggable({handle:".draggable-handle",containment:"document"}),e.innerWidth>768&&n.css({resize:"both",overflow:"hidden"}),t.visible=!1,t.show=function(){t.visible=!0,$("body").on("keyup",i),$("body").toggleClass("exp-window-active",!0)},t.hide=a}}}])},function(e,t,n){"use strict";var i=o(n(0)),a=n(235),r=o(n(52));function o(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensExportToCsv",[function(){return{scope:{items:"<",filename:"<"},link:function(e,t){t.on("click",(function(){var t=e.items.map((function(e){return delete e.params,delete e.user,delete e.$$hashKey,e})),n=(0,a.jsonToCsv)(t),i=new Blob([n],{type:"text/plain;charset=utf-8"});r.default.saveAs(i,(e.filename||"data")+".csv")}))}}}])},function(e,t,n){"use strict";var i=s(n(0)),a=s(n(26)),r=n(78),o=s(n(245));function s(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensFamilyMap",[].concat(["PatentService"],[function(e){return{template:n(475),scope:{familyType:"<",familyId:"<",patent:"<"},link:function(t){var n=t.vm={rawData:{},counts:{},tooltipData:{},jurisdictionFacets:[]},i={q:"family."+t.familyType+".id:"+t.familyId};e.facets(i,{jurisdiction:r.patentFilterAggs.jurisdiction}).then((function(e){n.jurisdictionFacets=e.jurisdiction,e.jurisdiction.forEach((function(e){var t=e.key,i=e.value,r=a.default.country(t);r&&(n.rawData["Individual jurisdictions"]||(n.rawData["Individual jurisdictions"]={total:0,countries:{},totalCountries:0}),n.rawData["Individual jurisdictions"].total+=i,n.rawData["Individual jurisdictions"].countries[r.name]=i,n.rawData["Individual jurisdictions"].totalCountries++);var o=window.jur_mapping[t];o&&o.countries&&(n.rawData[o.name]={total:i,countries:{}},o.countries.forEach((function(e){var t=a.default.country(e);t&&(n.rawData[o.name].countries[t.name]=i)})))})),n.selectedGroup=_.keys(n.rawData)[0],t.selectGroup()})),t.selectGroup=function(e){n.counts=n.rawData[n.selectedGroup].countries},t.onClickCountry=function(e){var i=(0,o.default)(e.name),a={};n.jurisdictionFacets.forEach((function(t){var n=t.key,r=t.value,o=n;i===o&&(a[o]={code:o,name:e.name,count:r});var s=window.jur_mapping[o];s&&s.countries&&s.countries.forEach((function(e){e===i&&(a[s.name]={code:o,name:s.name,count:r})}))})),n.clickedCountry={countryCode:i,countryName:e.name,jurisdictions:a},t.$digest()}}}}]))},function(e,t){e.exports='<div class="family-map">\n    <div lens-world-map\n         ng-if="vm.counts"\n         counts="vm.counts"\n         world-map-markers="[]"\n         country-tooltip="false"\n         on-click-country="onClickCountry"\n         tooltip-data="vm.tooltipData"\n         is-family="true"\n    ></div>\n    <form class="family-map-legend">\n        <label class="radio" ng-repeat="(k, v) in vm.rawData">\n            <input type="radio" name="jurGroup" ng-model="vm.selectedGroup" ng-value="k" ng-change="selectGroup()">\n            <i></i>\n            <strong>{{k}}</strong>\n            <span>- {{v.total}} documents</span>\n            <span ng-if="k === \'Individual jurisdictions\'"> in {{v.totalCountries}} countries</span>\n        </label>\n    </form>\n    <div class="family-map-action"\n        ng-if="vm.clickedCountry && vm.clickedCountry.jurisdictions"\n    >\n        <em class="fa fa-times link pull-right col-meta" ng-click="vm.clickedCountry = null"></em>\n        <h4>\n            <span lens-flag country="vm.clickedCountry.countryCode"></span>\n            {{vm.clickedCountry.countryName}}\n        </h4>\n        <ul>\n            <li ng-repeat="(name, jurisdiction) in vm.clickedCountry.jurisdictions">\n                <a ui-sref="search.results({type: \'patent\', [familyType === \'simple\' ? \'familyId\' : \'extendedFamilyOf\']: patent.record_lens_id, \'j.must\': jurisdiction.code})">\n                    View {{::jurisdiction.count}} documents in {{::jurisdiction.name}}\n                </a>\n            </li>\n        </ul>\n        \x3c!-- <pre>{{vm.clickedCountry | json}}</pre> --\x3e\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("fauxSelect",[function(){return{link:function(e,t){t.on("mousedown",(function(e){e.preventDefault(),this.blur(),window.focus()}))}}}])},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensFavourites",[].concat(["SettingsService"],[function(e){return{template:n(478),scope:{type:"<"},link:function(t){var n=t.vm={type:t.type,items:[],loading:!1,settings:e.local()||null};e.fetch().then((function(e){n.loading=!1;var t=e.favourites?e.favourites[n.type]:[];n.items=_.keys(t).filter((function(e){return t[e]}))}))}}}]))},function(e,t){e.exports="<h2>{{'common.favourite' | message}} {{vm.type}}</h2>\n\n<div ng-repeat=\"item in vm.items\">\n    {{::item}}\n</div>\n"},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensFeaturedPatentCarousel",[function(){return{link:function(e,t,n){t.hide(),setTimeout((function(){var n=$(t);n.owlCarousel({animateOut:"fadeOutDown",animateIn:"fadeInDown",items:1,nav:!0,navText:["<em class='fal fa-angle-left'></em>","<em class='fal fa-angle-right'></em>"],navContainer:".patents-custom-nav",dots:!0,loop:!0,singleItem:!0,scrollPerPage:!1,slideSpeed:100,autoHeight:!0,lazyLoad:!0,autoplayTimeout:8e3,autoplayHoverPause:!0,margin:10,autoplay:!0,transitionStyle:!1}),t.find(".owl-next").click((function(e){return n.trigger("next.owl.carousel")})),t.find(".owl-prev").click((function(e){return n.trigger("prev.owl.carousel")})),t.find(".owl-play").click((function(e){return n.trigger("play.owl.carousel",1e3)})),t.find(".owl-stop").click((function(e){return n.trigger("stop.owl.carousel")})),setTimeout((function(){t.show(),e.$digest()}),200)}),200)}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensFeaturedPatents",[].concat(["PatentService","$q","$rootScope"],[function(e,t,i){return{template:n(161),scope:{queryParams:"<"},link:function(n,i){var a=n.vm={loading:!0};n.refresh=function(){a.error=!1,a.loading=!0;var i=e.search(n.queryParams,{_source:e.MOST_FIELDS,size:16,sort:[{date_published:{missing:"_last",order:"desc"}}]});t.when(i).then((function(e){console.log(e),a.loading=!1,a.items=e.hits,a.grouped=_.chunk(a.items,4)})).catch((function(e){a.error=!0,a.loading=!1}))},n.refresh()}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(26));function r(e){return e&&e.__esModule?e:{default:e}}var o=window.UI_CONFIG.assetLocation;i.default.directive("lensFlag",[].concat([],[function(){return{scope:{country:"<",jurisdiction:"<"},link:function(e,t){var n=function(){if(e.country||e.jurisdiction){var n=void 0;if(e.jurisdiction)n={code:e.jurisdiction};else{var i=e.country.toLowerCase();n=a.default.country(i),"United States of America"===e.country&&(n={code:"US"})}n&&n.code?t.html('\n                    <span class="flag '+n.code.toLowerCase()+'">\n                        <img src="'+o+"/img/flags/"+n.code+'.png" alt="'+n.code+'">\n                    </span>\n                '):t.empty()}else t.empty()};e.$watch("country",n),n()}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};r.default.directive("lensFocus",["$rootScope",function(e){return{link:function(t,n,i){e.$on("focus:"+i.lensFocus,(function(){_.defer((function(){return n.focus()}))}))}}}]),r.default.directive("lensAutoFocus",[function(){return{link:function(e,t){t.focus()}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensFulltext",["$http",function(e){return{scope:{lensId:"<"},link:function(t,n){n.html("Loading..."),e.get("/lens/patent/"+t.lensId+"/fulltext/content").then((function(e){n.html(e.data)})).catch((function(e){console.error(e),n.html("Error loading fulltext")}))}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensGreedyNav",[function(){return{link:function(e,t){var n,i,a=t.find("button"),r=t.find(".links"),o=t.find(".hidden-links"),s=0,l=0,c=[];function u(){n=r.width()-10,i=r.children().length,c[i-1]>n?(r.children().last().prependTo(o),i-=1,u()):n>c[i]&&(o.children().first().appendTo(r),i+=1),a.attr("count",s-i),i===s?a.addClass("hidden"):a.removeClass("hidden")}setTimeout((function(){r.children().outerWidth((function(e,t){l+=t,s+=1,c.push(l)}))}),10),$("html").on("click",(function(e){0===$(e.target).closest("nav").length&&!o.hasClass("hidden")&&o.addClass("hidden")})),$(window).resize((function(){u()})),a.on("click",(function(){o.toggleClass("hidden")})),e.$on("UPDATE_GREEDY_NAV",(function(){setTimeout(u,20)})),setTimeout(u,20)}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensGroupings",[function(){return{template:n(486)}}])},function(e,t){e.exports='<div>\n    <h3 class="modal-heading">Custom Groupings</h3>\n    <p>A custom grouping allows you to combine multiple facets values for visualisation. Click and drag items into your groupings to group them together in your chart.</p>\n\n    <p class="alert alert-warning" ng-if="!$root.hideTip[\'grouping-facet-limit\']" style="margin-top: -10px;">\n        <em class="fa pull-right fa-times hide-item"  ng-click="$root.ignoreTip(\'grouping-facet-limit\')"></em>\n        <strong>Please note</strong>\n        <span ng-if="vm.config.restrictToFilterValues">\n            only the values selected in your\n            {{vm.fieldMap[vm.config.primaryFacet].label}}\n            filter will be available here.\n        </span>\n        <span ng-if="!vm.config.restrictToFilterValues">\n            only the top\n            {{vm.config.limit}}\n            {{vm.fieldMap[vm.config.primaryFacet].uniqueCountLabel || vm.fieldMap[vm.config.primaryFacet].label}}\n            will be available here.\n        </span>\n    </p>\n    <div class="row groupings-parent">\n        <div class="col-md-6" style="position: relative;">\n            <strong>Available Facets</strong>\n            <ul class="groupings-list groupings-list-origin" ui-sortable="{connectWith: \'.groupings-list\'}" ng-model="vm.sortables[\'default\']">\n                <li ng-repeat="item in vm.sortables[\'default\']" class="groupings-draggable">\n                    <i class="fal fa-arrows groupings-list--icon"></i>\n                    <span class="groupings-list--label">\n                        <i class="fal fa-magic link auto-fill-group" tooltip-title="Auto Fill" ng-click="autoGroup(item)"></i>\n                        {{::formatter(item) || item}}\n                    </span>\n                </li>\n            </ul>\n\n            <i class="fal fa-exchange col-feat grouping-exchange-icon"></i>\n        </div>\n        <div class="col-md-6">\n            <span class="create-group" ng-click="promptAddNewGrouping()">\n                <i class="fal fa-plus-circle col-pri"></i>\n                Add New\n            </span>\n\n            <strong>\n                <span ng-if="getNumberOfGroupings() < 1 && !vm.addNewGrouping">Create </span>\n                Groupings\n            </strong>\n            <div class="grouping-container">\n                \x3c!--<div ng-if="getNumberOfGroupings() < 1 && !vm.addNewGrouping">\n                    You have not created any groupings yet! To get started, click the Add New grouping button above.\n                </div>--\x3e\n                <form ng-submit="addNewGrouping()"\n                    ng-if="getNumberOfGroupings() < 1 || vm.addNewGrouping"\n                >\n                    <div class="input-group input-group-sm">\n                        <label class="input">\n                          <input ng-model="vm.newGroupingName" class="form-control add-new-grouping-input" placeholder="Start by creating a group" required>\n                        </label>\n                        <span class="input-group-btn">\n                          <button class="btn btn-pri">Create</button>\n                        </span>\n                    </div>\n                </form>\n\n                <div class="group-container" ng-repeat="k in getSortableKeys()" ng-if="k !== \'default\'">\n                    <div class="grouping-header">\n                        <em class="far fa-trash-alt pull-right link btn-danger-txt" ng-click="removeGrouping(k)"></em>\n                        \x3c!-- <em class="far fa-magic pull-right link" ng-click="autoFill(k)" tooltip-title="Auto Fill (using magic)" style="margin-right: 1em;"></em> --\x3e\n                        {{::k}}\n                    </div>\n\n                    <ul class="groupings-list groupings-list-destination" ui-sortable="{connectWith: \'.groupings-list\'}" ng-model="vm.sortables[k]">\n                        <div class="bin-empty-msg" ng-if="vm.sortables[k].length == 0">Drag available facets into group</div>\n                        <li ng-repeat="item in vm.sortables[k]">\n                            <i class="fal fa-arrows groupings-list--icon"></i>\n                            <span class="groupings-list--label">\n                                {{::formatter(item) || item}}\n                            </span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="promptDeleteAll()" ng-show="getSortableKeys().length > 1">\n            {{vm.promptDeleteAll ? \'Really Delete All?\' : \'Delete All\'}}\n        </span>\n\n        <a ng-click="vm.showGroupings = false" class="btn btn-sm">\n            Close\n        </a>\n        <a ng-click="applyGroupings()" class="btn btn-sm btn-pri">\n            Apply Groupings\n        </a>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33));r.default.directive("lensHeatmap",[function(){return{template:n(162),scope:{data:"<",max:"<",domain:"<",autoDomain:"<",onClickItem:"<",k:"<",showInlineClassifications:"<"},link:function(e,t,n){e.orderBy=n.orderBy||"label";var i=_.debounce((function(){if(e._domain=e.domain||[0,3500,37500,75e3,15e4,5e5],e.max){var t=Math.round(e.max/7);e._domain=_.range(0,e.max,t)}else if(e.autoDomain){var n=_.max(e.data.map((function(e){return e.value}))),i=_.min(e.data.map((function(e){return e.value}))),a=Math.round(n/7);e._domain=_.range(i/2,n,a)}e.displayMax=_.max(e._domain);var r=o.scaleLinear().domain(e._domain).range(["#ffffff","#fff2c5","#ffe179","#ffa279","#fd6565","#e83131"]),s=o.scaleQuantile().domain(e._domain).range(["#000000","#000000","#000000","#ffffff","#ffffff","#ffffff"]);e.displayMax=_.max(e._domain),e.fieldItemStyle=function(e){return"background: "+r(e)+"; color: "+s(e)+" !important"},e.$digest()}),100);i(),e.$watch("data",i),e.$watch("domain",i),e.$watch("autoDomain",i),e.$watch("max",i),e.clickItem=function(t){e.onClickItem&&e.onClickItem.apply(e.$parent.$ctrl||void 0,[{data:t}])}}}}])},function(e,t,n){"use strict";var i=b(n(220)),a=b(n(53)),r=b(n(214)),o=b(n(25)),s=b(n(103)),l=b(n(104)),c=b(n(223)),u=(b(n(8)),b(n(0))),d=b(n(100)),p=b(n(216)),f=b(n(29)),m=n(139),h=n(9),y=n(35),g=n(85),v=n(78);function b(e){return e&&e.__esModule?e:{default:e}}var S=h.fieldsMapByType.patent,C=h.fieldsMapByType.scholar,k=["jurisdiction","publication_type","applicant.name.exact","inventor.name.exact","owner_all.name.exact","legal_status.patent_status","agent.name.exact","sequence.organism.name.exact"],A=window.FUSE_OPTS;u.default.directive("lensHomeForm",[].concat(["PatentService","ScholarService","$q"],[function(e,t,n){return{link:function(u){var b=u.vm={autocomplete:{},cannedPatentFacets:d.default,cannedScholarFacets:p.default,expanded:{},facetFormatters:f.default,facetSearch:{},chooseMoreFilter:"",fieldInformation:i.default,fieldsMap:h.fieldsMap,fieldsMapByType:h.fieldsMapByType,FilterIcons:a.default,flags:h.flags,patentFlags:_.keys(v.patentFlagAggs),FundingInfo:r.default,manual:[],OpenAccessColours:s.default,OpenAccessLicenses:l.default,patentFields:k.map((function(e){return h.fieldsMapByType.patent[e]})),patentFieldsMap:S,scholarFieldsMap:C,scholarContentFields:h.subjectMatterFilterKeys.map((function(e){return h.fieldsMapByType.scholar[e]})),scholarFields:h.filterKeys.map((function(e){return h.fieldsMapByType.scholar[e]})),scholarFilterMap:{},scholarOpenAccessFields:h.openAccessFilterKeys.map((function(e){return h.fieldsMapByType.scholar[e]})),searchInput:{},searchingAutocomplete:{},showAutocomplete:{},showPatents:!0,showScholar:!0};u.clearFlags=function(){h.flags.forEach((function(e){delete b.scholarFilterMap[e]}))},u.changeSearchInput=function(e){var t=b.searchInput[e.key];!t.length||t.length<3?b.showAutocomplete[e.key]=!1:"jurisdiction"===e.key?u.jurisdictionAutocomplete():"author.affiliation.grid.address.country_code"===e.key?u.countryAutocomplete():e.suggester?u.autocomplete(e):e.facetSearch&&"SCHOLAR"===e.type?u.facetSearch(e):e.facetSearch&&"PATENT"===e.type&&u.patentFacetSearch(e)},u.countryAutocomplete=function(){var e="author.affiliation.grid.address.country_code",t=b.searchInput[e],n=_.values(p.default[e].buckets).map((function(t){return{key:t.key,doc_count:t.doc_count,label:f.default[e](t.key)}})),i=(0,c.default)(A);i.keys=["label"];var a=new o.default(n,i).search(t).map((function(e){return e.item}));b.autocomplete[e]||(b.autocomplete[e]={}),b.autocomplete[e][t]=_.uniq(a).slice(0,10)},u.jurisdictionAutocomplete=function(){var e=b.searchInput.jurisdiction,t=_.values(d.default.jurisdiction.buckets),n=(0,c.default)(A);n.keys=["label"];var i=new o.default(t,n).search(e).map((function(e){return e.item}));b.autocomplete.jurisdiction||(b.autocomplete.jurisdiction={}),b.autocomplete.jurisdiction[e]=_.uniq(i).slice(0,10)},u.patentFacetSearch=function(t){var i=t.key,a=b.searchInput[i];b.searchingAutocomplete[i]=!0,n.when(e.facetSearch(i,a,{},100)).then((function(e){b.searchingAutocomplete[i]=!1,b.showAutocomplete[i]=!0;var t=new o.default(e,A).search(a).map((function(e){return e.item}));b.autocomplete[i]||(b.autocomplete[i]={}),b.autocomplete[i][a]=_.uniq(t)}))},u.facetSearch=function(e){var i=e.key,a=b.searchInput[i]||b.chooseMoreFilter;b.searchingAutocomplete[i]=!0,n.when(t.facetSearch(e.key,a,{},100)).then((function(e){b.searchingAutocomplete[i]=!1,b.showAutocomplete[i]=!0,e=(e=i.includes(".display_name")?(0,m.authorSearch)(e,a):new o.default(e,A).search(a)).map((function(e){return e.item})),b.autocomplete[i]||(b.autocomplete[i]={}),b.autocomplete[i][a]=_.uniq(e)}))};var w=function(e){b[e]&&_.keys(b[e]).forEach((function(t){var n=b[e][t];n||delete b[e][t],_.isObject(n)&&_.keys(n).forEach((function(i){n[i]||delete b[e][t][i]}))}))};u.filterCount=function(e){var t="SCHOLAR"===e.type?"scholarFilterMap":"patentFilterMap",n=(b[t]||{})[e.filterName];return(_.keys(n)||[]).filter((function(e){return n[e]})).length},u.quickSearch=function(e,t){w("filterMap");var n=(0,y.filterMapToQueryParams)(b.filterMap);n.preview=!0;var i=$.param(n,!0);window.location="/lens/search/"+t+"/list?"+i},u.quickAnalysis=function(e,t){w("filterMap");var n=(0,y.filterMapToQueryParams)(b.filterMap);n.dashboardId=e.quickAnalysisDashboardId;var i=$.param(n,!0);window.location="/lens/search/"+t+"/analysis?"+i},u.clearFilter=function(e){b.scholarFilterMap[e.filterName]={},b.manual[e.key]=[]},u.patentSearch=function(e){if(13===e.keyCode){e.preventDefault();var t=$.param({q:b.patentSearchTerm,preview:!0});window.location="/lens/search/patent/list?"+t}},u.scholarSearch=function(e){if(13===e.keyCode){e.preventDefault();var t=$.param({q:b.scholarSearchTerm,preview:!0});window.location="/lens/search/scholar/list?"+t}},u.focusInput=function(e){_.defer((function(){$(e.currentTarget).parent().find(".autosuggest-input").focus()}))},u.setExpanded=function(e,t,n){b.expanded[t]=b.expanded[t]===n?null:n,u.focusInput(e)},u.getTop100=function(e){return"PATENT"===e.type?P(e):T(e)};var P=function(t){var i=t.key;b.loadingTop100=!0,n.when(e.facets({q:"",facets:t.key,facet_size:100})).then((function(e){var t=e[i];b.facetSearch[i]||(b.facetSearch[i]={}),b.facetSearch[i][""]=t,b.loadingTop100=!1}))},T=function(e){var i={result:{terms:{field:(0,g.getKeywordField)(e.key),size:100}}};b.loadingTop100=!0,n.when(t.facets({q:""},i)).then((function(e){b.loadingTop100=!1,b.facetSearch[b.showMoreFacet]={"":e.result}}))};u.showMore=function(e){b.showMoreFacet=e.key,b.showMoreField=e,b.searchInput[e.key]||b.searchInput[e.key]?(b.chooseMoreFilter=b.searchInput[e.key],u.changeChooseMoreSearchInput()):u.getTop100(e)},u.changeChooseMoreSearchInput=function(){var i=b.showMoreFacet;if(i){var a=b.chooseMoreFilter;b.showMoreField,a.split(" ").map((function(e){return e+"~2"})).join(" ");b.searchingFacets=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,!0),"SCHOLAR"===b.showMoreField.type?n.when(t.facetSearch(i,a,{},100)).then((function(e){b.searchingFacets[i]=!1,b.showAutocomplete[i]=!0,e=new o.default(e,A).search(a).map((function(e){return e.item})),b.facetSearch[i]||(b.facetSearch[i]={}),b.facetSearch[i][a]=_.uniq(e)})):n.when(e.facetSearch(i,a,{},100)).then((function(e){b.searchingFacets[i]=!1;var t=new o.default(e,A).search(a).map((function(e){return e.item}));b.facetSearch[i]||(b.facetSearch[i]={}),b.facetSearch[i][a]=_.uniq(t)}))}}}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(490));function r(e){return e&&e.__esModule?e:{default:e}}var o=window.vegaEmbed;i.default.directive("lensHorizontalBarChart",["$rootScope",function(e){return{template:'\n    <div>\n        <div class="horizontal-bar-chart"></div>\n    </div>\n    ',scope:{data:"<",options:"=?",axisLabel:"<",yAxisLabel:"<",elementClick:"<",noExport:"<",dynamicMargin:"<",maxValue:"<",colourScheme:"<",alternateColours:"<",limit:"<",flip:"<",height:"<",scaleType:"<",labelLimit:"<",view:"=",rawSpec:"="},link:function(t,n,i){var r=_.debounce((function(){t.filterExtent=null;var e=n.find(".horizontal-bar-chart"),i=t.data;if(i.sort((function(e,t){return t.value-e.value})).forEach((function(e,t){e.index=t})),i.length){t.limit&&(i=i.slice(0,t.limit)),e.empty();var r=n.width();if(r<0)console.warn("Refusing to render chart");else{var s=(0,a.default)({values:i,xLabelLimit:t.labelLimit,maxValue:t.maxValue,axisLabel:t.axisLabel,width:r,height:t.height,flip:t.flip,yAxisLabel:t.yAxisLabel,colourScheme:t.colourScheme,scaleType:t.scaleType,alternateColours:t.alternateColours});o(e.get(0),s,window.VEGA_EMBED_OPTS).then((function(e){var n=e.view,i=e.spec;void 0!==t.rawSpec&&(t.rawSpec=i),void 0!==t.view&&(t.view=n),n.addEventListener("click",(function(e,n){if(n&&n.datum&&(console.log(n.datum),t.elementClick)){var i=n.datum,a=i.agg,r=i.label,o=i.key,s={key:a||o,label:i.filterValue||r};t.elementClick({data:s})}}))}))}}}),200);$(window).resize(r),t.$watch("data",r),t.$watch("colourScheme",r),t.$watch("alternateColours",r),t.$watch("flip",r),t.$watch("scaleType",r),t.$watch("axisLabel",r),r();var s=[];s.push(e.$on("SIDE_TAB_LAYOUT_CHANGED",r)),t.$on("$destroy",(function(){s.forEach((function(e){return e()}))}))}}}])},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.values,a=e.maxValue,r=e.axisLabel,o=e.width,s=e.height,l=e.flip,c=e.yAxisLabel,u=e.colourScheme,d=e.scaleType,p=e.alternateColours,f=e.xLabelLimit,m={$schema:"https://vega.github.io/schema/vega-lite/v5.json",mark:{type:"bar",stroke:void 0,strokeWidth:0,fillOpacity:1,cursor:"pointer"},height:s||(l?600:Math.max(300,20*n.length)),autosize:"fit",background:(window.THEME,"transparent"),width:o-20,view:{stroke:null},encoding:(t={},i(t,l?"y":"x",{field:"value",type:"quantitative",format:",",axis:window.vegaLegend({title:r||null})}),i(t,l?"x":"y",{field:"label",type:"nominal",sort:{field:"value",order:"descending"},axis:window.vegaLegend({title:c||null})}),i(t,"tooltip",[{field:"label",type:"nominal",title:c||null},{field:"value",type:"quantitative",format:",",title:r||null}]),i(t,"fill",{field:"value",legend:!1,type:"quantitative",axis:{title:r||null},scale:_.isObject(u)?u:{scheme:("auto"===u?"greenblue":u)||"spectral"}}),i(t,"stroke",{field:"value",legend:!1,type:"quantitative",axis:{title:r||null},scale:_.isObject(u)?u:{scheme:("auto"===u?"greenblue":u)||"spectral"}}),t),data:{values:n}};if("Document Count"!==(l?c:r)&&m.encoding.tooltip.push({field:"doc_count",type:"quantitative",format:",",title:"Document Count"}),f&&(m.encoding.x.axis.labelLimit=f),_.isObject(u)&&(m.encoding.stroke.field="label",m.encoding.fill.field="label",m.encoding.stroke.type="nominal",m.encoding.fill.type="nominal"),m.encoding[l?"y":"x"].scale={type:d||"linear"},p){["stroke","fill"].forEach((function(e){m.encoding[e].field="index",m.encoding[e].type="ordinal",m.encoding[e].axis={title:r||null},m.encoding[e].scale={scheme:"paired"}}))}return a&&(m.encoding[l?"y":"x"].scale={domain:[0,a]}),m}},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("htmlToPlaintext",(function(){return{link:function(e,t){var n=t.text();t.text(n?String(n).replace(/<[^>]+>/gm,"").replace(/&nbsp;/g," "):""),t.show&&t.show()}}}))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensHtmlTooltip",[].concat(["$timeout"],[function(e){return{link:function(t){t.vm=t.vm||{};var n=null,i=null;t.setTootip=function(a,r,o,s){t.vm.tooltip=null,e.cancel(n),e.cancel(i);var l=_.clone(a);s&&_.assign(l,s),n=e((function(){t.vm.tooltip=l,t.setTootipPosition(r,o)}),200)},t.setTootipPosition=function(e,n){var i=e.target,r=(0,a.default)(i,"offsetParent.clientHeight")||0;t.vm.tooltipPosition={left:Math.max(i.offsetLeft+i.offsetWidth/2-150,10),bottom:r-i.offsetTop}},t.keepTooltipOpen=function(){e.cancel(i)},t.clearTooltip=function(){i=e((function(){t.vm.tooltip=null}),350)}}}}]))},function(e,t,n){"use strict";var i=o(n(0)),a=o(n(86)),r=(o(n(163)),n(246));function o(e){return e&&e.__esModule?e:{default:e}}var s=new(n(5));a.default.autoDiscover=!1;e.exports=i.default.directive("lensImageUpload",[].concat(["$http","$rootScope"],[function(e,t){return{templateUrl:"image-upload",scope:{key:"=",onUploadStart:"<",onUpload:"<"},link:function(n,i){var o=new a.default(i.find(".dropzone")[0],{url:"/lens/service/file/avatar",addRemoveLinks:!0,acceptedFiles:"image/*",clickable:".select-files",maxFiles:1,transformFile:function(e,t){(0,r.avatarCropper)(this,e,(function(e){n.onUploadStart&&(n.onUploadStart(),n.$apply()),t(e)}))},success:function(e,i){n.key=i,n.onUpload&&n.onUpload(i),t.$apply()},error:function(e,t){s.error(t||"Could not upload files"),n.onUpload&&n.onUpload(),n.$apply()}});n.upload=function(){o.processQueue()},n.vm={},n.delete=function(t){e.delete("/lens/service/file/avatar/"+t).then((function(){s.success("File Deleted"),n.refresh()}))}}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("includeReplace",[function(){return{require:"ngInclude",restrict:"A",link:function(e,t,n){t.replaceWith(t.children())}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensInlineCollection",[].concat(["CollectionService"],[function(e){return{template:n(496),scope:{collectionId:"<"},link:function(t,n){var i=t.vm={loading:!0};e.fetch(t.collectionId).then((function(e){i.collection=e,i.collectionType="SCHOLARLY_WORK"===e.type?"scholar":"patent",i.loading=!1}))}}}]))},function(e,t){e.exports='<a ui-sref="search.results({collectionId: vm.collection.id, type: vm.collectionType})" ui-sref-opts="{inherit: false}">\n    Collection: {{vm.collection.title}}\n</a>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(244);r.default.directive("lensInlineCollectionEvent",[].concat(["CollectionService"],[function(e){return{template:n(498),scope:{eventId:"<",showCollection:"<"},link:function(t,n){var i=t.vm={loading:!0,actionMap:o.collectionActionMap};e.historyEvent(t.eventId).then((function(e){i.loading=!0,i.item=e})),t.isAdd=function(){return i.item&&i.item.action.endsWith("_ADD")}}}}]))},function(e,t){e.exports='<span ng-if="vm.item">\n    {{vm.item.itemCount | customNumber}} items\n    {{vm.actionMap[vm.item.action]}}\n    on {{vm.item.created | date}}\n    <span ng-if="showCollection && vm.item.collectionId">\n        {{isAdd() ? \'to\' : \'from\'}}\n        <span lens-inline-collection collection-id="vm.item.collectionId"></span>\n    </span>\n</span>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensInlineNotes",[].concat(["$q","NotesService"],[function(e,t){return{template:n(164),transclude:!0,scope:{section:"<",visible:"<",key:"<"},link:function(n,i,a){var r=a.section,o=window.globalNotes||{},s=o.notes,l=o.key;l=l||n.key;var c=function(e){return!r||e.scope===r.toUpperCase()};s=(s=s||[]).filter(c);var u=n.visible||r.toLowerCase()===window.location.hash.slice(2),d={notes:s,section:r,key:l,visible:u};n.vm=d,n.refresh=function(){d.loading=!0;var i=t.fetch(l,"PATENT");e.when(i).then((function(e){d.loading=!1,n.vm.notes=e.filter(c),n.vm.notes.forEach((function(e){e.lensId=l})),$(".overallNoteCount").text(e.length)}))},n.visible&&n.refresh(),n.$on("REFRESH_NOTES",(function(){n.refresh()})),n.toggleVisible=function(e){e.preventDefault(),n.vm.visible=!n.vm.visible},n.delete=function(e){d.confirm=!0,d.deleteNoteId=e},n._delete=function(){var e=d.deleteNoteId;t.delete(e),n.vm.notes=n.vm.notes.filter((function(t){return t.id!==e})),d.confirm=!1}}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(61),s=n(165),l=n(247);r.default.directive("lensInlineQuery",[].concat(["$http"],[function(e){return{template:n(501),scope:{savedQueryId:"<",queryId:"<",type:"<"},link:function(t,n){var i=t.vm={};i.loading=!0,e.get("/lens/api/query/"+t.type+"/"+t.queryId,{cache:!0}).then((function(e){i.loading=!1,i.query=(0,o.transformQuery)(e.data.query),i.query.type=t.type,i.warnings=e.data.warnings,i.migratedQuery=e.data.migratedQuery})),t.migrateSavedQuery=function(){console.log(t.savedQueryId);var n="/lens/service/query/"+t.savedQueryId+"/migrate";e.post(n).then((function(){alert("Query Converted"),window.location.reload()}))},t.getMigratedQuery=function(){var e=_.clone(i.query);return _.assign(e,{q:i.migratedQuery})},t.getFilters=_.memoize(s.getFilters),t.printFilters=function(e){return(0,l.printFilters)(e,!0)}}}}]))},function(e,t){e.exports='<div>\n    <span ng-if="vm.loading">\n        <em class="far fa-spinner fa-spin col-feat"></em>\n        Loading...\n    </span>\n\n    <div hidden>\n        <div id="legacy-query-warnings" class="island">\n            <p>\n                Queries saved before Lens Version 8.0 may use field names which have since changed. These queries are automatically converted to new field names, and should give the same results. \n            </p>\n            <div ng-repeat="warning in vm.warnings" class="alert alert-warning">\n                {{::warning}}\n            </div>\n            <div ng-if="savedQueryId">\n                <a ui-sref="search.results(getMigratedQuery())" class="btn btn-xs">\n                    View Converted Query\n                </a>\n                <a ng-click="migrateSavedQuery()" class="btn btn-pri btn-xs">\n                    Convert Saved Query\n                </a>\n            </div>\n        </div>\n    </div>\n    <div ng-if="vm.warnings.length" style="display: inline-block; float: left; margin-right: 0.5em;">\n        <em class="far fa-exclamation-triangle col-sec link"\n            tooltip-title\n            tooltip-options="{maxWidth: 600}"\n            tooltip-content-selector="#legacy-query-warnings"></em>\n    </div>\n\n    <a ui-sref="search.results(vm.query)" ui-sref-opts="{inherit: false}" ng-if="vm.query" class="inline-query--link">\n        <div ng-if="!vm.query.q && !vm.query.collectionId">All Docs</div>\n        <div ng-if="vm.query.collectionId">\n            <div lens-inline-collection collection-id="vm.query.collectionId"></div>\n        </div>\n        <div class="query-details-syntax-highlight" lens-query q="vm.query.q" query-type="vm.query.type"></div>\n        <div class="text-small" ng-if="::printFilters(vm.query)">Filters: {{::printFilters(vm.query)}}</div>\n    </a>\n    <div ng-if="vm.query.patentQueryId" class="history--join">\n        <div class="inline-query-join-label col-meta">Join Query:</div>\n        <div class="inline-query-join-item" lens-inline-query query-id="vm.query.patentQueryId" type="\'patent\'"></div>\n    </div>\n    <div ng-if="vm.query.scholarQueryId" class="history--join">\n        <div class="inline-query-join-label col-meta">Join Query:</div>\n        <div class="inline-query-join-item" lens-inline-query query-id="vm.query.scholarQueryId" type="\'scholar\'"></div>\n    </div>\n    <div ng-if=""\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensInstitutionDetails",["$http",function(e){return{template:n(166),replace:!0,scope:{item:"<",headingOnly:"<",claimOwnership:"<",onClickRemove:"<"},link:function(t){t.vm={claimOwnership:t.claimOwnership},t.claimOwnership=function(){e.post("/lens/service/in4mlead/contact",{name:t.vm.name,email:t.vm.email,fileLinks:[],clob:"Claim Ownership Request"}).then((function(e){t.vm.emailSent=!0,t.vm.emailFailed=!1})).catch((function(){t.vm.emailFailed=!0}))}}}}])},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(2));e.exports=r.default.directive("landingUpdateNotice",[].concat(["$http"],[function(e){return{template:n(167),scope:{},link:function(t,n){var i=t.vm={visible:!1};t.ignore=function(){o.set(a,!0),i.visible=!1};var a=null;e.get("https://about.lens.org/wp-json/wp/v2/posts?per_page=1&categories=60").then((function(e){var t=e.data;if(t.length){var n=t[0];if(n.title&&n.content){var r=$(n.content.rendered).first("p").text();i.tagline=r,i.title=n.title.rendered,i.slug=n.slug,a="ignore-landing-update-"+n.id,o.get(a)||(i.visible=!0)}}})).catch((function(){console.warn("Could not load landing page update notice from WordPress")}))}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLastUpdated",["$q",function(e){return{template:n(505),scope:{type:"<"},link:function(t,n){if("SCHOLAR"===t.type){var i=fetch("/lens/api/statistics/scholar").then((function(e){return e.json()}));e.when(i).then((function(e){var n=e.pop();t.lastUpdated=n.lastUpdate})).catch((function(e){console.error(e)}))}else{var a=fetch("/lens/api/statistics/patent").then((function(e){return e.json()}));e.when(a).then((function(e){if(e.releaseNumber&&(t.releaseNumber=e.releaseNumber),e.lastUpdate)t.lastUpdated=e.lastUpdate;else{var n=e.map((function(e){return new Date(e.lastUpdate)})).sort((function(e,t){return t-e}));t.lastUpdated=n[0]}})).catch((function(e){console.error(e)}))}}}}])},function(e,t){e.exports='{{lastUpdated | date}}\n<span ng-if="releaseNumber">(Release {{releaseNumber}})</span>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLazyLoad",[].concat(["$rootScope"],[function(e){return{restrict:"A",scope:{lensLazyLoad:"<",key:"<",activeKey:"=",visible:"="},link:function(t,n,i){var a=n.get(0);new window.Waypoint({element:a,offset:"bottom-in-view",handler:function(n){"down"!==n||t.visible||(t.visible=!0,t.key>t.activeKey?(t.activeKey=t.key,t.$apply()):e.$digest())}})}}}]))},function(e,t,n){"use strict";var i=window.angular.module("lens-coins",[]);i.service("ZoteroService",["$timeout",function(e){return{notify:function(){e((function(){document.dispatchEvent(new Event("ZoteroItemUpdated",{bubbles:!0,cancelable:!0}))}))}}}]),i.directive("lensCoins",[].concat([],[function(){return{template:'<span class="Z3988" title="{{ coinsMetadata }}" >\n        <a ng-if="openUrlCoins.length" class="worldcat-registry" href="http://worldcatlibraries.org/registry/gateway?{{ openUrlCoins }}" title="{{ openUrlTooltip }}" target="_blank">\n            <img class="pmid-icon" ng-src="{{ ::$root.assetLocation }}/img/worldcat-logo.png">\n            {{ worldcatRegistryText }}\n        </a>\n    </span>',scope:{item:"<"},link:function(e){var t=function(e){return e?new Date(e).toISOString():null},n=function(e,t){return t?e+"="+encodeURIComponent(t):[]},i=function(e){return function(t){return n(e,t)}},a=function(e){return"rft_val_fmt=info:ofi/fmt:kev:mtx:"+e},r=function(e){return e[0]?"rft_id=info:doi/"+e[0]:[]},o=i("rft.title"),s=i("rft.btitle"),l=function(e){return e?n("rft.btitle",e.title):[]},c=function(e){return e?n("rft.btitle",e.name):[]},u=function(e){return n("rft_id","https://lens.org/"+e)},d=i("rft.date"),p=i("rft.place"),f=i("rft.atitle"),m=function(e){return e&&e.issn&&e.issn[0]?n("rft.issn",e.issn[0].value?e.issn[0].value:e.issn[0]):[]},h=function(e){return e?n("rft.series",e.title):[]},y=function e(t){return t.reduce((function(t,n){return Array.isArray(n)?t.concat(e(n)):t.concat(n)}),[])};e.openUrlTooltip="Find full-text at your institution with WorldCat",e.worldcatRegistryText="WorldCat",e.$watch("item",(function(g){g&&(g.record_lens_id?(e.coinsMetadata=function(e){var t,g,v,b=i("rft.genre"),S=[];switch(e.publication_type){case"journal article":case"journal issue":case"journal":case"letter":case"editorial":case"news":case"clinical study":S.push(a("journal")),S.push(f(e.title)),S.push((t=e.journal)?n("rft.jtitle",t.title):[]);break;case"book chapter":case"reference entry":S.push(a("book")),S.push(b("bookitem")),S.push(f(e.title)),S.push(l(e.journal));break;case"conference proceedings":case"conference proceedings article":S.push(a("book")),S.push(b("proceeding")),S.push(f(e.title)),e.conference?S.push(c(e.conference)):S.push(l(e.journal));break;case"report":S.push(a("book")),S.push(b("report")),S.push(o(e.title)),S.push(l(e.journal));break;case"book":case"standard":case"journal volume":S.push(a("book")),S.push(s(e.title)),S.push(h(e.journal));break;case"dissertation":S.push(a("dissertation")),S.push(o(e.title));break;case"unknown":case"dataset":case"component":case"clinical trial":case"other":default:S.push(a("dc")),S.push(o(e.title))}return S.push(r(e.doi)),S.push(u(e.record_lens_id)),S.push(d(e.date_published)),S.push(n("rft.volume",e.volume)),S.push(n("rft.issue",e.issue)),S.push(n("rft.spage",e.start_page||e.pages_start)),S.push(n("rft.epage",e.end_page||e.pages_end)),S.push(m(e.journal)),S.push((g=e.authors)?g.map((function(e){return n("rft.au",e.display_name)})):[]),S.push(function(e){return e?n("rft.publisher",e.publisher):[]}(e.journal)),S.push(function(e){return e?p(e.country):[]}(e.journal)),S.push(n("rft.description",e.abstract)),S.push((v=e.language)?n("rft.language",v[0]):[]),S.push(function(e){return e&&e.asjc_subject?e.asjc_subject.map((function(e){return"rft.subject="+e})):[]}(e.journal)),y(S).join("&")}(g),e.openUrlCoins=function(e){var t=[];if(e.doi.length>=1)t.push(r(e.doi));else{switch(e.publication_type){case"journal article":case"journal issue":case"journal":case"letter":case"editorial":case"news":case"clinical study":t.push(f(e.title));break;case"book chapter":case"reference entry":t.push(f(e.title)),t.push(l(e.journal));break;case"conference proceedings":case"conference proceedings article":t.push(f(e.title)),e.conference?t.push(c(e.conference)):t.push(l(e.journal));break;case"report":t.push(o(e.title)),t.push(l(e.journal));break;case"book":case"standard":case"journal volume":t.push(s(e.title)),t.push(h(e.journal));break;case"dissertation":t.push(o(e.title));break;case"unknown":case"dataset":case"component":case"clinical trial":case"other":default:t.push(o(e.title))}t.push(d(e.date_published)),t.push(n("rft.volume",e.volume)),t.push(n("rft.issue",e.issue)),t.push(n("rft.spage",e.start_page||e.pages_start)),t.push(n("rft.epage",e.end_page||e.pages_end)),t.push(m(e.journal))}return y(t).join("&")}(g)):e.coinsMetadata=function(e){return y([a("patent"),o(e.title),u(e.lensId),d(t(e.date_published)),n("rft.number",e.display_key),n("rft.appldate",t(e.application_reference.date)),p(e.jurisdiction)]).join("&")}(g))}))}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}var o=window.vegaEmbed;i.default.directive("lensLineChart",[].concat(["$rootScope"],[function(e){return{template:n(509),scope:{data:"<",rawData:"<",institution:"<",height:"<",elementClick:"<",filterSelection:"<",isPreview:"<",axisLabel:"<",yAxisLabel:"<",mark:"<",hideFilterLink:"<",filterExtent:"=",maxValue:"<",colour:"<"},link:function(t,n,i){t.filter=function(e){e=e.map((function(e){return e.getFullYear()})),t.filterSelection&&t.filterSelection.apply(t.$parent.$ctrl||void 0,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)))};var r=_.debounce((function(){var e=(new Date).getFullYear(),i=n.find(".line-chart"),r=t.data||t.rawData[0].values;i.empty();var s=n.width()-60,l=t.colour||"#3182bd",c={x:{field:"label",type:"temporal",timeUnit:"utcyear",scale:{type:"utc"},format:"%Y",axis:window.vegaLegend({title:!t.isPreview&&(t.axisLabel||null),grid:!1})},y:{field:"value",type:"quantitative",axis:window.vegaLegend({title:!t.isPreview&&(t.yAxisLabel||null),grid:!0}),format:","},tooltip:[{field:"label",type:"temporal",timeUnit:"utcyear",scale:{type:"utc"},format:"%Y",axis:{title:t.axisLabel||"Publication Year"}},{field:"value",type:"quantitative",axis:{title:t.yAxisLabel||"Document Count"},format:","}]};t.maxValue&&(c.y.scale={domain:[0,t.maxValue]});var u={$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),view:{stroke:null},data:{values:r},layer:[{encoding:c,mark:{type:t.mark||"line",color:l,point:{color:l,size:80},strokeDash:[6,4]},height:t.height||s/2},{transform:[{filter:{timeUnit:"utcyear",field:"label",lte:e}}],encoding:c,mark:{type:t.mark||"line",color:l,point:{color:l,size:80}},height:t.height||s/2}],width:s,height:t.height||s/2};r.filter((function(e){return e.citations})).length&&(u.resolve={scale:{y:"independent"}},u.layer.shift(),u.layer.push({mark:{type:"line",color:"orange",point:{color:"orange",size:60}},encoding:{x:{field:"label",type:"temporal",timeUnit:"utcyear",format:"%Y",axis:window.vegaLegend({title:"Publication Year",grid:!1})},y:{field:"citations",type:"quantitative",axis:window.vegaLegend({title:null,grid:!1}),format:","},tooltip:[{field:"label",type:"temporal",timeUnit:"utcyear",format:"%Y",axis:{title:"Publication Year"}},{field:"citations",type:"quantitative",axis:{title:"Citations"},format:","}]}}));var d=!t.hideFilterLink||_.isArray(t.filterExtent);d&&(u.layer[0].selection={brush:{encodings:["x"],color:"blue",type:"interval"}}),o(i.get(0),u,window.VEGA_EMBED_OPTS).then((function(e){e.spec;var n=e.view;d&&n.addDataListener("brush_store",(function(e,n){var i=(0,a.default)(n,"[0].intervals[0].extent")||(0,a.default)(n,"[0].values");i=i&&_.isArray(i[0])?i[0]:[],t.filterExtent=i,t.$apply()}))}))}),100);$(window).resize(r),t.$watch("data",r),r();var s=[];s.push(e.$on("REFRESH_ANALYSIS_VISUALISATIONS",r)),s.push(e.$on("SIDE_TAB_LAYOUT_CHANGED",r)),t.$on("$destroy",(function(){s.forEach((function(e){return e()}))}))}}}]))},function(e,t){e.exports='<div>\n    <div class="line-chart"></div>\n    <div ng-if="!filterExtent && !hideFilterLink" class="text-center line-chart--text-filter col-meta">\n        <em class="far fa-arrows"></em> Click and drag to select a time period\n    </div>\n    <div ng-if="filterExtent.length && !hideFilterLink" class="text-center line-chart--text-filter">\n        <a ng-click="filter(filterExtent)">\n            <em class="far fa-filter col-feat"></em> Filter from {{filterExtent[0] | date:\'yyyy\'}} to {{filterExtent[1] | date:\'yyyy\'}}\n        </a>\n    </div>\n    <div ng-if="!filterExtent.length && !hideFilterLink" class="text-center line-chart--text-filter">\n        Highlight a selection to filter by date\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(5)),s={LINKEDIN:"LinkedIn",ORCID:"ORCID"};r.default.directive("lensLinkedIdentities",[].concat(["LinkedIdentityResource"],[function(e){return{template:n(168),scope:{},link:function(t,n){var i=t.vm={identities:[],services:s,loading:!0,show:!0};t.refresh=function(){i.loading=!0,i.identities=e.query(),i.identities.$promise.then((function(){i.loading=!1,0===i.identities.filter((function(e){return"LINKEDIN"===e.provider})).length&&i.identities.push({provider:"LinkedIn",neverLinked:!0}),0===i.identities.filter((function(e){return"ORCID"===e.provider})).length&&i.identities.push({provider:"ORCID",neverLinked:!0})})).catch((function(e){console.error(e),i.loading=!1}))},t.linkService=function(e){$.oauthpopup({path:"/lens/oauth/"+e.toLowerCase(),tryResize:!1,callback:function(){t.refresh()}})},t.publishIdentity=function(e){e.$save().then((function(){o.success("Updated Successfully")})).catch((function(e){console.error(e),o.error("Update Failed")}))},t.importPicture=function(e){var t=e.provider;fetch("/lens/service/user/profile/picture/from-linked-profile",{method:"POST",data:JSON.stringify({provider:t})}).then((function(){window.location.reload()}))},t.delete=function(){i.promptDeleteItem.$remove().then((function(){t.refresh()})).catch((function(e){console.error(e),o.error("Could not unlink account")})),i.promptDeleteItem=null},t.refresh()}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLinkedIdentitiesIcons",["$http",function(e){return{template:n(512),scope:{userId:"<"},link:function(t,n){var i=t.vm={services:{LINKEDIN:"LinkedIn",ORCID:"ORCID"}};e.get("/lens/service/user/"+t.userId+"/linked-identities").then((function(e){i.identities=e.data.filter((function(e){return e.profileUrl})).map((function(e){return"ORCID"===e.provider&&(e.orcid=e.profileUrl.split("/").pop()),e}))}))}}}])},function(e,t){e.exports='<div>\n    <ul class="list-tooltip-options">\n        <li ng-repeat="identity in vm.identities" ng-if="identity.orcid">\n            <a ui-sref="search.results({view: \'list\', type: \'patent\', orcids: identity.orcid})">\n                <small>\n                    <em class="far fa-search"></em>\n                    View Patents where ORCID ID\n                </small>\n                <div class="tooltip--term">{{::identity.orcid}}</div>\n            </a>\n        </li>\n        <li ng-repeat="identity in vm.identities" ng-if="identity.orcid">\n            <a ui-sref="search.results({view: \'list\', type: \'scholar\', orcids: identity.orcid})">\n                <small>\n                    <em class="far fa-search"></em>\n                    View Scholarly Works where ORCID ID\n                </small> \n                <div class="tooltip--term">{{::identity.orcid}}</div>\n            </a>\n        </li>\n        <li ng-repeat="identity in vm.identities">\n            <a ng-href="{{identity.profileUrl}}" target="_blank">\n                <small>\n                    <em ng-if="identity.provider === \'LINKEDIN\'" class="brand-linkedin fab fa-linkedin"></em>\n                    <em ng-if="identity.provider === \'ORCID\'" class="brand-orcid fab fa-orcid"></em>   \n                    View profile on:\n                </small>\n                <div class="tooltip--term">\n                    {{::vm.services[identity.provider] || identity.provider}}\n                </div>\n            </a>\n        </li>\n    </ul>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensListNotes",[].concat(["$q","NotesService"],[function(e,t){return{scope:{collectionId:"<",isOwner:"<",key:"<"},template:n(169),link:function(e,n,i){var a=e.key,r=t.getService(i.type);e.vm={loading:!0,type:i.type,key:a,notes:[]},e.refresh=function(){(a||e.collectionId)&&r.fetch(a||e.collectionId).then((function(t){e.vm.notes=t,e.vm.loading=!1,"PATENT"===i.type&&$(".overallNoteCount").text(t.length)})).catch((function(t){console.warn(t),e.vm.loading=!1,e.vm.error=t}))},e.$on("REFRESH_NOTES",(function(){e.refresh()})),e.refresh()}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLoader",[].concat([],[function(){return{template:n(515)}}]))},function(e,t){e.exports='<div class="result-loading">\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLogoGrid",[function(){return{template:n(517),scope:{data:"<",config:"<",field:"<",addFilter:"<"},link:function(e,t){}}}])},function(e,t){e.exports='<div class="grid-applicants-panel-inset">\n    <div class="grid-applicants grid-applicants-lens"\n        ng-class="{\'logo-grid--col-4\': config.limit % 8 === 0, \'logo-grid--humans\': field.key === \'inventor\' || field.key === \'author.display_name.keyword\'}"\n    >\n        <div class="grid-item link"\n            ng-repeat="item in data | orderBy:\'value\':true"\n            ng-click="addFilter(field.key, item.filterValue, config.source, config.type)"\n            tooltip-title\n            tooltip-options="::{delay: 700}"\n            tooltip-title-variable="\'Filter by \' + field.label + \' = \' + item.label"\n        >\n            <img hidden class="square-hold" ng-src="{{::$root.assetLocation}}/img/square-placeholder.png" alt="placeholder"/>\n\n            <svg version="1.1" id="Layer_1" class="square-hold" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                 viewBox="0 0 300 300" style="enable-background:new 0 0 300 300;" xml:space="preserve">\n                <rect class="st0" width="300" height="300"/>\n            </svg>\n\n            <div\n                name="::item.label"\n                lens-applicant-logo\n                type="(field === \'inventor\' || field === \'author.display_name.keyword\') ? \'headshot\' : \'logo\'"\n                text-fallback="::item.label"\n            ></div>\n            <b><a>{{::item.value | customNumber}}</a></b>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensLogoTooltip",[].concat(["$http","$timeout"],[function(e,t){return{link:function(n){n.vm=n.vm||{};var i=null,a=null;n.setLogoTootip=function(e,r,o,s){n.vm.logoTooltip=null,t.cancel(i),t.cancel(a);var l=_.clone(e);s&&_.assign(l,s),i=t((function(){n.vm.logoTooltip=l,n.setLogoTootipPosition(r,o)}),500)},n.setLogoTootipPosition=function(e,t){void 0===t&&(t=140);var i=e.target,a=document.body.getBoundingClientRect(),r=i.getBoundingClientRect();n.vm.logoTooltipPosition={left:r.left+i.clientWidth/2-150,top:r.top-a.top-t}},n.keepLogoTooltipOpen=function(){t.cancel(a)},n.clearLogoTooltip=function(){a=t((function(){n.vm.logoTooltip=null}),500)},n.suggestLogo=function(e){n.vm.suggestLogo=e},n.notifyLogo=function(t){e.post("/lens/service/in4mlead/contact",{name:n.vm.name||"Not Supplied",email:n.vm.email||"support@lens.org",fileLinks:[],clob:"Logo Suggestion for "+n.vm.suggestLogo+": "+n.vm.suggestedLogo}).then((function(e){n.vm.logoEmailSent=!0,n.vm.logoEmailFailed=!1})).catch((function(){n.vm.logoEmailFailed=!0}))}}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensMediaLibrary",[].concat(["$http","$rootScope"],[function(e,t){return{template:n(520),scope:{},link:function(n,i){var a=n.vm={files:[],loading:!0,uploadKey:null};n.refresh=function(){fetch("/lens/service/file").then((function(e){return e.json()})).then((function(e){console.log(e),a.files=e,a.loading=!1,0===a.files.length&&(t.mediaTab="uploads"),n.$apply()}))},n.select=function(e){t.$broadcast("MEDIA_LIBRARY_SELECT",e)},n.uploaded=function(e){console.log("uploaded",e),t.mediaTab="library",n.refresh(),n.$apply()},n.delete=function(t){var n=_.cloneDeep(a.files);a.files=a.files.filter((function(e){return e.id!==t})),e.delete("/lens/service/file/avatar/"+t).then((function(){(new Notification).success("File Deleted")})).catch((function(e){(new Notification).error("Could not delete image. Likely in use"),a.files=n}))},n.refresh()}}}]))},function(e,t){e.exports='<div class="media-library">\n    \n    <nav class="grid-tab-nav grid-tab-nav--nested">\n        <ul class="grid-tabs">\n            <li ng-class="{\'active\': $root.mediaTab === \'library\'}">\n                <a href="" ng-click="$root.mediaTab = \'library\'">Media Library</a>\n            </li>\n            <li ng-class="{\'active\': $root.mediaTab === \'uploads\'}">\n                <a href="" ng-click="$root.mediaTab = \'uploads\'">Upload Media</a>\n            </li>\n        </ul>\n    </nav>\n\n    <div ng-if="$root.mediaTab === \'uploads\'">\n        <div lens-image-upload key="vm.uploadKey" on-upload="uploaded"></div>\n        <p class="text-small col-meta">Supported file types: .png, .jpg and can be resized and cropped after upload. By sharing this data with Lens.org and the public, you acknowledge that you are authorized to do so.</p>\n    </div>\n    \n    <div ng-if="$root.mediaTab === \'library\'">\n        <div class="media-library--tools clearfix">\n            \n            <label class="pull-right input input-sm" hidden>\n                <input type="text" name="" placeholder="Filter Library" value="" />\n                <em class="far fa-search icon_append"></em>\n            </label>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <b>Media Items</b>\n                <label class="select select-sm pull-right">\n                    <select ng-model="$root.sortMediaLibraryReverse">\n                        \x3c!-- <option>Display All Media Items</option> --\x3e\n                        <option ng-value="false">Sort by Newest</option>\n                        <option ng-value="true">Sort by Oldest</option>\n                    </select>\n                    <i></i>\n                </label>\n            </div>\n            <div class="panel-body media-library--preview">\n                <div ng-if="vm.loading">\n                    <em class="far fa-spinner fa-spin col-feat"></em>\n                    Loading...\n                </div>\n                <div ng-if="!vm.loading && vm.files.length === 0" class="content">\n                    <em class="far fa-empty-set col-error"></em>\n                    No Uploads Yet\n                </div>\n    \n                <div ng-repeat="file in vm.files | orderBy:\'id\':$root.sortMediaLibraryReverse" class="media-library--item">\n                    <a class="btn btn-img" ng-click="select(file)">\n                        <img ng-src="{{$root.imageUploadUrl(file.key)}}">\n                    </a>\n                    <div class="media-delete" ng-click="delete(file.id)" tooltip-title="Delete">\n                        <em class="fa fa-minus-circle col-error"></em>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensMentions",["$http",function(e){return{template:n(522),scope:{orcid:"<",profileMentions:"="},link:function(t,n){var i=t.vm={loading:!0,icons:{facebook:"fab fa-facebook",twitter:"fab fa-twitter",wikipedia:"fab fa-wikipedia-w",f1000:"far fa-globe",weibo:"far fa-globe",reddit:"fab fa-reddit",video:"far fa-play-circle",news:"far fa-newspaper",blogs:"far fa-blog",googleplus:"fab fa-google-plus",peer_reviews:"far fa-comment-alt-lines"}};e.get("https://profiles.impactstory.org/api/person/"+t.orcid,{cache:!0}).then((function(e){i.impactStory=e.data})).catch((function(e){console.error(e)})).finally((function(){i.loading=!1})),t.selectSource=function(e){var t=i.impactStory.products.reduce((function(t,n){var i=n.posts.filter((function(t){return t.source===e.source_name}));return t.concat(i)}),[]);i.profileMentions=t},t.$watch("vm.profileMentions",(function(e){t.profileMentions=e,console.log(e)}))}}}])},function(e,t){e.exports='<span ng-if="vm.loading">\n    <em class="far fa-spinner fa-spin col-feat"></em>\n    Loading...\n</span>\n\n<span ng-if="!vm.loading && !vm.impactStory.sources.length">No mentions</span>\n\n<a class="panel-tabs--list-items"\n    ng-repeat="source in vm.impactStory.sources | limitTo:(item.showAllMentions ? 500 : 4)"\n    ng-click="selectSource(source)"\n    target="_blank"\n>\n    <div>\n        <div class="col-feat text-small">{{source.posts_count}} Mentions</div>\n        <em class="pull-right col-meta" ng-if="vm.icons[source.source_name]" ng-class="{[vm.icons[source.source_name]]: true}"></em>\n        <strong>{{source.display_name}}</strong>\n    </div>\n</a>\n<a class="panel-tabs--list-more" ng-show="vm.impactStory.sources.length > 4" ng-click="item.showAllMentions = !item.showAllMentions">\n    Show \n    {{!item.showAllMentions ? (vm.impactStory.sources.length - 4) : \'\'}}\n    {{item.showAllMentions ? \'Less\' : \'More\'}}...\n</a>\n<span ng-if="!vm.loading" class="panel-source">source: ImpactStory</span>'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensMetricsCarousel",(function(){return{link:function(e,t){setTimeout((function(){t.owlCarousel({loop:!1,margin:20,stagePadding:20,nav:!0,dots:!1,navText:["<em class='fal fa-angle-left'>","<em class='fal fa-angle-right'>"],autoplay:!1,responsiveClass:!0,responsive:{0:{items:1},480:{items:2},768:{items:3},980:{items:4},1400:{items:5},1600:{items:6}}})}),0)}}}))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensModal",[].concat(["$timeout"],[function(e){return{template:n(170),transclude:!0,scope:{visible:"=",size:"<",close:"<"},link:function(e,t){var n=function t(n){27===n.keyCode&&(e.visible=!1,window.removeEventListener("keyup",t),e.$digest())};e.$watch("visible",(function(e){e?(document.body.classList.add("modal--active"),window.removeEventListener("keyup",n)):(document.body.classList.remove("modal--active"),window.addEventListener("keyup",n))})),e.$on("$destroy",(function(){document.body.classList.remove("modal--active")}))}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0);var r=((i=a)&&i.__esModule?i:{default:i}).default.directive("lensMultiSelect",["$rootScope",function(e){return{template:n(526),scope:{model:"=",items:"<",showFlag:"<",defaultLabel:"=",labelFormatter:"="},link:function(t){t.toggle=function(){t.showOptions=!t.showOptions,e.showOverlay=t.showOptions,t.showOptions&&(e.hideOverlay=function(){e.showOverlay=!1,t.showOptions=!1})},t.$watch("model",(function(){t.selectedItems=_.keys(t.model).filter((function(e){return t.model[e]})).join(", ")}),!0)}}}]);t.default=r},function(e,t){e.exports='<label class="select">\n    <select faux-select class="link" ng-click="toggle()">\n        <option value="">{{selectedItems || defaultLabel || \'Defaults to All\'}}</option>\n    </select>\n    <i></i>\n</label>\n<div ng-if="showOptions" class="select-container">\n    <div ng-repeat="key in items">\n        <label class="checkbox">\n            <input type="checkbox" ng-model="model[key]">\n            <i></i>\n            <span ng-if="showFlag" lens-flag jurisdiction="key"></span>\n            {{labelFormatter(key) || key}}\n        </label>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(528));function r(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensNav",(function(){return{templateUrl:"nav",replace:!0,transclude:!0,link:function(e,t){var n=function(){var e=t.find(".tab-nav-collapse").children().filter((function(e,t){return(0,a.default)(t)})).length;t.find(".tab-nav-drop-menu").children().each((function(t,n){$(n).toggle(t>=e)}))};angular.element(window).bind("resize",n),n()}}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){"function"==typeof window.jQuery&&e instanceof window.jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensNoteTableRow",[].concat(["NotesService"],[function(e){return{scope:{note:"<",reload:"&",showLevelUp:"<"},template:n(530),link:function(t,n,i){var a={};t.vm=a,t.linkUrl=e.linkUrl,t.isPatent=function(e){return e&&"PATENT"===e.type},t.isScholar=function(e){return e&&"SCHOLAR"===e.type},t.delete=function(e){a.confirm=!0},t._delete=function(n){e.delete(n).then((function(){a.confirm=!1,t.reload()}))}}}}]))},function(e,t){e.exports='<div class="div-table-cell div-table-cell--wrap">\n    <div class="table--meta">\n        <span class="fa fa-level-up pull-left" hidden ng-show="showLevelUp"></span>\n        \x3c!-- <span ng-bind-html="note.text | unsafe"></span> --\x3e\n        {{note.text | decodeEntities}}\n    </div>\n</div>\n<div class="div-table-cell">\n    <span class="table--meta" ng-if="isPatent(note)">\n        {{\'notes.patent.scope.\' + note.scope | message}}\n    </span>\n    <span class="table--meta" ng-if="note.type === \'SCHOLAR\'">\n        Document\n    </span>\n</div>\n<div class="div-table-cell">\n    <span class="table--meta">{{note.created | date}}</span>\n</div>\n<div class="div-table-cell">\n    <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-notes-buttons-{{note.id}}"\n        tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n        <em class="fas fa-ellipsis-h col-feat"></em>\n    </a>\n    <div hidden>\n        <div id="modify-notes-buttons-{{note.id}}" class="dismiss-tooltip-on-click">\n            <ul class="dd-menu">\n                <li> \n                    <a ng-click="$root.editNote({type: note.type, key: note.lensId || note.collectionId, id: note.id})">\n                        <em class="far fa-edit"></em>\n                        {{::\'common.action.edit\' | message}}\n                    </a>\n                </li>\n                <li class="delete--action">\n                    <a ng-click="delete(note.id)">\n                        <em class="far fa-trash-alt col-error"></em>\n                        {{::\'common.action.delete\' | message}}\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>    \n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.confirm" ng-if="vm.confirm">\n    <h3 class="modal-heading">{{::\'common.areYouSure\' | message}}</h3>\n    <div class="alert alert-danger" ng-bind-html="(\'notes.deleteThisNote.confirm\' | message) | unsafe"></div>\n    <div>\n        <a class="btn btn-sm btn-danger-txt" ng-click="vm.confirm = false;">{{::\'common.action.cancel\' | message}}</a>\n        <a class="btn btn-sm btn-danger" ng-click="vm.confirmed = true; _delete(note.id) ">{{::\'common.action.delete\' | message}}</a>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(532));var s={method:"GET",headers:{"Content-Type":"application/json"}};r.default.directive("lensOrcidAuthor",[].concat(["$q"],[function(e){return{template:n(533),scope:{orcidId:"<"},link:function(t,n){var i=t.orcidId,a=fetch("https://pub.orcid.org/v2.1/"+i+"/person",s).then((function(e){if(e.ok)return e.json();throw e}));e.when(a).then((function(e){var n=o.extractName(e);n&&(t.name=n)}))}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.extractName=function(e){if(!e.name)return"";var t=_.get(e.name["credit-name"],"value");if(t)return t;var n=e.name["given-names"],i=e.name["family-name"];return((n?n.value:"")+" "+(i?i.value:"")).trim()}},function(e,t){e.exports='<a ui-sref="orcidProfile.scholar({orcid: orcidId})" tooltip-title="View Lens profile" class="profiles-release">\n    <span class="orcid-author-name">{{name}}</span>\n    <span class="orcid-author-id">{{orcidId}}</span>\n</a>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensOrcidAvatar",[].concat(["$http"],[function(e){return{template:'<img ng-src="{{ $root.userProfilePictureUrl(vm.key) }}" lens-avatar-fallback>',scope:{orcid:"<"},link:function(t,n){var i=t.vm={loading:!0};e.get("/lens/service/user/orcid/"+t.orcid).then((function(e){e.data&&e.data.profilePictureKey&&(i.key=e.data.profilePictureKey)})).catch((function(e){console.log("Could not load public profile data for",t.orcid)}))}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};r.default.controller("PagedResourcePaginationController",["$attrs","SharedObjectService",function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pagedResource=n.get(t.sharedObject)}]),r.default.directive("pagedResourcePagination",[function(){return{template:n(536),controller:"PagedResourcePaginationController as $paginationCtrl",bindToController:!0}}])},function(e,t){e.exports='<div class="results-pagination">\n    <form class="inline-block">\n     <label class="select select-sm" for="n">\n         <select ng-model="$paginationCtrl.pagedResource.pageSize" class="top bottom"\n             ng-options="o as \'Show \' + o + \' Results\' for o in [10,20,50,100]"\n             ng-change="$paginationCtrl.pagedResource.fetch()"\n         ></select>\n         <i></i>\n     </label>\n    </form>\n\n     <ul class="pagination pagination-xs">\n         <li><a class="settings-button fa fa-chevron-left" ng-click="$paginationCtrl.pagedResource.previousPage()"></a></li>\n         <li ng-repeat="page in $paginationCtrl.pagedResource.pageRange">\n              <a ng-class="{active: page == $paginationCtrl.pagedResource.page}" ng-click="$paginationCtrl.pagedResource.setPage(page)">{{ page + 1 }}</a>\n         </li>\n         <li><a class="settings-button fa fa-chevron-right" ng-click="$paginationCtrl.pagedResource.nextPage()"></a></li>\n     </ul>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensPatCiteHistory",[].concat(["PatCiteHistoryResource","$http"],[function(e,t){return{template:n(538),scope:{sidebar:"<"},link:function(n){var i=n.vm={items:[],loading:!0,show:!0,view:"table",orderBy:"updated"};n.refresh=function(){i.loading=!0,i.items=e.query(),i.items.$promise.then((function(){i.loading=!1})).catch((function(e){console.warn(e),i.loading=!1}))},n.delete=function(){i.promptDeleteItem.$remove().then((function(){n.refresh()})),i.promptDeleteItem=null},n.deleteAll=function(){i.promptDeleteAll=!1,t({url:"/lens/service/patcite-query",method:"DELETE"}).then((function(e){n.refresh()})).catch((function(e){console.error(e),alert("Failed to clear history. Please try again or contact support.")}))},n.save=function(){i.editQuery.$save().then((function(){n.refresh()})),i.editQuery=null},n.publish=function(){i.publishing=!0;var e=i.promptPublishItem,a=e.published,r=e.id;t({url:"/lens/service/patcite-query/"+r+"/publish/"+a}).then((function(e){n.refresh()})),i.promptPublishItem=null},n.refresh()}}}]))},function(e,t){e.exports='<div class="workarea-page--has-sidebar">\n    <div class="workarea-page-main content">\n        \n        <div ng-if="!$root.settings.recordHistory">\n            <div class="workarea-notice--large">\n                <div class="notice-icon">\n                    <em class="fal fa-history blank-page--notice--icon"></em>\n                </div>\n                <div class="notice-message">\n                    <a href="" hidden class="far fa-times notice-hide-btn"></a>\n                    <h3>Search <b>History</b> is not currently enabled</h3>\n                    <p>Visit your <a ui-sref="user.editAccount">Account Settings</a> to enable search history.</p>\n                </div>\n            </div>\n        </div>\n        \n        \n        \x3c!-- No Content --\x3e\n        <div ng-if="(!vm.loading && vm.items.length === 0 && $root.settings.recordHistory) || $root.showWorkAreaAbout" class="content">\n            <section class="blank-page--notice">\n                <h2>\n                    <em class="fad fa-quote-left blank-page--notice--icon"></em>\n                    <br>\n                    <strong>PatCite</strong> History.\n                </h2>\n                <p class="blank-page-text">\n                    PatCite Finder searches can be labled and saved, Sharing settings allow PatCite Finder searches to be shared.\n                </p>\n            </section>\n        </div>\n        \n        \x3c!-- IF Loading --\x3e\n        <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n        \n        \n        \x3c!-- Filter Message --\x3e\n        <div class="workarea--table" hidden ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading && !$root.isAnon">\n            <div class="no-content">\n                <em class="far fa-empty-set col-error"></em>\n                No results match filter\n            </div>\n        </div>\n        \n        \x3c!-- View Cards --\x3e\n        <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading && !$root.isAnon">  \n            <div class="workarea--card-item workarea--card--query"  \n                ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\'))"\n            >\n                <div class="card-item--header">\n                    <a ng-href="/lens/patcite?uid={{item.uid}}" class="card-item--title">\n                        {{item.name || \'unnnamed\'}}\n                        <p class="card-item--meta">\n                            {{::(item.published ? \'patentResults.th.published\' : \'patentResults.private\') | message}}\n                        </p>\n                    </a>\n   \n                    <div class="card-item--icon">\n                        <em class="fal fa-dna"></em>\n                    </div>\n                </div>\n                \n                <div class="card-item--footer">\n                    <div class="card-item--accessed">Created:  {{item.created | date}}</div>\n                    <div class="card-item--tools">\n                        <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-patcite-buttons-{{item.uid}}"\n                            tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                            <em class="fas fa-ellipsis-h col-feat"></em>\n                        </a>\n                        <div hidden>\n                            <div id="modify-patcite-buttons-{{item.uid}}" class="dismiss-tooltip-on-click">\n                                <ul class="dd-menu">\n                                    <li> \n                                        <a class="share" ng-click="vm.promptPublishItem = item">\n                                            <em class="far fa-users"></em>\n                                           {{::\'user.collections.publish.longDesc\' | message}} \n                                        </a>\n                                    </li>\n                                    <li class="delete--action">\n                                        <a ng-click="vm.promptDeleteItem = item"\n                                            class="delete">\n                                            <em class="col-error far fa-trash-alt"></em>\n                                            {{::\'common.action.delete\' | message}}\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        \n        \x3c!-- View Table --\x3e\n        <div class="workarea--table workarea--table--mobile workarea--table--saved-queries workarea--table--patcite" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && !vm.loading && vm.items.length">\n            <div class="div-table" id="listTable">\n                <div class="div-table-heading">\n                    <div class="div-table-row">\n                        <div class="div-table-cell">\n                            {{::\'user.history.th.query\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.dateCreated\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.lastUpdated\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.sharedWith\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.tools\' | message}}\n                            <a ng-click="vm.promptDeleteAll = true" class="delete-all clear-all"\n                                tooltip-title="{{::\'user.history.deleteAll.label\' | message}}">\n                                <em class="fa fa-minus-circle col-error"></em>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class="div-table-body">\n                    <div class="div-table-row" ng-if="vm.loading">\n                        <div>\n                            <em class="far fa-spinner fa-spin fa-fw load-icon-inline"></em>\n                            &nbsp;\n                            {{::\'common.loading\' | message}}\n                        </div>\n                    </div>\n                    <div class="div-table-row"\n                        ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\'))">\n                        <div class="div-table-cell">\n                            <a ng-href="/lens/patcite?uid={{item.uid}}">\n                                {{item.name || \'unnnamed\'}}\n                            </a>\n                        </div>\n                        <div class="div-table-cell date">\n                            {{item.created | date}}\n                        </div>\n                        <div class="div-table-cell date">\n                            {{item.updated | date}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::(item.published ? \'patentResults.th.published\' : \'patentResults.private\') | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-patcite-buttons-{{item.uid}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-patcite-buttons-{{item.uid}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li> \n                                            <a class="share" ng-click="vm.promptPublishItem = item">\n                                                <em class="far fa-users"></em>\n                                               {{::\'user.collections.publish.longDesc\' | message}} \n                                            </a>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteItem = item"\n                                                class="delete">\n                                                <em class="col-error far fa-trash-alt"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    \n    </div>    \n\n    <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.items.length && !$root.breakpoints.isMobile">\n        <div class="theiaStickySidebar">\n            <div ng-include="\'work-area-patcite-toolbar\'" include-replace></div>\n        </div>\n    </aside>\n</div>\n\n\n<div lens-modal visible="vm.promptPublishItem">\n    <h3 class="modal-heading">Publish Item?</h3>\n    <form ng-submit="publish()">\n        <label for="collectionLink">\n            {{::\'user.sharing.link\' | message}}:\n        </label>\n        <label class="input">\n            <i class="icon_append fa fa-link link"\n               ng-click="$root.copyToClipboard(\'https://www.lens.org/lens/patcite?uid=\' + vm.promptPublishItem.uid)"\n               tooltip-title="Copied to clipboard"\n               tooltip-options="::{trigger: \'click\'}"\n            ></i>\n            <input id="collectionLink"\n                name="collectionLink"\n                readonly="readonly"\n                class="full"\n                value="https://www.lens.org/lens/patcite?uid={{vm.promptPublishItem.uid}}"\n            />\n        </label>\n        <br>\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                 {{::\'user.sharing.who\' | message}}\n            </div>\n            <div class="panel-body panel-body--share-options">\n                <label class="radio">\n                    <input type="radio" ng-model="vm.promptPublishItem.published" ng-value="false">\n                    <i></i>\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info\' | message}}\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info.sub\' | message}}\n                </label>\n                <label class="radio">\n                    <input type="radio" ng-model="vm.promptPublishItem.published" ng-value="true">\n                    <i></i>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info\' | message | unsafe"></div>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info.sub\' | message | unsafe"></div>\n                </label>\n            </div>\n        </div>\n\n        <div class="pull-right">\n            <a class="btn btn-sm btn-danger-txt" ng-click="vm.promptPublishItem = null">{{\'common.action.cancel\' | message}}</a>\n            <button class="btn btn-sm btn-pri">Publish</button>\n        </div>\n    </form>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteItem">\n    <h3 class="modal-heading">Delete History Item?</h3>\n    <div class="alert alert-danger">This item will be permanently deleted. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteItem = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteItem)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteAll">\n    <h3 class="modal-heading">Delete all History?</h3>\n    <div class="alert alert-danger">This will permanently delete all history. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteAll = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteAll)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var r=new(a(n(2)).default)("global");i.default.directive("lensPatSeqFinderHistory",[].concat(["BlastResource","$http"],[function(e,t){return{template:n(540),scope:{sidebar:"<"},link:function(n){var i=n.vm={items:[],loading:!0,show:!0,view:r.get("workarea-view")||"table",orderBy:"updated"};n.refresh=function(){i.loading=!0,i.items=e.query(),i.items.$promise.then((function(){i.loading=!1})).catch((function(e){console.warn(e),i.loading=!1}))},n.setView=function(e){i.view=e,r.set("workarea-view",e)},n.delete=function(){i.promptDeleteItem.$remove().then((function(){n.refresh()})),i.promptDeleteItem=null},n.deleteAll=function(){i.promptDeleteAll=!1,t({url:"/lens/service/blast",method:"DELETE"}).then((function(e){n.refresh()})).catch((function(e){console.error(e),alert("Failed to clear history. Please try again or contact support.")}))},n.save=function(){i.editQuery.$save().then((function(){n.refresh()})),i.editQuery=null},n.publish=function(){i.publishing=!0;var e=i.promptPublishItem,a=e.published,r=e.id;t({url:"/lens/service/blast/"+r+"/publish/"+a}).then((function(e){n.refresh()})),i.promptPublishItem=null},n.refresh()}}}]))},function(e,t){e.exports='<div class="workarea-page--has-sidebar">\n    <div class="workarea-page-main content">\n        \n        <div ng-if="!$root.settings.recordHistory">\n            <div class="workarea-notice--large">\n                <div class="notice-icon">\n                    <em class="fal fa-history blank-page--notice--icon"></em>\n                </div>\n                <div class="notice-message">\n                    <a href="" hidden class="far fa-times notice-hide-btn"></a>\n                    <h3>Search <b>History</b> is not currently enabled</h3>\n                    <p>Visit your <a ui-sref="user.editAccount">Account Settings</a> to enable search history.</p>\n                </div>\n            </div>\n        </div> \n        \n        \x3c!-- No Content --\x3e\n        <div ng-if="(!vm.loading && vm.items.length === 0 && $root.settings.recordHistory) || $root.showWorkAreaAbout" class="content">\n            <section class="blank-page--notice">\n                <h2>\n                    <em class="fad fa-dna blank-page--notice--icon"></em>\n                    <br>\n                    <strong>PatSeq Finder</strong> History.\n                </h2>\n                <p class="blank-page-text">\n                    PatSeq Finder searches can be labled and saved, Sharing settings allow PatSeq Finder searches to be shared.\n                </p>\n            </section>\n        </div>\n                \n        \x3c!-- IF Loading --\x3e\n        <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n  \n  \n        \x3c!-- Filter Message --\x3e\n        <div class="workarea--table" hidden ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading">\n            <div class="no-content">\n                <em class="far fa-empty-set col-error"></em>\n                No results match filter\n            </div>\n        </div>\n        \n        \n        \x3c!-- View Cards --\x3e\n        <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading">  \n            <div class="workarea--card-item"  \n                ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\'))"\n            >\n                <div class="card-item--header">\n                    <a ng-href="/lens/bio/patseqfinder#results/{{item.uid}}" class="card-item--title">\n                        {{item.name}}\n                        <p class="card-item--meta">\n                            {{item.published ? \'published\' : \'private\'}}\n                        </p>\n                    </a>\n   \n                    <div class="card-item--icon">\n                        <em class="fal fa-dna"></em>\n                    </div>\n                </div>\n                \n                <div class="card-item--footer">\n                    <div class="card-item--accessed">Created:  {{item.created | date}}</div>\n                    <div class="card-item--tools">\n                        <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-psf-buttons-{{item.uid}}"\n                            tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                            <em class="fas fa-ellipsis-h col-feat"></em>\n                        </a>\n                        <div hidden>\n                            <div id="modify-psf-buttons-{{item.uid}}" class="dismiss-tooltip-on-click">\n                                <ul class="dd-menu">\n                                    <li> \n                                        <a class="share"\n                                            ng-click="vm.promptPublishItem = item">\n                                            <em class="far fa-users"></em>\n                                            {{::\'user.collections.publish.longDesc\' | message}} \n                                        </a>\n                                    </li>\n                                    <li class="delete--action">\n                                        <a ng-click="vm.promptDeleteItem = item"\n                                            class="delete">\n                                            <em class="col-error far fa-trash-alt"></em>\n                                            {{::\'common.action.delete\' | message}}\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        \x3c!-- View Table --\x3e\n        <div class="workarea--table workarea--table--mobile workarea--table--saved-queries workarea--table--psf" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && !vm.loading && vm.items.length">\n            <div class="div-table" data-filter="#filter">\n                <div class="div-table-heading">\n                    <div class="div-table-row">\n                        <div class="div-table-cell">\n                            {{::\'user.history.th.query\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.dateCreated\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.lastUpdated\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.sharedWith\' | message}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::\'common.tools\' | message}}\n                            <a ng-click="vm.promptDeleteAll = true"\n                               class="delete-all clear-all"\n                               tooltip-title="{{::\'user.history.deleteAll.label\' | message}}">\n                                <em class="fa fa-minus-circle col-error"></em>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class="div-table-body">\n                    <div class="div-table-row"\n                         ng-if="vm.loading">\n                        <div>\n                            <em class="far fa-spinner fa-spin fa-fw load-icon-inline"></em>\n                            &nbsp;\n                            {{::\'user.blast.loading\' | message}}\n                        </div>\n                    </div>\n                    <div class="div-table-row" ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\'))">\n                        <div class="div-table-cell">\n                            <a ng-href="/lens/bio/patseqfinder#results/{{item.uid}}">\n                                {{item.name}}\n                            </a>\n                        </div>\n                        <div class="div-table-cell">\n                            {{item.created | date}}\n                        </div>\n                        <div class="div-table-cell date">\n                            {{item.updated | date}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{item.published ? \'published\' : \'private\'}}\n                        </div>\n                        <div class="div-table-cell">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-psf-buttons-{{item.uid}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-psf-buttons-{{item.uid}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li> \n                                            <a class="share"\n                                                ng-click="vm.promptPublishItem = item">\n                                                <em class="far fa-users"></em>\n                                                {{::\'user.collections.publish.longDesc\' | message}} \n                                            </a>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteItem = item"\n                                                class="delete">\n                                                <em class="col-error far fa-trash-alt"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n        \n    \n    <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.items.length && !$root.breakpoints.isMobile">\n        <div class="theiaStickySidebar">\n            <div ng-include="\'work-area-psf-toolbar\'" include-replace></div>\n        </div>\n    </aside>\n</div>\n\n\n<div lens-modal size="\'sm\'" visible="vm.promptPublishItem">\n    <h3 class="modal-heading">Publish Item?</h3>\n    <form ng-submit="publish()">\n        <label for="collectionLink">\n            {{::\'user.sharing.link\' | message}}:\n        </label>\n        <label class="input">\n            <i class="icon_append fa fa-link link"\n               ng-click="$root.copyToClipboard(\'https://www.lens.org/lens/bio/patseqfinder#results/\' + vm.promptPublishItem.uid)"\n               tooltip-title="Copied to clipboard"\n               tooltip-options="::{trigger: \'click\'}"\n            ></i>\n            <input id="collectionLink"\n                name="collectionLink"\n                readonly="readonly"\n                class="full"\n                value="https://www.lens.org/lens/bio/patseqfinder#results/{{vm.promptPublishItem.uid}}"\n            />\n        </label>\n        <br>\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                 {{::\'user.sharing.who\' | message}}\n            </div>\n            <div class="panel-body panel-body--share-options">\n                <label class="radio">\n                    <input type="radio" ng-model="vm.promptPublishItem.published" ng-value="false">\n                    <i></i>\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info\' | message}}\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info.sub\' | message}}\n                </label>\n                <label class="radio">\n                    <input type="radio" ng-model="vm.promptPublishItem.published" ng-value="true">\n                    <i></i>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info\' | message | unsafe"></div>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info.sub\' | message | unsafe"></div>\n                </label>\n            </div>\n        </div>\n\n        <div class="pull-right">\n            <a class="btn btn-sm btn-danger-txt" ng-click="vm.promptPublishItem = null">{{\'common.action.cancel\' | message}}</a>\n            <button class="btn btn-sm btn-pri">Publish</button>\n        </div>\n    </form>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteItem">\n    <h3 class="modal-heading">Delete History Item?</h3>\n    <div class="alert alert-danger">This item will be permanently deleted. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteItem = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteItem)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteAll">\n    <h3 class="modal-heading">Delete all History?</h3>\n    <div class="alert alert-danger">This will permanently delete all history. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteAll = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="deleteAll()">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=n(542),s={zoomPosition:"original"};r.default.directive("lensPatentDocPreview",[].concat(["$rootScope"],[function(e){return{template:n(171),scope:{patent:"<"},link:function(t,n){var i=t.patent.docAssets.images,a=$("<img>"),r=t.vm={index:0,src:i[0].thumb,zoom:!1},l=function(){r.loadingImage=!0;var e=i[r.index].full;r._src=e,a.attr({src:e})};t.updateImage=l;var c=void 0,u=function(){c&&c.kill&&(console.log("disable existing zoom"),c.kill()),c=new o(document.getElementById("zoom-container"),s),console.log("enableZoom")};t.toggleZoom=function(){r.zoom=!r.zoom,r.zoom?u():(c.kill(),c=null,console.log("disableZoom"))},t.setPage=function(e){r.loadingImage||(r.index=e,l())},t.nextPage=function(){r.loadingImage||r.index<i.length-1&&(r.index=r.index+1,l())},t.previousPage=function(){r.loadingImage||r.index>0&&(r.index=r.index-1,l())},a.on("load",(function(){r.src=r._src,r.loadingImage=!1,_.defer((function(){r.zoom&&u()})),t.$apply()})),a.on("error",(function(){r.loadingImage=!1,t.$apply()}));var d=function(n){"ArrowLeft"===n.key&&(t.previousPage(),t.$apply()),"ArrowRight"===n.key&&(t.nextPage(),t.$apply()),"Escape"===n.key&&(t.$parent.$ctrl.state.patentDocPreview=null,e.$apply())};$(window).on("keyup",d),t.$on("$destroy",(function(){$(window).off("keyup",d)})),t.rotate=function(e){r.rotate||(r.rotate=0),r.rotate+=e,360!==r.rotate&&-360!==r.rotate||(r.rotate=0)},l()}}}]))},function(e,t,n){var i,a;i=this,a=function(){return function(e,t){"use strict";var n=t;if(e){var i,a,r,o={sourceImg:{element:null,width:0,height:0,naturalWidth:0,naturalHeight:0},zoomedImgOffset:{vertical:0,horizontal:0},zoomedImg:{element:null,width:0,height:0},zoomLens:{element:null,width:0,height:0}},s=document.createElement("div"),l=document.createElement("div");o.zoomedImgOffset={vertical:n.offset&&n.offset.vertical?n.offset.vertical:0,horizontal:n.offset&&n.offset.horizontal?n.offset.horizontal:0},o.zoomPosition=n.zoomPosition||"right",o.zoomContainer=n.zoomContainer?n.zoomContainer:e;var c={handleEvent:function(e){switch(e.type){case"mousemove":return this.handleMouseMove(e);case"mouseenter":return this.handleMouseEnter(e);case"mouseleave":return this.handleMouseLeave(e);case"scroll":return this.handleScroll(e)}},handleMouseMove:function(e){var t,n,s;r&&(t=p(e.clientX-r.left),n=f(e.clientY-r.top),s="-"+t*i+"px -"+n*a+"px",o.zoomedImg.element.style.backgroundPosition=s,o.zoomLens.element.style.cssText+="top:"+n+"px;left:"+t+"px;display: block;")},handleMouseEnter:function(){o.zoomedImg.element.style.display="block",o.zoomLens.element.style.display="block"},handleMouseLeave:function(){o.zoomedImg.element.style.display="none",o.zoomLens.element.style.display="none"},handleScroll:function(){r=u(o.sourceImg.element)}};return h(),o.sourceImg.element.complete?m():o.sourceImg.element.onload=m,{setup:function(){h()},kill:function(){y()},_getInstanceInfo:function(){return{setup:h,kill:y,onSourceImgLoad:m,data:o,options:n}}}}function u(e){if(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}}return{left:0,top:0}}function d(e,t,n){return function(e,t,n){return e<t?t:e>n?n:e}(e,t,n)-t}function p(e){var t,i=o.zoomLens.width/2;return d(e,i,(t=i,n.width-t))}function f(e){var t,i=o.zoomLens.height/2;return d(e,i,(t=i,n.height-t))}function m(){n.height=n.height||o.sourceImg.element.height,o.sourceImg.element.style.height=n.height+"px",n.width=n.width||o.sourceImg.element.width,o.sourceImg.element.style.width=n.width+"px",function(e,t){e.scale?(t.zoomedImg.element.style.width=e.width*e.scale+"px",t.zoomedImg.element.style.height=e.height*e.scale+"px"):e.zoomWidth?(t.zoomedImg.element.style.width=e.zoomWidth+"px",t.zoomedImg.element.style.height=t.sourceImg.element.style.height):(t.zoomedImg.element.style.width="100%",t.zoomedImg.element.style.height="100%")}(n,o),o.sourceImg.naturalWidth=o.sourceImg.element.naturalWidth,o.sourceImg.naturalHeight=o.sourceImg.element.naturalHeight,o.zoomedImg.element.style.backgroundSize=o.sourceImg.naturalWidth+"px "+o.sourceImg.naturalHeight+"px",n.zoomStyle&&(o.zoomedImg.element.style.cssText+=n.zoomStyle),n.zoomLensStyle?o.zoomLens.element.style.cssText+=n.zoomLensStyle:(o.zoomLens.element.style.background="white",o.zoomLens.element.style.opacity="0.4"),i=o.sourceImg.naturalWidth/n.width,a=o.sourceImg.naturalHeight/n.height,r=u(o.sourceImg.element),n.scale?(o.zoomLens.width=n.width/(o.sourceImg.naturalWidth/(n.width*n.scale)),o.zoomLens.height=n.height/(o.sourceImg.naturalHeight/(n.height*n.scale))):n.zoomWidth?(o.zoomLens.width=n.zoomWidth/i,o.zoomLens.height=n.height/a):(o.zoomedImg.element.style.display="block",o.zoomLens.width=o.zoomedImg.element.clientWidth/i,o.zoomLens.height=o.zoomedImg.element.clientHeight/a,o.zoomedImg.element.style.display="none"),o.zoomLens.element.style.position="absolute",o.zoomLens.element.style.width=o.zoomLens.width+"px",o.zoomLens.element.style.height=o.zoomLens.height+"px",o.zoomLens.element.pointerEvents="none"}function h(){if(n.img){var t=document.createElement("img");t.src=n.img,o.sourceImg.element=e.appendChild(t)}else o.sourceImg.element=e.children[0],"IMG"!==o.sourceImg.element.nodeName&&(o.sourceImg.element=o.sourceImg.element.querySelector("img"));switch(n=n||{},e.style.position="relative",o.sourceImg.element.style.width=n.width?n.width+"px":"auto",o.sourceImg.element.style.height=n.height?n.height+"px":"auto",o.zoomLens.element=e.appendChild(l),o.zoomLens.element.style.display="none",o.zoomLens.element.classList.add("js-image-zoom__zoomed-area"),o.zoomedImg.element=o.zoomContainer.appendChild(s),o.zoomedImg.element.classList.add("js-image-zoom__zoomed-image"),o.zoomedImg.element.style.backgroundImage="url('"+o.sourceImg.element.src+"')",o.zoomedImg.element.style.backgroundRepeat="no-repeat",o.zoomedImg.element.style.display="none",o.zoomPosition){case"left":o.zoomedImg.element.style.position="absolute",o.zoomedImg.element.style.top=o.zoomedImgOffset.vertical+"px",o.zoomedImg.element.style.left=o.zoomedImgOffset.horizontal-2*o.zoomedImgOffset.horizontal+"px",o.zoomedImg.element.style.transform="translateX(-100%)";break;case"top":o.zoomedImg.element.style.position="absolute",o.zoomedImg.element.style.top=o.zoomedImgOffset.vertical-2*o.zoomedImgOffset.vertical+"px",o.zoomedImg.element.style.left="calc(50% + "+o.zoomedImgOffset.horizontal+"px)",o.zoomedImg.element.style.transform="translate3d(-50%, -100%, 0)";break;case"bottom":o.zoomedImg.element.style.position="absolute",o.zoomedImg.element.style.bottom=o.zoomedImgOffset.vertical-2*o.zoomedImgOffset.vertical+"px",o.zoomedImg.element.style.left="calc(50% + "+o.zoomedImgOffset.horizontal+"px)",o.zoomedImg.element.style.transform="translate3d(-50%, 100%, 0)";break;case"original":o.zoomedImg.element.style.position="absolute",o.zoomedImg.element.style.top="0px",o.zoomedImg.element.style.left="0px";break;default:o.zoomedImg.element.style.position="absolute",o.zoomedImg.element.style.top=o.zoomedImgOffset.vertical+"px",o.zoomedImg.element.style.right=o.zoomedImgOffset.horizontal-2*o.zoomedImgOffset.horizontal+"px",o.zoomedImg.element.style.transform="translateX(100%)"}return e.addEventListener("mousemove",c,!1),e.addEventListener("mouseenter",c,!1),e.addEventListener("mouseleave",c,!1),o.zoomLens.element.addEventListener("mouseenter",c,!1),o.zoomLens.element.addEventListener("mouseleave",c,!1),window.addEventListener("scroll",c,!1),o}function y(){return e.removeEventListener("mousemove",c,!1),e.removeEventListener("mouseenter",c,!1),e.removeEventListener("mouseleave",c,!1),o.zoomLens.element.removeEventListener("mouseenter",c,!1),o.zoomLens.element.removeEventListener("mouseleave",c,!1),window.removeEventListener("scroll",c,!1),o.zoomLens&&o.zoomedImg&&(e.removeChild(o.zoomLens.element),o.zoomContainer.removeChild(o.zoomedImg.element)),n.img?e.removeChild(o.sourceImg.element):(o.sourceImg.element.style.width="",o.sourceImg.element.style.height=""),o}}},e.exports?e.exports=a():i.ImageZoom=a()},function(e,t,n){"use strict";var i,a=n(544),r=(i=a)&&i.__esModule?i:{default:i};var o=window.angular.module("lens-patent-family",["ngResource"]);o.factory("PatentFamilyResource",["$resource",function(e){return e("/lens/api/patents/families/:familyId",{},{get:{cache:!0}})}]),o.directive("lensPatentFamilyHeading",["PatentFamilyResource",function(e){return{template:n(545),scope:{familyId:"<"},link:function(t){var n="extended"===t.familyType;t.family=e.get({familyId:t.familyId,extended:n},(function(){}),(function(e){t.errorStatus=e.status}))}}}]),o.directive("lensPatentFamilyTimeline",["PatentFamilyResource","PatentService","$timeout",function(e,t,i){return{template:n(546),scope:{displayKey:"<",displayKeyAndTitle:"<",familyType:"<",familyId:"<",publicationKey:"<",members:"<"},link:function(t){var n=t.familyId,a=t.vm={loading:!0},o="extended"===t.familyType;t.family=e.get({familyId:n,extended:o},(function(e){if(a.loading=!1,e.timeline){var n=e.timeline;n.events.forEach((function(e){e.trackNum=1})),n.events.forEach((function(e){"total_duration"===e.classname&&(e.trackNum=0),e.title===t.displayKey?(e.color="purple",e.shape="square"):e.icon&&(e.color=e.icon.split("_")[0],e.shape=e.icon.split("_").pop().replace(".png",""));var i=n.events.filter((function(t){return e.trackNum===t.trackNum&&e.start===t.start}));i.length>1&&(e.trackNum=e.trackNum+=i.length)})),i((function(){var e=document.getElementById("familyTimelineContainer").offsetWidth-100;a.timelineSpec=(0,r.default)({data:n.events,width:e})}),100)}}),(function(e){a.loading=!1,a.error=!0}))}}}]),o.directive("lensPatentFamilyTables",["PatentFamilyResource",function(e){return{template:n(547),scope:{familyId:"<",familyType:"<"},link:function(t){var n="extended"===t.familyType;t.family=e.get({familyId:t.familyId,extended:n}),t.highlighted=[],t.filtered=[],t.highlight=function(e){t.highlighted.includes(e)?t.highlighted=t.highlighted.filter((function(t){return t!==e})):t.highlighted.push(e)},t.filter=function(e){t.filtered.includes(e)?t.filtered=t.filtered.filter((function(t){return t!==e})):t.filtered.push(e)},t.clearSelections=function(){t.highlighted=[],t.filtered=[]},t.isHighlighted=function(e){return _.intersection(t.highlighted,e).length>0},t.isFiltered=function(e){return _.intersection(t.filtered,e).length>0}}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.data,i={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:t+80,height:215,autosize:"fit",background:(window.THEME,"transparent"),config:{scale:{continuousPadding:20}},layer:[{mark:{type:"rule",color:"#58a0dc",strokeWidth:5,strokeCap:"round"},transform:[{filter:{field:"classname",equal:"total_duration"}}],encoding:{x:{field:"start",type:"temporal"},x2:{field:"end",type:"temporal"},y:{field:"trackNum",type:"nominal",axis:null}}},{params:[{name:"grid",select:"interval",bind:"scales",zoom:"wheel![event.shiftKey]"}],transform:[{filter:{not:{field:"classname",equal:"total_duration"}}}],mark:{type:"point",filled:!0,size:200},encoding:{x:{field:"start",type:"temporal",axis:{title:null}},y:{field:"trackNum",type:"nominal",axis:null},color:{field:"color",scale:{domain:["red","blue","purple"],range:["#f57400","#00a2b5","#c065c1"]},legend:null},shape:{field:"shape",legend:null},tooltip:[{field:"title",title:"Publication Key"},{field:"start",title:"Date",type:"temporal"},{field:"description",title:"Title"}]}}],data:{values:n}};return console.log(i),i}},function(e,t){e.exports='<div ng-bind-html="\'patent.family.heading\' | message:[family.result.size] | unsafe" ng-if="!errorStatus"></div>\n<div class="alert alert-danger" ng-if="errorStatus === 403">\n\t<em class="fa fa-exclamation-triangle"></em>\n\tThere was an error loading family data.\n\tPlease reload the page to try again.\n\tIf you get this error after reloading the page, please <a href="mailto:support@lens.org">Contact Support</a>\n</div>\n'},function(e,t){e.exports='<div ng-show="family.timeline">\n    <div id="familyTimelineContainer">\n        <div lens-vega-chart spec="vm.timelineSpec" view="vm.vegaView" ng-if="vm.timelineSpec" auto-resize="true" scroll-notice="true"></div>\n        <div class="timeline-legend">\n            <p class="meta"><strong>{{ "patent.family.timeline.key" | message }}</strong>\n                <span class="icon fa fa-circle" style="color: #f57400;"></span> {{ "patent.family.timeline.priorityApplications" | message }}\n                <span class="icon fa fa-circle" style="color: #00a2b5; margin-left: 5px;"></span> {{ "patent.family.timeline.familyPublications" | message }}\n                <span class="icon fa fa-square" style="color: #c065c1; margin-left: 5px; transform: rotate(180deg);"></span> {{ "patent.family.timeline.currentPublication" | message }}\n            </p>\n            <div class="text-small col-meta hide-item-content">\n                {{ "patent.family.timeline.instructions" | message }}\n            </div>\n        </div>\n    </div>\n    <br>\n</div>\n\n<div ng-if="vm.loading">\n    <div class="familyTimelineContainer content">\n        <em class="far fa-spinner fa-spin col-feat"></em>\n        Loading...\n    </div>\n</div>\n\n<div ng-if="vm.error && !vm.loading">\n    <div class="alert alert-warning hide-item-content">\n        There was an error loading family timeline but you can still load this family as a new search to enable further analysis.\n        \x3c!-- {{:: \'patent.family.tooBig.visualize\' | message }} --\x3e\n        \x3c!-- <em class="hide-item fa fa-times pull-right"></em> --\x3e\n    </div>\n    <a class="btn btn-xs" ui-sref="search.results({type: \'patent\', q: \'family.\' + familyType + \'.id:\' + familyId})">\n        <em class="fa fa-sitemap"></em>\n        Search Family\n    </a>\n</div>\n'},function(e,t){e.exports='\x3c!--\n{\n  "hit": {\n    "lens_id": "058-227-929-479-905",\n    "date_published": "2002-10-24",\n    "docdb_id": 288561650,\n    "lens_internal": {\n      "full_text_id_record": {\n        "lens_id": 10227738646470,\n        "extId": {\n          "id": "WO_2002083150_A1_20021024",\n          "type": 6\n        },\n        "created": "2021-01-29T09:58:45.792"\n      },\n      "docdb_priority_claims": [\n        {\n          "jurisdiction": "US",\n          "doc_number": "0111827",\n          "kind": "W",\n          "date": "2001-04-10",\n          "doc_id": 45614171,\n          "active": true\n        }\n      ],\n      "legacy_pub_key": "WO_2002_083150_A1",\n      "linked_data_states": {}\n    },\n    "biblio": {\n      "invention_title": [\n        {\n          "text": "BISPHOSPHONATE CONJUGATES AND METHODS OF MAKING AND USING THE SAME",\n          "lang": "en",\n          "data_format": "DOCDBA",\n          "source": "DOCDB"\n        },\n        {\n          "text": "CONJUGUES DE BISPHOSPHONATE ET PROCEDES DE PREPARATION ET D\'UTILISATION DE CEUX-CI",\n          "lang": "fr",\n          "data_format": "DOCDBA",\n          "source": "DOCDB"\n        }\n      ]\n    },\n    "abstract": [],\n    "claims": [],\n    "publication_type": "PATENT_APPLICATION",\n    "_Id": 5822792947990,\n    "_id": 5822792947990,\n    "alias_lens_ids": [\n      "102-277-386-464-705"\n    ]\n  },\n  "indices": [\n    0,\n    1\n  ]\n}\n--\x3e\n<div class="family-priotites">\n    <div class="family-priotites--main">\n        <h4>{{:: "patent.family.prioritiesTable.title" | message }}</h4>\n        <div class="table-responsive">\n            <div class="div-table">\n                <div class="div-table-heading">\n                    <div class="div-table-row">\n                        <div class="div-table-cell">#</div>\n                        <div class="div-table-cell">{{:: "patentField.publicationNumber" | message }}</div>\n                        <div class="div-table-cell">{{:: "patentResults.th.info" | message }}</div>\n                        <div class="div-table-cell">Publication Date</div>\n                        <div class="div-table-cell">{{:: "patent.family.priority.claims" | message }}</div>\n                    </div>\n                </div>\n                <div class="div-table-body">\n                    <div class="div-table-row" ng-repeat="hit in family.hitsWithPriorityIndices" ng-class="{selected: isHighlighted(hit.indices)}" ng-hide="isFiltered(hit.indices)">\n                        <div class="div-table-cell"><div class="div-table-head-mobile">#</div>\n                            <div class="div-table-cell-mobile">{{ $index + 1 }}</div></div>\n                        <div class="div-table-cell">\n                            <div class="div-table-head-mobile">{{:: "patentField.publicationNumber" | message }}</div>\n                            <div class="div-table-cell-mobile">\n                                <div class="doc-id">\n                                    <a ui-sref="patent.main({id: hit.hit.lens_id})" tooltip-title="{{ hit.hit.biblio.invention_title[0].text }}" class="link" ng-class="{ fullText: hit.hit.lens_internal.full_text_id_record }">\n                                        <span lens-flag jurisdiction="hit.hit.jurisdiction"></span>\n                                        {{:: hit.displayKey || hit.hit.lens_id }}\n                                    </a>\n                                </div>\n                                \x3c!--TODO what to display for unknown/ambiguous types?--\x3e\n                                <div class="doc-type">\n                                    \x3c!-- {{:: "common.doc.type" | message }}: --\x3e\n                                    <span ng-if="hit.hit.publication_type !== \'unknown\' && hit.hit.publication_type !== \'ambiguous\'">\n                                        {{:: hit.hit.publication_type | patentType }}\n                                    </span>\n                                </div>\n                                \x3c!-- <div class="lens-id">{{:: "common.id" | message }}: <a ng-href="/{{:: hit.hit.lens_id }}">lens.org/{{:: hit.hit.lens_id }}</a></div> --\x3e\n                            </div>\n                        </div>\n                        <div class="div-table-cell"><div class="div-table-head-mobile">{{:: "patentResults.th.info" | message }}</div>\n                            <div class="div-table-cell-mobile">\n                                <a ng-href="/lens/patent/{{:: hit.hit.lens_internal.legacy_pub_key }}/fulltext" title="{{:: \'chart.title.has_full_text\' | message }}" class="icon ttip-hov far col-pri fa-file-alt" ng-if="hit.hit.lens_internal.full_text_id_record"></a>\n                            </div>\n                        </div>\n                        <div class="div-table-cell"><div class="div-table-head-mobile">{{:: "patentField.date_published" | message }}</div>\n                            <div class="div-table-cell-mobile">\n                                <span ng-if="hit.hit.date_published">{{:: hit.hit.date_published | date }}</span>\n                            </div>\n                        </div>\n                        <div class="div-table-cell"><div class="div-table-head-mobile">{{:: "patent.family.priority.claims" | message }}</div>\n                            <span ng-repeat="i in hit.indices">{{:: i + 1 }}<span ng-if="!$last">, </span></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="family-priotites--sidebar" style="position: relative;">\n        <div style="position: sticky; top: 10px;">\n          <h4>{{:: "patent.family.prioritiesTable.title2" | message }}</h4>\n          <div class="table-responsive">\n              <div class="div-table">\n                  <div class="div-table-heading">\n                      <div class="div-table-row">\n                          <div class="div-table-cell">#</div>\n                          <div class="div-table-cell">{{:: "patent.family.prioritiesTable.priorityKey" | message }}</div>\n                          <div class="div-table-cell">Filing Date</div>\n                          <div class="div-table-cell">\n                              <a ng-if="family.docdbPriorities.length &gt; 1 &&  family.hitsWithPriorityIndices.length &gt; 1" ng-click="clearSelections()" tooltip-title="Clear Highlighting">\n                                  <em class="far fa-minus-circle col-error"></em>\n                              </a>\n                          </div>\n                      </div>\n                  </div>\n                  <div class="div-table-body">\n                      <div class="div-table-row" ng-repeat="priority in family.docdbPriorities">\n                          <div class="div-table-cell"><div class="div-table-head-mobile">#</div> <div class="div-table-cell-mobile">{{ $index + 1 }}</div></div>\n                          <div class="div-table-cell"><div class="div-table-head-mobile">{{:: "patent.family.prioritiesTable.priorityKey" | message }}</div>\n                              <div class="div-table-cell-mobile">\n                                  <a ng-href="/lens/patent/{{ priority.docdbPriorityKey }}" ng-if="priority.inDocDB">{{:: priority.docdbPriorityKey }}</a>\n                                  <span ng-if="!priority.inDocDB">{{:: priority.docdbPriorityKey }}</span>\n                              </div>\n                          </div>\n                          <div class="div-table-cell">\n                              <div class="div-table-head-mobile">Filing Date</div>\n                              <div class="div-table-cell-mobile">\n                                  <span ng-if="priority.publicationDate">{{:: priority.publicationDate | date }}</span>\n                              </div>\n                          </div>\n                          <div class="div-table-cell">\n                              <div class="div-table-head-mobile">\n                                  <button class="btn btn-xxs" ng-if="family.docdbPriorities.length &gt; 1 &&  family.hitsWithPriorityIndices.length &gt; 1" ng-click="clearSelections()">\n                                      {{:: "results.selectTool.clear" | message }}\n                                  </button>\n                              </div>\n                              <div class="div-table-cell-mobile">\n                                  <span>\n                                      <a class="family-priority-highlighter" ng-class="{selected: isHighlighted([$index])}" ng-click="highlight($index)" tooltip-title="Highlight">\n                                        <em class="far fa-check-circle"></em>\n                                      </a>\n                                      \x3c!-- <button class="btn btn-xxs" ng-class="{active: isFiltered([$index])}" ng-click="filter($index)">{{:: "common.filter" | message }}</button> --\x3e\n                                  </span>\n                              </div>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(549);r.default.directive("lensPatentLinkout",[].concat([],[function(){return{scope:{patent:"<"},link:function(e,t){var n=e.patent,i="";o.linkout[n.jurisdiction]&&(i=o.linkout[n.jurisdiction](n)),i&&(t.attr("href",i),t.attr("target","_blank"))}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.linkout={WO:function(e){return"https://patentscope.wipo.int/search/en/detail.jsf?docId=WO"+e.doc_number},EP:function(e){return"https://worldwide.espacenet.com/publicationDetails/biblio?FT=D&CC=EP&NR="+e.doc_number+e.kind},US:function(e){var t=e.doc_number,n=e.kind,i=e.publication_type;return"GRANTED_PATENT"===i||"DESIGN_RIGHT"===i?"http://patft.uspto.gov/netacgi/nph-Parser?Sect2=PTO1&Sect2=HITOFF&p=1&u=/netahtml/PTO/search-bool.html&r=1&f=G&l=50&d=PALL&RefSrch=yes&Query=PN/"+t:"http://appft1.uspto.gov/netacgi/nph-Parser?Sect1=PTO1&Sect2=HITOFF&d=PG01&p=1&u=/netahtml/PTO/srchnum.html&r=1&f=G&l=50&s1="+t+n+".PGNR."}}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensPatentTitle",[].concat(["$q","PatentService"],[function(e,t){return{scope:{lensId:"<"},template:'<a ng-href="/lens/patent/{{lensId}}">{{lensId}} / {{patent.title || patent.display_key}}</a>',link:function(n,i){var a=t.get(n.lensId);e.when(a).then((function(e){e&&(n.patent=e)})).catch((function(e){console.warn(e)}))}}}]))},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(552));function r(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensPieChart",[function(){return{template:'<div lens-vega-chart spec="spec"></div>',scope:{data:"<",width:"<",colourScheme:"<",elementClick:"<"},link:function(e,t,n){var i=function(){var n=e.width||t.width();n=Math.round(.4*n);var i=e.data;e.spec=(0,a.default)({values:i,width:n,colourScheme:e.colourScheme})};i(),e.$watch("data",i)}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=(e.width,e.colourScheme);if("auto"===n){n="category20c";var i=_.uniq(t.map((function(e){return e.label})));n=2!==i.length||"True"!==i[0]&&"False"!==i[0]?i.length<=10?"tableau10":"category20c":"greenblue"}return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",background:(window.THEME,"transparent"),width:"container",height:400,autosize:"fit",data:{values:t},layer:[{mark:{type:"arc",innerRadius:20,cornerRadius:3,padAngle:.01}}],transform:[{window:[{op:"sum",field:"value",as:"total"}],frame:[null,null]},{calculate:"datum.value/datum.total * 100",as:"percent"}],encoding:{theta:{field:"value",type:"quantitative",stack:!0},color:{field:"label",type:"nominal",scale:{scheme:n},legend:window.vegaLegend({orient:"bottom",direction:"horizontal",title:"Legend",padding:0,columns:3,offset:0,tickCount:3})},tooltip:[{field:"value",format:","},{field:"label"},{field:"percent",format:".2"}]},view:{stroke:null}}}},function(e,t,n){"use strict";var i=s(n(8)),a=s(n(0)),r=s(n(26)),o=n(150);function s(e){return e&&e.__esModule?e:{default:e}}var l=n(554);a.default.directive("lensPreviewAnalysisItem",[].concat(["ScholarService","$q","$rootScope"],[function(e,t,a){return{template:n(555),scope:{k:"<",type:"<",field:"=",labelFieldKey:"<",dateFilterApplied:"<",view:"<",data:"<",loading:"<",onClickItem:"<",onClickGetMore:"<",onClickLineChartPoint:"<",onClickToggleFacet:"<",onFilterYearRange:"<"},link:function(e){e.vm={fullscreen:!1,view:e.view};e.clickBarChart=function(t){e.onClickItem(e.field.key,t.data.key)},e.onClickCountry=function(t){e.onClickItem(e.field.key,t)},e.shouldFlipBarChart=function(e){return"legal_status.patent_status"!==e};_.includes(["jurisdiction","author.affiliation.grid.address.country_code"],e.k)&&(e.map={counts:{}},e.data.forEach((function(t){var n=t.label,i=t.value,a=r.default.country(n),o=a?a.name:n;e.map.counts[o]=i})));_.clone(e.data);"line"!==e.view||e.dateFilterApplied||(e.data=e.data.filter((function(e){return parseFloat(e.label)>=1900}))),e.typeMap=function(e){return"Display as "+((0,i.default)(l[e],"label")||e)},e.barChartTooltip=function(t){return"Filter by "+(t.agg||e.field.filterKey||e.k)+" = "+(t.filterValue||t.label)},e.colourScheme=function(){return"legal_status.patent_status"===e.k?o.legalStatusColourScale:"auto"}}}}]))},function(e,t,n){"use strict";e.exports={bar:{label:"Bar Chart",icon:"bar-chart"},cloud:{label:"Word Cloud",icon:"cloud"},heat:{label:"Heat Map",icon:"fire"},line:{label:"Line Chart",icon:"line-chart"},"logo-grid":{label:"Logo Grid",icon:"table"},map:{label:"World Map",icon:"map"},pie:{label:"Pie Chart",icon:"pie-chart"}}},function(e,t){e.exports='<div class="analysis-item analysis-item-preview" ng-class="{fullscreen: vm.fullscreen}" ng-if="::data.length >= 2">\n    <div class="panel panel-default">\n        <div class="panel-heading clearfix">\n            <strong ng-if="::k === \'dates\'">Publications over time</strong>\n            <strong ng-if="::k === \'author.display_name_orcid\'">Prominent Author Profiles</strong>\n            <strong ng-if="::k !== \'dates\' && k !== \'author.display_name_orcid\'">{{::$root.message(\'filters.\' + k + \'.title\') || field[labelFieldKey || \'label\'] || field.label || k}}</strong>\n        </div>\n\n        <div class="panel-body analysis-item-body" style="position: relative;" >\n            <div ng-include="\'author-profiles-chart\'" class="profiles-release"></div>\n\n            <div ng-if="::data.length > 1 && view === \'line\'"\n                lens-line-chart\n                filter-extent="[]"\n                mark="\'bar\'"\n                data="data"\n                element-click="onClickLineChartPoint"\n                filter-selection="onFilterYearRange"\n                height="160"\n                axis-label="\'Year\'"\n                y-axis-label="\'Document Count\'"\n                is-preview="true"\n                colour="type === \'patent\' ? \'#0099a5\' : null"\n            ></div>\n\n            <div lens-horizontal-bar-chart\n                data="data"\n                ng-if="::view === \'bar\' || view === \'bar-chart\'"\n                element-click="clickBarChart"\n                element-tooltip="barChartTooltip"\n                flip="shouldFlipBarChart(k)"\n                height="300"\n                limit="10"\n                colour-scheme="colourScheme()"\n                label-limit="100"\n                alternate-colours="false"\n            ></div>\n\n            <div\n                lens-world-map\n                ng-if="::vm.view === \'map\'"\n                class="lens-world-map"\n                counts="map.counts"\n                world-map-markers="[]"\n                tooltip-data="map.tooltip"\n                country-tooltip="true"\n                on-click-country="onClickCountry"\n                field-name="k === \'author.affiliation.grid.address.country_code\' ? \'Institution Country/Region\' : k"\n                height="250"\n                min-zoom="0.5"\n            ></div>\n\n            <div class="grid-applicants-panel-inset" ng-if="::data.length > 1 && view === \'logo-grid\'">\n                <div class="grid-applicants grid-applicants-lens">\n                    <div class="grid-item link"\n                        ng-repeat="(id, item) in data | limitTo:8"\n                        ng-click="onClickItem(field.key, item.key)"\n                        tooltip-title\n                        tooltip-options="::{delay: 500}"\n                        tooltip-content-selector="#logo-grid-tooltip-{{id}}"\n                        tooltip-title-variable="\'Filter by \' + k + \' = \' + item.label"\n                    >   \n                        <svg version="1.1" id="Layer_1" class="square-hold" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                        \t viewBox="0 0 300 300" style="enable-background:new 0 0 300 300;" xml:space="preserve">\n                            <rect class="st0" width="300" height="300"/>\n                        </svg>\n                        <div\n                            name="::item.label"\n                            lens-applicant-logo\n                            text-fallback="item.label"\n                        ></div>\n                        <b><a>{{::item.value | customNumber}}</a></b>\n                        <div hidden>\n                            <div id="logo-grid-tooltip-{{id}}" class="tooltip-explore">\n                                \x3c!-- or applicant / owner ? --\x3e\n                                <p class="tip-heading">Explore More</p>\n                                <ul class="list-tooltip-options">\n                                    <li>\n                                        <a ui-sref="search.results({[field.filterName + \'.must\']: item.key})">\n                                            <small>\n                                                <em class="far fa-filter"></em>\n                                                Filter this search by {{::field.label}}:\n                                            </small>\n                                            <div class="tooltip--term">\n                                                {{::item.label || item.key}}\n                                            </div>\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="search.results({[field.filterName + \'.mustNot\']: item.key})">\n                                            <small>\n                                                <em class="far fa-times-square"></em>\n                                                Exclude from this search:\n                                            </small>\n                                            <div class="tooltip--term">\n                                                {{::item.label || item.key}}\n                                            </div>\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="search.results({[field.filterName + \'.must\']: item.key, view: \'list\', type: type})" ui-sref-opts="{inherit: false}">\n                                            <small>\n                                                <em class="far fa-search"></em>\n                                                New search for {{::field.label}}:\n                                            </small>\n                                            <div class="tooltip--term">\n                                                {{::item.label || item.key}}\n                                            </div>\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensPriorityNav",[function(){return{link:function(e,t){}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensProfileLink",["$http",function(e){return{template:n(558),scope:{userId:"<",type:"<"},link:function(t,n){console.log(t.type),e.get("/lens/service/user/"+t.userId+"/publicProfile").then((function(e){console.log(e.data),t.displayName=e.data.displayName}))}}}])},function(e,t){e.exports='<span>\n    <a ui-sref="userProfile.patent({userId: userId})" ng-if="type === \'patent\'">\n        {{displayName || userId}}\n    </a>\n    <a ui-sref="userProfile.scholar({userId: userId})" ng-if="type === \'scholar\'">\n        {{displayName || userId}}\n    </a>\n</span>\n'},function(e,t,n){"use strict";var i=h(n(53)),a=h(n(25)),r=h(n(0)),o=n(560),s=n(9),l=n(561),c=n(562),u=n(85),d=n(563),p=n(564),f=n(565),m=n(566);function h(e){return e&&e.__esModule?e:{default:e}}var y=["ScholarService","$q"];r.default.directive("lensHomeHero",[].concat(y,[function(e,t){return{link:function(e,t){console.log(t)}}}])),r.default.directive("lensQuickSearch",[].concat(y,[function(e,t){return{template:n(567),scope:{type:"<",view:"<",fieldSearch:"<"},link:function(n){var r=n.vm={type:n.type,threshold:.3,selected:[],fieldSearch:n.fieldSearch,result:{view:n.view||"list"},FilterIcons:i.default};console.log(n.type);n.getIcon=function(e){return console.log("getIcon",e),r.FilterIcons.scholar[e.field]||r.FilterIcons.patent[e.field]},n.hack=function(){setTimeout((function(){window.location.reload()}))},n.focusLanding=function(){setTimeout((function(){document.querySelector(".quick-search-form-input").focus()}),600)};var h=[].concat(o.applicants.map((function(e){return{key:e.toUpperCase(),label:e,field:"applicant",type:"Applicant",patent:!0}})),f.keywords.map((function(e){return{key:e.toLowerCase(),label:e,field:"keyword",type:"Keyword"}})),c.funders.map((function(e){return{key:e,label:e,field:"funding.organisation.keyword",type:"Funder"}})),p.journals.map((function(e){return{key:e,label:e,field:"source.title",type:"Journal"}})),m.substances.map((function(e){return{key:e,label:e,field:"chemical.substance_name",type:"Substance"}})),d.institutions.map((function(e){return{key:e,label:e,field:"author.affiliation.name",type:"Institution"}})),l.fieldsOfStudy.map((function(e){return{key:e,label:e,field:"field_of_study",type:"Field of Study"}})));n.type&&(h=h.filter((function(e){return"patent"===n.type&&e.patent||"scholar"===n.type&&!e.patent})));n.change=function(){(r.term||"").length<3||function(){r.moreSuggestions=[];var t=r.term||"";if(!(t.length<3)){var i=h,o=new a.default(i,{shouldSort:!0,threshold:r.threshold||.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label"]}).search(t).slice(0,10);r.suggestions=o,r.loading=!0,e.federatedSearch(t,20).then((function(e){r.loading=!1;var i=[];_.keys(e.aggregations).forEach((function(t){e.aggregations[t].buckets.forEach((function(e){i.push({key:e.key,label:e.key,field:t,type:t})}))})),e.hits.forEach((function(e){i.push({key:e.title,label:e.title,field:"title",type:"Title"})})),console.log({results:i}),r.moreSuggestions=new a.default(i,{shouldSort:!0,threshold:r.threshold||.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label"]}).search(t).slice(0,10),n.$apply()})),0===o.length&&console.log("No results found. Run federated facet search?")}}()},n.select=function(n){r.error=null,r.selected.push(n),r.promptSubmit=!0,r.term="",r.suggestions=[],r.loading=!0;var i=e.facets({q:n.field+': "'+n.key+'"'},{result:{terms:{field:(0,u.getKeywordField)(n.field),size:20}}});t.when(i).then((function(e){e.result.forEach((function(e){e.patent=!1,e.type=s.fieldsMap[n.field].label,e.field=n.field})),console.log(e),r.suggestions=e.result,r.loading=!1})).catch((function(e){r.loading=!1,r.error=e}))},n.searchParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AND",t=_.uniq(r.selected.map((function(e){return e.patent}))),n=r.selected.map((function(e){return e.field+': "'+e.key+'"'})).join(" "+e+" ");return{type:1===t.length&&t[0]?"patent":"scholar",view:r.result.view||"list",q:n}},n.fieldSearch=function(){if(r.fieldTips={patent:{},scholar:{}},(r.fieldsFilterInput||"").length){var e=_.clone(window.FUSE_OPTS);e.shouldSort=!1,e.threshold=.3,e.keys=["key","label"],r.fieldTips=new a.default(s.fieldsList[n.type||"scholar"].filter((function(e){return e.type})),e).search(r.fieldsFilterInput)}else r.fieldTips=[];console.log(r.fieldTips)},n.clickSuggestion=function(e){}}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.applicants=["Schlumberger Technology Corp","Vertex Pharma","Toshiba Kk","Daewoo Electronics Corp","Max Co Ltd","Toyoda Automatic Loom Works","Nokia Telecommunications Oy","Cabot Corp","Valeo Vision","Lg Philips Lcd Co Ltd","Lely Nv C Van Der","Exxonmobil Upstream Res Co","Takenaka Komuten Co","Seiko Epson Corp","St Microelectronics Srl","Idemitsu Petrochemical Co","Digital Equipment Corp","Sap Ag","Teva Pharma","Autoliv Dev","Hitachi Ltd","Tdk Corp","Toshiba Machine Co Ltd","Rhone Poulenc Ind","Shinetsu Chemical Co","Nestle Sa","Hitachi Chemical Co Ltd","Delta Electronics Inc","엘지전자 주식회사","Metallgesellschaft Ag","Japan Tobacco Inc","Shell Oil Co","Combustion Eng","Windmoeller & Hoelscher","Kansai Paint Co Ltd","Nsk Ltd","Kyocera Document Solutions Inc","Univ South China Tech","Univ Shanghai","Borgwarner Inc","Siemens Ag","Renault","Bendix Aviat Corp","Yahoo Inc","Matsushita Electric Ind Co Ltd","Advanced Risc Mach Ltd","Astra Ab","Nissan Motor","Yeda Res & Dev","Nortel Networks Ltd","Consejo Superior Investigacion","Corning Glass Works","Japan Radio Co Ltd","Ugine Kuhlmann","Union Carbide Corp","Standard Telephones Cables Ltd","Gen Electric","Merrell Dow Pharma","Deutsche Telekom Ag","Funai Electric Co","Whirlpool Co","Corning Inc","Univ Jiangnan","Amada Co Ltd","Samsung Sdi Co Ltd","Centre Nat Rech Scient","Burroughs Corp","Norton Co","Hitachi Seisakusho Kk","Honeywell Int Inc","Ici Plc","Univ Wuhan Tech","コニカミノルタ株式会社","本田技研工業株式会社","Sophia Co Ltd","Univ Illinois","Toray Industries","Nissan Chemical Ind Ltd","Sony Ericsson Mobile Comm Ab","Petrochina Co Ltd","トヨタ自動車株式会社","Gillette Co","Lsis Co Ltd","Kt Corp","Dell Products Lp","Beecham Group Ltd","Fiat Auto Spa","Nippon Kokan Kk","Byd Co Ltd","三菱電機株式会社","Tyco Electronics Corp","Univ Florida","Hamamatsu Photonics Kk","Ericsson Telefon Ab L M (publ)","China Nat Petroleum Corp","Ge Med Sys Global Tech Co Llc","Toyo Boseki","Rolls Royce Plc","Owens Corning Fiberglass Corp","Sk Telecom Co Ltd","Exxon Research Engineering Co","Roche Diagnostics Gmbh","Univ Jinan","Telefunken Gmbh","Univ Zhejiang Science & Tech","Huawei Tech Co Ltd","Hughes Aircraft Co","Tyco Healthcare","Nok Corp","Semiconductor Mfg Int Shanghai","Oracle Int Corp","Mediatek Inc","Yoshida Kogyo Kk","Novartis Ag","Nxp Bv","Tetra Laval Holdings & Finance","株式会社デンソー","京セラ株式会社","Univ Beijing","Unilever Plc","Oji Paper Co","Rolls Royce","Ricoh Kk","Univ Shanghai Science & Tech","Messerschmitt Boelkow Blohm","Sumitomo Metal Mining Co","Delphi Tech Inc","Henkel & Cie Gmbh","Merck Patent Gmbh","Hynix Semiconductor Inc","Thales Sa","Wacker Chemie Ag","Univ Jilin","Bp Chem Int Ltd","Meidensha Electric Mfg Co Ltd","Tokyo Ohka Kogyo Co Ltd","Emc Corp","Nippon Electric Glass Co","Konica Minolta Opto Inc","Lg Display Co Ltd","Teijin Ltd","Linde Ag","Hewlett Packard Co","Tokyo Electric Co Ltd","Interdigital Tech Corp","Asea Ab","Smithkline Beecham Corp","Secr Defence","Tokyo Sanyo Electric Co","Sanyo Product Co Ltd","Nec Corp","Colgate Palmolive Co","Smithkline Beecham Plc","Null, Null","Nippon Electric Co","Brother Ind Ltd","Shinetsu Handotai Kk","Goodyear Tire & Rubber","Univ Fudan","Renesas Electronics Corp","Nippon Kayaku Kk","Bayer Ip Gmbh","United Technologies Corp","Roehm Gmbh","Hino Motors Ltd","Samsung Electronics Co Ltd","China Electric Power Res Inst","Kolon Inc","Baker Hughes Inc","Lg Innotek Co Ltd","Fuji Photo Optical Co Ltd","Skf Ab","Asea Brown Boveri","Scania Cv Ab","Gen Electric Canada","Minebea Co Ltd","Bell Telephone Labor Inc","Chevron Res","Hoffmann La Roche","シャープ株式会社","Solvay","Medtronic Inc","United Shoe Machinery Corp","Sankyo Co","Sony Computer Entertainment Inc","Univ Xi An Jiaotong","Plasser Bahnbaumasch Franz","Inax Corp","Dow Chemical Co","Exxon Chemical Patents Inc","Univ Tohoku","Matsushita Refrigeration","Univ East China Science & Tech","Allied Chem","Denki Kagaku Kogyo Kk","Kanebo Ltd","Thomson Licensing Sa","Seiko Instr Inc","Inventio Ag","Arkema France","Daewoo Motor Co Ltd","Dainippon Printing Co Ltd","Snam Progetti","Univ Zhejiang Ocean","Mahle Int Gmbh","Union Carbide Chem Plastic","Bendix Corp","Kyowa Hakko Kogyo Kk","Univ Beihang","Sanden Corp","Dart Ind Inc","Freescale Semiconductor Inc","Ngk Insulators Ltd","Gen Hospital Corp","Bausch & Lomb","Outokumpu Oy","Bosch Gmbh Robert","Philips Nv","Applied Materials Inc","Japan Science & Tech Corp","Asahi Optical Co Ltd","Sanofi Aventis Deutschland","Hitachi Medical Corp","Olympus Medical Systems Corp","Lg Chemical Ltd","Phillips Petroleum Co","Lucas Industries Ltd","Black & Decker Inc","Fuji Photo Film Co Ltd","Monsanto Co","Univ Pennsylvania","Scripps Research Inst","Renesas Tech Corp","Kogyo Gijutsuin","Freudenberg Carl Kg","Eaton Corp","Microsoft Technology Licensing Llc","Lundbeck & Co As H","Ind Tech Res Inst","Jfe Steel Corp","Zte Corp","Alibaba Group Holding Ltd","Abb Research Ltd","Council Scient Ind Res","Asahi Chemical Ind","Shin Kobe Electric Machinery","Abbott Lab","Chevron Usa Inc","Hitachi Automotive Systems Ltd","Squibb & Sons Inc","Texaco Development Corp","Michelin Soc Tech","Ford Global Tech Llc","Amazon Tech Inc","Mitsubishi Gas Chemical Co","Cree Inc","Univ Tianjin","Du Pont","Fujitsu Ten Ltd","Hamilton Sundstrand Corp","Upjohn Co","Hyundai Electronics Ind","Rhodia Chimie Sa","Nippon Steel Corp","Pioneer Electronic Corp","Polaroid Corp","Telefonaktiebolaget Lm Ericsson Publ","Tokyo Shibaura Electric Co","Raytheon Co","キヤノン株式会社","Hitachi Maxell","Shiseido Co Ltd","Philips Electronics Nv","Hilti Ag","Dow Global Technologies Llc","Dainippon Ink & Chemicals","Ibm","Yazaki Corp","Us Health","Sanofi Aventis","Minnesota Mining & Mfg","Aluminum Co Of America","Westinghouse Canada Ltd","Samsung Heavy Ind","Janssen Pharmaceutica Nv","Glory Kogyo Kk","Unilever Nv","Clarion Co Ltd","Univ Kunming Science & Tech","China Petrochemical Corp","Hoechst Ag","Anhui Jianghuai Automobile Co","Ingersoll Rand Co","Saint Gobain","Harbin Inst Of Technology","Nifco Inc","Daido Steel Co Ltd","Inst Nat Sante Rech Med","Nat Semiconductor Corp","Boe Technology Group Co Ltd","Samsung Mobile Display Co Ltd","International Business Machines Corporation","Matsushita Denki Sangyo Kk","Ici Ltd","Baxter Int","Lg Electronics Inc","Globalfoundries Inc","Nippon Denki Kk","Sagem","Sumitomo Heavy Industries","Central Glass Co Ltd","Harvard College","Mitsumi Electric Co","Rieter Ag Maschf","Chugoku Electric Power","Wellcome Found","Aventis Pharma Sa","Johnson Controls Tech Co","Warner Lambert Co","Shinko Electric Ind Co","Ethicon Endo Surgery Inc","Ciba Geigy Corp","Monsanto Technology Llc","Evonik Degussa Gmbh","Mitsubishi Chem Ind","Univ Columbia","Suwa Seikosha Kk","Gm Global Tech Operations Llc","Fujikura Ltd","Schott Ag","Asustek Comp Inc","Peugeot","Nippon Electric Eng","Japan Broadcasting Corp","Jsr Corp","Kureha Chemical Ind Co Ltd","Nintendo Co Ltd","Richter Gedeon Vegyeszet","Acer Inc","Topcon Corp","Atomic Energy Authority Uk","Silverbrook Res Pty Ltd","Mitsubishi Paper Mills Ltd","Boehringer Ingelheim Pharma","Univ China Mining","Ohbayashi Corp","Kone Corp","Chisso Corp","California Inst Of Techn","Boehringer Mannheim Gmbh","Babcock & Wilcox Co","Universal Oil Prod Co","Kuraray Co","Lear Corp","Bayer Ag","Caterpillar Inc","Yokogawa Electric Corp","Oki Data Kk","Metso Paper Inc","Honeywell Inc","Beiersdorf Ag","Asahi Kasei Chemicals Corp","Bosch Siemens Hausgeraete","Shenzhen China Star Optoelect","Caterpillar Tractor Co","Heidelberger Druckmasch Ag","Panasonic Elec Works Co Ltd","Univ Shandong","Facebook Inc","Mitsui Chemicals Inc","Fanuc Corp","Igt Reno Nev","Visteon Global Tech Inc","Univ Electronic Science & Tech","Univ China Petroleum","Mitsubishi Electric Corp","State Grid Corp China","Kimberly Clark Co","Daifuku Kk","Daimler Chrysler Ag","Airbus Operations Gmbh","Akzo Nv","Schering Ag","Kyocera Mita Corp","Guangdong Oppo Mobile Telecommunications Corp Ltd","Nippon Sheet Glass Co Ltd","Hewlett Packard Development Co","American Home Prod","Riso Kagaku Corp","Tokai Rika Co Ltd","Huels Chemische Werke Ag","Amgen Inc","Uop Llc","Nec Electronics Corp","Univ Xidian","Boston Scient Scimed Inc","Japan Science & Tech Agency","Dsm Nv","Calsonic Kansei Corp","Singer Co","Gd Spa","Mitutoyo Corp","Nat Res Dev","Broadcom Corp","Thomson Houston Comp Francaise","Nisshin Steel Co Ltd","Kennametal Inc","Eastman Kodak Co","Philip Morris Products Sa","Kia Motors Corp","Yokohama Rubber Co Ltd","Univ Michigan","Hitachi Koki Kk","Bae Systems Plc","Nvidia Corp","Ford Motor Co","Michelin & Cie","Siemens Ag, 1000 Berlin Und 8000 Muenchen","Univ Huazhong Science Tech","Dow Agrosciences Llc","Rockwell International Corp","Battelle Memorial Institute","Koyo Seiko Co","Nasa","Teves Gmbh Alfred","Jtekt Corp","Wistron Corp","Nippon Soken","Standard Oil Co","Toyoda Gosei Kk","Midea Group Co Ltd","Res Inst Ind Science & Tech","Sumitomo Wiring Systems","Cit Alcatel","Taiyo Yuden Kk","Hyundai Mobis Co Ltd","Tokai Rubber Ind Ltd","Schaeffler Technologies Ag","Western Electric Co","Univ California","United Microelectronics Corp","Ethicon Inc","Lohmann Therapie Syst Lts","Alza Corp","Fujitsu Ltd","Hitachi Cable","Covidien Lp","Sony Corp","Gen Instrument Corp","Toyota Motor Co Ltd","Coca Cola Co","Kubota Kk","Chugai Pharmaceutical Co Ltd","Saint Gobain Vitrage","クゥアルコム・インコーポレイテッドｑｕａｌｃｏｍｍ Ｉｎｃｏｒｐｏｒａｔｅｄ","British Petroleum Co","Hon Hai Prec Ind Co Ltd","Valeo","Konica Minolta Business Tech","Nippon Steel & Sumitomo Metal Corp","Daimler Ag","Univ Johns Hopkins","Panasonic Ip Man Co Ltd","Montedison Spa","British Thomson Houston Co Ltd","Nokia Technologies Oy","Kawasaki Heavy Ind Ltd","China Nat Offshore Oil Corp","Nikon Corp","Univ Shaanxi Science & Tech","Rhone Poulenc Agrochimie","Koito Mfg Co Ltd","Seagate Technology Llc","Norsk Hydro As","Thomson Csf","Mita Industrial Co Ltd","Hongfujin Prec Ind Shenzhen","Kubota Ltd","Inst Francais Du Petrole","Fichtel & Sachs Ag","Univ Southeast","Sandvik Intellectual Property","Toshiba Tec Kk","Rhone Poulenc Chimie","Lg Electronics Tianjin","China Petroleum & Chem Corp","St Microelectronics Sa","Abb Technology Ag","Agency Science Tech & Res","Sanyo Chemical Ind Ltd","Geigy Ag J R","Koninkl Philips Electronics Nv","China Mobile Comm Corp","Max Planck Gesellschaft","Squibb Bristol Myers Co","Novozymes As","Hitachi High Tech Corp","Johnson & Son Inc S C","Grace W R & Co","Bayer Cropscience Ag","Ppg Ind Ohio Inc","Michelin Rech Tech","Univ China Agricultural","Rhone Poulenc Sa","Terumo Corp","Us Navy","Univ Tokyo","Sony Electronics Inc","Licentia Gmbh","Zhuhai Gree Elec Appliances","Henkel Kgaa","Ushio Electric Inc","Airbus Operations Sas","Pfizer","Thomson Brandt Gmbh","Yaskawa Denki Seisakusho Kk","Toyota Ind Corp","Bbc Brown Boveri & Cie","Mitsubishi Motors Corp","Yamaha Corp","セイコーエプソン株式会社","Idemitsu Kosan Co","Thomson Consumer Electronics","Daikin Ind Ltd","Molex Inc","At & T Ip I Lp","Oceans King Lighting Science","Nippon Telegraph & Telephone","Daewoo Shipbuilding & Marine","Hyundai Motor Co Ltd","Xerox Corp","Google Inc","Volkswagen Ag","Infineon Technologies Ag","Seikosha Kk","Toyo Tire & Rubber Co","Makita Corp","Suzuki Motor Corp","Aerospatiale","Raychem Corp","Mead Corp","Mando Corp","Beijing Inst Technology","Inventec Corp","Sms Demag Ag","Hyun Dai Heavy Ind Co Ltd","Shin Meiwa Ind Co Ltd","Hoya Corp","Asml Netherlands Bv","Stauffer Chemical Co","Continental Automotive Gmbh","Korea Electronics Telecomm","Nippon Kogaku Kk","Wisconsin Alumni Res Found","Misawa Homes Co","Alps Electric Co Ltd","Fuji Electric Co Ltd","Samsung Electronic","Luk Lamellen & Kupplungsbau","Univ Hohai","Pirelli","Kaneka Corp","Voith Patent Gmbh","Fraunhofer Ges Forschung","Tokyo Electron Ltd","Takeda Pharmaceutical","Schering Corp","Sekisui Chemical Co Ltd","Itt","Continental Teves Ag & Co Ohg","Monsanto Chemicals","Mcneil Ppc Inc","Nokia Mobile Phones Ltd","Rinnai Kk","Nippon Denso Co","Oki Electric Ind Co Ltd","Basf Se","Daihatsu Motor Co Ltd","Citizen Watch Co Ltd","Ube Industries","Lion Corp","Stanley Electric Co Ltd","Aeg","Degussa","Tencent Tech Shenzhen Co Ltd","Tokyo Gas Co Ltd","Osram Opto Semiconductors Gmbh","Miele & Cie","Chunghwa Picture Tubes Ltd","Ericsson Telefon Ab L M","Aisan Ind","Matsushita Electric Works Ltd","Commw Scient Ind Res Org","Merck Sharp & Dohme","Otis Elevator Co","Owens Illinois Inc","Mitsubishi Rayon Co","Sanofi Sa","日本電気株式会社","Searle & Co","Procter & Gamble","Patent Treuhand Ges Fuer Elektrische Gluehlampen Mbh","Panasonic Ip Man Corp","Asahi Glass Co Ltd","Alpine Electronics Inc","Aisin Aw Co","Apple Inc","Trw Inc","Research In Motion Ltd","Nippon Soda Co","Lubrizol Corp","Sca Hygiene Prod Ab","Microsoft Corp","Ntn Toyo Bearing Co Ltd","Fujitsu General Ltd","Au Optronics Corp","Tokico Ltd","Pasteur Institut","Halliburton Energy Serv Inc","Nat Inst Of Advanced Ind Scien","Schlumberger Ca Ltd","Mitsubishi Petrochemical Co","Semiconductor Energy Lab","Telefunken Patent","Mitsubishi Chem Corp","Thomson Licensing","Amp Inc","Sankyo Seiki Seisakusho Kk","Tno","Ford Werke Ag","Hercules Inc","Blackberry Ltd","Sandvik Ab","Daicel Chem","Philips Intellectual Property","Lockheed Corp","Ciba Sc Holding Ag","Shimano Kk","Ericsson Inc","Sumitomo Rubber Ind","Posco","Schaeffler Technologies Gmbh","Kvasenkov Oleg Ivanovich","Schlumberger Technology Bv","Exxonmobil Res & Eng Co","Univ Harbin Eng","Westinghouse Electric Corp","Standard Oil Dev Co","Nippon Zeon Co","Univ Guangxi","G Obrazovatel Noe Uchrezhdenie","Hitachi Int Electric Inc","Mitsui Shipbuilding Eng","Univ Sichuan","Osaka Gas Co Ltd","Sandoz Ltd","Tanaka Precious Metal Ind","Peugeot Citroen Automobiles Sa","Lintec Corp","Japan Steel Works Ltd","富士通株式会社","华为技术有限公司","Krones Ag","Servier Lab","Chinoin Gyogyszer Es Vegyeszet","Johnson & Johnson","Mitsui Petrochemical Ind","Univ Beijing Technology","Nike Inc","Toshiba Kawasaki Kk","Ihi Corp","Komatsu Mfg Co Ltd","Ykk Corp","Kayaba Industry Co Ltd","珠海格力电器股份有限公司","Westinghouse Air Brake Co","Boehringer Sohn Ingelheim","Sumitomo Electric Industries","Taiwan Semiconductor Mfg Co Ltd","Sandoz Ag","Schneider Electric Ind Sas","Becton Dickinson Co","Fuji Xerox Co Ltd","Snecma","Shionogi & Co","British Telecomm","Lexmark Int Inc","Sumitomo Metal Ind","Denso Corp","Citroen Sa","Unitika Ltd","Ricoh Co Ltd","Whitaker Corp","Konishiroku Photo Ind","Univ Tongji","Intel Corp","Ngk Spark Plug Co","Mitsubishi Materials Corp","Praxair Technology Inc","パナソニックｉｐマネジメント株式会社","Gree Electric Appliances Inc Zhuhai","Bayer Materialscience Ag","Novo Nordisk As","国家电网公司","Nippon Catalytic Chem Ind","Eisai Co Ltd","Suzuki Motor Co","Seb Sa","Univ Beijing Science & Tech","Kowa Co","Univ Jiangsu","Agfa Gevaert Nv","Uni Charm Corp","Weatherford Lamb","Cheil Ind Inc","Cisco Tech Inc","Electrolux Ab","Dainippon Screen Mfg","Samsung Display Co Ltd","Advanced Micro Devices Inc","Essilor Int","Adobe Systems Inc","Baoshan Iron & Steel","Benq Corp","Olin Corp","Lam Res Corp","Schlumberger Services Petrol","Illinois Tool Works","Minolta Co Ltd","Univ Zhejiang Technology","Takata Corp","Tsubakimoto Chain Co","Atochem Elf Sa","Toyoda Machine Works Ltd","Fmc Corp","Carrier Corp","Japan Aviation Electron","Harris Corp","Rohm & Haas","Mobil Oil Corp","Nippon Paint Co Ltd","Ajinomoto Kk","Basf Corp","株式会社日立製作所","Univ Shanghai Jiaotong","Nissin Electric Co Ltd","Massachusetts Inst Technology","Univ Leland Stanford Junior","Koenig & Bauer Ag","Glaxo Group Ltd","Boehringer Ingelheim Int","Alstom Technology Ltd","Isuzu Motors Ltd","Toyota Central Res & Dev","Ig Farbenindustrie Ag","Stamicarbon","Iseki Agricult Mach","Fanuc Ltd","Boeing Co","Adc Telecommunications Inc","Oreal","Chery Automobile Co Ltd","Agfa Gevaert Ag","Toyo Ink Mfg Co","Univ Donghua","Firestone Tire & Rubber Co","Sanyo Electric Co","Mitsubishi Heavy Ind Ltd","Uop Inc","Akzo Nobel Nv","Ciba Geigy Ag","Sun Microsystems Inc","Kloeckner Humboldt Deutz Ag","Us Army","Asmo Co Ltd","Univ Dalian Tech","Qualcomm Inc","Showa Denko Kk","Advantest Corp","Daewoo Electronics Co Ltd","Nordson Corp","Mattel Inc","Astrazeneca Ab","Maschf Augsburg Nuernberg Ag","Philips Patentverwaltung","Konica Minolta Holdings Inc","Dsm Ip Assets Bv","Hitachi Shipbuilding Eng Co","Northern Telecom Ltd","Bsh Bosch Siemens Hausgeraete","Schlumberger Holdings","Mars Inc","Micron Technology Inc","Kenwood Corp","Shinko Electric Co Ltd","Gore & Ass","Fujifilm Corp","Dyson Technology Ltd","Honda Motor Co Ltd","株式会社東芝","Univ Chongqing","Victor Company Of Japan","Elpida Memory Inc","At & T Corp","China Petroleum & Chemical","Tosoh Corp","Aruze Corp","Syngenta Participations Ag","Olympus Corp","Htc Corp","3m Innovative Properties Co","Canon Kk","Zahnradfabrik Friedrichshafen","Wyeth Corp","Yamaha Motor Co Ltd","株式会社リコー","Univ Texas","Toto Ltd","Omron Tateisi Electronics Co","Autonetworks Technologies Ltd","Allied Signal Inc","Avery Dennison Corp","Takeda Chemical Industries Ltd","Audi Ag","Rohm Co Ltd","Alcatel Lucent","Yanmar Agricult Equip","Huawei Device Co Ltd","Pitney Bowes Inc","Gen Motors Corp","Gen Electric Co Ltd","Samsung Electro Mech","Philips Corp","Aisin Seiki","Pioneer Hi Bred Int","Nhk Spring Co Ltd","Shell Int Research","Toshiba Medical Sys Corp","Kobe Steel Ltd","Univ Xiamen","Roussel Uclaf","Dow Corning","Kajima Corp","Rca Corp","Otsuka Pharma Co Ltd","Toyo Seikan Kaisha Ltd","Johnson & Johnson Vision Care","British American Tobacco Co","Beecham Group Plc","Ncr Co","Goodrich Co B F","Mitsui Toatsu Chemicals","Merck & Co Inc","Kanegafuchi Chemical Ind","Osram Gmbh","Basf Ag","Voith Gmbh J M","中国石油化工股份有限公司","Murata Machinery Ltd","Macronix Int Co Ltd","Ppg Industries Inc","Ishikawajima Harima Heavy Ind","Hitachi Metals Ltd","富士フイルム株式会社","Murata Manufacturing Co","Taisei Corp","Yissum Res Dev Co","Sulzer Ag","Daimler Benz Ag","Emerson Electric Co","Konica Minolta Inc","Siemens Ag, 1000 Berlin Und 8000 Muenchen, De","Tektronix Inc","Exxonmobil Chem Patents Inc","Toyota Motor Corp","Univ Wuhan","United Shoe Machinery Ab","Texas Instruments Inc","Univ Shandong Science & Tech","Koninkl Philips Nv","Sekisui Plastics","Air Prod & Chem","Mazda Motor","Deere & Co","Pfizer Prod Inc","Univ Central South","Univ Northeastern","Noritsu Koki Co Ltd","Int Harvester Co","Porsche Ag","Philips Electronic Associated","Chem Ind Basel","Dresser Ind","Univ Zhejiang","Commissariat Energie Atomique","Air Liquide","Agency Ind Science Techn","Motorola Inc","Lucas Ind Plc","Agilent Technologies Inc","Wacker Chemie Gmbh","Yaskawa Electric Corp","Shimadzu Corp","Lucent Technologies Inc","Ebara Corp","American Telephone & Telegraph","Nitto Denko Corp","Celanese Corp","Sharp Kk","Nokia Corp","Allergan Inc","Univ Nanjing","Korea Inst Sci & Tech","Kawasaki Steel Co","Eastman Chem Co","Sumitomo Bakelite Co","Juki Kk","Renault Sas","Renault Sa","Pioneer Corp","Ciba Geigy","Via Tech Inc","Furukawa Electric Co Ltd","Henkel Ag & Co Kgaa","Dynamit Nobel Ag","Univ Washington","Intel Ip Corp","삼성전자주식회사","Dow Global Technologies Inc","Mitsui Mining & Smelting Co","パナソニック株式会社","Yoshino Kogyosho Co Ltd","Lonza Ag","Knorr Bremse Systeme","Korea Advanced Inst Sci & Tech","Alusuisse","Minolta Camera Kk","Toyota Jidoshokki Kk","Bayerische Motoren Werke Ag","Zeneca Ltd","Seiko Instr & Electronics","Yanmar Co Ltd","Kyocera Corp","American Cyanamid Co","Bridgestone Corp","Panasonic Corp","Heiwa Corp","Mannesmann Ag","Ntt Docomo Inc","Gold Star Co","Dana Corp","Johnson Matthey Plc","Japan Display Inc","Pentax Corp","Univ Duke","Matsushita Electronics Corp","Ibiden Co Ltd","Casio Computer Co Ltd","Babcock Hitachi Kk","Giesecke & Devrient Gmbh","Boston Scient Ltd","Fuji Heavy Ind Ltd","Borg Warner","Thomae Gmbh Dr K","Sperry Rand Corp","Toppan Printing Co Ltd","Kao Corp","Gm Global Tech Operations Inc","Hitachi Construction Machinery","Koninklijke Philips Nv","Bristol Myers Co","Tokyo Electric Power Co","Westinghouse Electric & Mfg Co","Fujisawa Pharmaceutical Co","Sgs Thomson Microelectronics","France Telecom","Shimizu Construction Co Ltd","Toshiba Lighting & Technology","Danfoss As","Cardiac Pacemakers Inc","Nestec Sa","Roland Man Druckmasch","Sk Hynix Inc","United Aircraft Corp","Showa Electric Wire & Cable Co","Daiichi Shokai Kk","Lilly Co Eli","Taiwan Semiconductor Mfg","Toshiba Corp","Genentech Inc","Sumitomo Chemical Co","Olympus Optical Co","Nubia Technology Co Ltd","Rohm & Haas Elect Materials","Halliburton Energy Services Inc","Kurita Water Ind Ltd","Univ Tsinghua","Nat Inst Of Adv Ind & Technol","Int Standard Electric Corp","Analog Devices Inc"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fieldsOfStudy=["Biology","Chemistry","Biochemistry","Molecular biology","Medicine","Organic chemistry","Computer science","Immunology","Internal medicine","Inorganic chemistry","Genetics","Physics","Endocrinology","Electronic engineering","Virology","Materials science","Analytical chemistry","Optics","Chromatography","Gene","Artificial intelligence","Photochemistry","Engineering","Mathematics","Surgery","Antibody","Enzyme","Cancer research","Pathology","Anatomy","Cell biology","Anesthesia","Cancer","Computer vision","Receptor","Antigen","Diabetes mellitus","Botany","Real-time computing","Nuclear magnetic resonance","Cardiology","Catalysis","Composite material","Immune system","Microbiology","Gene expression","Polymer","Amino acid","Computer network","Virus","DNA","Cell culture","Control theory","Signal transduction","Control engineering","Psychology","Cell","Pattern recognition","Distributed computing","Disease","Monoclonal antibody","Physical therapy","Pharmacology","Architecture","Peptide","Laser","Apoptosis","Inflammation","Ranging","Optoelectronics","Thin film","Mathematical optimization","Cytokine","Chemotherapy","Bioinformatics","Bacteria","Cytotoxic T cell","Machine learning","Mutation","Molecule","T cell","Aqueous solution","RNA","Theoretical computer science","Radiation","Ion","Peptide sequence","Stereochemistry","Radiology","Membrane","Nanotechnology","In vivo","Data mining","Mutant","Communication channel","Kinase","Epitope","Substrate","Ligand","Transcription factor","Parallel computing","Intensive care medicine","Metallurgy","Stem cell","Silicon","Adsorption","Escherichia coli","Nanoparticle","Complementary DNA","Binding site","Condensed matter physics","Crystallography","Hydrolysis","Tumor necrosis factor alpha","Cellular differentiation","General surgery","Phenomenon","Metabolism","Plasmid","Phosphorylation","Polymerization","Transcription","Cell growth","Atomic physics","Metal","Messenger RNA","Oxide","Genetic enhancement","Locus","Growth factor","Carcinogenesis","Breast cancer","Carcinoma","Transfection","Insulin","CMOS","Programmed cell death","Genome","Bone marrow","Neuroscience","Crystal","Solvent","Protein subunit","Mass spectrometry","Hormone","Voltage","Agonist","Nucleic acid sequence","Database","Intracellular","Angiogenesis","Simulation","Secretion","Copolymer","Carbon","Protein kinase A","Doping","Fluorescence","Image processing","Algorithm","Endothelial stem cell","Bandwidth","Oxygen","Recombinant DNA","Cell cycle","Experimental data","Immunotherapy","Monomer","Cytotoxicity","Dielectric","Extracellular","Regulation of gene expression","Metastasis","Hydrogen","Polymer chemistry","Oligonucleotide","Cholesterol","Biosynthesis","Fatty acid","Pathogenesis","Enzyme inhibitor","Glycoprotein","Ligand","Statistics","Platelet","Genotype","Psychiatry","Electrical engineering","Microstructure","Wavelength","Lymphocyte","Electrode","Antibiotics","Downregulation and upregulation","Software","Sodium","Promoter","Potency","Extracellular matrix","Optical fiber","Antioxidant","Computer security","Transgene","Detector","Indexation","B cell","Polymerase chain reaction","Geology","Attenuation","Reagent","Haematopoiesis","Oxidative stress","Interferon","Allele","Discrete mathematics","Signal processing","Protease","Pharmacokinetics","Placebo","Kidney","Ischemia","Biological activity","Electronic circuit","Lung","Scanning electron microscope","Alkyl","Fusion protein","Spectroscopy","High-performance liquid chromatography","Blood pressure","Crystal structure","Multimedia","Elevation","Proinflammatory cytokine","Prostate cancer","Fiber","Biotechnology","Modulation","Amorphous solid","In vitro","Nucleic acid","Ecology","Saccharomyces cerevisiae","Mineralogy","Fermentation","Risk factor","Effector","Chemical vapor deposition","Antenna","Cancer cell","Calcium","Semiconductor","Solubility","Biomarker","Nuclear magnetic resonance spectroscopy","Electrochemistry","Waste management","Moiety","Amplifier","Embedded system","Pi","Diode","Gel electrophoresis","Immunity","Artificial neural network","The Internet","Primer","Chloride","Electrical resistivity and conductivity","Instability","Colorectal cancer","Animal model","Membrane protein","Interleukin","Carbon nanotube","Classical mechanics","Adverse effect","Amplitude","Heart disease","Stroke","Redox","Particle","Progenitor cell","Copper","Mechanism of action","Epitaxy","Nitric oxide","Nitrogen","Melanoma","Major histocompatibility complex","Wafer","Bicyclic molecule","Integrated circuit","Transistor","Vesicle","Exon","Pulse","Affinity chromatography","Pixel","CD8","Electrolyte","Speech recognition","Myocardial infarction","Glutathione","Mitochondrion","Aryl","Antimicrobial","Central nervous system","Vaccination","Magnetic resonance imaging","Annealing","Waveguide","Monolayer","Stimulation","Binding protein","Robustness","Lung cancer","Tyrosine kinase","Molecular cloning","Agronomy","Respiratory disease","Crystallization","Protein structure","Refractive index","Heart failure","Information retrieval","Ceramic","Active site","Myocyte","Cell adhesion","Chromosome","Immunohistochemistry","Cysteine","Virulence","Feature extraction","Throughput","Coating","Telecommunications","Scattering","Chip","Enantioselective synthesis","Liposome","Nucleotide","Integrin","Yeast","Chirality","Antigen-presenting cell","Endoplasmic reticulum","Dopamine","Embryonic stem cell","Electron","Resonance","Nonlinear system","Endothelium","Mesenchymal stem cell","Reporter gene","Randomized controlled trial","Raman spectroscopy","Cell type","Beam","Dermatology","Drug delivery","Spectral line","Rheumatoid arthritis","Protein biosynthesis","Alcohol","Lithium","Scalability","Vascular endothelial growth factor","Hydrogen bond","Innate immune system","Combinatorial chemistry","Obesity","Biosensor","Clinical trial","Protein kinase B","Monocyte","Specific activity","Infrared spectroscopy","Immunogenicity","X-ray crystallography","Polarization","Drug","Signal-to-noise ratio","Image segmentation","Filter","Zinc","Peripheral blood mononuclear cell","Radiation therapy","Plasma","Band gap","Adhesion","Cationic polymerization","Gallium arsenide","Gene product","Serine","Human–computer interaction","Lesion","Magnetic field","Artery","Particle size","Cytoplasm","Protein kinase C","Stromal cell","Cellulose","Image resolution","Metabolite","Iterative reconstruction","Transition metal","Chemokine","Control system","Adenocarcinoma","Ethanol","Ether","Urology","Gene isoform","Viral replication","Lipopolysaccharide","Lipoprotein","Pregnancy","Leukemia","Epidermal growth factor","Cell surface receptor","Gene silencing","Staphylococcus aureus","Polysaccharide","Immunodeficiency","Estrogen","Network packet","Dispersion","Small molecule","Cycling","Glutamate receptor","Capacitor","Matrix","Skeletal muscle","MAPK/ERK pathway","T-cell receptor","Phospholipid","Dendritic cell","Glycosylation","Photoluminescence","Tissue engineering","Systems engineering","Scheduling","Immunoglobulin E","Alzheimer's disease","Chelation","Heterojunction","Developmental psychology","Reactive oxygen species","Radiochemistry","Nuclear medicine","Remote sensing","Dissolution","Adipose tissue","Microwave","Insulin resistance","Prostate","Phosphate","Receptor tyrosine kinase","Atom","Body weight","Embryo","Enzyme assay","Spite","Dentistry","Waveguide","Obstetrics","Type 2 diabetes","Cell membrane","Decoding methods","Radical","Vascular disease","Nanocomposite","microRNA","Wound healing","Arginine","Human leukocyte antigen","Epithelium","Computational chemistry","Bioavailability","Serotype","Diffraction","Quantum mechanics","Microscopy","Spin-½","Anisotropy","Neuroprotection","Capacitance","Pyridine","Asthma","World Wide Web","Stimulus","Single crystal","IL-2 receptor","Amide","Interferometry","Electric field","DNA repair","Liquid crystal","Cartilage","Oxidative phosphorylation","Cluster analysis","Cell adhesion molecule","Interleukin 21","Alkylation","Cell signaling","Thrombin","Activator","Adjuvant","Resonator","Palladium","Field-effect transistor","Trypsin","Urinary system","Side chain","Geotechnical engineering","Transmission electron microscopy","Immunoglobulin G","Immunoassay","User interface","DNA methylation","cDNA library","Fibronectin","Acoustics","Base pair","Chromatin","Solar cell","Intron","Central nervous system disease","Single-nucleotide polymorphism","Fibroblast","Absorption","Expression vector","Data compression","Amyloid","Viscosity","Distortion","genomic DNA","Infrared","Differential scanning calorimetry","Heparin","Nanostructure","Stereoselectivity","Graphene","Tumor suppressor gene","Autoantibody","Adenosine","Small number","PI3K/AKT/mTOR pathway","Quality of service","Serotonin","Proteomics","Fetus","Wireless","Carboxylic acid","Nucleophile","Toxicology","Nickel","Conductivity","Multiple sclerosis","Autoimmune disease","Estrogen receptor","DNA damage","Cytoskeleton","Thermodynamics","Epidermal growth factor receptor","Ketone","Myeloid","Nitric oxide synthase","Gene mapping","Porosity","Lysis","Chemical structure","Fibrosis","Leakage","Prostaglandin","Alloy","Substituent","Gene expression profiling","Interference","Actin","Computation","M.2","Viral vector","Semiconductor laser theory","Albumin","Regimen","Reverse transcriptase","Herpes simplex virus","Environmental chemistry","Urine","Visualization","Transforming growth factor","Real-time polymerase chain reaction","Anode","Carbohydrate","Very-large-scale integration","Ultrasonic sensor","Nanowire","Methanol","Homogeneous","Pancreas","Ultimate tensile strength","Intramolecular force","RNA interference","Allergy","Wireless sensor network","Enhancer","Heart rate","Gas chromatography","Surface modification","Combinatorics","Biopsy","Transcriptional regulation","Cytosol","Interferon gamma","Microfluidics","Mitogen-activated protein kinase","Biomedical engineering","X-ray photoelectron spectroscopy","Polyclonal antibodies","Proteolysis","Sputtering","Lymph node","Mobile computing","Absorption spectroscopy","Chemical synthesis","Superoxide dismutase","Drug carrier","Signal peptide","Adduct","Serology","Orthogonal frequency-division multiplexing","Aldehyde","Crystallite","Economics","Computed tomography","Hemodynamics","Toxicity","Quantum dot","Renal function","Wild type","Kidney disease","Computer hardware","Micelle","Oncogene","Hydrogen peroxide","Chinese hamster ovary cell","Pulmonary surfactant","STREAMS","Retina","Arabidopsis thaliana","Excited state","Proton NMR","Sense","Computer architecture","Denaturation","Imaging phantom","Tumor progression","Image quality","NMDA receptor","Wireless network","Tyrosine phosphorylation","Alternative splicing","Finite element method","Medical emergency","Neuron","Ultrasound","Interleukin 2","Steric effects","Phenols","Medical physics","DNA-binding protein","Electrical impedance","Cathode","Quantum well","Spleen","Heat shock protein","Operon","DNA microarray","Aluminium","Ethylene","Point mutation","Sepsis","Hepatitis C virus","Reaction rate constant","Hippocampus","Alkaline phosphatase","Ethylene glycol","Analgesic","Environmental engineering","Epigenetics","MOSFET","Lysine","Biomass","Colloid","Ageing","Enantiomer","Necrosis","Saline","Genetic marker","Food science","Dominance","Molecular physics","Sulfur","Implant","Arthritis","Drug discovery","Carbon dioxide","Interleukin 12","Neurodegeneration","Natural language processing","Conjugated system","Antigen presentation","Starch","Superconductivity","Prospective cohort study","Chemical reaction","Corrosion","Ribosomal RNA","Methylation","Titanium","Reaction mechanism","DNA replication","Repressor","Glycine","Regioselectivity","Fourier transform","Staining","Nucleoside","Elution","Methionine","Mutagenesis","Ionic bonding","Lymphoma","Programming language","Inhibitory postsynaptic potential","Plasma protein binding","Computer graphics","Acetic acid","Electronics","Polymerase","Restriction enzyme","Viral disease","Mobilization","Acquired immune system","RNA splicing","Dementia","Compromise","Phenotype","Bovine serum albumin","Isozyme","Ovarian cancer","Fading","Mammary gland","DNA sequencing","Apolipoprotein B","Lipid peroxidation","Aliphatic compound","Automotive engineering","Self-healing hydrogels","Spinal cord","Cleavage","Salmonella","In situ hybridization","Genetically modified mouse","Fibroblast growth factor","Grating","Server","Error detection and correction","Bit error rate","CD40","Crystallinity","Polyethylene","Histamine","Autoimmunity","Internet privacy","Cobalt","MHC class I","Autocrine signalling","Dimer","Motion estimation","Quantitative analysis","Halide","Arachidonic acid","Mitosis","Ruthenium","Receptor antagonist","Epidemiology","Neurotransmitter","Proteases","Matrix metalloproteinase","Gene delivery","Cyclic voltammetry","Synchronization","Boron","Sol-gel","Standardization","Estimation theory","Calibration","Drug resistance","Radioimmunoassay","Electrical conductor","Mathematical analysis","Desorption","Potassium","Ionic liquid","Retinal","Cofactor","Lens","Tyrosine","Blood vessel","Ammonium","Magnesium","Hydrocarbon","Thrombosis","G protein-coupled receptor","Hemoglobin","G protein","Structure–activity relationship","Pseudomonas aeruginosa","Vibration","Sampling","Cognitive psychology","Open reading frame","Coronary artery disease","Econometrics","Waveform","Oscillation","Blood flow","Lipid bilayer","Light-emitting diode","Nucleation","Tissue culture","Genetic analysis","Ammonia","Mycobacterium tuberculosis","Bacterial outer membrane","Magnetization","Response element","Proto-oncogene tyrosine-protein kinase Src","Vasodilation","Ionization","Multiplexing","Sintering","Glioma","Strain","Adaptive filter","Monte Carlo method","Caspase","DNA polymerase","Frequency domain","Benzene","Gynecology","Transmembrane protein","NAD+ kinase","Network topology","Self-assembly","Current density","Ion implantation","Thiol","Polyacrylamide gel electrophoresis","Glass transition","Renin–angiotensin system","Red blood cell","Phosphatidylcholine","Iterative method","Nonlinear optics","Light scattering","Medicinal chemistry","Cognition","Lag","Wavelength-division multiplexing","Testosterone","Tolerability","Blood proteins","Platelet-derived growth factor receptor","Tuberculosis","Nanocrystal","Interleukin 6","Lactic acid","Heat transfer","Fibrinogen","Thermogravimetric analysis","Actuator","Molecular medicine","Limiting","Cytochrome P450","Endogeny","Transactivation","Haplotype","Latency","Antiserum","Photonics","Methane","Doxorubicin","Ultraviolet","Viability assay","Battery","MIMO","Social psychology","Reductase","Cell wall","Platinum","Aperture","Protein secondary structure","Coding region","Quantization","Wnt signaling pathway","Molecular beam epitaxy","Logic gate","Sequence analysis","Operator","Electromagnetic coil","Oligosaccharide","Cycloaddition","Combustion","Knowledge management","Androgen","Chemotaxis","Dopaminergic","Western blot","Gene cluster","Total synthesis","Inflammatory bowel disease","Computational complexity theory","Cisplatin","Impurity","Animal studies","Structural engineering","Parkinson's disease","Dopant","Clinical Practice","Steroid","Genetic variation","Quantum efficiency","Macromolecule","Epoxy","Drop","Alanine","Polyunsaturated fatty acid","Protein folding","Ubiquitin","Biofilm","Wavelet","Grid","Adult stem cell","Fibrin","Neuropeptide","Single-mode optical fiber","Immunosuppression","Arabidopsis","Astrocyte","Functional analysis","Retinoic acid","Amphiphile","Chaperone","Triglyceride","Interpolation","Small interfering RNA","Lactam","Vitamin","Lipase","Prodrug","Lupus erythematosus","Dehydrogenase","Rendering","Osteoarthritis","Plasmodium falciparum","Growth inhibition","Osteoporosis","Luminescence","Peptide hormone","Gene family","Creatinine","Opioid","Sputter deposition","Genomic library","Excretion","Cryptography","Genomics","Emulsion","Respiratory system","Radar","Thyroid","Lectin","Thermal conduction","Human genome","Pulse-width modulation","Acetonitrile","Glycoside","Conserved sequence","Superoxide","Clinical research","Analyte","Nervous system","Radical polymerization","Cohort"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.funders=["National Natural Science Foundation of China","NCI NIH HHS","NIGMS NIH HHS","NHLBI NIH HHS","NIAID NIH HHS","NIDDK NIH HHS","NINDS NIH HHS","NCRR NIH HHS","NICHD NIH HHS","NIMH NIH HHS","National Science Foundation","NIA NIH HHS","Wellcome Trust","Medical Research Council","NIDA NIH HHS","PHS HHS","NEI NIH HHS","NIEHS NIH HHS","NIAMS NIH HHS","Deutsche Forschungsgemeinschaft","Canadian Institutes of Health Research","Intramural NIH HHS","NCATS NIH HHS","NIADDK NIH HHS","National Research Foundation of Korea","NIAAA NIH HHS","Japan Society for the Promotion of Science","NIDCR NIH HHS","Natural Sciences and Engineering Research Council of Canada","U.S. Department of Energy","Fundamental Research Funds for the Central Universities","Biotechnology and Biological Sciences Research Council","NIBIB NIH HHS","Conselho Nacional de Desenvolvimento Científico e Tecnológico","NIDCD NIH HHS","European Research Council","China Postdoctoral Science Foundation","Australian Research Council","Engineering and Physical Sciences Research Council","Ministerio de Economía y Competitividad","Ministry of Education, Culture, Sports, Science and Technology","Howard Hughes Medical Institute","Coordenação de Aperfeiçoamento de Pessoal de Nível Superior","National Basic Research Program of China","Ministry of Science and Technology of the People's Republic of China","NHGRI NIH HHS","NIH HHS","Fundação de Amparo à Pesquisa do Estado de São Paulo","National Institutes of Health","China Scholarship Council","Schweizerischer Nationalfonds zur Förderung der Wissenschaftlichen Forschung","Department of Health","Agence Nationale de la Recherche","Seventh Framework Programme","Ministry of Science and Technology, Taiwan","Chinese Academy of Sciences","Russian Foundation for Basic Research","AHRQ HHS","FIC NIH HHS","Cancer Research UK","European Commission","Natural Science Foundation of Jiangsu Province","British Heart Foundation","NINR NIH HHS","Ministry of Education of the People's Republic of China","European Regional Development Fund","National Key Research and Development Program of China","NIMHD NIH HHS","Air Force Office of Scientific Research","Vetenskapsrådet","National Aeronautics and Space Administration","Basic Energy Sciences","Fundação para a Ciência e a Tecnologia","National Science Council","Bundesministerium für Bildung und Forschung","Consejo Nacional de Ciencia y Tecnología","NLM NIH HHS","Office of Naval Research","Narodowe Centrum Nauki","Russian Science Foundation","National Health and Medical Research Council","Grantová Agentura České Republiky","NSF","Academy of Finland","H2020 European Research Council","Telethon","NCCIH NIH HHS","Ministry of Science, ICT and Future Planning","Natural Science Foundation of Guangdong Province","National Research Foundation","Ministry of Education","Council of Scientific and Industrial Research","University Grants Commission","JSPS KAKENHI","Science and Engineering Research Board","Ministerio de Ciencia e Innovación","Nederlandse Organisatie voor Wetenschappelijk Onderzoek","Army Research Office","CIHR","Division of Chemistry"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.institutions=["Harvard University","National Institutes of Health","Stanford University","University of Washington","Massachusetts Institute of Technology","Johns Hopkins University","University of Michigan","Max Planck Society","University of Pennsylvania","University of California, San Francisco","University of California, Los Angeles","University of California, San Diego","French Institute of Health and Medical Research","Centre national de la recherche scientifique","University of Tokyo","University of California, Berkeley","Washington University in St. Louis","Cornell University","University of North Carolina at Chapel Hill","Duke University","University of Wisconsin-Madison","University of Minnesota","Yale University","Columbia University","University of Pittsburgh","University of Toronto","University of Cambridge","Mayo Clinic","University of Texas MD Anderson Cancer Center","University of Illinois at Urbana–Champaign","Northwestern University","Howard Hughes Medical Institute","University of Texas Southwestern Medical Center","Brigham and Women's Hospital","University of Oxford","Imperial College London","Spanish National Research Council","California Institute of Technology","University of Southern California","University of California, Davis","Baylor College of Medicine","Kyoto University","Osaka University","University College London","New York University","Ohio State University","Case Western Reserve University","Chinese Academy of Sciences","Boston Children's Hospital","Emory University","Scripps Research Institute","University of Chicago","Carnegie Mellon University","Karolinska Institutet","University of Utah","IBM","Vanderbilt University","University of Texas at Austin","University of British Columbia","University of Florida","Memorial Sloan Kettering Cancer Center","University of Edinburgh","University of California, Irvine","Ludwig Maximilian University of Munich","Katholieke Universiteit Leuven","Johns Hopkins University School of Medicine","Boston University","École Polytechnique Fédérale de Lausanne","Utrecht University","Purdue University","Microsoft","McGill University","Pasteur Institute","Rutgers University","University of Alabama at Birmingham","University of Copenhagen","Princeton University","University of Virginia","Oregon Health & Science University","University of Arizona","University of Zurich","Icahn School of Medicine at Mount Sinai","University of Rochester","University of Illinois at Chicago","Tohoku University","Lund University","Cleveland Clinic","Heidelberg University","University of Maryland, College Park","Pennsylvania State University","National University of Singapore","Georgia Institute of Technology","University of Amsterdam","University of Iowa","Kyushu University","Fred Hutchinson Cancer Research Center","University of Melbourne","University of Manchester","Indiana University","Erasmus University Rotterdam","Texas A&M University","Weizmann Institute of Science","Seoul National University","University of Maryland, Baltimore","Hokkaido University","Lawrence Berkeley National Laboratory","Beth Israel Deaconess Medical Center","University of Milan","University of Helsinki","University of Miami","Technische Universität München","King's College London","Ghent University","ETH Zurich","Hebrew University of Jerusalem","Rockefeller University","University of Queensland","Institut national de la recherche agronomique","University of Alberta","Michigan State University","Tufts University","Technical University of Denmark","University of Paris","Albert Einstein College of Medicine","Nagoya University","Novartis","Wayne State University","Tel Aviv University","Uppsala University","Delft University of Technology","University of Glasgow","University of Colorado Denver","University of Bristol","University of Sydney","Université de Montréal","University of Southampton","German Cancer Research Center","University of Massachusetts Medical School","Sapienza University of Rome","University of California, Santa Barbara","University of São Paulo","University of Tübingen","Centers for Disease Control and Prevention","University of Texas Health Science Center at San Antonio","Charité","University of Kentucky","University of Texas Medical Branch","University of Nottingham","University of Colorado Boulder","University of Freiburg","University of Birmingham","University of Groningen","National Taiwan University","French Institute for Research in Computer Science and Automation","Brown University","North Carolina State University","Technion – Israel Institute of Technology","University of Calgary","Stony Brook University","Leiden University Medical Center","Thomas Jefferson University","National Research Council","Laboratory of Molecular Biology","University of Georgia","United States Department of Agriculture","University of Texas Health Science Center at Houston","University of South Florida","Pfizer","Dartmouth College","University of Massachusetts Amherst","Iowa State University","Hong Kong Polytechnic University","Hoffmann-La Roche","University of Sheffield","University of Oslo","University of Kansas","University of Erlangen-Nuremberg","Merck & Co.","University of Geneva","Rice University","Okayama University","VU University Amsterdam","Aarhus University","University of New South Wales","University of Barcelona","University of Göttingen","University of Bonn","Yeshiva University","École Normale Supérieure","Leiden University","The Chinese University of Hong Kong","University of Dundee","University of Missouri","Tsinghua University","Arizona State University","Keio University","Radboud University Nijmegen","Medical Research Council","Wake Forest University","Salk Institute for Biological Studies","Medical University of South Carolina","University of Tsukuba","University of Cincinnati","Cardiff University","University of Bologna","University of Padua","Genentech","University of Turin","University of Nebraska–Lincoln","University of Hong Kong","McMaster University","University of Leeds","Los Alamos National Laboratory","University of Western Ontario","GlaxoSmithKline","State University of New York System","Peking University","University of Lausanne","University of Liège","Shanghai Jiao Tong University","Pierre-and-Marie-Curie University","Bell Labs","University of Vienna","Goethe University Frankfurt","University of London","University of Düsseldorf","Medical College of Wisconsin","Yonsei University","University of Basel","Eindhoven University of Technology","University of Cologne","Zhejiang University","Ludwig Institute for Cancer Research","RWTH Aachen University","Laval University","Newcastle University","Broad Institute","Fudan University","Philips","St. Jude Children's Research Hospital","Wageningen University and Research Centre","Virginia Tech","Umeå University","Université catholique de Louvain","University of Bern","John Radcliffe Hospital","Queen Mary University of London","Tokyo Medical and Dental University","University of Connecticut","University of New Mexico","University of Nebraska Medical Center","Virginia Commonwealth University","Australian National University","Kanazawa University","Chiba University","University of Gothenburg","Hong Kong University of Science and Technology","University of Mainz","University of Hamburg","Hiroshima University","Vita-Salute San Raffaele University","University of Würzburg","Queen's University","University of Louisville","University of California, Riverside","Colorado State University","University of Leicester","Kumamoto University","Tokyo Institute of Technology","University of Ottawa","Cedars-Sinai Medical Center","Trinity College, Dublin","Monash University","VA Medical Center","University at Buffalo","Research Triangle Park","University of Paris-Sud","Cincinnati Children's Hospital Medical Center","University of Medicine and Dentistry of New Jersey","University of Florence","Academia Sinica","University of Ulm","Autonomous University of Barcelona","Medical University of Vienna","University of Waterloo","Indiana University Bloomington","University of Tennessee","National Institute of Advanced Industrial Science and Technology","Free University of Berlin","University of Liverpool","Anschutz Medical Campus","University of Adelaide","KAIST","Georgia Regents University","Lawrence Livermore National Laboratory","Temple University","Hannover Medical School","Tulane University","Georgetown University","Maastricht University","Hewlett-Packard","University of Kiel","University of Twente","Linköping University","University of California, Santa Cruz","Commonwealth Scientific and Industrial Research Organisation","Wellcome Trust Sanger Institute","University of Tennessee Health Science Center","Amgen","Complutense University of Madrid","National Institute of Standards and Technology","Intel","Sandia National Laboratories","Université libre de Bruxelles","Korea University","Oak Ridge National Laboratory","University of Western Australia","Karlsruhe Institute of Technology","Louisiana State University","Bristol-Myers Squibb","University College Dublin","Hungarian Academy of Sciences","Nanyang Technological University","Sun Yat-sen University","Paris Descartes University","Netherlands Cancer Institute","University of Manitoba","Science Applications International Corporation","Drexel University","University of California","University of Warwick","Ruhr University Bochum","University of Aberdeen","Durham University","External Organizations","Eli Lilly and Company","University of Münster","Russian Academy of Sciences","Houston Methodist Hospital","Kobe University","Fox Chase Cancer Center","Agricultural Research Service","Humboldt University of Berlin","Washington State University","Sanford-Burnham Institute for Medical Research","Argonne National Laboratory","University of Vermont","Oregon State University","Rush University Medical Center","University of Arkansas for Medical Sciences","Siemens","Dresden University of Technology","Children's Hospital of Philadelphia","Roswell Park Cancer Institute","Royal Institute of Technology","Vanderbilt University Medical Center","University of Naples Federico II","Cold Spring Harbor Laboratory","University of Auckland","United States Department of Veterans Affairs","University of Surrey","Karolinska University Hospital","Saint Louis University","University of Turku","Northeastern University","National and Kapodistrian University of Athens","Leipzig University","National Institute for Medical Research","Pohang University of Science and Technology","Walter and Eliza Hall Institute of Medical Research","Rensselaer Polytechnic Institute","Nagasaki University","AT&T Labs","Queen's University Belfast","Chalmers University of Technology","City of Hope National Medical Center","University of Pavia","Juntendo University","University of Texas at Dallas","Aalborg University","AstraZeneca","University of Tokushima","University of South Carolina","Uniformed Services University of the Health Sciences","University of Giessen","Curie Institute","Norwegian University of Science and Technology","University of Delaware","University of Oklahoma","University of Regensburg","Ben-Gurion University of the Negev","University of Pisa","University of Oulu","Vienna University of Technology","Kitasato University","University of Oklahoma Health Sciences Center","University of Notre Dame","University of Bergen","University of Rochester Medical Center","European Bioinformatics Institute","United States Naval Research Laboratory","University Health Network","University of Guelph","University of Montpellier","University of Stuttgart","University of Connecticut Health Center","State University of Campinas","University of Antwerp","Simon Fraser University","University of Central Florida","National Cheng Kung University","University of Houston","Federal University of Rio de Janeiro","Saarland University","Bilkent University","University of Marburg","Helsinki University Central Hospital","Shinshu University","Dalhousie University","University of York","Semmelweis University","Memorial Hospital of South Bend","QIMR Berghofer Medical Research Institute","Wistar Institute","University of Alabama","VU University Medical Center","Huazhong University of Science and Technology","Nagoya City University","Autonomous University of Madrid","Polish Academy of Sciences","RMIT University","George Washington University","National Yang-Ming University","Internal Medicine","Agency for Science, Technology and Research","University of Southern Denmark","Institut Gustave Roussy","Takeda Pharmaceutical Company","National Autonomous University of Mexico","Nara Institute of Science and Technology","Instituto de Salud Carlos III","Istituto Superiore di Sanità","St George's Hospital","University of Bordeaux","Kansas State University","University of Bath","University of Konstanz","University of Lyon","University of Rome Tor Vergata","University of Coimbra","Polytechnic University of Catalonia","University of Newcastle","Google","La Jolla Institute for Allergy and Immunology","City University of New York","Max Delbrück Center for Molecular Medicine","University of Otago","Niigata University","Charles University in Prague","Alcatel-Lucent","Monash University, Clayton campus","Swedish University of Agricultural Sciences","Vrije Universiteit Brussel","Experimental Therapeutics","Indian Institute of Science","University of Cincinnati Academic Health Center","Florida State University","University of Jena","University of Strasbourg","Gunma University","Radboud University Nijmegen Medical Centre","University of St Andrews","Brookhaven National Laboratory","University Medical Center Groningen","Stockholm University","University of Genoa","University of Navarra","Martin Luther University of Halle-Wittenberg","Fraunhofer Society","University of Valencia","Aix-Marseille University","Kindai University","Mitsubishi","Loyola University Chicago","Necker-Enfants Malades Hospital","University of Cape Town","University of Porto","University of Siena","George Mason University","Universidade Federal de Minas Gerais","Gifu University","Academy of Medical Sciences, United Kingdom","Sungkyunkwan University","Mount Sinai Hospital","Schering-Plough","China Medical University","Yamaguchi University","Shandong University","University of Ferrara","University of Wollongong","National Chiao Tung University","Pacific Northwest National Laboratory","University College Cork","University of Graz","Aarhus University Hospital","Graz University of Technology","University of Verona","Food and Drug Administration","Osaka City University","Mahidol University","New York Medical College","Walter Reed Army Institute of Research","Cancer Biology","University of Texas at San Antonio","Innsbruck Medical University","University of Bari","Lippincott Williams & Wilkins","Technical University of Berlin","Nihon University","Moscow State University","Sheba Medical Center","University of Strathclyde","Yokohama City University","Federal University of São Paulo","Kyoto Prefectural University of Medicine","University of Perugia","The Catholic University of America","University of Saskatchewan","University of Science and Technology of China","Chang Gung University","Polytechnic University of Turin","West Virginia University","Hanyang University","Novo Nordisk","Ontario Institute for Cancer Research","Peking Union Medical College","Polytechnic University of Valencia","Korea Research Institute of Bioscience and Biotechnology","University of Brescia","Nanjing University","University of Toulouse","Biochemistry and Molecular Biology","Tokai University","Oklahoma Medical Research Foundation","John Innes Centre","Kagoshima University","Columbia University Medical Center","Polytechnic University of Milan","University of Wales","Hammersmith Hospital","Helsinki University of Technology","Queensland University of Technology","University of Oregon","Georgetown University Medical Center","Leibniz Association","University of Reading","Kyung Hee University","Institute for Cancer Research","Loughborough University","Wuhan University","City University of Hong Kong","Bar-Ilan University","National Tsing Hua University","Immunology","Molecular & Cellular Oncology","University of Chile","Institute of Cancer Research","Lancaster University","University of East Anglia","Mie University","Catholic University of Korea","Center for Biologics Evaluation and Research","Kurume University","SRI International","University of Debrecen","University of Tampere","Sahlgrenska University Hospital","University of Rennes","Joseph Fourier University","Sichuan University","University of Nice Sophia Antipolis","University of Sussex","Albany Medical College","Université de Sherbrooke","University of Innsbruck","Ehime University","University of Parma","Wellcome Trust Centre for Human Genetics","Technische Universität Darmstadt","Ajou University","Dublin City University","University of Szeged","Tufts Medical Center","Austrian Academy of Sciences","Oncology","Guy's Hospital","Georgia State University","Yahoo!","Academy of Sciences of the Czech Republic","Molecular Biosciences","Norwich Research Park","Oswaldo Cruz Foundation","Boehringer Ingelheim","Biogen Idec","Brandeis University","University of Seville","Montana State University","University of Duisburg-Essen","Biochemistry & Molecular Biology","LSU Health Sciences Center New Orleans","Genetics","Kyungpook National University","University of Lübeck","University of Palermo","Dalian Institute of Chemical Physics","Technische Hochschule","Otto-von-Guericke University Magdeburg","PARC","Showa University","Tottori University","University of Hawaii at Manoa","University of Ljubljana","Chonnam National University","Brigham Young University","Nokia","Teikyo University","VCU Medical Center","Central South University","Shriners Hospitals for Children","University of Exeter","Nippon Medical School","Peter MacCallum Cancer Centre","Chungnam National University","Copenhagen University Hospital","École Polytechnique","Pompeu Fabra University","Sao Paulo State University","York University","Cell Biology and Tumor Biology","Oklahoma State University–Stillwater","Universidade Federal do Rio Grande do Sul","University of Ulsan","National University of Ireland, Galway","Sapporo Medical University","University of Buenos Aires","University of Maryland, Baltimore County","Roy J. and Lucille A. Carver College of Medicine","Catholic University of the Sacred Heart","Clemson University","Hitachi","Second Military Medical University","Syracuse University","University of Zaragoza","Jilin University","University of Catania","National Presto Industries","Surgical Oncology","Pusan National University","Nanjing Medical University","St Thomas' Hospital","Institute for Academic Medicine","Royal Free Hospital","Garvan Institute of Medical Research","Urology","European Institute of Oncology","Biotechnology Institute","University of Granada","Paul Sabatier University","St George's, University of London","University of Victoria","National Defense Medical Center","Southampton General Hospital","University of Crete","Bielefeld University","Samsung","Tokyo University of Agriculture and Technology","Microbiology and Immunology","Paris Diderot University","University of Salamanca","Tampere University of Technology","University of Nevada, Reno","Pathology and Laboratory Medicine","Royal Children's Hospital","Xi'an Jiaotong University","Carleton University","School of Biological Sciences","St. Vincent's Health System","University of Modena and Reggio Emilia","University of Trieste","Children's Hospital Oakland Research Institute","National Cancer Institute United States","New York State Department of Health","Oslo University Hospital","University of Missouri–Kansas City","Scripps Health","University of Shizuoka","Istituto Giannina Gaslini","Henry Ford Health System","Forschungszentrum Jülich","Fourth Military Medical University","Konkuk University","Ames Research Center","Griffith University","Hochschule Hannover","University of Oviedo","Fukuoka University","Western General Hospital","Rega Institute for Medical Research","Aston University","University of Fribourg","Geneva College","Texas Tech University Health Sciences Center","The Royal Marsden NHS Foundation Trust","Istituto Clinico Humanitas","MedImmune","Pharmacy","University of Pretoria","Claude Bernard University Lyon 1","International Agency for Research on Cancer","London Research Institute","Baylor University","Systems Biology","Ewha Womans University","GE Healthcare","University of Hawaii","University of Nantes","Ghent University Hospital","Mount Sinai Hospital, Toronto","RIKEN","St. Jude Children Research Hospital","Bayer","Genzyme","Braunschweig University of Technology","Fondazione IRCCS Istituto Nazionale dei Tumori","University of Lisbon","Babraham Institute","Medicine","University of the Basque Country","Ciber","Waseda University","Erasmus University Medical Center","Fondazione IRCCS Ca' Granda Ospedale Maggiore Policlinico","Kettering University","Hematology","J. Craig Venter Institute","Kaiser Permanente","Stellenbosch University","DuPont","State University of New York Upstate Medical University","Radiation Oncology","Toho University","Istituto Europeo di Oncologia","International Centre for Genetic Engineering and Biotechnology","La Trobe University","University of Tartu","Capital Medical University","Institute of Microbial Chemistry","Utah State University","Technical University of Madrid","University of Texas at Arlington","Auburn University","National Scientific and Technical Research Council","University of Toyama","Children's National Medical Center","East Carolina University","Indiana University – Purdue University Indianapolis","Jagiellonian University","Medical University of Graz","École normale supérieure de Lyon","Massachusetts Eye and Ear Infirmary","University of Bradford","University of Kent","Genitourinary Medical Oncology","Statens Serum Institut","Beckman Research Institute","Hamamatsu University","IEEE#TAB#","Jikei University School of Medicine","King Saud University","University of Mississippi","Pontifical Catholic University of Chile","Translational Cancer Research","United States Military Academy","University of Eastern Finland","Osaka Prefecture University","Robert Koch Institute","Carnegie Institution for Science","Discovery Institute","Montreal Neurological Institute and Hospital","Aristotle University of Thessaloniki","Catholic University of Leuven","University of Iceland","St Mary's Hospital","University of Arkansas","General Electric","Kennedy Krieger Institute","Lincoln's Inn","Kaohsiung Medical University","Shizuoka University","Taipei Medical University","University at Albany, SUNY","San Diego State University","St. Michael's Hospital","University of Santiago de Compostela","China Agricultural University","French Alternative Energies and Atomic Energy Commission","SUNY Downstate Medical Center","Translational Genomics Research Institute","World Health Organization","CERN","Janssen Pharmaceutica","National Health Service","St Bartholomew's Hospital","Tongji University","University of Montana","Yamagata University","Korea Institute of Science and Technology","National Chung Hsing University","University of Messina","Chungbuk National University","Xiamen University","Instituto Politécnico Nacional","Pennington Biomedical Research Center","University of South Alabama","Seconda Università degli Studi di Napoli","University of Bremen","University of Patras","Kyoto Pharmaceutical University","Harbin Institute of Technology","Saitama Medical University","Slovak Academy of Sciences","Johnson & Johnson","Royal Melbourne Hospital","NewYork–Presbyterian Hospital","University of Essex","Creighton University","Mitsubishi Electric Research Laboratories","University of Cagliari","National Institute of Genetics","University of Toledo","University of Tromsø","Boston Medical Center","Flinders University","Florida International University","University of Technology, Sydney","University of Trento","Boston College","Haukeland University Hospital","Malmö University","A.O.U. San Martino - IST, Istituto Nazionale Ricerca sul Cancro","Isis Pharmaceuticals","Macquarie University","Samsung Medical Center","Hyogo College of Medicine","Molecular Genetics","Nestlé","Brunel University London","Chonbuk National University","Collège de France","Functional and Structural Genomics","Public health laboratory","Southeast University","Ajinomoto","Health Protection Agency","Heriot-Watt University","National Institute for Basic Biology, Japan","International Institute of Minnesota","Kansai Medical University","New Jersey Institute of Technology","Royal College of Surgeons in Ireland","Shiga University of Medical Science","University of the Witwatersrand","VTT Technical Research Centre of Finland","AT&T","Kaiserslautern University of Technology","Research Institute of Molecular Pathology","Toshiba","University of Mississippi Medical Center","Wright State University","North Shore-LIJ Health System","University of Hertfordshire","Buck Institute for Research on Aging","National Health Research Institutes","Southern Medical University","University of Rostock","Air Force Research Laboratory","Chulalongkorn University","Curtin University","Indian Institute of Technology Bombay","DSM","Eötvös Loránd University","Illinois Institute of Technology","King Abdullah University of Science and Technology","Stem Cell Transplantation","Third Military Medical University","Lille University of Science and Technology","Nankai University","University of Malaya","Cancer Center","Lehigh University","Massey University","Ohio University","Regeneron","Translational Molecular Pathology","University of Minho","Birkbeck, University of London","Epigenetics & Molecular Carcinogenesis","Gyeongsang National University","Neuroscience","Cairo University","Langley Research Center","McGill University Health Centre","Chung-Ang University","Japanese Foundation for Cancer Research","University of Maryland Biotechnology Institute","University of North Carolina at Charlotte","Penn State Milton S. Hershey Medical Center","St James's University Hospital","University of Udine","Xerox","Akita University","Baylor University Medical Center","Huazhong Agricultural University","Loma Linda University","Tokyo University of Science","university of lille","University of Canterbury","Nara Medical University","Hospital for Special Surgery","Monsanto","Thoracic Head & Neck Medical Oncology","University of Murcia","Fujita Health University","Inha University","Millennium Pharmaceuticals","Wellcome Trust","Concordia University","Melanoma Medical Oncology","National Defense Medical College","Partners HealthCare","University of L'Aquila","Bosch","Motorola","National Institute on Drug Abuse","Texas Biomedical Research Institute","United States Department of Energy","Ericsson","National Institute for Biological Standards and Control","University of Virginia Health System","Humboldt State University","Royal Hallamshire Hospital","Gifu Pharmaceutical University","University of the Ryukyus","Agriculture and Agri-Food Canada","Henry Ford Hospital","Royal Holloway, University of London","University of Science and Technology, Sana'a","Internal Medicine - Hematology/Oncology","Life Sciences Institute","University of South Australia","Indian Institutes of Technology","Maynooth University","Nanjing Agricultural University","Alfred Hospital","Carlsberg Laboratory","Genomic Medicine","Budapest University of Technology and Economics","Cell Biology","United States Army Medical Research Institute of Infectious Diseases","Jichi Medical University","National Institute for Materials Science","Eisai","Swiss Institute of Bioinformatics","University of Zagreb","Hematopathology","Ulster University","Kangwon National University","Pathology","Biology","Chugai Pharmaceutical Co.","Empresa Brasileira de Pesquisa Agropecuária","Kagawa University","Masaryk University","Beaumont Hospital","Binghamton University","Naval Postgraduate School","Royal Prince Alfred Hospital","University of Luxembourg","Breast Medical Oncology","Loyola University Medical Center","Mississippi State University","Tokyo Medical University","University of Wisconsin–Milwaukee","Wyss Institute for Biologically Inspired Engineering","Bioinformatics & Computational Biology","Department of Pathology","Gynecological Oncology & Reproductive Medicine","Hallym University","IRCCS Fondazione Policlinico San Matteo","Southern Illinois University Carbondale"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.journals=["ChemInform","The Lancet","BMJ","Nature","PsycEXTRA Dataset","Notes and Queries","Science","PLOS ONE","F1000 - Post-publication peer review of the biomedical literature","SSRN Electronic Journal","Journal of the American Chemical Society","Choice Reviews Online","Physical Review B","Scientific American","Bulletin of the American Physical Society","Journal of Biological Chemistry","Benezit Dictionary of Artists","Lecture Notes in Computer Science","JAMA","Angewandte Chemie","Chemical & Engineering News","Advanced Materials Research","Reactions Weekly","Journal of Applied Physics","Proceedings of the National Academy of Sciences of the United States of America","Physical Review Letters","The American Historical Review","Journal of Chemical Physics","Cancer Research","IUCN Red List of Threatened Species","Japanese Journal of Applied Physics","Applied Physics Letters","Journal of the Acoustical Society of America","Analytical Chemistry","Gastroenterology","Proceedings of SPIE","The Astrophysical Journal","Journal of Geophysical Research","Applied Mechanics and Materials","Biochimica et Biophysica Acta","Blood","Investigative Ophthalmology & Visual Science","Japanese Circulation Journal-english Edition","Circulation","Tetrahedron Letters","Journal of Clinical Oncology","The Journal of Urology","The New England Journal of Medicine","Who Was Who","Physical Review D","JAMA: The Journal of the American Medical Association","Biochemical and Biophysical Research Communications","Nursing Standard","Journal of the American College of Cardiology","Journal of Organic Chemistry","SpringerReference","Physical Review A","Annals of the New York Academy of Sciences","American Journal of Obstetrics and Gynecology","Chemical Physics Letters","Scientific Reports","Biochemistry","Journal of Immunology","Lancet","Electronic Enlightenment document collection","Monthly Notices of the Royal Astronomical Society","SAE Technical Paper Series","Physics Letters B","Plastic and Reconstructive Surgery","Deutsche Medizinische Wochenschrift","Journal of Alloys and Compounds","Supplementum Epigraphicum Graecum","The American Journal of the Medical Sciences","Nuclear Physics","Who's Who","Journal of Physics: Conference Series","MRS Proceedings","Medicine and Science in Sports and Exercise","Dictionary Geotechnical Engineering/Wörterbuch GeoTechnik","AIP Conference Proceedings","The FASEB Journal","Fuel and Energy Abstracts","Acta Horticulturae","IFAC Proceedings Volumes","Chest","Neurology","Southern Medical Journal","Art Sales Catalogues Online","Astronomische Nachrichten","Biophysical Journal","Brain Research","Astronomy and Astrophysics","Journal of Chromatography A","Inorganic Chemistry","Materials Science Forum","Medical Physics","Fresenius Journal of Analytical Chemistry","Anesthesiology","Physical Review E","Radiology","International Journal of Radiation Oncology Biology Physics","FEBS Letters","Human Rights Documents online","Journal of Applied Polymer Science","The Quarterly Review of Biology","Physical Review","Biochemical Journal","Wörterbuch GeoTechnik/Dictionary Geotechnical Engineering","Annals of Internal Medicine","Journal of the American Medical Association","Oxford Music Online","Physics Letters A","Oxford Dictionary of National Biography","European Journal of Inorganic Chemistry","Journal of the Society of Mechanical Engineers","Thin Solid Films","Inpharma Weekly","PsycTESTS Dataset","CrossRef Listing of Deleted DOIs","Tetrahedron","American Political Science Review","The Journal of Physical Chemistry","Sax's Dangerous Properties of Industrial Materials","Physics Today","Environmental Science & Technology","Chemical Communications","Transplantation","Journal of Bacteriology","AAPG Bulletin","Journal of Chemical Education","International Journal of Rock Mechanics and Mining Sciences & Geomechanics Abstracts","Applied Optics","Applied Surface Science","RSC Advances","Electronics Letters","The Oxford Dictionary of National Biography","Journal of Magnetism and Magnetic Materials","Review of Scientific Instruments","Physical Review C","The Japan Society of Applied Physics","Fertility and Sterility","Key Engineering Materials","Canadian Medical Association Journal","The English Historical Review","Cancer","UK Tree Care Mailing List","The Journal of Physiology","The Boston Medical and Surgical Journal","SSRN Electronic Journal","Journal of Organometallic Chemistry","Value in Health","Inactive DOIs","Nucleic Acids Research","Vacuum","Journal of Crystal Growth","Pediatrics","Journal of Anhui Agricultural Sciences","Japanese Journal of Radiological Technology","American Journal of Psychiatry","Journal of Education","American Journal of Ophthalmology","Experimental Biology and Medicine","Surface Science","The Journal of Pediatrics","Journal of Agricultural and Food Chemistry","Solid State Communications","IEEE Transactions on Magnetics","Journal of Virology","Pediatric Research","Journal of The Electrochemical Society","Bulletin of Experimental Biology and Medicine","Books Abroad","Journal of the Physical Society of Japan","European Respiratory Journal","Nuclear Instruments & Methods in Physics Research Section A-accelerators Spectrometers Detectors and Associated Equipment","Macromolecules","Langmuir","Proceedings of the American Mathematical Society","American Journal of Cardiology","Chemischer Informationsdienst","Critical Care Medicine","NEJM Journal Watch","British medical journal","Analytica Chimica Acta","Endocrinology","American Journal of Nursing","New Scientist","Annals of the Rheumatic Diseases","Journal of Physical Chemistry B","Nihon rinsho. Japanese journal of clinical medicine","Anesthesia & Analgesia","Electrochimica Acta","American Journal of Sociology","Gastrointestinal Endoscopy","European Journal of Organic Chemistry","Nursing times","Geophysical Research Letters","Monthly Weather Review","Journal of High Energy Physics","Physica B-condensed Matter","Journal of Hepatology","Optics Express","Ugeskrift for Læger","The Annals of Thoracic Surgery","British Journal of Psychiatry","Journal of Materials Science","Applied and Environmental Microbiology","The Journal of Allergy and Clinical Immunology","Science News","European Journal of Pharmacology","Optics Communications","Veterinary Record","New England Journal of Medicine","American Heart Journal","Journal of Physical Chemistry C","European Journal of Cancer","Journal of Molecular Structure","The Musical Times","The Medical Journal of Australia","Journal of Physics: Condensed Matter","Bulletin of the Chemical Society of Japan","American Journal of Public Health","Nuclear Instruments & Methods in Physics Research Section B-beam Interactions With Materials and Atoms","Journal of Nuclear Materials","European Heart Journal","Der Neue Pauly","Obstetrics & Gynecology","Presse Medicale","Journal of Molecular Biology","Advances in Experimental Medicine and Biology","Russian Chemical Bulletin","Neurosurgery","British Journal of Surgery","Neuroscience Letters","Journal of Molecular Medicine","Dutch Pamphlets Online","Physical Chemistry Chemical Physics","The Journal of Neuroscience","Nederlands Tijdschrift voor Geneeskunde","Brill’s New Pauly","Journal of Electroanalytical Chemistry","Annals of Surgery","The American Journal of Medicine","Journal of Nervous and Mental Disease","Archives of Biochemistry and Biophysics","Radiotherapy and Oncology","Proceedings of the Royal Society of Medicine","Journal of Dairy Science","Archives of Disease in Childhood","AJN, American Journal of Nursing","The Journal of the Acoustical Society of America","American Journal of Roentgenology","The NamesforLife Abstracts","Social Science Research Network","Archives of Dermatology","Methods of Molecular Biology","Journal of Animal Science","FEBS Journal","The Journal of Clinical Endocrinology and Metabolism","Urology","Speculum","Chemistry Letters","Science","International Affairs","Phytochemistry","JAMA Internal Medicine","IOP Conference Series: Materials Science and Engineering","Zeitschrift für anorganische und allgemeine Chemie","Stroke","Journal of the Franklin Institute","Journal of Colloid and Interface Science","Psyccritiques","The American Journal of Gastroenterology","Journal of Pediatric Surgery","Tidsskrift for Den Norske Laegeforening","Science of The Total Environment","Zeitschrift für Physikalische Chemie","Polymer","Journal of Materials Chemistry","Optics Letters","Journal of Physics A","Journal of Physical Chemistry A","The American journal of physiology","British Journal of Dermatology","Open-File Report","The Japanese Journal of Urology","The Hospital","Journal of Economic Entomology","Physica Status Solidi B-basic Solid State Physics","Academy of Management Proceedings","Materials Science and Engineering A-structural Materials Properties Microstructure and Processing","Isis","Acta Crystallographica Section E-structure Reports Online","Classical Review","Journal of Pharmacology and Experimental Therapeutics","Annals of Oncology","Naturwissenschaften","Journal of the American Ceramic Society","Materials Letters","French Studies","Industrial & Engineering Chemistry Research","Cellular and Molecular Life Sciences","Planta Medica","Journal of Hypertension","arXiv: High Energy Physics - Phenomenology","International Journal of Cardiology","Chemie Ingenieur Technik","Plant Physiology","Journal of Applied Physiology","The Journal of Infectious Diseases","Journal of Clinical Investigation","DMW - Deutsche Medizinische Wochenschrift","Annalen der Physik","Infection and Immunity","Journal of Medicinal Chemistry","Acta Crystallographica Section A","Synfacts","Läkartidningen","Synthesis","Procedia - Social and Behavioral Sciences","American Journal of Surgery","American Anthropologist","Chemistry: A European Journal","Microbiology","The American Mathematical Monthly","Life Sciences","The Journal of Thoracic and Cardiovascular Surgery","Slavic Review","Analytical and Bioanalytical Chemistry","Microelectronics Reliability","Journal of Neurochemistry","Journal of the Neurological Sciences","Geological Magazine","Journal of Power Sources","Journal of Neurosurgery","Physica Status Solidi","The Journal of Asian Studies","Transportation Research Record","Transactions of the American Mathematical Society","International Journal of Heat and Mass Transfer","Archives of Ophthalmology","The Journal of American History","InPharma","Inorganica Chimica Acta","Clinical Infectious Diseases","Journal of Clinical Microbiology","Psychological Reports","Chemosphere","Rofo-fortschritte Auf Dem Gebiet Der Rontgenstrahlen Und Der Bildgebenden Verfahren","Antimicrobial Agents and Chemotherapy","Industrial & Engineering Chemistry","World Literature Today","Procedia Engineering","Analytical Biochemistry","International Journal of Hydrogen Energy","Journal of Mathematical Analysis and Applications","IEEE Transactions on Nuclear Science","Biochemical Pharmacology","Journal of Physics D","Biochemical Society Transactions","The Classical Review","Journal of Investigative Dermatology","Organic Letters","Atherosclerosis","Organometallics","Nippon Kagaku Kaishi","Vaccine","Journal of Sound and Vibration","Transactions of the American Nuclear Society","Otolaryngology-Head and Neck Surgery","Virology","Physical review. E, Statistical, nonlinear, and soft matter physics","South African Medical Journal","Journal of Fluid Mechanics","Journal of the Optical Society of America","Annals of Emergency Medicine","Bioorganic & Medicinal Chemistry Letters","The Astronomical Journal","American Journal of Clinical Pathology","Church History","Chemical & Pharmaceutical Bulletin","Alzheimers & Dementia","Journal of The Chemical Society-perkin Transactions 1","International Journal of Computer Applications","International Journal of Cancer","Anaesthesia","Clinical Orthopaedics and Related Research","Zootaxa","European Psychiatry","ACS Symposium Series","Perceptual and Motor Skills","Oxford Handbooks Online","Physica C-superconductivity and Its Applications","Gene","Journal of the American Statistical Association","Nephrology Dialysis Transplantation","Encyclopedic Dictionary of Polymers","Orvosi Hetilap","Lexicon Gregorianum Online","Langenbeck's Archives of Surgery","Computer Engineering","Encyclopédie de l’Islam","Acta Paediatrica","Food Chemistry","Poultry Science","The SHAFR Guide Online","AIAA Journal","Talanta","Laryngoscope","The Journal of Nuclear Medicine","Modern healthcare","European Urology Supplements","Revue de Médecine Interne","Eos, Transactions American Geophysical Union","Journal of Non-crystalline Solids","Heart","Helvetica Chimica Acta","Water Science and Technology","European Neuropsychopharmacology","Journal of Vascular Surgery","Gut","Diabetes","American Journal of Botany","The Mathematical Gazette","Physics of Fluids","Khirurgii︠a︡","Hepatology","Wear","bioRxiv","Journal of Vision","Oxford Art Online","Electrical Engineering","British Journal of Pharmacology","Toxicology Letters","Chemical Engineering Science","Archiv der Pharmazie","Methods in Enzymology","Journal of Bone and Joint Surgery, American Volume","Journal of Cell Biology","Javma-journal of The American Veterinary Medical Association","Communications in Computer and Information Science","Canadian Journal of Chemistry","The Journal of Modern History","Physica Scripta","Transplantation proceedings","British Dental Journal","Colloids and Surfaces A: Physicochemical and Engineering Aspects","Journal of Physics B","Aquaculture","Critical Care","JAMA Pediatrics","Anthropology News","American Journal of Physics","Oncotarget","IEEE Transactions on Electron Devices","Hydrobiologia","La Revue du praticien","Conference proceedings : ... Annual International Conference of the IEEE Engineering in Medicine and Biology Society. IEEE Engineering in Medicine and Biology Society. Annual Conference","Neuroscience","Thrombosis and Haemostasis","Journal of Urology","Spectrochimica Acta Part A: Molecular and Biomolecular Spectroscopy","Pflügers Archiv: European Journal of Physiology","British Journal of Cancer","Annals of The American Academy of Political and Social Science","Contemporary Sociology","ACS Applied Materials & Interfaces","Journal of Membrane Science","Surgery","Thermochimica Acta","Journal of Neurology, Neurosurgery, and Psychiatry","The Journal of Ecclesiastical History","IUPAC Standards Online","Experimental Cell Research","The Journal of Economic History","Journal of Oral and Maxillofacial Surgery","Dalton Transactions","Journal of the American Academy of Dermatology","Schizophrenia Research","Earth and Planetary Science Letters","Behavioral and Brain Sciences","Medicine","International Journal of Gynecology & Obstetrics","Sensors and Actuators B-chemical","Advances in Intelligent Systems and Computing","Naunyn-schmiedebergs Archives of Pharmacology","Archives of Surgery","Academic Medicine","Journal of Pharmaceutical Sciences","The Auk","Chemical Engineering Journal","Journal of the National Cancer Institute","Acta Medica Scandinavica","Hortscience","Clinical Chemistry","British Journal of Haematology","Journal of The Chemical Society, Chemical Communications","Carbon","Public Health","Synlett","The Modern Language Journal","Acta Radiologica","Atmospheric Environment","Geochimica et Cosmochimica Acta","The Geographical Journal","Cell","Physica A-statistical Mechanics and Its Applications","Journal of Food Science","Journal of Experimental Medicine","Review & Expositor","Dictionary of Gems and Gemology","Journal of Hydrology","Analyst","Ecology","Chemical Physics","Fuel","The American Journal of Clinical Nutrition","Synthetic Metals","Journal of Mathematical Physics","Kidney International","Psychiatric Services","Ceramics International","Seibutsu Butsuri","Journal of Surgical Research","American Journal of Physiology","Computer Knowledge and Technology","The Journal of Religion","Journal of The American Academy of Dermatology","Archives of Physical Medicine and Rehabilitation","Molecular and Cellular Biology","arXiv: Astrophysics","Seg Technical Program Expanded Abstracts","NeuroImage","British Journal of Ophthalmology","The American Naturalist","Acta Crystallographica Section C-crystal Structure Communications","Advanced Materials","PharmacoEconomics & Outcomes News","Journal of Nutrition","Environmental Health Perspectives","Biological Psychiatry","Bulletin of the American Meteorological Society","Colloid and Polymer Science","Acta crystallographica. Section E, Structure reports online","Clinica Chimica Acta","Medicina Clinica","Vestnik khirurgii imeni I. I. Grekova","United Nations Treaty Series","Nursing","Arthritis & Rheumatism","School Science and Mathematics","Minerva Medica","Nature Communications","Solid State Ionics","Monatshefte Fur Chemie","Archiv Der Pharmazie","Journal of Trauma-injury Infection and Critical Care","Journal of The Chemical Society","Oxford Scholarship Online","Surface & Coatings Technology","Journal of Materials Processing Technology","Measurement Techniques","Obstetrical & Gynecological Survey","Journal of Molecular and Cellular Cardiology","Modern Language Review","Energy Procedia","The Journal of Agricultural Science","Developmental Biology","Lexikon des gesamten Buchwesens Online","BJA: British Journal of Anaesthesia","IEEE Transactions on Microwave Theory and Techniques","Lung Cancer","Circulation Research","IEEE Transactions on Antennas and Propagation","Physics of Plasmas","British Journal of Radiology","Journal of Bone and Joint Surgery-british Volume","Social Forces","Journal of Radioanalytical and Nuclear Chemistry","Bioresource Technology","Advances in Space Research","Spine","Applied Mathematics and Computation","Virchows Archiv","Springer-Lehrbuch","Journal of the American Geriatrics Society","Journal of Polymer Science Part A","Military Medicine","Optics and Spectroscopy","Cochrane Database of Systematic Reviews","IEEE Transactions on Automatic Control","Archives of Gynecology and Obstetrics","Journal of Vacuum Science and Technology","National Bureau of Economic Research","Lecture Notes in Electrical Engineering","Bollettino della Società italiana di biologia sperimentale","Ultrasound in Obstetrics & Gynecology","Endoscopy","Journal of The Franklin Institute-engineering and Applied Mathematics","Journal of Solid State Chemistry","Klinicheskaia meditsina","Postgraduate Medical Journal","Discrete Mathematics","Crop Science","Molecular Crystals and Liquid Crystals","Digestive Diseases and Sciences","Theology","Ophthalmology","Astrophysics and Space Science","Computer Science and Communications Dictionary","BJUI","Journal of Biomechanics","Journal of Natural History","The Indian medical gazette","The Journal of Theological Studies","Acta Ophthalmologica","Chemistry of Materials","Wiener Klinische Wochenschrift","Journal of Hazardous Materials","Materials Chemistry and Physics","Polyhedron","The Journal of Comparative Neurology","The International Journal of Advanced Manufacturing Technology","Journal of the American Dental Association","Journal of the American Oil Chemists' Society","Zeitschrift Fur Gastroenterologie","Medizinische Klinik","Carbohydrate Research","Survey of Anesthesiology","Collection of Czechoslovak Chemical Communications","Postgraduate Medicine","Electroencephalography and Clinical Neurophysiology","European Journal of Operational Research","Bulletin of the American Mathematical Society","Journal of Neurophysiology","Water Research","Journal of Physics and Chemistry of Solids","American Journal of Epidemiology","European Journal of Endocrinology","Rheumatology","Anticancer Research","Gynecologic Oncology","Microscopy and Microanalysis","Clinical Science","AORN Journal","Optometry and Vision Science","Gigiena i sanitariia","British Journal of Obstetrics and Gynaecology","Clinical Cancer Research","Australian Veterinary Journal","IEEE Photonics Technology Letters","MATEC Web of Conferences","Chemische Berichte","Social Science & Medicine","Cell and Tissue Research","Journal of Political Economy","Polski tygodnik lekarski","Genetics","Free Radical Biology and Medicine","Macromolecular Chemistry and Physics","Africa","Molecular Therapy","Harvard Law Review","Archives of Otolaryngology-head & Neck Surgery","Journal of Catalysis","Journal of the Royal Society of Medicine","Journal of Clinical Pathology","Journal of Cell Science","Biology of Reproduction","IOP Conference Series: Earth and Environmental Science","Foreign Affairs","The EMBO Journal","American Journal of Physiology-heart and Circulatory Physiology","Agronomy Journal","American Psychologist","Hypertension","Oncogene","American Journal of Tropical Medicine and Hygiene","Plant Disease","International Journal of Pharmaceutics","Development","Tectonophysics","Computer Simulation","arXiv: Quantum Physics","Journal of the Science of Food and Agriculture","Journal of Petroleum Technology","The Proceedings of JSME annual Conference on Robotics and Mechatronics","Mmw-fortschritte Der Medizin","Sensors","Journal of Dental Research","American Journal of Agricultural Economics","Thorax","American National Biography Online","EPL","Revista Clinica Espanola","Journal of Biochemistry","European Physical Journal A","The Journal of Higher Education","Transplantation Proceedings","Physical Therapy","Proceedings of the IEEE","Journal of Thermal Analysis and Calorimetry","Comptes rendus des séances de la Société de biologie et de ses filiales","Clinical Neurophysiology","Molecular Physics","Nippon Jibiinkoka Gakkai Kaiho","Praxis Journal of Philosophy","World Journal of Gastroenterology","American Mathematical Monthly","Metal Finishing","American Journal of Kidney Diseases","Water Resources Research","Lecture Notes in Mathematics","Human Reproduction","American Journal of Veterinary Research","Progress of Theoretical Physics","Physica D: Nonlinear Phenomena","Marine Pollution Bulletin","Journal American Water Works Association","Zeitschrift für Naturforschung B","The Journal of Experimental Biology","Americas","Physiology & Behavior","Diabetes Care","Forest Ecology and Management","American Journal of Hypertension","Gan to kagaku ryoho. Cancer & chemotherapy","Journal of Nanoscience and Nanotechnology","Mycologia","IEEE Transactions on Applied Superconductivity","Microwave and Optical Technology Letters","The Economic Journal","Journal of Luminescence","Zhurnal mikrobiologii epidemiologii i immunobiologii","American Journal of Pathology","Parasitology","Optical Engineering","Soil Science Society of America Journal","Catalysis Today","Energy","The Science News-Letter","Journal of Algebra","Theoretical Computer Science","Dermatology","Journal of Hand Surgery","Schweizerische Medizinische Wochenschrift","Drug Research","Journal of Cleaner Production","Journal of Heart and Lung Transplantation","Chinese Physics Letters","Journal of Pharmacy and Pharmacology","Neurocomputing","IEEE Spectrum","The Journal of Politics","Proceedings of the Water Environment Federation","Encyclopedia of Genetics, Genomics, Proteomics and Informatics","Journal of Antimicrobial Chemotherapy","Revue Belge De Philologie Et D Histoire","Journal of Neurology","Journal of Materials Research","Chinese Science Bulletin","Journal of Hydraulic Engineering","BioScience","The American Journal of Nursing","Metal Powder Report","Nihon Rinsho Geka Gakkai Zasshi","Biomaterials","International Journal of Quantum Chemistry","Applied Thermal Engineering","Pain","Ferroelectrics","Encyclopedia of Cancer","Michigan Law Review","Acta Chemica Scandinavica","Publications of the Astronomical Society of the Pacific","Journal of Parasitology","Biological Chemistry","Fems Microbiology Letters","American Journal of Human Genetics","Journal of Vascular and Interventional Radiology","Materials Research Bulletin","IEEE Transactions on Communications","European Journal of Immunology","Terapevticheskii Arkhiv","Nanotechnology","IEEE Transactions on Information Theory","ICPSR Data Holdings","European Journal of Anaesthesiology","Political Science Quarterly","Plant and Soil","Case Reports","The Journal of Antibiotics","Archives De Pediatrie","Epilepsia","Current Biology","Harefuah","Journal of Geography","Geburtshilfe Und Frauenheilkunde","Computer Engineering and Applications","Construction and Building Materials","Chemistry of Heterocyclic Compounds","Thrombosis Research","Journal of General Virology","Philosophical Magazine Series 1","The Journal of Rheumatology","Journal of Lightwave Technology","Microelectronic Engineering","Hawley's Condensed Chemical Dictionary","International Journal of Molecular Sciences","Desalination","arXiv: High Energy Physics - Theory","New Phytologist","Il Nuovo Cimento","Applied Microbiology and Biotechnology","Journal of Chemical & Engineering Data","Bone","Chinese Medical Journal","Yakugaku Zasshi-journal of The Pharmaceutical Society of Japan","BioMed Research International","Carbohydrate Polymers","Journal of The Chemical Society-dalton Transactions","European Food Research and Technology","Nanoscale","Animal Behaviour","Geophysics","Annales De Dermatologie Et De Venereologie","Journal of Laryngology and Otology","Synthetic Communications","IEEE Journal of Quantum Electronics","Geophysical Journal International","Journal of The American Dietetic Association","American Journal of International Law","Information Sciences","Acta Psychiatrica Scandinavica","American Antiquity","Japan Geoscience Union","Psychopharmacology","Journal of the American Oriental Society","Casopís lékar̆ů c̆eských","Quarterly Journal of the Royal Meteorological Society","European Journal of Pediatrics","English Journal","Social Service Review","Bulletin of the School of Oriental and African Studies","Physics World","Revue Philosophique de Louvain","Schweizerische Ärztezeitung","Bulletin des Médecins Suisses","Gynecologic and Obstetric Investigation","Philosophical Magazine","IEEE Transactions on Computers","Brain","Toxicon","SciVee","Fusion Engineering and Design","Transfusion","Journal of Heterocyclic Chemistry","Business History Review","Clinical Radiology","Akusherstvo i ginekologiia","Nature Biotechnology","Encyclopedic Dictionary of Landscape and Urban Planning","Journal of the Royal Asiatic Society","Revue Neurologique","Toxicology and Applied Pharmacology","Neuroscience Research","Münchener medizinische Wochenschrift","Transactions of The Royal Society of Tropical Medicine and Hygiene","American Journal of Respiratory and Critical Care Medicine","Journal of Theoretical Biology","American Journal of Medical Genetics","Molecules","F1000Research","Theriogenology","Sovetskaia meditsina","Biotechnology Advances","Biotechnology and Bioengineering","IEICE Transactions on Fundamentals of Electronics, Communications and Computer Sciences","Transportation Research Record: Journal of the Transportation Research Board","Journal of Symbolic Logic","Zamm-zeitschrift Fur Angewandte Mathematik Und Mechanik","Comptes rendus hebdomadaires des séances de l'Académie des sciences","Journal of Mathematical Sciences","Journal of Computational Physics","IEEE Transactions on Biomedical Engineering","IEICE Transactions on Communications","Planta","Journal of Endocrinology","The proceedings of the JSME annual meeting","Powder Technology","Nuclear Engineering and Design","Zeitschrift für Gastroenterologie","Textile Research Journal","Zeitschrift für Angewandte Chemie","Applied Physics A","Acta Oto-laryngologica","Aiche Journal","Arteriosclerosis, Thrombosis, and Vascular Biology","Hot Working Technology","Bioorganic & Medicinal Chemistry","Transactions of the Japan Society of Mechanical Engineers. C","ECS Transactions","Marine Ecology Progress Series","JAMA Neurology","Ophthalmologica","Notes","Ethics","Journal Fur Praktische Chemie-chemiker-zeitung","National Medical Journal of China","Nuclear Instruments and Methods","The American review of respiratory disease","Physiologia Plantarum","Corrosion","Phytopathology","Materials Science and Engineering: A","Le Journal De Physique Colloques","Evolution","Canadian Journal of Zoology","Klinische Monatsblatter Fur Augenheilkunde","Journal of Nuclear Science and Technology","Physics in Medicine and Biology","Mind","Molecular Genetics and Genomics","Clinical Nuclear Medicine","Journal of Pediatric Gastroenterology and Nutrition","Classical Philology","Linear Algebra and its Applications","Journal of Chemical Technology & Biotechnology","European Physical Journal C","Dictionary of Minor Planet Names","Expository Times","Physica B: Condensed Matter","Food Science","Radiation Protection Dosimetry","Cancer Letters","Journal of Experimental and Theoretical Physics","Vision Research","Irish Journal of Medical Science","International Journal of Modern Physics B","Acta Materialia","Canadian Journal of Physics","The Physics Teacher","The Journal of the American Dental Association","Energy & Fuels","Developmental Medicine & Child Neurology","International Journal of Solids and Structures","Journal of The American College of Surgeons","Journal of Cellular Physiology","Diabetologia","Revista Medica De Chile","Russian Physics Journal","Bulletin of The School of Oriental and African Studies-university of London","Hispania","Metallurgical and Materials Transactions A-physical Metallurgy and Materials Science","Human Immunology","International journal of engineering research and technology","Journal of Applied Spectroscopy","Zeitschrift für Naturforschung A","Landolt-Börnstein - Group III Condensed Matter","Solid State Phenomena","Materials & Design","Experimental Brain Research","Clinical Pharmacology & Therapeutics","Palaeogeography, Palaeoclimatology, Palaeoecology","Agricultural and biological chemistry","Journal of Cardiovascular Pharmacology","Journal of Molecular Spectroscopy","Journal of Experimental Botany","Oral Surgery, Oral Medicine, Oral Pathology","Environmental Toxicology and Chemistry","Music Educators Journal","Indian Journal of Medical Research","Bulletin of Environmental Contamination and Toxicology","Journal of Marketing","European Archives of Oto-rhino-laryngology","IEEE Transactions on Power Electronics","The Economic History Review","IEEE Transactions on Signal Processing","Digestive and Liver Disease","The Biochemical journal","Vox Sanguinis","Journal of the Marine Biological Association of the United Kingdom","Journal of Computational and Applied Mathematics","Plant and Cell Physiology","Victorian Reports","Vrachebnoe delo","Language","Kardiologiia","Journal of Cardiac Failure","Aircraft Engineering and Aerospace Technology","Journal of Vacuum Science & Technology B","Antiquity","Annals of Neurology","Journal of Prosthetic Dentistry","Annals of Otology, Rhinology, and Laryngology","Journal of Personality and Social Psychology","Procedia Computer Science","Botanical Gazette","Environmental Science and Pollution Research","AIDS"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.keywords=["Experimental Lab Study","Inflammation","Pregnancy","Population","Cancer","Child","Demographic Factors","Developing Countries","Epidemiology","Obesity","Apoptosis","Research Methodology","Pharmacology","Depression","Mortality","Family Planning","Physiology","Pathology","Oxidative Stress","Breast Cancer","Prognosis","Children","Population Dynamics","Diagnosis","Metabolism","Developed Countries","Treatment","Rats","Meta-analysis","Aging","Adolescence","Stroke","Diseases","Economic Factors","Hypertension","Population Characteristics","Quality Of Life","Health","Behavior","Toxicologic Report","Biology","Diabetes","Genetics And Reproduction","Contraception","Surgery","Health Care And Public Health","Surgery, Operative","Biomedical And Behavioral Research","Infant","Risk Factors","Legal Approach","Magnetic Resonance Imaging","Public Health","Blood","Education","Asia","Review","Schizophrenia","Diabetes Mellitus","Geriatrics","Radiotherapy","Professional Patient Relationship","Heart Failure","Rehabilitation","Americas","Hiv","United States","Anxiety","Pain","Migration","Nutrition","Tuberculosis","Urine","Electrocardiography","Mice","Mitochondria","Studies","Chemotherapy","Antibiotics","Survival","Liver","Death And Euthanasia","Prostate Cancer","Drug Therapy","Europe","Genetics","Blood Pressure","Africa","Stress","North America","Asthma","Statistics","Biomarker","Adolescents","Prevalence","Gene Expression","Hospitals","Age Factors","Clinical Research","Epilepsy","Biomarkers","Exercise","Mri","Colorectal Cancer","Systematic Review","Autophagy","Reproduction","Socioeconomic Factors","Fertility","Hepatocellular Carcinoma","Multiple Sclerosis","Dogs","Infant, Newborn","Atrial Fibrillation","Physical Activity","Chromatography","Dementia","Atherosclerosis","Cognition","Brain","Lung Cancer","Ultrasound","Infection","Prevention","Bacteria","Rabbits","Electroencephalography","Radiography","Metastasis","Northern America","Elderly","Nanoparticles","Cardiovascular Disease","Cytokines","Screening","Mental Health","Biographies","Immunohistochemistry","Empirical Approach","Delivery Of Health Care","Alzheimer’s Disease","Reactive Oxygen Species","Hippocampus","Kidney","Pediatrics","Pharmacokinetics","Organization And Administration","China","Mass Spectrometry","Angiogenesis","Rheumatoid Arthritis","Research Report","India","Heart","Immunotherapy","Proliferation","Type 2 Diabetes","Bioethics And Professional Ethics","Alzheimer's Disease","Smoking","Microrna","Cytotoxicity","Anesthesia","Computed Tomography","Development","Communication","Myocardial Infarction","Learning","Escherichia Coli","Outcome","Angiography","Epigenetics","Policy","Complications","Insulin","Safety","History","Abnormalities","Calcium","Osteoporosis","Fmri","Melanoma","Outcomes","Gastric Cancer","Youth","Diet","Osteoarthritis","Trauma","Medicine","Memory","Evaluation","Measurement","Non-nasa Center","Skin","Insulin Resistance","Diagnosis, Differential","Socioeconomic Status","Pediatric","Evolution","Growth","Tissue Culture","Proteomics","Coronary Artery Disease","Erythrocytes","Metabolic Syndrome","Neoplasms","Nitric Oxide","Antioxidant","Africa South Of The Sahara","Polymorphism","Blood Proteins","Nursing","Rat","Programs","Microscopy, Electron","Sleep","Dna Methylation","Primary Care","Classification","Gender","Hypoxia","Alcohol","Parkinson's Disease","Incidence","Chronic Kidney Disease","Adolescent","Toxicity","Drug Delivery","Psychotherapy","Immunity","Qualitative Research","Obituaries","Transplantation","Crystal Structure","Vitamin D","Thrombosis","Health Services","Histology","Hormones","Malaria","Women","Antibodies","Postoperative Complications","Primary Health Care","Imaging","Echocardiography","Vaccine","Personality","Stem Cells","Pregnancy/complications","Psychiatry","Blood Transfusion","Glucose","Tuberculosis, Pulmonary","Mouse","Fluorescence","Human","Respiration","Hospital Administration","Viral Diseases","Biopsy","Cholesterol","Body Mass Index","Amino Acids","Dopamine","Allergy","Climate Change","Examinations And Diagnoses","Recurrence","Blood Chemical Analysis","Laparoscopy","Liver/metabolism","Sepsis","Electrophysiology","Mutation","Wounds And Injuries","Vaccination","Environment","Geographic Factors","Anatomy","Southern Asia","Cattle","Temperature","Uterus","Latin America","Education, Medical","Psychological Factors","Innate Immunity","Parkinson’s Disease","Contraceptive Methods","Infections","Dna","Management","Equipment And Supplies","Iron","Enzymes","Risk Assessment","Oncology","Endocrine System","Iran","Hemorrhage","Fish","Ovarian Cancer","Research","Metabolomics","Lung","Glaucoma","Differentiation","Viruses","Body Weight","Vision","Clinical Trials","Ultrasonography","Suicide","Nf-κb","Leukemia","Neurodegeneration","Macrophages","Cerebrospinal Fluid","Endoscopy","Physicians","Traumatic Brain Injury","Fertility Control, Postconception","Influenza","Air Pollution","Proteins","Cervical Cancer","Reliability","Pancreatic Cancer","Wound Healing","Palliative Care","Family And Household","Lipids","Therapy","Resistance","Hemoglobin","Fibrosis","Anemia","Copper","Electrophoresis","Cardiovascular Diseases","Chromosomes","Attention","Clinical Trial","Intervention","Psychology","Retina","Mycobacterium Tuberculosis","Cell Cycle","Serotonin","Tissue Engineering","Adsorption","Assessment","Pneumonia","Ethics","Knowledge","Regeneration","Collagen","Testosterone","Inflammatory Bowel Disease","Analytical Approach","Invasion","Autism","Comparative Studies","Therapeutics","Fatigue","Chitosan","Aneurysm","Plants","Estrogens","Mental Disorders","Self-assembly","Chemistry","Muscles","Liver Cirrhosis","Neuroprotection","Zebrafish","Neoplasm Diagnosis","Fatty Acids","Ovary","Perception","English Speaking Africa","Penicillin","Placenta","Older Adults","Pregnancy Complications","Genetics, Human","Potassium","Decision Making","Ros","Biofilm","Mesenchymal Stem Cells","Knee","Spatial Distribution","Sex","Attitude","Biomechanics","Abortion, Induced","Electromyography","Social Policy","Neurosurgery","Fractures","Validation","Pancreas","Microglia","Fungi","Surveillance","Bipolar Disorder","Adherence","Randomized Controlled Trial","Glioma","Leukocytes","Aged","Guinea Pigs","Mental Health Therapies","Adrenal Cortex Hormones","Morphology","Macrophage","Eastern Asia","Extracellular Matrix","Drosophila","Age","Transcriptome","Type 2 Diabetes Mellitus","Drugs","Stability","Neoplasms/experimental","Infant Mortality","Training","Culture","Copd","Eeg","P53","Genomics","Fetus","Family Planning Programs","Multiple Myeloma","Psoriasis","Lymphoma","Drug Resistance","Lipid Metabolism","Spinal Cord Injury","Tuberculosis, Pulmonary/therapy","Contraceptive Usage","Stains And Staining","Glioblastoma","Blood Circulation","Motivation","Antibiotics/therapeutic Use","Neuroinflammation","Kinetics","Macroeconomic Factors","Chemistry, Pharmaceutical","Fertility Measurements","Machine Learning","Antioxidants","Stomach","Phylogeny","Graphene","Streptomycin","Industrial Hygiene","Cats","Risk","Japan","Staphylococcus Aureus","Systemic Lupus Erythematosus","Survey","Percutaneous Coronary Intervention","Risk Factor","Cytokine","Acute Kidney Injury","Simulation","Taxonomy","Skin/diseases","Family Characteristics","Mirna","Sodium","Immunology","Quality Improvement","Efficacy","Urogenital System","Flow Cytometry","Central Nervous System","Cytology","Bone","Infant, Newborn/diseases","Milk","Labor","Thoracic Radiography","Cortisone/therapeutic Use","Comorbidity","Psychological Tests","Health Education","Mediterranean Countries","Dna Damage","Blood Coagulation","Adaptation","Molecular Dynamics","Patient Safety","Rna","Occupational Diseases","Antibiotic Resistance","Radiometry","Antioxidant Activity","Morbidity","Spleen","Peptides","Surveys","Biochemistry","Cystic Fibrosis","Progesterone","Chronic Obstructive Pulmonary Disease","Validity","Population Policy","Complication","Hemodialysis","Non-small Cell Lung Cancer","Food","Canada","Breast Neoplasms","Non-programmatic","Southeastern Asia","Peptic Ulcer","Infertility","Political Factors","Immune Response","Disability","Gastrectomy","Ulcerative Colitis","Genitalia","Biography","Program Activities","Rna-seq","Neoplasm Metastasis","Spinal Cord","Pcr","Infant Nutrition","Guidelines","Adult","Carcinoma","Histocytochemistry","Technology","Australia","General Practice","Next-generation Sequencing","Epinephrine","Western Europe","Psychosis","Zinc","Lung Neoplasms","Laboratory Examinations And Diagnoses","Blood Groups","Congenital Heart Disease","Medical Education","Molecular Docking","Emotion","Spine","Prediction","Sheep","Autoimmunity","Popular Approach/source","Adenocarcinoma","Microbiome","Tumor","Parents","Dermatology","Migraine","Skeletal Muscle","Animal Model","Literature Review","Photosynthesis","Heart Surgery","Sampling Studies","Critique","Emergency Department","Ischemic Stroke","Bleeding","Neuroimaging","Optical Coherence Tomography","Arteriosclerosis","Pulmonary Embolism","Poisoning","Chronic Pain","Carbon Dioxide","Phosphorylation","Ethnic Groups","Head And Neck Cancer","Coronary Disease","Salmonella","Colon Cancer","Tobacco","Sex Behavior","Bone Marrow","Cell Proliferation","Hiv Infections","Myocardium","Targeted Therapy","Dentistry","Cell Division","Neoplasm Radiotherapy","Social Support","Microarray","Autism Spectrum Disorder","Economic Development","Cesarean Section","Arthritis, Rheumatoid","Physical Therapy","Industrial Medicine","Gene Therapy","Spectrophotometry","Language","Embryo","Organizations","Diarrhea","Endometriosis","Testis","Ischemia","Hemagglutination","Bladder Cancer","Cortisol","Signal Transduction","Histamine","Arrhythmia","Histopathology","Microbiota","Hypothalamus","Bariatric Surgery","Health Promotion","Acute Coronary Syndrome","Cisplatin","Bioinformatics","Breast","Working Memory","Renal Cell Carcinoma","Microscopy","Fracture","Northern Europe","Liver Function Tests","Radiation Effects","Pseudomonas Aeruginosa","Antigens","Positron Emission Tomography","Adipose Tissue","Nigeria","Type 1 Diabetes","Body Temperature","Kidney Diseases","Nmr","Water","Addiction","Hepatitis C Virus","Acth/therapeutic Use","Pet","Oxygen","Nitrogen","Adhd","Skin Transplantation","Resuscitation","Cadmium","Radiation","Arthritis","Heparin","Squamous Cell Carcinoma","Burns","Chemistry, Analytical","Carbon Isotopes","Nuptiality","France","Heavy Metals","Vaccines","Pancreatitis","Culture Media","Case Report","Oral Contraceptives","Religion","Liver Transplantation","Cultural Background","Gait","Contraceptive Methods--side Effects","Dog","Kidney Transplantation","Qualitative","Sarcoma","Functional Connectivity","Cirrhosis","Immunization","Sterilization, Sexual","Pulmonary Hypertension","Norepinephrine","Cost-effectiveness","Menopause","Cerebellum","Rural Population","Magnesium","Marriage","Bacteriophage","Eastern Africa","Eye","Contraceptive Agents","Pathogenesis","Syphilis","Transcription","Glutathione","Ageing","Curcumin","Religious Approach","Elisa","Emotions","Immunosuppression","Stomach Neoplasms","Egfr","Cerebral Palsy","Cysts","Hospitalization","Lipopolysaccharide","Vascular Diseases","Helicobacter Pylori","Roentgen Rays/effects","Phagocytosis","Akt","Headache","Human Resources","Dendritic Cells","Health Personnel","South America","Complement","Mild Cognitive Impairment","Dialysis","Contraceptive Agents, Female","Protein Metabolism","Brazil","Saliva","Family","Meningitis","Ussr","Population Growth","Spermatozoa","Ct","Bioavailability","Obstructive Sleep Apnea","Genitalia, Female","Plasma","South Africa","Internet","Single Nucleotide Polymorphism","Proteins/metabolism","C-reactive Protein","Health-related Quality Of Life","Antigens And Antibodies","Myocardial Infarct","Nanoparticle","Body Composition","Ophthalmology","Chronic Disease","Gastric Juice","Cartilage","Injury","Models, Theoretical","Antineoplastic Agents","Decision-making","Heart Rate","Cornea","Heart Diseases","Antimicrobial Resistance","Infant, Newborn, Diseases","Preeclampsia","Amyotrophic Lateral Sclerosis","Critical Care","Treatment Outcome","Lung Diseases","Prostate","Melatonin","Contrast Media","Cognitive Impairment","Nurses","Diffusion Tensor Imaging","Italy","Data Collection","Estradiol","Overweight","Acetylcholine","Kidney Function Tests","Recovery","Malnutrition","Neuroscience","Data Analysis","Arabidopsis","Mtor","Probiotics","Respiration/physiology","Endothelial Cells","Reflex","Yeast","Brain/diseases","Cortisone/effects","Dental Caries","Hepatitis C","Virulence","Arsenic","Hydrogen Peroxide","Leptin","Alcoholism","Cerebral Cortex","Steroids","Monitoring","Methylation","Sensitivity","Weight Loss","Human Papillomavirus","Catheter Ablation","Carbohydrate Metabolism","Lactation","Metformin","Glutamate","Hemolysis","Poultry","Inhibition","Program Evaluation","Neurology","Periodontitis","Jurisprudence, Medical","Thyroid","Radiation Therapy","Flavonoids","Liver Diseases","Plasticity","Prefrontal Cortex","Resilience","Rice","Telemedicine","Anticoagulants","Total Knee Arthroplasty","Blood Platelets","Performance","Hplc","Oxytocin","Aorta","Synthesis","Sex Differences","Mexico","Migrants","Neoplasms, Experimental","Reproductive Behavior","Antigen-antibody Reactions","Hiv/aids","Adults","Quality","Cohort Study","Vegf","Antibody","Radiology","Bmi","Obituary","Cell Death","Pneumonectomy","Reflex, Conditioned","Fistula","T Cells","Radiation Protection","Nicotine","Hepatitis B Virus","Photodynamic Therapy","Sarcoidosis","Micrornas","Neurogenesis","Students","Doxorubicin","Microbiology","Hip","Neurons","Obstetrics","Cardiac Surgery","Urban Population","Schools","Bone Mineral Density","Esophagus","Menstruation","Light","Amygdala","Breastfeeding","Overall Survival","Edema","Ptsd","Acute Myeloid Leukemia","Legislation","Hysterectomy","Gold Nanoparticles","In Vitro","Subarachnoid Hemorrhage","Intellectual Disability","Dna Repair","Preventive Medicine","Delivery","Vascular Surgery","Tumor Microenvironment","Soil","Attitudes","Protein","Postoperative Care","Ethanol","Autonomic Nervous System","Pharmacy","Mercury","Modeling","Natural Products","England","United Kingdom","Vital Statistics","Immune Serums","Cortisone","Lymphocytes","Venous Thromboembolism","Intensive Care Unit","Poliomyelitis","Analgesia","Health Policy","Phosphorus","Gamma Globulin","Insects","Antibacterial Activity","Arabidopsis Thaliana","Parity","Liver/diseases","Hypertension/therapy","Questionnaire","Gut Microbiota","International Migration","Nsclc","Transcription Factor","Tnf-α","Hydrogen-ion Concentration","Neuropathic Pain","Metals","Abortion","Oral Contraceptives--side Effects","Cardiomyopathy","Chloramphenicol","Anti-inflammatory","Blood Sugar","Gynecology","Mechanical Properties","Drug Discovery","Heart/physiology","Hemodynamics","Antimicrobial Activity","Dexamethasone","Longitudinal","Exosomes","Staphylococcus","Antimicrobial","Necrosis","Ascorbic Acid","Signaling","Acquired Immunodeficiency Syndrome","Hospitals, Psychiatric","Methotrexate","Aggression","Shoulder","Heart Rate Variability","Editorials","Major Depressive Disorder","Genotype","Cardiac Arrest","Muscles/physiology","Intestinal Obstruction","Arthroplasty","Calcification","Monoclonal Antibody","Optimization","Bronchoscopy","Phospholipids","Posture","Serum","Animal Models","Humans","Androgens","Estimation Technics","Resveratrol","Gene Regulation","Hyperglycemia","Teeth","Personalized Medicine","Hydrogel","Implementation","Western Africa","Osteosarcoma","Aspirin","Nrf2","Systems Biology","Lymph Nodes","Disease","Crohn’s Disease","Antibacterial","Antibiotics/effects","Lungs/diseases","Hearing Loss","Chromatin","Estrogen","Heart Defects, Congenital","Snp"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.substances=["RNA, Messenger","Anti-Bacterial Agents","DNA","Calcium","Antineoplastic Agents","Biomarkers","Recombinant Proteins","Proteins","Antibodies, Monoclonal","Insulin","Bacterial Proteins","Oxygen","Transcription Factors","Blood Glucose","Peptides","Glucose","Water","Membrane Proteins","DNA-Binding Proteins","Cytokines","Amino Acids","Biomarkers, Tumor","Enzyme Inhibitors","Immunoglobulin G","Tumor Necrosis Factor-alpha","Cholesterol","Carrier Proteins","Culture Media","Antioxidants","DNA, Bacterial","Lipids","Peptide Fragments","DNA Primers","Sodium","Plant Extracts","Adenosine Triphosphate","Potassium","Antibodies","Immunosuppressive Agents","Ligands","Recombinant Fusion Proteins","Iron","Water Pollutants, Chemical","Collagen","RNA","DNA, Viral","Nitric Oxide","Nerve Tissue Proteins","Ethanol","Norepinephrine","Carbon Dioxide","Contrast Media","Isoenzymes","Fatty Acids","Estradiol","Nuclear Proteins","Polymers","Reactive Oxygen Species","RNA, Viral","Lipopolysaccharides","Antiviral Agents","Anti-Inflammatory Agents","Tritium","Antibodies, Viral","Triglycerides","DNA, Complementary","Plant Proteins","Cyclic AMP","Anticoagulants","Hydrocortisone","Glycoproteins","Drug Combinations","Fluorescent Dyes","Blood Proteins","Dopamine","Neoplasm Proteins","Testosterone","Hemoglobins","Serotonin","Antigens","Receptors, Cell Surface","Magnesium","Interferon-gamma","Membrane Glycoproteins","Copper","Nitrogen","Autoantibodies","Anti-Inflammatory Agents, Non-Steroidal","Viral Proteins","MicroRNAs","Antihypertensive Agents","Antigens, CD","Adrenal Cortex Hormones","Phospholipids","Phosphates","Epitopes","Glucocorticoids","RNA, Small Interfering","Interleukin-6","Hypoglycemic Agents","Sodium Chloride","NF-kappa B","Zinc","Proto-Oncogene Proteins","Progesterone","Protein-Serine-Threonine Kinases","Macromolecular Substances","Carbon Isotopes","Estrogens","Biocompatible Materials","Solutions","Epinephrine","Hydrogen Peroxide","Antifungal Agents","Creatinine","Glutathione","Actins","Genetic Markers","Alkaline Phosphatase","Heparin","Indoles","Pyridines","Indicators and Reagents","Pharmaceutical Preparations","Polyethylene Glycols","Antipsychotic Agents","Anti-Infective Agents","Solvents","Immunoglobulin M","Imidazoles","Dexamethasone","Iodine Radioisotopes","Tumor Suppressor Protein p53","Cisplatin","Doxorubicin","Acetylcholine","Anticonvulsants","Carbon","Soil","Adrenocorticotropic Hormone","Cyclophosphamide","Superoxide Dismutase","Radiopharmaceuticals","Antibodies, Bacterial","Immune Sera","Dietary Fats","Vascular Endothelial Growth Factor A","Serum Albumin","Analgesics","Green Fluorescent Proteins","Phenols","Saccharomyces cerevisiae Proteins","Oxidoreductases","Oligopeptides","Repressor Proteins","Luteinizing Hormone","Sulfonamides","Fungal Proteins","RNA, Ribosomal, 16S","Coloring Agents","Trans-Activators","Chlorides","Carcinogens","DNA, Neoplasm","Piperazines","Insecticides","Aspirin","Escherichia coli Proteins","Growth Hormone","Antigens, Bacterial","Immunoglobulins","Adenosine Triphosphatases","Antigens, Neoplasm","Transforming Growth Factor beta","Urea","C-Reactive Protein","Vasodilator Agents","Pyrimidines","Metals","Histones","Tyrosine","Liposomes","Arginine","Air Pollutants","Phosphoproteins","Trypsin","Organometallic Compounds","Cytochrome P-450 Enzyme System","Ascorbic Acid","Antidepressive Agents","Lactic Acid","Anti-HIV Agents","Cell Cycle Proteins","Protein Kinase C","Phosphorus","L-Lactate Dehydrogenase","Penicillins","Fluorouracil","Polysaccharides","Protein Kinase Inhibitors","Drugs, Chinese Herbal","Immunoglobulin E","Protein Kinases","Adrenergic beta-Antagonists","Antigens, Viral","Lipoproteins","Prolactin","Allergens","Acetates","Analgesics, Opioid","Prednisone","Interleukin-2","DNA, Mitochondrial","Drug Carriers","Protein Isoforms","ErbB Receptors","Glutamic Acid","Morphine","Proto-Oncogene Proteins c-akt","gamma-Aminobutyric Acid","Flavonoids","Histamine","Dietary Proteins","Thyroxine","Methotrexate","Adjuvants, Immunologic","Receptors, Estrogen","Calcium Channel Blockers","Cysteine","Hormones","Chromatin","Steroids","Angiotensin II","Titanium","Intracellular Signaling Peptides and Proteins","Catecholamines","Follicle Stimulating Hormone","Interleukin-1","Lactates","Drosophila Proteins","Delayed-Action Preparations","Ion Channels","Radioisotopes","Antitubercular Agents","Gold","Piperidines","Placebos","Environmental Pollutants","Protein-Tyrosine Kinases","Membranes, Artificial","Ions","Nitric Oxide Synthase","Platelet Aggregation Inhibitors","Homeodomain Proteins","Phosphatidylinositol 3-Kinases","Thymidine","Lysine","Antibodies, Monoclonal, Humanized","Soil Pollutants","Enzymes","Anesthetics, Local","Peptide Hydrolases","Insulin-Like Growth Factor I","Antineoplastic Agents, Phytogenic","Free Radicals","Immunoglobulin A","Carbohydrates","Carbon Radioisotopes","Propranolol","Neuroprotective Agents","Glycated Hemoglobin A","Prednisolone","HLA Antigens","Fibrinogen","Silicon Dioxide","Glycine","Vitamin D","Catalase","Angiotensin-Converting Enzyme Inhibitors","Proto-Oncogene Proteins c-bcl-2","Antigens, Surface","Tetradecanoylphorbol Acetate","Phosphatidylcholines","Sulfhydryl Compounds","Alanine Transaminase","Lead","Tumor Suppressor Proteins","Cell Adhesion Molecules","Isoproterenol","Thiazoles","Lectins","Thyrotropin","Muscle Proteins","Tryptophan","Vitamins","Adaptor Proteins, Signal Transducing","Caspase 3","Arabidopsis Proteins","Inflammation Mediators","Sewage","Protons","Aerosols","Mutagens","Protein Precursors","Aspartate Aminotransferases","Cyclosporine","Adenosine","Alkaloids","Fibrinolytic Agents","Mitogen-Activated Protein Kinases","Cadmium","Renin","Surface-Active Agents","RNA-Binding Proteins","GTP-Binding Proteins","Interferon-alpha","Indomethacin","Hypnotics and Sedatives","Diuretics","Proteome","NAD","Chorionic Gonadotropin","Nitrates","Dinoprostone","Gels","Neurotransmitter Agents","Hydroxymethylglutaryl-CoA Reductase Inhibitors","Endopeptidases","Fatty Acids, Nonesterified","Parathyroid Hormone","Fluorodeoxyglucose F18","Lipoproteins, LDL","Cholesterol, HDL","Gonadotropin-Releasing Hormone","Prostaglandins","Amyloid beta-Peptides","DNA, Ribosomal","Anti-Arrhythmia Agents","Leucine","Androgens","Membrane Transport Proteins","Receptors, N-Methyl-D-Aspartate","Complement System Proteins","Cellulose","Amines","Edetic Acid","Serum Albumin, Bovine","Atropine","Thrombin","Vitamin E","Interleukin-10","Folic Acid","Bacterial Toxins","Ammonia","Cholesterol, LDL","Pyrazoles","Methionine","RNA, Bacterial","Potassium Channels","Glutathione Transferase","Calcium Channels","Neuropeptides","Fluorides","Caspases","Heat-Shock Proteins","Intercellular Signaling Peptides and Proteins","Triiodothyronine","Antibiotics, Antineoplastic","Dietary Carbohydrates","Sucrose","Endotoxins","Sulfates","Corticosterone","Glucagon","Electrolytes","Mercury","Paclitaxel","Viral Vaccines","Iodine","Nicotine","Glycogen","Glycerol","Antimalarials","Antigen-Antibody Complex","DNA, Fungal","Amides","Glycosaminoglycans","Cross-Linking Reagents","Lipid Bilayers","Dextrans","Malondialdehyde","Hydrogen","Quaternary Ammonium Compounds","Creatine Kinase","Organic Chemicals","Acid Phosphatase","Oligodeoxyribonucleotides","Oxides","Prostate-Specific Antigen","Glutamates","Lidocaine","Aldosterone","Manganese","Vitamin A","Bilirubin","Cocaine","Oligosaccharides","Fibronectins","Superoxides","Growth Substances","Uric Acid","Adenosine Diphosphate","Angiogenesis Inhibitors","Serine Endopeptidases","Protease Inhibitors","DNA Transposable Elements","Pyrroles","Receptors, Immunologic","Erythropoietin","Dermatologic Agents","Epidermal Growth Factor","Calcium-Binding Proteins","DNA Restriction Enzymes","Metals, Heavy","Protein Subunits","Vincristine","Caffeine","DNA Probes","Composite Resins","Cytoskeletal Proteins","Leptin","Muramidase","Receptor, ErbB-2","Nitriles","Interleukin-4","Minerals","Cyclooxygenase 2","Phenylalanine","Receptors, Antigen, T-Cell","Receptors, G-Protein-Coupled","Protozoan Proteins","Nickel","Serine","Silver","Triazoles","Aspartic Acid","Histocompatibility Antigens Class II","Streptomycin","Quinolines","Alanine","Antirheumatic Agents","Acrylic Resins","Chelating Agents","Interferons","Buffers","Tretinoin","Lithium","Nucleotides","Biological Products","Bicarbonates","Bile Acids and Salts","Vasopressins","Tablets","Influenza Vaccines","Acetylcholinesterase","Cyclic GMP","Keratins","Adenylyl Cyclases","Cations","Anesthetics","Benzodiazepines","Benzimidazoles","Ribonucleases","Dust","Microtubule-Associated Proteins","Benzamides","Immunologic Factors","Gases","Histidine","Lipase","NADP","Codon","Interleukin-8","Formaldehyde","Vaccines","p38 Mitogen-Activated Protein Kinases","RNA, Ribosomal","Organophosphorus Compounds","Vitamin B 12","Aldehydes","Sodium-Potassium-Exchanging ATPase","Nerve Growth Factors","Oligonucleotides","Plant Oils","Cadherins","Proteoglycans","Esters","Receptors, Cytoplasmic and Nuclear","Psychotropic Drugs","Interleukin-1beta","Free Radical Scavengers","Nitric Oxide Synthase Type II","RNA, Transfer","Technetium","Cholinesterase Inhibitors","Hyaluronic Acid","Luciferases","Proline","Bacterial Outer Membrane Proteins","Phosphoric Monoester Hydrolases","Selenium","gamma-Globulins","Electron Transport Complex IV","Cortisone","Thyroid Hormones","Tetracycline","Theophylline","beta-Galactosidase","Fatty Acids, Unsaturated","Luminescent Proteins","Antimetabolites, Antineoplastic","Chloramphenicol","Cobalt","Pesticides","Dental Implants","Naphthalenes","beta-Lactamases","Hepatitis B Surface Antigens","Contraceptives, Oral","Central Nervous System Stimulants","Oxytocin","Peroxidase","Cycloheximide","Cephalosporins","Albumins","Bronchodilator Agents","Vasoconstrictor Agents","Somatostatin","Dactinomycin","Purines","Ferritins","Ferric Compounds","BCG Vaccine","Glutathione Peroxidase","Autoantigens","Serotonin Uptake Inhibitors","Extracellular Matrix Proteins","Guanidines","Melatonin","Receptors, GABA-A","Viral Envelope Proteins","Histocompatibility Antigens Class I","HLA-DR Antigens","ATP-Binding Cassette Transporters","Tamoxifen","Arachidonic Acid","Naloxone","Adenine","Receptors, Progesterone","Warfarin","Polyesters","Isoniazid","Methylprednisolone","Anti-Anxiety Agents","Multienzyme Complexes","Proteasome Endopeptidase Complex","Matrix Metalloproteinase 9","Nitrites","Bacterial Vaccines","Industrial Waste","Choline","Carotenoids","Gentamicins","Phenobarbital","Tissue Plasminogen Activator","Cardiotonic Agents","Potassium Chloride","Membrane Lipids","Concanavalin A","Mitochondrial Proteins","Quinazolines","Disulfides","Ovalbumin","Diazepam","Polysaccharides, Bacterial","Glycosides","Gonadal Steroid Hormones","Chitosan","Micelles","Peptides, Cyclic","Lactones","Heme","Mixed Function Oxygenases","Carbon Monoxide","TOR Serine-Threonine Kinases","Adrenergic beta-Agonists","Tubulin","Chlorophyll","Chlorpromazine","Intercellular Adhesion Molecule-1","Amylases","Lymphokines","Sirolimus","Myosins","Transforming Growth Factor beta1","Lipoproteins, HDL","Peroxidases","Rifampin","Acetaminophen","Detergents","Apolipoproteins E","Ubiquitin-Protein Ligases","Aluminum","Adenine Nucleotides","Extracellular Signal-Regulated MAP Kinases","DNA, Plant","Glutamine","Substance P","beta Catenin","Blood Group Antigens","Transferrin","Glycoside Hydrolases","Emulsions","Verapamil","DNA-Directed RNA Polymerases","Dental Materials","RNA, Neoplasm","Microfilament Proteins","Receptor Protein-Tyrosine Kinases","Benzoates","Reagent Kits, Diagnostic","Excitatory Amino Acid Antagonists","Forkhead Transcription Factors","Anti-Infective Agents, Local","Arachidonic Acids","Herbicides","Ouabain","Etoposide","Fructose","Isoquinolines","Receptors, Serotonin","Cyclic AMP-Dependent Protein Kinases","Galactose","Starch","Narcotics","Porphyrins","Pyruvates","DNA, Recombinant","Deoxycytidine","Trace Elements","Antibiotics, Antitubercular","Factor VIII","Colloids","Methane","Arsenic","Citrates","Levodopa","Apoptosis Regulatory Proteins","Tyrosine 3-Monooxygenase","Calcitonin","Cysteine Endopeptidases","Methanol","DNA, Single-Stranded","Antineoplastic Agents, Hormonal","Antigens, CD34","Virulence Factors","Aniline Compounds","Haloperidol","Eye Proteins","Sulfides","alpha-Fetoproteins","Nifedipine","Cardiovascular Agents","Reserpine","Receptors, Adrenergic, beta","Anticholesteremic Agents","Terpenes","Diphosphonates","Cyclooxygenase Inhibitors","Biphenyl Compounds","Plastics","Ki-67 Antigen","Caseins","Interleukins","Sulfones","Histamine H1 Antagonists","ATP Binding Cassette Transporter, Subfamily B, Member 1","Insect Proteins","Glial Fibrillary Acidic Protein","Tacrolimus","Horseradish Peroxidase","Alcohols","Tissue Extracts","Amphotericin B","Carcinoembryonic Antigen","Granulocyte-Macrophage Colony-Stimulating Factor","Atrial Natriuretic Factor","Sulfur","Glucuronidase","Fluoresceins","Thiophenes","Phosphotransferases","Granulocyte Colony-Stimulating Factor","Morpholines","Receptors, Drug","Air Pollutants, Occupational","Sesquiterpenes","Ketones","Anions","bcl-2-Associated X Protein","HSP70 Heat-Shock Proteins","Serotonin Antagonists","Guanine","ABO Blood-Group System","Molecular Chaperones","Dipeptides","Receptors, Tumor Necrosis Factor","Fibroblast Growth Factor 2","Fibrin","Polychlorinated Biphenyls","Bleomycin","Dimethyl Sulfoxide","Integrins","Chymotrypsin","Receptors, Androgen","Hypolipidemic Agents","Antibodies, Antinuclear","Prostaglandins E","Photosensitizing Agents","Brain-Derived Neurotrophic Factor","Halothane","Chemokines","Azathioprine","Collagen Type I","Particulate Matter","Adrenergic alpha-Antagonists","Homocysteine","Water Pollutants","Cytarabine","Durapatite","Proto-Oncogene Proteins c-fos","Nucleosides","Amyloid","Anthelmintics","CD4 Antigens","Laminin","Guanosine Triphosphate","Culture Media, Conditioned","Receptors, Nicotinic","Propionates","Calmodulin","Propofol","Prostaglandin-Endoperoxide Synthases","Triazines","Calcitriol","Chloroquine","Antibodies, Protozoan","Valine","Bradykinin","Human Growth Hormone","Calcium, Dietary","Esterases","Parasympatholytics","Colchicine","Mitogen-Activated Protein Kinase 1","Carbachol","Sodium Channels","Receptors, Dopamine","Matrix Metalloproteinase 2","Nucleic Acids","Coated Materials, Biocompatible","Erythromycin","Metalloendopeptidases","Nitrous Oxide","Ozone","Chromium","Interferon Type I","Methacrylates","Neuraminidase","Biotin","Waste Water","Antibodies, Anti-Idiotypic","Capsid Proteins","Barbiturates","Receptors, Cholinergic","Dietary Fiber","Phenytoin","Mitogen-Activated Protein Kinase 3","Coumarins","Iodine Isotopes","STAT3 Transcription Factor","Blood Coagulation Factors","Ophthalmic Solutions","Ampicillin","Glucosephosphate Dehydrogenase","Acids","Nitric Oxide Synthase Type III","Antigens, Protozoan","Diterpenes","Multiprotein Complexes","Colforsin","Phenylephrine","Clonidine","Alcohol Oxidoreductases","Pyrrolidines","Oligonucleotide Probes","Natriuretic Peptide, Brain","Anti-Ulcer Agents","Salts","Phosphatidylinositols","Fentanyl","Cations, Divalent","Oxidants","Hydrogels","Receptors, Muscarinic","Succinate Dehydrogenase","Powders","Vancomycin","Bromodeoxyuridine","Isoantibodies","Salicylates","Fluoroquinolones","Narcotic Antagonists","Carboxylic Acids","Thyrotropin-Releasing Hormone","Furans","Antigens, Differentiation","Interleukin-12","Hypoxia-Inducible Factor 1, alpha Subunit","Taxoids","Receptors, Opioid","Bone Density Conservation Agents","Polycyclic Aromatic Hydrocarbons","Ubiquitin","Oligonucleotides, Antisense","Tetrodotoxin","Anesthetics, Inhalation","Azo Compounds","Nicotinic Acids","Enterotoxins","Gastrins","Cancer Vaccines","Toll-Like Receptor 4","CD3 Complex","Stilbenes","Ointments","DNA, Protozoan","Analgesics, Non-Narcotic","Acetylcysteine","Epoprostenol","Receptors, Glucocorticoid","Tobacco Smoke Pollution","Transaminases","Receptors, Dopamine D2","Vinblastine","Ciprofloxacin","Basic Helix-Loop-Helix Transcription Factors","Amphetamine","Deuterium","Complement C3","Cyanides","Glucosides","3' Untranslated Regions","Rituximab","Phosphatidylethanolamines","Metronidazole","Immunoglobulins, Intravenous","Uridine","Mannitol","Ribosomal Proteins","Sodium Dodecyl Sulfate","Cholinesterases","tau Proteins","Calcium Phosphates","Disinfectants","Mucins","Peptidyl-Dipeptidase A","Fatty Acids, Omega-3","JNK Mitogen-Activated Protein Kinases","Nitroglycerin","NG-Nitroarginine Methyl Ester","Neurotoxins","Phosphodiesterase Inhibitors","Niacinamide","Capsules","Fibroblast Growth Factors","Vaccines, Synthetic","Nanotubes, Carbon","Triterpenes","Valproic Acid","Telomerase","DNA-Directed DNA Polymerase","Antigens, Differentiation, T-Lymphocyte","Endothelin-1","NADPH Oxidases","Silicones","Arginine Vasopressin","Calcium-Calmodulin-Dependent Protein Kinases","fas Receptor","Globins","Organoplatinum Compounds","Tranquilizing Agents","Bone Morphogenetic Proteins","Calcimycin","Polyamines","Type C Phospholipases","Benzofurans","Receptor, Insulin","Platelet-Derived Growth Factor","Receptors, Interleukin-2","Chemokine CCL2","Methadone","Nitroprusside","ras Proteins","Phospholipases A","Mitomycin","von Willebrand Factor","Immunoglobulin Fab Fragments","Reverse Transcriptase Inhibitors","Proliferating Cell Nuclear Antigen","Graphite","Corticotropin-Releasing Hormone","Metformin","Saponins","Oils","Hydrocarbons","Furosemide","PPAR gamma","Hemolysin Proteins","Macrolides","Gadolinium DTPA","Gonadotropins","Pigments, Biological","Anesthetics, Intravenous","Antilymphocyte Serum","Carbamates","Enzymes, Immobilized","Estrogen Receptor alpha","Tetrazoles","Bupivacaine","Melanins","Hydrolases","Ketamine","Adiponectin","Cyclin-Dependent Kinase Inhibitor p21","Mitogens","Phosphoprotein Phosphatases","Plant Growth Regulators","Antibodies, Monoclonal, Murine-Derived","titanium dioxide","Urokinase-Type Plasminogen Activator","Camptothecin","S100 Proteins","Toll-Like Receptors","Oils, Volatile","Silicon","Excipients","Vitamin K","Wnt Proteins","Cytochrome c Group","Milk Proteins","Amyloid beta-Protein Precursor","Vaccines, Attenuated","Gelatin","Immunoglobulin Heavy Chains","Caenorhabditis elegans Proteins","Phytohemagglutinins","Aryl Hydrocarbon Hydroxylases","Proto-Oncogene Proteins c-myc","Calcitonin Gene-Related Peptide","gamma-Glutamyltransferase","Thiazolidinediones","Ethanolamines","Phosphorus Isotopes","Cyclins","Dinoprost","Glycolipids","Lactose","Deoxyglucose","Vimentin","Calcium-Transporting ATPases","Propanolamines","Carboplatin","Succinates","Methyltransferases","Adrenergic alpha-Agonists","Gadolinium","Quinolones","Ribavirin","Digoxin","Polytetrafluoroethylene","Deoxyribonucleases","DNA Helicases","Hydrazines","Antimicrobial Cationic Peptides","Monoamine Oxidase","Bone Cements","Palladium","Histocompatibility Antigens","Chromosomal Proteins, Non-Histone"]},function(e,t){e.exports='<div>\n    <div class="quick-search-layout">\n        <div class="quick-search-main">\n            <div ng-if="!vm.fieldSearch">\n                <form class="wizard-form">\n                    <label class="input">\n                        <input ng-model="vm.term"\n                            ng-model-options="{debounce: 200}"\n                            ng-change="change()"\n                            placeholder="Enter a {{vm.type}} keyword..."\n                            lens-auto-focus>\n                    </label>\n                </form>\n                <div ng-if="vm.error">\n                    Error\n                </div>\n                \x3c!-- Suggestions --\x3e\n                <div class="quick-search--suggestions">\n                    <div ng-repeat="item in vm.suggestions" ng-click="select(item)" class="quick-search-item btn">\n                        \x3c!-- <strong ng-class="{[\'brand-\' + (item.patent ? \'patent\' : \'scholar\')]: true}">{{item.type}}</strong> --\x3e\n                        <em class="list-icons--icon far {{getIcon(item)}}"></em>\n                        <span style="color: black;">{{item.label}}</span>\n                    </div>\n                    <div ng-repeat="item in vm.moreSuggestions" ng-click="select(item)" class="quick-search-item btn">\n                        \x3c!-- <strong ng-class="{[\'brand-\' + (item.patent ? \'patent\' : \'scholar\')]: true}">{{item.type}}</strong> --\x3e\n                        <em class="list-icons--icon far {{getIcon(item)}}"></em>\n                        <span style="color: black;">{{item.label}}</span>\n                    </div>\n                    <div class="quick-search-item btn" ng-if="vm.suggestions.length" ng-click="vm.fieldSearch = true" hidden>\n                        <strong style="color: #ff8800">Something Else</strong>\n                        <span>Choose a specific field to search</span>\n                    </div>\n                </div>\n            </div>\n            \n            <div ng-if="vm.fieldSearch">\n                <form class="wizard-form">\n                    <label class="input">\n                        <input ng-model="vm.fieldsFilterInput"\n                            ng-model-options="{debounce: 200}"\n                            ng-change="fieldSearch()"\n                            placeholder="Search Fields..."\n                            lens-auto-focus>\n                    </label>\n                </form>\n                <div>\n                    <div ng-repeat="field in vm.fieldTips" class="new-search-field-select link" ng-click="vm.searchField=\'field.key\'; vm.fieldSearch = false;">\n                        <strong>{{::field.label}}</strong><br>\n                        <span>{{::field.key}}</span><br>\n                        <span class="small col-meta">{{::field.definition}}</span>\n                        <div ng-if="field.example">\n                            e.g. <em>{{::field.example}}</em>\n                        </div>\n                    </div>\n                </div>\n                <a class="btn" ng-click="vm.fieldSearch = false" hidden>\n                    <em class="far fa-chevron-left"></em>\n                    Back to Quick Search\n                </a>\n            </div>\n        </div>\n        \n        \x3c!-- Selected --\x3e\n        <aside class="quick-search-sidebar" ng-if="vm.selected.length">\n            <b ng-if="vm.selected.length" class="aside-title">Your Selection</b>\n            <div ng-if="!vm.selected.length">\n                <em class="col-meta">Your Search bucket is currently empty</em>\n            </div>\n            \n            <div ng-if="vm.promptSubmit">\n                <div ng-repeat="item in vm.selected" class="quick-search-sidebar-item">\n                    <strong ng-class="{[\'brand-\' + (item.patent ? \'patent\' : \'scholar\')]: true}">{{item.type}}</strong>\n                    <div>{{item.label}}</div>\n                </div>\n\n                <div ng-if="vm.selected.length === 1">\n                    <em class="col-meta selection-notice">Note you can add more than one clause to your intended search bucket</em>\n                    <a class="btn btn-pri" ui-sref="search.results(searchParams(\'AND\'))" ui-sref-opts="{reload: true, notify: true}" ng-click="hack()">View Results</a>\n                </div>\n                \n                <div ng-if="vm.selected.length > 1" style="margin-top: 15px;">\n                    <a class="btn btn-pri" ui-sref="search.results(searchParams(\'OR\'))" ui-sref-opts="{reload: true, notify: true}" ng-click="hack()">Results for ANY of these clauses</a>\n                    <a class="btn btn-pri" ui-sref="search.results(searchParams(\'AND\'))" ui-sref-opts="{reload: true, notify: true}" ng-click="hack()">Results for ALL of these clauses</a>\n                </div>\n            </div>\n        </aside>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0);((i=r)&&i.__esModule?i:{default:i}).default.directive("lensRangeSlider",[].concat([],[function(){return{scope:{from:"=",to:"=",min:"<",max:"<"},link:function(e,t){var n=new Date,i=e.min||1900,r=e.max||n.getFullYear();t.slider({range:!0,min:i,max:r,values:[e.from||i,e.to||r],slide:function(t,n){var i=a(n.values,2),r=i[0],o=i[1];e.from=r,e.to=o,e.$apply()}})}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensRecentCollections",[].concat(["CollectionService"],[function(e){return{template:n(570),scope:{},link:function(t){var n=t.vm={collections:window.globalCollections||[],show:!0};t.refresh=function(){n.loading=!0,e.getAll().then((function(e){n.collections=e,n.loading=!1})).catch((function(e){console.warn(e),n.loading=!1}))},e.on("REFRESH_COLLECTIONS",t.refresh),t.$on("$destroy",(function(){e.removeListener("REFRESH_COLLECTIONS",t.refresh)})),window.globalCollections||t.refresh()}}}]))},function(e,t){e.exports='<div ng-if="vm.collections.length" class="widget widget--new-sidebar collections-sidebar-widget content">\n    <h3 class="h5-styled">\n        {{\'collectionManageWidget.titleWidget\' | message}}\n        <em class="far fa-info-circle col-sec" ng-if="vm.collections.length" tooltip-title="Create collections of patent and scholarship portfolios."></em>\n    </h3>\n    <form>\n        <label class="input input-sm">\n            <i class="icon_append fal fa-search"></i>\n            <input type="text" ng-model="vm.filter.title" placeholder="Filter Collections">\n        </label>\n    </form>\n\n    <div class="collection-controls" ng-show="vm.show">\n        <ul class="drop-list-scroll-sidebar">\n            <li ng-repeat="collection in vm.filteredCollections = (vm.collections | filter:vm.filter | orderBy:\'updated\':true | limitTo:10)">\n                <a ui-sref="search.results({view: \'list\', type: collection.type === \'PATENT\' ? \'patent\' : \'scholar\', collectionId: collection.id})" ui-sref-opts="{inherit: false}">\n                    <div>{{::collection.title}}</div>\n\n                    <div class="collectionType" ng-class="{ \'is-patent\': collection.type === \'PATENT\', \'is-scholar\': collection.type === \'SCHOLARLY_WORK\' }">\n                        {{ collection.type | collectionType }} -\n                        <span>\n                            ({{::collection.itemCount | customNumber}})\n                        </span>\n                    </div>\n\n                    <div class="collectionMeta">\n                        <span class="collectionDate">\n                            {{::collection.updated | date}}\n                        </span>\n\n                        <span class="collectionShared pull-right" tooltip-title="{{\'user.sharing.\' + collection.access + \'.info\' | message}}">\n                            {{\'user.sharing.\' + collection.access | message}}\n                            <em class="fa {{\'user.sharing.\' + collection.access | message}}"></em>\n                        </span>\n                    </div>\n\n                </a>\n            </li>\n        </ul>\n        <div class="alert alert-info" ng-if="!vm.filteredCollections.length && vm.collections.length && !vm.loading">\n            <em class="far fa-info-circle"></em>\n            No collection items match that filter\n            <a href="/lens/user/collections">View All Collections</a>\n        </div>\n    </div>\n    \n    <div class="clearfix">\n        <div class="btn btn-pri btn-xxs pull-right" ng-click="vm.newCollection = {type: \'PATENT\'}">Create Collection</div>\n        <a class="btn btn-xxs" ui-sref="workArea.collections">\n            <em class="far fa-edit col-pri"></em>\n            {{::\'collectionManageWidget.manage\' | message}}\n        </a>\n    </div>\n</div>\n\n\n\n<div class="widget widget--new-sidebar collections-sidebar-widget content" ng-if="!vm.collections.length && !vm.loading">\n    <h3 class="h5-styled">\n        {{\'collectionManageWidget.titleWidget\' | message}}\n        <em class="far fa-info-circle col-sec" ng-if="vm.collections.length" tooltip-title="Create collections of patent and scholarship portfolios."></em>\n    </h3>\n    <div class="sidebar-walk-through">\n        <div class="alert alert-info">\n            <em class="far fa-info-circle"></em> No Collections Yet.<br>\n            <span ng-if="$root.isAnon"><a href="/lens/user/registration">Register</a> or <a href="/lens/user/login" class="login-link">Login</a> to use collections.</span>\n        </div>\n        <p class="text-small col-meta">Collections are a saved grouping of patents or scholarly works. Any items in a search result can be added or removed from a collection.</p>\n        <div class="btn btn-pri btn-xxs" ng-if="!$root.isAnon" ng-click="vm.newCollection = {type: \'PATENT\'}">Create Collection</div>\n    </div>\n</div>\n\n\n\n\x3c!-- New Collection Modal --\x3e\n<div lens-modal ng-cloak visible="vm.newCollection" ng-if="vm.newCollection">\n    <div lens-create-collection\n        collection="vm.newCollection"\n        select-type="true"\n    ></div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensRecentNotes",[].concat(["NotesService"],[function(e){return{template:n(572),scope:{lensId:"<"},link:function(t){var n=t.vm={notes:[],loading:!0,show:!0};t.linkUrl=e.linkUrl,t.refresh=function(){n.loading=!0,e.recent().then((function(e){n.notes=e,n.loading=!1})).catch((function(e){console.warn(e),n.loading=!1}))},t.$on("REFRESH_NOTES",(function(){t.refresh()})),t.refresh()}}}]))},function(e,t){e.exports='<div ng-cloak class="lens-recent-notes">\n    <div class="widget widget--new-sidebar recent-notes content">\n        <h3 class="h5-styled">\n            Notes\n            <em class="far fa-info-circle col-sec" ng-if="vm.notes.length" tooltip-title="Add notes against documents, collections and saved queries."></em>\n        </h3>\n        <div ng-show="vm.show" ng-if="vm.notes.length">\n            <form>\n                <label class="input input-sm">\n                <i class="icon_append fal fa-search"></i>\n                <input type="text" ng-model="vm.filter.text" placeholder="Filter Notes">\n                </label>\n            </form>\n\n            <ul class="drop-list-scroll-sidebar">\n                <li ng-repeat="note in vm.filteredNotes = (vm.notes | filter:vm.filter | limitTo:10)">\n                    <a ng-href="{{linkUrl(note)}}">\n                        <p>\n                            <div ng-show="note.collectionId">\n                                <em class="fa fa-folder-open" ng-class="{ \'is-patent\': note.collectionType === \'PATENT\', \'is-scholar\': note.collectionType === \'SCHOLARLY_WORK\' }"></em>\n                                <span>\n                                    {{note.collectionTitle}}\n                                </span>\n                            </div>\n                            <div ng-show="!note.collectionId">\n                                <div>\n                                    {{note.patentTitle || note.scholarTitle}}\n                                    <small>\n                                        <br>\n                                        <em class="fa fa-circle" ng-class="{ \'is-patent\': note.type === \'PATENT\', \'is-scholar\': note.type === \'SCHOLAR\' }"></em>\n                                        {{note.key || note.lensId}}\n                                    </small>\n                                </div>\n                            </div>\n                        </p>\n\n                        <div class="text-small col-meta">\n                            {{note.text | decodeEntities}}\n                        </div>\n\n                        <div class="collectionMeta">\n                            <span ng-show="note.collectionId">\n                                Collection -\n                                \x3c!-- <a ng-href="/lens/collection/{{note.collectionId}}"></a> --\x3e\n                            </span>\n                            <span ng-show="!note.collectionId">\n                                {{(note.scope === \'BASE\' ? \'Document\' : note.scope) || \'Document\'}} -\n                            </span>\n                            <span>{{note.updated | date}}</span>\n                        </div>\n                    </a>\n\n                </li>\n            </ul>\n\n            <div>\n                <a class="btn btn-xxs" href="/lens/user/notes">\n                    <em class="far fa-edit col-pri"></em>\n                    Manage Notes\n                </a>\n            </div>\n\n            <div class="alert alert-info" ng-if="!vm.filteredNotes.length && vm.notes.length">\n                <em class="far fa-info-circle"></em>\n                No notes match that filter\n                <a href="/lens/user/notes">View All Notes</a>\n            </div>\n        </div>\n\n        <div ng-if="vm.loading">{{::\'common.loading\' | message}}</div>\n        \n        <div ng-if="!vm.notes.length && !vm.loading" class="sidebar-walk-through">\n            <div class="alert alert-info">\n                <em class="far fa-info-circle"></em> No Notes Yet.<br>\n                <span ng-if="$root.isAnon"><a href="/lens/user/registration">Register</a> or <a href="/lens/user/login" class="login-link">Login</a> to use notes.</span>\n            </div>\n            <p class="text-small col-meta">Add and save personal notes against individual documents, document collections and saved queries.</p>\n        </div>\n\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensRecentWork",[].concat(["$transitions","RecentWorkService"],[function(e,t){return{scope:{},template:n(574),link:function(n){var i=n.vm={},a=[],r=function(){i.items=t.getAll()};a.push(e.onSuccess({},(function(e){r()}))),t.on("REFRESH",(function(){r()})),n.$on("$destroy",(function(){a.forEach((function(e){return e()})),t.removeAllListeners()})),r()}}}]))},function(e,t){e.exports='<ul class="list-icons workarea-nav-recents">\n    \x3c!-- ng-class="{\'fa-file-medical-alt\': item.type === \'report\', \'fa-folder-open\': item.type === \'collection\'}" --\x3e\n    <li ng-repeat="item in vm.items | limitTo:(vm.limit || 3) track by $index">\n        <a ui-sref="search.results({type: item.dataType, collectionId: item.id, view: \'list\'})" ng-if="item.type === \'collection\'" ui-sref-opts="{inherit: false}">\n            <em class="list-icons--icon far fa-folder-open"></em>\n            <span class="list-icons--label">{{::item.title}}\n                <small class="list-icons--meta">Last Accessed: {{::item.timestamp | date}}</small>\n            </span>\n        </a>\n        <a ui-sref="editReport({id: item.id, slug: item.title})" ng-if="item.type === \'report\'" ui-sref-opts="{inherit: false}">\n            <em class="list-icons--icon far fa-file-medical-alt"></em>\n            <span class="list-icons--label">{{::item.title}}\n                <small class="list-icons--meta">Last Accessed: {{::item.timestamp | date}}</small>\n            </span>\n        </a>\n        <a ui-sref="dashboard({dashboardId: item.id})" ng-if="item.type === \'dashboard\'" ui-sref-opts="{inherit: false}">\n            <em class="list-icons--icon far fa-tachometer-alt-fast"></em>\n            <span class="list-icons--label">{{::item.title}}\n                <small class="list-icons--meta">Last Accessed: {{::item.timestamp | date}}</small>\n            </span>\n        </a>\n    </li>\n    <li ng-if="vm.items.length > 3">\n        <a ng-click="vm.limit = 10" ng-if="!vm.limit">\n            <em class="list-icons--icon far fa-ellipsis-h-alt"></em>\n            <span class="list-icons--label">More</span>\n        </a>\n    </li>\n    <li ng-if="vm.items.length === 0">\n        Frequently used Collections and Dashboards will appear here.\n    </li>\n</ul>\n\n\x3c!-- <pre>{{vm.items | json}}</pre> --\x3e\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(101);e.exports=r.default.directive("lensReferenceItem",[].concat(["$http","$q","CollectionService","SettingsService","ScholarService","PatentService"],[function(e,t,i,a,r,s){return{template:n(172),replace:!0,scope:{item:"<",type:"<",options:"<",editable:"<",isHeading:"="},link:function(n){var a=n.vm={};n.getChartMetadata=function(e){return(0,o.getChartMetadata)(e)};"collection"===n.type?i.fetch(n.item.collectionId).then((function(t){n.collection=t,e({url:"/lens/service/user/"+n.collection.user.id+"/linked-identities",cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){n.collection.user.linkedAccounts=e.data})),n.MAX_DESCRIPTION_LENGTH=600,n.collection.showFullDescription=n.collection.description&&n.collection.description.length<n.MAX_DESCRIPTION_LENGTH,n.collection.user.type="personal"})):"individual-result"===n.type?function(){if("patent"===n.item.dataType){var e=s.search({q:"lens_id:"+n.item.lensId});t.when(e).then((function(e){a.patent=e.hits[0]}))}else{var i=r.get(n.item.lensId);t.when(i).then((function(e){a.article=e}))}}():"dashboard"===n.type&&e.get("/lens/service/strings/"+n.item.dashboardId).then((function(e){a.dashboard=e.data,a.dashboardItems=JSON.parse(e.data.value).chartConfigs})).catch((function(e){console.error(e)}))}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=(new(n(2))).get("history")||[];r.default.directive("lensRegistrationSuccessRedirect",[function(){return{scope:{},link:function(e,t){for(var n=0;n<o.length;n++){var i=o[n];if("/lens/user/activation/success"!==i.location&&"/lens/user/registration"!==i.location&&"/lens/user/confirmation/sent"!==i.location&&"/lens/user/login"!==i.location)return console.log({redirect:i.href}),void t.find("input[name=redirectTarget]").val(i.href)}}}}])},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(5));r.default.directive("lensRemoveFromCollection",[].concat(["CollectionService","$q"],[function(e,t){return{template:n(578),scope:{lensIds:"<",selectedAll:"<",visible:"=",type:"<",queryId:"<",currentCollection:"<"},link:function(n){var i=n.vm={collections:window.globalCollections||[],collectionFilter:{title:"",type:n.type},checkedCollections:{}};window.currentCollection?i.checkedCollections[window.currentCollection.id]=!0:n.currentCollection&&(i.checkedCollections[n.currentCollection.id]=!0),n.filter=function(e){if(e.type!==n.type)return!1;var t=i.collectionFilter.title.toLowerCase(),a=e.title.toLowerCase();return!t||-1!==a.indexOf(t)},n.getSelectedIds=function(){return _.keys(i.checkedCollections).filter((function(e){return i.checkedCollections[e]}))},n.removeFromCollection=function(){i.submitting=!0,i.valid=!0;var a=n.lensIds,r=n.getSelectedIds();if(!r.length)return i.submitting=!1,void(i.valid=!1);if(n.selectedAll){var s=r.map((function(t){var a=i.collections.filter((function(e){return parseInt(t)===e.id})).pop();return e.removeSearchFromCollection(a,n.queryId).then((function(e){o.notify("Removed search from collection")}))}));t.all(s).then((function(e){i.submitting=!1,n.visible=!1})).catch((function(e){console.warn(e),n.visible=!1,i.submitting=!1,o.error("Could not remove from collection")}))}else{a.length;var l=[];r.forEach((function(t){var n=i.collections.filter((function(e){return parseInt(t)===e.id})).pop(),r=e.removeItems(t,a).then((function(t){var a=n.itemCount-t.itemCount;if(a){var r="Removed "+a+" items from collection";o.notify(r),e.emit("REFRESH_COLLECTION",n)}else{var s=window.messages.prop("user.collections.remove.exists");o.info(s)}i.checkedCollections={}})).catch((function(e){console.warn(e),o.error("Could not remove from collection: "+n.title)}));l.push(r)})),t.all(l).then((function(){n.visible=!1,i.submitting=!1})).catch((function(e){console.warn(e),n.visible=!1,i.submitting=!1}))}},n.close=function(){n.visible=!1};var a=function(e){i.loading=!1,console.warn(e.data)};n.refresh=function(){i.loading=!0,e.getAll().then((function(e){i.loading=!1,i.collections=e})).catch(a)},e.on("REFRESH_COLLECTIONS",n.refresh),n.$on("$destroy",(function(){e.removeListener("REFRESH_COLLECTIONS",n.refresh)})),window.globalCollections||n.refresh()}}}]))},function(e,t){e.exports='<div>\n    <h3 class="modal-heading">Remove {{selectedAll ? \'all\' : checkedItems.length}} Items from Collection</h3>\n    <div>\n        <div ng-if="vm.collections.length > 1">\n            <form>\n                <label class="input">\n                    <em class="fal fa-search icon_append"></em>\n                    <input type="text"\n                        placeholder="Filter collections"\n                        class="search-term"\n                        ng-model="vm.collectionFilter.title"\n                    >\n                </label>\n            </form>\n            <br>\n        </div>\n\n        <label>{{::\'user.collections.select\' | message}}</label>\n\n        <div ng-if="vm.loading">{{::\'common.loading\' | message}}</div>\n\n        <div lens-select-collections-list\n            collections="vm.collections"\n            filter="filter"\n            checked="vm.checkedCollections"\n            ng-if="!vm.loading"\n        ></div>\n\n        <div ng-if="!vm.collections.length" class="alert alert-info">\n            {{::\'user.collections.hasnone\' | message}}\n        </div>\n        <br>\n        <div class="pull-right">\n            <a class="btn btn-sm btn-danger-txt" ng-click="close()">\n                {{::\'common.action.cancel\' | message}}\n            </a>\n            <a class="btn btn-sm"\n                ng-click="removeFromCollection()"\n                ng-disabled="vm.submitting || !getSelectedIds().length"\n                ng-class="{\'btn-submitting\': vm.submitting, \'disabled\': !getSelectedIds().length, \'btn-danger\': getSelectedIds().length}">\n                <em class="far fa-spinner fa-spin" ng-if="vm.submitting"></em>\n                Remove {{getSelectedIds().length ? \' from \' + getSelectedIds().length + \' selected Collections\' : \'\'}}\n            </a>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=r(n(580)),a=r(n(52));function r(e){return e&&e.__esModule?e:{default:e}}r(n(0)).default.directive("lensSaveAsImage",[].concat([],[function(){return{scope:{title:"<lensSaveAsImage"},link:function(e,t){if(window.Promise){t.on("click",".save-as-image-trigger",(function(){t.find(".save-as-image-watermark-target").addClass("active"),t.find(".btn,.fa,.save-as-image-hide").hide(),i.default.toBlob(t[0]).then((function(t){a.default.saveAs(t,(e.title||"Untitled Lens Analysis Export")+".png"),n()})).catch((function(e){console.warn(e),n()}))}));var n=function(){t.find(".btn,.fa,.save-as-image-hide").show(),t.find(".save-as-image-watermark-target").removeClass("active")}}else t.find(".save-as-image-trigger").remove()}}}]))},function(e,t,n){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(i="application/font-woff",{woff:i,woff2:i,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var i},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),i=n.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=n.charCodeAt(r);t(new Blob([a],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),i=n.createElement("base");n.head.appendChild(i);var a=n.createElement("a");return n.body.appendChild(a),i.href=t,a.href=e,a.href},getAndEncode:function(e){s.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(t){var n,i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4!==i.readyState)return;if(200!==i.status)return void(n?t(n):r("cannot fetch resource: "+e+", status: "+i.status));var a=new FileReader;a.onloadend=function(){var e=a.result.split(/,/)[1];t(e)},a.readAsDataURL(i.response)},i.ontimeout=function(){n?t(n):r("timeout of 30000ms occured while fetching resource: "+e)},i.responseType="blob",i.timeout=3e4,i.open("GET",e,!0),i.send(),s.impl.options.imagePlaceholder){var a=s.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(n=a[1])}function r(e){console.error(e),t("")}}))},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src=e}))},width:function(e){var t=n(e,"border-left-width"),i=n(e,"border-right-width");return e.scrollWidth+t+i},height:function(e){var t=n(e,"border-top-width"),i=n(e,"border-bottom-width");return e.scrollHeight+t+i}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),i=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,r){return function(){return!t(e)}()?Promise.resolve(e):Promise.resolve(e).then(i).then((function(t){var i=Promise.resolve(e);return t.forEach((function(e){i=i.then((function(t){return a(t,e,n,r)}))})),i}))},shouldProcess:t,impl:{readUrls:i,inline:a}};function t(t){return-1!==t.search(e)}function i(t){for(var i,a=[];null!==(i=e.exec(t));)a.push(i[1]);return a.filter((function(e){return!n.isDataUrl(e)}))}function a(e,t,i,a){return Promise.resolve(t).then((function(e){return i?n.resolveUrl(e,i):e})).then(a||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t))})).then((function(i){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+i+"$3")}))}}(),a=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return i.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return i.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),r=function(){return{inlineAll:function t(a){return a instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?i.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}(a).then((function(){return a instanceof HTMLImageElement?e(a).inline():Promise.all(n.asArray(a.childNodes).map((function(e){return t(e)})))})):Promise.resolve(a)},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e.src))})).then((function(t){return new Promise((function(n,i){e.onload=n,e.onerror=i,e.src=t}))}))}}}}(),o={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:l,toPng:function(e,t){return c(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return c(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return c(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return c(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data}))},impl:{fontFaces:a,images:r,util:n,inliner:i,options:{}}};function l(e,t){return function(e){void 0===e.imagePlaceholder?s.impl.options.imagePlaceholder=o.imagePlaceholder:s.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?s.impl.options.cacheBust=o.cacheBust:s.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return function e(t,i,a){return a||!i||i(t)?Promise.resolve(t).then((function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(e){return r(t,e,i)})).then((function(e){return function(e,t){return t instanceof Element?Promise.resolve().then(i).then(a).then(r).then(o).then((function(){return t})):t;function i(){var i,a;i=window.getComputedStyle(e),a=t.style,i.cssText?a.cssText=i.cssText:function(e,t){n.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}(i,a)}function a(){[":before",":after"].forEach((function(i){!function(i){var a=window.getComputedStyle(e,i),r=a.getPropertyValue("content");if(""===r||"none"===r)return;var o=n.uid();t.className=t.className+" "+o;var s=document.createElement("style");s.appendChild(function(e,t,i){var a="."+e+":"+t,r=i.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(i):function(e){return n.asArray(e).map((function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")})).join("; ")+";"}(i);return document.createTextNode(a+"{"+r+"}")}(o,i,a)),t.appendChild(s)}(i)}))}function r(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function o(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(t,e)})):Promise.resolve();function r(t,i,a){var r=t.childNodes;return 0===r.length?Promise.resolve(i):o(i,n.asArray(r),a).then((function(){return i}));function o(t,n,i){var a=Promise.resolve();return n.forEach((function(n){a=a.then((function(){return e(n,i)})).then((function(e){e&&t.appendChild(e)}))})),a}}}(e,t.filter,!0)})).then(u).then(d).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(i){return function(e,t,i){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(n.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+i+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(i,t.width||n.width(e),t.height||n.height(e))}))}function c(e,t){return l(e,t).then(n.makeImage).then(n.delay(100)).then((function(i){var a=function(e){var i=document.createElement("canvas");if(i.width=t.width||n.width(e),i.height=t.height||n.height(e),t.bgcolor){var a=i.getContext("2d");a.fillStyle=t.bgcolor,a.fillRect(0,0,i.width,i.height)}return i}(e);return a.getContext("2d").drawImage(i,0,0),a}))}function u(e){return a.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function d(e){return r.inlineAll(e).then((function(){return e}))}e.exports=s}()},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var o=new a.default("global"),s=new a.default("workarea-saved-queries");i.default.directive("lensSavedQueries",[].concat(["SavedQueryResource","$state","$http"],[function(e,t,i){return{template:n(582),scope:{sidebar:"<"},link:function(n){var a=n.vm={items:[],loading:!0,show:!0,filter:s.get("filter")||{},typeFilter:s.get("typeFilter")||{},view:o.get("workarea-view")||"table",orderBy:s.get("orderBy")||"created"};n.refresh=function(){a.loading=!0,a.items=e.query(),a.items.$promise.then((function(){a.loading=!1,a.items.forEach((function(e){e.params={queryId:e.queryId},e.params.type="SCHOLARLY"===e.queryType?"scholar":"patent",e.params.view="list"}))})).catch((function(e){console.warn(e),a.loading=!1}))},n.persist=function(){s.set("filter",a.filter),s.set("typeFilter",a.typeFilter),s.set("orderBy",a.orderBy)},n.updateTypeFilter=function(){var e=_.keys(a.typeFilter).filter((function(e){return a.typeFilter[e]}));1===e.length?a.filter.queryType=e[0]:a.filter.queryType="",n.persist()},n.delete=function(){a.promptDeleteItem.$remove().then((function(){n.refresh()})),a.promptDeleteItem=null},n.deleteSelected=function(){a.promptDeleteSelected=!1;var e=new Notification,t=n.getSelected().map((function(e){return i.delete("/lens/service/query/"+e.id)}));Promise.all(t).then((function(t){n.refresh(),e.notify("Saved Queries Deleted"),a.filter={}})).catch((function(t){console.error(t),e.error("Could not delete Saved Queries")}))},n.save=function(t){var i=t.id,r=t.title,o=t.description,s=t.notificationsEnabled,l=t.collections,c=t.published;s||!l.length?(e.save({id:i,title:r,description:o,notificationsEnabled:s,published:c},(function(){n.refresh()})),a.editQuery=null):(new Notification).error("Can not disable Alert Notifications. Must be enabled for linked Dynamic Collections")},n.toggleNotifications=function(e){var t=e.notificationsEnabled,i=e.collections;t&&i.length?(new Notification).error("Can not disable Alert Notifications. Must be enabled for linked Dynamic Collections"):(a.editQuery=e,a.editQuery.notificationsEnabled=!a.editQuery.notificationsEnabled,n.save(a.editQuery))},n.setView=function(e){a.view=e,o.set("workarea-view",e)},n.getSelected=function(){return a.items.filter((function(e){return e.selected}))};var r=function(){var e=n.getSelected().map((function(e){var t="SCHOLARLY"===e.queryType?"scholar":"patent";return i.get("/lens/api/query/"+t+"/"+e.queryId)}));return Promise.all(e).then((function(e){return e.map((function(e){return e.data.query.q}))}))};n.intersection=function(){var e="SCHOLARLY"===n.getSelected()[0].queryType?"scholar":"patent";r().then((function(n){var i={type:e};i.q=n.map((function(e){return"("+e+")"})).join(" AND "),t.go("search.results",i)}))},n.union=function(){var e="SCHOLARLY"===n.getSelected()[0].queryType?"scholar":"patent";r().then((function(n){var i={type:e};i.q=n.map((function(e){return"("+e+")"})).join(" OR "),t.go("search.results",i)}))},n.toggleSelectAll=function(){var e=a.selectAll;(e&&a.filteredItems?a.filteredItems:a.items).forEach((function(t){t.selected=e}))},n.migrateLegacyQueries=function(){i.post("/lens/service/query/migrate-legacy").then((function(e){n.refresh(),alert("Queries successfully migrated")}))},n.refresh()}}}]))},function(e,t){e.exports='<div ng-if="!sidebar">\n\n    <div class="workarea-page--has-sidebar">\n        <div class="workarea-page-main content">\n\n            \x3c!-- No Content --\x3e\n            <div ng-if="(!vm.loading && !vm.items.length && !$root.isAnon) || $root.showWorkAreaAbout" ng-include="\'about-saved-queries\'"></div>\n            \n            \x3c!-- IF Loading --\x3e\n            <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n            \n            \x3c!-- IF not loggedin --\x3e\n            <div ng-if="$root.isAnon" ng-include="\'work-area-login-notice\'"></div>\n            \n            \x3c!-- Filter Message --\x3e\n            <div class="workarea--table" ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading && !$root.isAnon">\n                <div class="no-content">\n                    <em class="far fa-empty-set col-error"></em>\n                    No results match filter\n                </div>\n            </div>\n            \n            \x3c!-- Legacy Message --\x3e\n            <div class="alert alert-info"  ng-if="vm.items.length && !vm.loading && !$root.isAnon">\n                <em class="far fa-info-circle"></em>\n                Queries saved before Lens Version 8.0 may use field names which have since changed. These queries are automatically converted to new field names, and should give the same results.\n                <a ng-click="vm.migrateLegacyQueries = true" class="styled-link">\n                    You can automatically convert all saved queries to the new field names by clicking here</a>.\n            </div>\n            \n            \x3c!-- View Cards --\x3e\n            <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading && !$root.isAnon">  \n                <div class="workarea--card-item workarea--card--query"  \n                    ng-class="{ \'workarea--card--is-patent\': item.queryType === \'PATENT\', \'workarea--card--is-scholar\': item.queryType === \'SCHOLARLY\' }" \n                    ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter) | orderBy:vm.orderBy:(vm.orderBy === \'created\')"\n                >\n                    <div class="card-item--header">\n                        <div class="card-item--select">\n                            <form hidden>\n                                <label class="checkbox">\n                                    <input type="checkbox" ng-model="item.selected">\n                                    <i></i>\n                                </label>\n                            </form>\n                        </div>\n                        <div class="card-item--title">\n                            <a ui-sref="search.results(item.params)" tooltip-options="::{delay: 750}" tooltip-title="{{:: item.description }}">\n                                {{:: item.title }}\n                            </a> \n                            <span style="margin-left: 4px;" class="link" tooltip-title="Toggle Query Details" ng-click="item.showDetails = !item.showDetails">\n                                <em ng-if="item.showDetails" class="far fa-chevron-circle-up col-ter"></em>\n                                <em ng-if="!item.showDetails" class="far fa-chevron-circle-down col-feat"></em>\n                            </span>\n                            <div style="margin: 4px 0;" lens-inline-query query-id="item.queryId" type="item.params.type" ng-if="item.showDetails" saved-query-id="item.id"></div>\n                            <p class="card-item--meta">\n                                <span ng-if="::item.notificationsEnabled"\n                                    tooltip-title="{{::\'user.query.alert.notifications.enabled\' | message}}">\n                                    <em class="fa fa-bell col-ter"></em>\n                                </span>\n                                <span class="edit" ng-if="::!item.notificationsEnabled"\n                                    tooltip-title="{{::\'user.query.alert.notifications.disabled\' | message}}">\n                                    <em class="fa fa-bell-slash col-error"></em>\n                                </span>\n                                {{:: \'savedQuery.type.\' + item.queryType | message }}  \n                                <span style="padding-left: 10px;" class="card-item--meta" ng-if="item.collections.length">\n                                    <em class="far fa-folder-open col-ter" tooltip-title="Linked Collections"></em>\n                                    <a class="col-meta" ui-sref="search.results({type: (item.queryType === \'PATENT\' ? \'patent\' : \'scholar\'), collectionId: collection.id})" ng-repeat="collection in item.collections">\n                                        {{collection.title}}\n                                        <span ng-if="::!$last">,</span>\n                                    </a>\n                                </span>\n                            </p>   \n                        </div>\n       \n                        <div class="card-item--icon">\n                            <em class="fal fa-save"></em>\n                        </div>\n                    </div>\n                    \n                    <div class="card-item--footer">\n                        <div class="card-item--accessed">Created:  {{::item.created | date}}</div>\n                        <div class="card-item--tools">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-queries-buttons-{{item.id}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-queries-buttons-{{item.id}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li> \n                                            <a ng-click="vm.editQuery = item">\n                                                <em class="far fa-edit"></em>\n                                                Edit\n                                            </a>\n                                        </li>\n                                        <li>\n                                            <span lens-add-to-project-button type="\'savedQuery\'" item="item"></span>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteItem = item">\n                                                <em class="far fa-trash-alt col-error"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            \x3c!-- View Table --\x3e\n            <div class="workarea--table workarea--table--mobile workarea--table--saved-queries" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.items.length && !vm.loading && !$root.isAnon" ng-show="vm.filteredItems.length">\n                <div class="div-table">\n                    <div class="div-table-heading">\n                        <div class="div-table-row">\n                            <div class="div-table-cell" style="width: 60px;">\n                                <form>\n                                    <label class="checkbox">\n                                        <input type="checkbox" ng-model="vm.selectAll" ng-change="toggleSelectAll()">\n                                        <i></i>\n                                    </label>\n                                </form>\n                            </div>\n                            <div class="div-table-cell" style="min-width: 200px;">Name</div>\n                            <div class="div-table-cell">Info <em class="far fa-info-circle col-sec" tooltip-title="{{\'user.query.alert.notifications.message\' | message}}"></em></div>\n                            <div class="div-table-cell">\n                                Collections\n                                <em class="far fa-info-circle col-sec" tooltip-title="Saved queries linked to a collection allow for automatically updated and dynamic collections."></em>\n                            </div>\n                            <div class="div-table-cell">{{::\'common.tools\' | message}}</div>\n                        </div>\n                    </div>\n        \n                    <div class="div-table-body">\n                        <div class="div-table-row" ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter) | orderBy:vm.orderBy:(vm.orderBy === \'created\')">\n                            <div class="div-table-cell" style="width: 60px;">\n                                <label class="checkbox" style="padding-left: 5px;">\n                                    <input type="checkbox" ng-model="item.selected">\n                                    <i></i>\n                                </label>\n                            </div>\n\n                            <div class="div-table-cell div-table-cell--wrap" style="min-width: 200px;">\n                                <div><a ui-sref="search.results(item.params)">{{:: item.title }}</a></div>\n                                <div class="table--meta">{{:: item.description }}</div>\n                                <small ng-click="showDetails = !showDetails" class="link">{{showDetails ? \'Hide Query\': \'Show Query\'}}</small>\n                                <div ng-if="showDetails" lens-inline-query query-id="item.queryId" type="item.params.type" saved-query-id="item.id"></div>\n                            </div>\n                            <div class="div-table-cell">\n                                <div>\n                                    <em class="far fa-save workarea-meta-icon"  ng-class="{ \'is-patent\': item.queryType === \'PATENT\', \'is-scholar\': item.queryType === \'SCHOLARLY\' }"></em>\n                                    <span class="collectionType">\n                                        {{:: \'savedQuery.type.\' + item.queryType | message }}\n                                    </span>\n                                    <span>({{item.published ? \'Public Access\' : \'Restricted Access\'}})</span>\n                                </div>\n                                <div class="table--meta">\n                                    <em class="far fa-calendar-alt workarea-meta-icon"  ng-class="{ \'is-patent\': item.queryType === \'PATENT\', \'is-scholar\': item.queryType === \'SCHOLARLY\' }"></em>\n                                    <span>{{::item.created | date}}</span>\n                                </div>\n                                <div class="table--meta">\n                                    <a ng-click="toggleNotifications(item)" class="edit" ng-if="::item.notificationsEnabled"\n                                        tooltip-title="{{::\'user.query.alert.notifications.enabled\' | message}}">\n                                        <em class="fa fa-bell col-ter" style="margin-right: 5px;"></em>\n                                        Notifications {{::\'common.enabled\' | message}}\n                                    </a>\n                                    <a ng-click="toggleNotifications(item)" class="edit" ng-if="::!item.notificationsEnabled"\n                                        tooltip-title="{{::\'user.query.alert.notifications.disabled\' | message}}">\n                                        <em class="fa fa-bell-slash col-error" style="margin-right: 5px;"></em>\n                                        Notifications {{::\'common.disabled\' | message}}\n                                    </a>\n                                </div>\n                            </div>\n\n                            <div class="div-table-cell div-table-cell--wrap">\n                                <span ng-if="item.collections.length">\n                                    \x3c!-- <em class="far fa-folder-open col-ter" tooltip-title="Linked Collections"></em> --\x3e\n                                    <a class="col-meta" ui-sref="search.results({type: (item.queryType === \'PATENT\' ? \'patent\' : \'scholar\'), collectionId: collection.id})" ng-repeat="collection in item.collections">\n                                        {{collection.title}}\n                                        <span ng-if="::!$last">,</span>\n                                    </a>\n                                </span>\n                            </div>\n\n                            <div class="div-table-cell">\n                                <div class="text-center">\n                                    <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-queries-buttons-{{item.id}}"\n                                        tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                        <em class="fas fa-ellipsis-h col-feat"></em>\n                                    </a>\n                                </div>\n                                <div hidden>\n                                    <div id="modify-queries-buttons-{{item.id}}" class="dismiss-tooltip-on-click">\n                                        <ul class="dd-menu">\n                                            <li> \n                                                <a ng-click="vm.editQuery = item">\n                                                    <em class="far fa-edit"></em>\n                                                    Edit\n                                                </a>\n                                            </li>\n                                            <li>\n                                                <span lens-add-to-project-button type="\'savedQuery\'" item="item"></span>\n                                            </li>\n                                            <li class="delete--action">\n                                                <a ng-click="vm.promptDeleteItem = item">\n                                                    <em class="far fa-trash-alt col-error"></em>\n                                                    {{::\'common.action.delete\' | message}}\n                                                </a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class="div-table-row" ng-if="vm.loading">\n                            <span ng-include="\'loading-inline\'" include-replace ></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.items.length && !$root.breakpoints.isMobile">\n            <div class="theiaStickySidebar">\n                <div ng-include="\'work-area-queries-toolbar\'" include-replace></div>\n            </div>\n        </aside>\n    </div>\n    \n</div>\n\n                         \n\n\x3c!-- If displaying saved queries in Sidebar widget --\x3e\n<div ng-if="sidebar">\n    <div class="widget widget--new-sidebar recent-notes content">\n        <h3 class="h5-styled">\n            Saved Queries\n            <em class="far fa-info-circle col-sec" ng-if="vm.items.length" tooltip-title="Save any list of search results and get query alerts."></em>\n        </h3>\n        <div ng-show="vm.show" ng-if="vm.items.length">\n            <form>\n                <label class="input input-sm">\n                    <i class="icon_append fal fa-search"></i>\n                    <input type="text" ng-model="vm.filter.title" placeholder="Filter Saved Queries">\n                </label>\n            </form>\n\n            <ul class="drop-list-scroll-sidebar">\n                <li ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter) | orderBy:vm.orderBy:(vm.orderBy === \'created\')">\n                    <a ui-sref="search.results(item.params)">\n                        <div>{{item.title}}</div>\n\n                        <div class="collectionType"\n                            ng-class="{ \'is-patent\': item.queryType === \'PATENT\', \'is-scholar\': item.queryType === \'SCHOLARLY\' }">\n                            {{item.queryType | collectionType}}\n                        </div>\n                    </a>\n                    <div class="collectionMeta">\n                        <span>\n                            {{item.created | date}}\n                        </span>\n\n                        <a href="/lens/user/queries/saved-queries" class="pull-right">\n                            <em class="fa fa-bell col-ter" ng-if="item.notificationsEnabled"\n                                tooltip-title="Notifications Enabled"></em>\n                            <em class="fa fa-bell-slash col-error" ng-if="!item.notificationsEnabled"\n                                tooltip-title="Notifications Disabled"></em>\n                        </a>\n                    </div>\n                </li>\n            </ul>\n\n            <div>\n                <a class="btn btn-xxs" href="/lens/user/queries/saved-queries">\n                    <em class="far fa-edit col-pri"></em>\n                    Manage Saved Queries\n                </a>\n            </div>\n\n            <div class="alert alert-info" ng-if="!vm.filteredItems.length && vm.items.length">\n                No saved queries match that filter\n                <a href="/lens/user/saved-queries">View All Saved Queries</a>\n            </div>\n        </div>\n\n\n        <div ng-if="!vm.items.length && !vm.loading" class="sidebar-walk-through">\n            <div class="alert alert-info">\n                <em class="far fa-info-circle"></em>\n                No Saved Queries Yet<br>\n                <span ng-if="$root.isAnon"><a href="/lens/user/registration">Register</a> or <a href="/lens/user/login" class="login-link">Login</a> to use saved queries.</span>\n            </div>\n            <p class="text-small col-meta">Save any list of search results and get query alerts when new data ingested, or turn saved queries into public or private collections.</p>\n        </div>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteItem">\n    <h3 class="modal-heading">Delete Saved Query</h3>\n    <div class="alert alert-danger">This saved query will be permanently deleted. Are you sure?</div>\n    <div class="alert alert-danger" ng-if="vm.promptDeleteItem.collections.length">\n        <em class="far fa-exclamation-triangle"></em>\n        This Saved Query is used to auto update <strong>{{vm.promptDeleteItem.collections.length}}</strong> Collections. Deleting it will cause these Collections to no longer be updated from this collection.\n    </div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteItem = null">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteItem)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n\x3c!-- Save Query --\x3e\n<div lens-modal class="css-modal-wrapper-sm" visible="vm.editQuery" ng-if="vm.editQuery" id="save-query-modal">\n    <h3 class="modal-heading">{{:: \'user.queries.createNew\' | message }}</h3>\n    <div ng-if="$root.isAnon" class="alert alert-info">\n        <a href="/lens/user/login">\n            <em class="fal fa-info-circle"></em>\n            <strong>New!</strong>\n            {{::\'user.query.alert.notifications.message.anon\' | message}}\n        </a>\n    </div>\n    <form ng-submit="save(query)" ng-init="query = vm.editQuery">\n        <div ng-include="\'saved-query-form\'"></div>\n        <div class="pull-right">\n            <button class="cancel btn btn-sm btn-danger-txt"\n                ng-click="vm.editQuery = null">{{:: \'common.action.cancel\' | message}}</button>\n            <button class="apply btn btn-sm btn-pri">{{:: \'common.action.save\' | message }}</button>\n        </div>\n    </form>\n</div>\n\n<div lens-modal size="sm" visible="vm.promptDeleteSelected">\n    <h3 class="modal-heading">\n        Really Delete <strong>{{getSelected().length}}</strong> Saved Queries?\n    </h3>\n    <p>Are you sure you want to permanently delete these Saved Queries?</p>\n    <div ng-repeat="query in getSelected()" ng-if="query.collections.length">\n        <div class="alert alert-danger">\n            <em class="far fa-exclamation-triangle"></em>\n            Saved Query <strong>#{{query.id}}</strong> is used to auto update <strong>{{query.collections.length}}</strong> Collections. Deleting it will cause these Collections to no longer be updated from this collection.\n        </div>\n    </div>\n    <form ng-submit="deleteSelected()">\n        <div class="clearfix pull-right">\n            <span class="btn btn-danger-txt" ng-click="vm.promptDeleteSelected = false">\n                {{::\'common.action.cancel\' | message}}\n            </span>\n            <button class="btn btn-danger">\n                {{::\'common.action.delete\' | message}}\n            </button>\n        </div>\n    </form>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.migrateLegacyQueries">\n    <h3 class="modal-heading">Convert all Legacy Queries?</h3>\n    <p>\n        Queries saved before Lens Version 8.0 may use field names which have since changed. \n        These queries are automatically converted to new field names, and should give the same results.\n    </p>\n    <p>This action can not be undone</p>\n    <div class="text-right">\n        <span ng-click="vm.migrateLegacyQueries = false" class="btn">Cancel</span>\n        <button ng-click="migrateLegacyQueries(); vm.migrateLegacyQueries = false" class="btn btn-pri">Submit</button>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};n(61);r.default.directive("lensSavedQuery",[].concat(["$http","SavedQueryResource"],[function(e,t){return{template:n(584),scope:{queryId:"<"},link:function(e,n){var i=e.vm={loading:!0,query:t.get({queryId:e.queryId})};i.query.$promise.then((function(e){i.type="SCHOLARLY"===e.queryType?"scholar":"patent",i.loading=!1})).catch((function(e){i.notFound=!0}))}}}]))},function(e,t){e.exports='<div ng-if="vm.query">\n    <span ng-if="vm.loading" hidden>\n        <em class="far fa-spinner fa-spin col-feat"></em>\n        Loading...\n    </span>\n    <span class="col-meta" ng-if="vm.notFound">Sorry, the collection owner has restricted access to this linked query.</span>\n    {{vm.query.title}}\n    {{vm.query.queryType}}\n    <div lens-inline-query type="vm.type" query-id="vm.query.queryId" ng-if="vm.type" saved-query-id="queryId"></div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensScholarlyWorkTitle",[].concat(["$q","$state","ScholarService"],[function(e,t,n){return{scope:{lensId:"<"},template:'<a ui-sref="article.main({id: article.record_lens_id})">{{article.title}}</a>',link:function(t,i){var a=(-1===t.lensId.indexOf("-")?"record_lens_id_num":"record_lens_id")+":"+t.lensId,r=n.search({q:a},{_source:["title","record_lens_id","lens_id"]});e.when(r).then((function(e){e.hits.length&&(t.article=e.hits[0])})).catch((function(e){console.warn(e)}))}}}]))},function(e,t,n){"use strict";var i=l(n(0)),a=l(n(2)),r=(n(9),l(n(248)),n(61)),o=n(165),s=n(247);function l(e){return e&&e.__esModule?e:{default:e}}var c=new a.default("global");i.default.directive("lensSearchHistory",[].concat(["$http","$q","$state","SavedQueryResource"],[function(e,t,i,a){return{template:n(587),scope:{sidebar:"<"},link:function(n){var l=n.vm={items:[],loading:!0,show:!0,filter:{fullUri:""},view:c.get("workarea-view")||"table",orderBy:"created",size:50,page:0,moreAvailable:!0},u=function(){l.grouped=_.groupBy(l.items,(function(e){return window.moment(e.created).format("MMMM Do YYYY")}))};n.refresh=function(){l.loading=!0;var t="/lens/api/user/work-area/history?size="+l.size+"&page="+l.page;return l.filter.fullUri&&(t+="&filter="+l.filter.fullUri,l.items=[]),e({url:t}).then((function(e){if(l.loading=!1,l.moreAvailable=e.data.length===l.size,e.data.length||!l.filter.fullUri){var t=e.data;t.forEach((function(e){e.query=(0,r.transformQuery)(e.query||{}),e.query&&(e.query.type="SCHOLAR_SEARCH"===e.type?"scholar":"patent",e.query.view="list")})),l.items=l.items.concat(t),u()}})).catch((function(e){console.warn(e),l.loading=!1}))},n.debouncedRefresh=_.debounce(n.refresh,500),n.search=_.debounce((function(){l.items=[],n.refresh()}),500),n.saveQuery=function(e){var t=new a(e);t.queryId=l.promptSaveQuery.itemId,t.queryType="PATENT_SEARCH"===e.type||"QUERY"===e.type?"PATENT":"SCHOLARLY",l.promptSaveQuery=null;var n=new Notification;t.$save().then((function(){n.notify("Query Saved")})).catch((function(e){console.error(e),n.error("Could not save Query")}))},n.delete=function(t){var n=new Notification;e.delete("/lens/api/user/work-area/history/"+t).then((function(e){console.log(e),l.promptDeleteId=null,l.items=l.items.filter((function(e){return e.id!==t})),u(),n.notify("History Item Deleted")})).catch((function(e){console.error(e),n.error("Could not save History Item")}))},n.deleteSelected=function(){l.promptDeleteSelected=!1;var i=new Notification,a=n.getSelected().map((function(e){return e.id})),r=a.map((function(t){return e.delete("/lens/api/user/work-area/history/"+t)}));t.when(Promise.all(r)).then((function(e){l.items=l.items.filter((function(e){return!a.includes(e.id)})),u(),i.notify("History Deleted")})).catch((function(e){console.error(e),i.error("Could not delete History")}))},n.deleteAll=function(){l.promptDeleteAll=!1;var t=new Notification;e.delete("/lens/api/user/work-area/history").then((function(e){l.items=[],t.notify("History Item Deleted")})).catch((function(e){console.error(e),t.error("Could not clear History")}))},n.formatReference=function(e){var t=[];return e.query.collectionId?t.push("Collection #"+e.query.collectionId):e.query.patentQueryId?t.push("Cited Works"):e.query.scholarQueryId?t.push("Citing Patents"):e.query.q||t.push("All Documents"),t.join(". ")},n.setView=function(e){l.view=e,c.set("workarea-view",e)},n.getSelected=function(){return l.items.filter((function(e){return e.selected}))},n.intersection=function(){var e=n.getSelected(),t=e.map((function(e){return e.query.q})),a={};e.forEach((function(e){a=_.extend(a,e.query)})),a.q=t.map((function(e){return"("+e+")"})).join(" AND "),i.go("search.results",a)},n.union=function(){var e=n.getSelected(),t=e.map((function(e){return e.query.q})),a={};e.forEach((function(e){a=_.extend(a,e.query)})),a.q=t.map((function(e){return"("+e+")"})).join(" OR "),i.go("search.results",a)},n._getFilters=o.getFilters,n.getFilters=s.printFilters,n.refresh()}}}]))},function(e,t){e.exports='<div class="workarea-page--has-sidebar" ng-if="!sidebar">\n    <div class="workarea-page-main content">\n\n        <div ng-if="!vm.items.length && !vm.loading && $root.settings.recordHistory && !vm.filter.fullUri" class="content">\n            <div ng-if="$root.settings.recordHistory">\n                <section class="blank-page--notice">\n                    <h2>\n                        <em class="far fa-history blank-page--notice--icon"></em>\n                        <br>\n                        No Search <b>History</b> Yet\n                    </h2>\n                    <p>\n                        Save and recall your past searches, You can opt in/out of recording search history anytime.\n                    </p>\n                    <div class="btns">\n                        <a class="btn btn-pat btn-sm" ui-sref="search.results({view: \'structured\', type: \'patent\'})" ui-sref-opts="{inherit: false}">\n                            New Patent Search\n                        </a>\n                        <a class="btn btn-sch btn-sm" ui-sref="search.results({view: \'structured\', type: \'scholar\'})" ui-sref-opts="{inherit: false}">\n                            New Scholarly Search\n                        </a>\n                    </div>\n                </section>\n            </div>\n        </div>\n\n        <div ng-if="$root.showWorkAreaAbout && !vm.loading && vm.items.length">\n            <section class="blank-page--notice">\n                <h2>\n                    <em class="far fa-history blank-page--notice--icon"></em>\n                    <br>\n                    Search <b>History</b>\n                </h2>\n                <p>\n                    Save and recall your past searches, You can opt in/out of recording search history anytime.\n                </p>\n                <div class="btns">\n                    <a class="btn btn-pat btn-sm" ui-sref="search.results({view: \'structured\', type: \'patent\'})" ui-sref-opts="{inherit: false}">\n                        New Patent Search\n                    </a>\n                    <a class="btn btn-sch btn-sm" ui-sref="search.results({view: \'structured\', type: \'scholar\'})" ui-sref-opts="{inherit: false}">\n                        New Scholarly Search\n                    </a>\n                </div>\n            </section>\n        </div>\n\n        <div xlens-user-settings>\n            \x3c!-- No Content --\x3e\n            <div ng-if="!$root.settings.recordHistory">\n                <div class="workarea-notice--large">\n                    <div class="notice-icon">\n                        <em class="fal fa-history blank-page--notice--icon"></em>\n                    </div>\n                    <div class="notice-message">\n                        <a href="" hidden class="far fa-times notice-hide-btn"></a>\n                        <h3>Search <b>History</b> is not currently enabled</h3>\n                        <p>Visit your <a ui-sref="user.editAccount">Account Settings</a> to enable search history.</p>\n                    </div>\n                </div>\n\n                <section class="blank-page--notice" hidden>\n                    \x3c!-- Scope issues.... --\x3e\n                    <div class="blank-page--card">\n                        <label class="checkbox" style="padding-left: 30px;">\n                            <input type="checkbox" ng-model="vm.recordHistoryPrompt">\n                            <i></i>\n                            Record Search History<br>\n                            <p class="text-small col-meta">Please choose to opt in or out of your search history being recorded by default.</p>\n                            <a ng-click="update()" class="btn btn-xs btn-pri">\n                                {{::\'common.action.save\' | message}}\n                            </a>\n                        </label>\n                    </div>\n                </section>\n             </div>\n        </div>\n\n        \x3c!-- IF Loading --\x3e\n        <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n\n\n        \x3c!-- Filter Message --\x3e\n        <div hidden class="workarea--table" ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading && !$root.isAnon">\n            <div class="no-content">\n                <em class="far fa-empty-set col-error"></em>\n                No results match filter\n            </div>\n        </div>\n\n        \x3c!-- Legacy Message --\x3e\n        <div class="alert alert-info"  ng-if="vm.items.length && !vm.loading && !$root.isAnon">\n            <em class="far fa-info-circle"></em>\n            N.B. Queries may provide differing results due to the parsing of legacy field names.\n        </div>\n        \n        \x3c!-- View Cards --\x3e\n        <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading">\n            <div class="workarea--card-item workarea--card--query"\n                ng-class="{ \'workarea--card--is-patent\': item.type === \'PATENT_SEARCH\', \'workarea--card--is-scholar\': item.type === \'SCHOLAR_SEARCH\' }"\n                ng-repeat="item in vm.filteredItems = (vm.items) | orderBy:vm.orderBy"\n            >\n                <div class="card-item--header">\n                    <div class="card-item--select">\n                        <form>\n                            <label class="checkbox">\n                                <input type="checkbox" ng-model="item.selected">\n                                <i></i>\n                            </label>\n                        </form>\n                    </div>\n                    <a ui-sref="patent.main({id: item.itemId})" class="card-item--title" ng-if="item.type === \'PATENT\'">\n                        {{::item.reference}}\n                        <p class="card-item--meta">\n                            Patents ({{::item.resultSize | customNumber}})\n                        </p>\n                    </a>\n                    <a ui-sref="search.results(item.query)" class="card-item--title" ng-if="item.type !== \'PATENT\'" ui-sref-opts="{inherit: false}">\n                        <div>{{formatReference(item)}}</div>\n                        <div ng-if="item.query.q">\n                            Query:\n                            <span class="query-details-syntax-highlight">\n                                <span lens-query q="::item.query.q" depth="1" query-type="item.type === \'SCHOLAR_SEARCH\' ? \'scholar\' : \'patent\'"></span>\n                            </span>\n                        </div>\n                        <div class="card-item--meta" ng-if="getFilters(item.query)">Filters: {{::getFilters(item.query)}}</div>\n                        <p class="card-item--meta">\n                            {{::item.type | savedQueryType}} ({{::item.resultSize | customNumber}})\n                        </p>\n                    </a>\n                    <div class="card-item--icon">\n                        <em class="fal fa-search"></em>\n                    </div>\n                </div>\n\n\n                <div class="card-item--footer">\n                    <div class="card-item--accessed">Created:  {{::item.created | date}}</div>\n                    <div class="card-item--tools">\n                        <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-history-buttons-{{item.itemId}}"\n                            tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                            <em class="fas fa-ellipsis-h col-feat"></em>\n                        </a>\n                        <div hidden>\n                            <div id="modify-history-buttons-{{item.itemId}}" class="dismiss-tooltip-on-click">\n                                <ul class="dd-menu">\n                                    <li ng-if="item.type !== \'PATENT\'">\n                                        <a ng-click="vm.promptSaveQuery = item">\n                                            <em class="far fa-save"></em>\n                                            Save Query\n                                        </a>\n                                    </li>\n                                    <li class="delete--action">\n                                        <a ng-click="vm.promptDeleteId = item.id">\n                                            <em class="far fa-trash-alt col-error"></em>\n                                            {{::\'common.action.delete\' | message}}\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- View Table --\x3e\n        <div class="workarea--table workarea--table--mobile workarea--table--saved-queries" ng-show="vm.items.length" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.items.length && !vm.loading">\n            <div class="div-table">\n                <div class="div-table-heading">\n                    <div class="div-table-row">\n                        <div class="div-table-cell"></div>\n                        <div class="div-table-cell">Query</div>\n                        <div class="div-table-cell">Type</div>\n                        <div class="div-table-cell">{{::\'common.numberItems\' | message}}</div>\n                        <div class="div-table-cell">\n                            Tools\n                        </div>\n                    </div>\n                </div>\n\n                <div class="div-table-body" ng-repeat="(date, items) in vm.grouped">\n                    <div class="div-table-row div-table-row-date-gouping">\n                        <div class="div-table-cell">\n                            <em class="far fa-calendar-alt col-feat"></em>\n                        </div>\n                        <div class="div-table-cell">\n                            <strong>{{date}}</strong>\n                        </div>\n                        <div class="div-table-cell"></div>\n                        <div class="div-table-cell"></div>\n                        <div class="div-table-cell"></div>\n                    </div>\n                    <div class="div-table-row" ng-repeat="(i, item) in items | orderBy:vm.orderBy:true">\n                        <div class="div-table-cell">\n                            <label class="checkbox" style="padding-left: 5px;">\n                                <input type="checkbox" ng-model="item.selected">\n                                <i></i>\n                            </label>\n                        </div>\n                        <div class="div-table-cell div-table-cell--wrap">\n                            <a ui-sref="patent.main({id: item.itemId})" ng-if="item.type === \'PATENT\'" ui-sref-opts="{inherit: false}">\n                                <div>{{::item.reference}}</div>\n                            </a>\n                            <a ui-sref="search.results(item.query)" ng-if="item.type !== \'PATENT\'" ui-sref-opts="{inherit: false}">\n                                <div>{{formatReference(item)}}</div>\n                                <div ng-if="item.query.q">\n                                    Query:\n                                    <span class="query-details-syntax-highlight">\n                                        <span lens-query q="::item.query.q" depth="1" query-type="item.type === \'SCHOLAR_SEARCH\' ? \'scholar\' : \'patent\'"></span>\n                                    </span>\n                                </div>\n                                <div class="table--meta" ng-if="getFilters(item.query)">Filters: {{::getFilters(item.query)}}</div>\n                            </a>\n                        </div>\n                        <div class="div-table-cell">\n                            <em class="far fa-search workarea-meta-icon is-patent" ng-class="{ \'is-patent\': item.type === \'PATENT_SEARCH\', \'is-scholar\': item.type === \'SCHOLAR_SEARCH\' }"></em>\n                            <span>\n                                {{::item.type | savedQueryType}}\n                            </span>\n                            <div class="table--meta" style="padding-left: 1.6em;">\n                                \x3c!--{{::item.created | date}}--\x3e\n                                {{item.created | date:\'shortTime\'}}\n                            </div>\n                        </div>\n                        <div class="div-table-cell">\n                            {{::item.resultSize | customNumber}}\n                        </div>\n                        <div class="div-table-cell">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-history-buttons-{{i}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-history-buttons-{{i}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li ng-if="item.type !== \'PATENT\'">\n                                            <a ng-click="vm.promptSaveQuery = item">\n                                                <em class="far fa-save"></em>\n                                                Save Query\n                                            </a>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteId = item.id">\n                                                <em class="far fa-trash-alt col-error"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!-- End Rows --\x3e\n                </div>\n            </div>\n        </div>\n\n        <span class="btn btn-xs btn-pri" style="margin-top: 20px; display: inline-block;"\n            ng-if="vm.moreAvailable && !vm.loading && vm.items.length"\n            ng-click="vm.page = vm.page + 1; refresh()"\n        >Load more...</span>\n\n    </div>\n\n    <aside class="workarea-page-sidebar sidebar-sticky" ng-if="(vm.items.length || vm.filter.fullUri) && !$root.breakpoints.isMobile">\n        <div class="theiaStickySidebar">\n            <div ng-include="\'work-area-history-toolbar\'" include-replace></div>\n        </div>\n    </aside>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptSaveQuery" ng-if="vm.promptSaveQuery">\n    <h3 class="modal-heading">Save Query</h3>\n    <form ng-submit="saveQuery(query)" ng-init="query = {published: true}">\n        <div ng-include="\'saved-query-form\'"></div>\n        <br>\n        <div class="pull-right">\n            <span class="cancel btn btn-sm btn-danger-txt" ng-click="vm.promptSaveQuery = null">{{ "common.action.cancel" | message}}</span>\n            <button class="apply btn btn-sm btn-pri">{{ "common.action.save" | message }}</button>\n        </div>\n    </form>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteId" ng-if="vm.promptDeleteId">\n    <h3 class="modal-heading">Delete History Item: {{vm.promptDeleteId}}</h3>\n    <div class="alert alert-danger">This History Item will be permanently deleted. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteId = false">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="delete(vm.promptDeleteId)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteAll" ng-if="vm.promptDeleteAll">\n    <h3 class="modal-heading">{{::\'user.history.deleteAll.title\' | message}}</h3>\n    <div class="alert alert-danger">Are you sure you want to permanently delete all history items?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteAll = false">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="deleteAll()">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n<div lens-modal size="sm" visible="vm.promptDeleteSelected" ng-if="vm.promptDeleteSelected">\n    <h3 class="modal-heading">\n        Really Delete <strong>{{getSelected().length}}</strong> History Items?\n    </h3>\n    <p>Are you sure you want to permanently delete these history items?</p>\n    <form ng-submit="deleteSelected()">\n        <div class="clearfix pull-right">\n            <span class="btn btn-danger-txt" ng-click="vm.promptDeleteSelected = false">\n                {{::\'common.action.cancel\' | message}}\n            </span>\n            <button class="btn btn-danger">\n                {{::\'common.action.delete\' | message}}\n            </button>\n        </div>\n    </form>\n</div>\n\n<div ng-include="\'search-history-sidebar-widget\'" ng-if="sidebar"></div>\n'},function(e,t,n){"use strict";var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0),o=(i=r)&&i.__esModule?i:{default:i};new(n(18).SessionStorageService);o.default.directive("lensSearchOrcid",[].concat(["OrcidService","$timeout","$rootScope"],[function(e,t,i){return{template:n(589),scope:{orcidId:"=",expanded:"<",type:"<",name:"<"},link:function(n,r){var o=n.vm={name:n.name||n.orcidId||"",start:0,loading:!1,showResultsList:!1,noEmptyProfiles:!0},s=function(){o.name&&(r.closest("form").off(".SearchOrcid"),o.loading=!0,o.showResultsList=!0,e.isOrcidId(o.name)?(o.noEmptyProfiles=!1,e.lookupPersonName(o.name.trim()).then((function(e){n.$apply((function(){o.loading=!1,o.results=[{id:o.name.trim(),name:e}]}))}))):e.searchByName(o.name,o.start,12).then((function(t){Promise.all([Promise.all(t.map(e.lookupPersonName)),Promise.all(t.map(e.lookupAliases)),Promise.all(t.map(e.lookupPersonUrls)),Promise.all(t.map(e.lookupAffiliations)),Promise.all(t.map(e.lookupPositions)),Promise.all(t.map(e.lookupWorks))]).then((function(e){var i=a(e,6),s=i[0],l=i[1],c=i[2],u=i[3],d=i[4],p=i[5];n.$apply((function(){o.results&&o.results.length||1!==t.length||(o.noEmptyProfiles=!1),o.loading=!1,o.results=t.map((function(e,t){return{id:e,name:s[t],aliases:l[t],affiliations:u[t],positions:d[t],urls:c[t],works:p[t]||[]}})).concat(o.results)})),window.initTooltips(r)})).catch((function(e){console.error(e),n.$apply((function(){o.loading=!1}))}))})),t((function(){r.closest("form").one("click.SearchOrcid",(function(){n.$apply((function(){o.showResultsList=!1}))}))}),1))};n.newSearch=function(){o.start=0,o.results=[],s()},n.loadMore=function(){o.start+=12,s()},n.selectOrcidId=function(t){o.showResultsList=!1,e.lookupPersonName(t).then((function(e){n.$apply((function(){o.name=e+" / "+t}))})),n.orcidId=t,r.closest("form").off(".SearchOrcid")},n.resultsFilter=function(e){return!(o.noEmptyProfiles&&(!e.works||0===e.works.length))},n.$watch("vm.name",(function(e){o.name||(n.orcidId=null)})),r.find("input").keydown((function(e){13===e.keyCode&&(e.preventDefault(),n.newSearch(),n.$digest())}));var l=function(e){"profiles"!==i.currentState.name||r.get(0).contains(e.target)||(o.results=[],o.showResultsList=!1,n.$digest(),console.log("click outside. dismiss"))};$("body").on("click",l),n.$on("$destroy",(function(){$("body").off("click",l)})),n.$watch("name",(function(e){o.name=e,setTimeout((function(){n.newSearch()}),200)}))}}}]))},function(e,t){e.exports='<div class="input-group search-orcid-lookup">\n    <input class="form-control"\n        ng-model="vm.name"\n        xng-model-options="{debounce: 500}"\n        xng-change="newSearch()"\n        placeholder="{{\'search.orcid.placeholder\' | message}}"\n        lens-auto-focus\n    >\n    <span class="input-group-btn">\n        <button class="btn btn-sec orcid-lookup-label" type="button" ng-click="newSearch()" ng-disabled="vm.loading || !vm.name">\n            <em class="fal fa-search"></em>\n            <span>Find A Profile</span>\n        </button>\n    </span>\n</div>\n\n<div ng-if="expanded" ng-include="\'search-orcid-expanded\'"></div>\n<div ng-if="!expanded" ng-include="\'search-orcid-simple\'"></div>\n'},function(e,t,n){"use strict";var i=r(n(0)),a=(n(591),r(n(84)));function r(e){return e&&e.__esModule?e:{default:e}}i.default.directive("lensSearchTips",[function(){return{template:n(173),replace:!0,scope:{view:"<"},link:function(e){e.view||(e.view="tips"),e.vm={type:0===window.location.pathname.indexOf("/lens/scholar")?"SCHOLAR":"PATENT"},e.queryString=function(){return window.location.search};var t=function(){var t=$("#q").val();if(t){e.vm.q=t;try{e.queryParserError=null,a.default.parse(t)}catch(t){e.queryParserError=t}}};$("#q").on("keyup",t),t()}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSubStrIdxs=a,t.findReservedSubStrIdxs=function(e){for(var t=new Map,n=0;n<i.length;n++)a(e,i[n],t);return t},t.sortBySubStrIndex=function(e){var t=[],n=!0,i=!1,a=void 0;try{for(var r,o=e.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)for(var s=r.value,l=0;l<s.length;l++)t.push(s[l])}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return t.sort((function(e,t){return e.start>t.start?1:t.start>e.start?-1:0})),t};var i=["+","-","=","&&","||",">","<","!","(",")","{","}","[","]","^",'"',"~","*","?",":","\\","/"];function a(e,t,n){for(var i=0;-1!==i;)if(-1!==(i=e.indexOf(t,i))){i+=t.length;var a=n.get(t);a||(a=[],n.set(t,a)),a.push({start:i,end:i+t.length})}}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSelectCollectionsList",[].concat([],[function(){return{template:n(593),scope:{collections:"<",filter:"<",checked:"="}}}]))},function(e,t){e.exports='<div class="window-scroll window-collections">\n    <div ng-repeat="collection in visible = (collections | filter:filter | orderBy:\'updated\':true)"\n        lens-select-collections-list-item\n        collection="collection"\n        checked="checked[collection.id]"\n    ></div>\n    \n</div>\n\n<div style="margin-top: -2px;" class="alert alert-danger" ng-if="!visible.length">\n    No collections contain the selected items or match the filter\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSelectCollectionsListItem",[].concat([],[function(){return{template:n(595),scope:{collection:"<",checked:"="}}}]))},function(e,t){e.exports='<label class="checkbox clearfix collectionItem" ng-class="{viewing: viewing}">\n    <div class="pull-left div-checkbox">\n        <input type="checkbox" ng-model="checked">\n        <i></i>\n    </div>\n\n    <span class="collectionTitle">{{collection.title}}</span>\n    <span class="collectionCount itemCount">({{collection.itemCount | customNumber}})</span>\n\n    <div class="collectionMeta" ng-class="{ \'is-patent\': collection.type === \'PATENT\', \'is-scholar\': collection.type === \'SCHOLARLY_WORK\' }">\n        <span class="collectionType">\n            {{ collection.type | collectionType }} -\n        </span>\n        <span class="collectionShared">\n            {{::\'user.sharing.\' + collection.access | message}}\n        </span>\n        <span class="collectionDate">\n            {{::\'common.Updated\' | message}}:\n            {{collection.updated | date}}\n        </span>\n    </div>\n</label>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("selectOnClick",[].concat([],[function(){return{link:function(e,t){t.on("click",(function(){return t.select()}))}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSequencePage",[function(){return{link:function(e,t,n){console.log(n.patentKey),e.download=function(e){var t="/lens/patent/"+n.patentKey+"/sequences/download",i=$("#filterForm").clone().hide().attr("id","downloadForm");i.find('input[name="t"]').val([e]),i.attr("action",t),console.log("Download FASTA for ",e,$.deparam(i.serialize())),$("body").remove("#downloadForm").append(i),i.submit()}}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSideTabs",[].concat([],[function(){return{template:n(174),replace:!0,scope:{type:"<"}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("lensSidebarContent",(function(){return{template:n(175)}}))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=n(87),s={report:["#ADC9EA","#6496D6","#1269B7","#D356BC","#A454D3"]};r.default.directive("lensSimpleBarChart",[].concat([],[function(){return{scope:{data:"<",theme:"<",elementClick:"<",elementTooltip:"<"},template:n(601),link:function(e){var t=s[e.theme]||o,n=void 0,i=function(){var t=e.data[0].values.map((function(e){return e.value}));n=_.max(t)};e.barStyle=function(i,a){return{width:Math.floor(i.value/n*100)+"%","background-color":t[a%t.length],cursor:e.elementClick?"pointer":"default"}},i(),e.$watch("data",i),e.elementClick&&(e.clickItem=function(t){e.elementClick.apply(e.$parent.$ctrl||void 0,[t])})}}}]))},function(e,t){e.exports='<div class="simple-bar-chart">\n    <div ng-repeat="(i, item) in data[0].values">\n        {{item.displayName || item.label}}\n        <div class="simple-bar-chart-bar"\n            ng-style="barStyle(item, i)"\n            ng-click="clickItem({data:item})"\n            tooltip-title\n            tooltip-title-variable="elementTooltip(item)"\n        >\n            <span class="simple-bar-chart-value">{{item.value | customNumber}}</span>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSlider",[].concat([],[function(){return{scope:{min:"@",max:"@",value:"=lensSlider"},link:function(e,t,n){t.slider({min:parseInt(e.min),max:parseInt(e.max),step:1,value:e.value||100,slide:function(t,n){e.value=n.value,e.$apply()}}),e.$watch("value",(function(e){t.slider("value",e)}))}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensStateActive",["$state","$transitions",function(e,t){return{scope:{state:"<lensStateActive"},link:function(n,i,a){var r=function(){var t=!1;_.isArray(n.state)?n.state.forEach((function(n){!0===e.includes(n)&&(t=!0)})):t=!0===e.includes(n.state),i.toggleClass("active",t)},o=t.onSuccess({},(function(e){r()}));n.$on("$destroy",(function(){o()})),r()}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensSticky",["$window",function(e){return{link:function(e,t){var n=t,i=null,a=!1,r=function(){i=n.offset().top,a=!1,t.height()>$(window).height()&&(console.warn("element height",t.height(),"greater than window",$(window).height()),a=!0)};$(window).resize(r),$(window).scroll((function(){null===i&&r(),n.toggleClass("stuck",!a&&i<window.pageYOffset)})),setTimeout(r,1e3)}}}])},function(e,t,n){"use strict";var i=o(n(0)),a=o(n(2)),r=o(n(72));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default("global");i.default.directive("lensStringList",[].concat(["$http","$state","$rootScope"],[function(e,t,i){return{template:n(606),scope:{type:"<",sidebar:"<",editLinks:"<",promptLoadDashboardId:"="},link:function(n){var o=new a.default("string-list-"+n.type),l=n.vm={items:[],loading:!0,view:s.get("workarea-view")||"table",filter:o.get("filter")||{},typeLabel:"report"===n.type?"Reports":"Dashboards",orderBy:o.get("orderBy")||"updated",show:!0};n.persist=function(){o.set("filter",l.filter),o.set("orderBy",l.orderBy)};var c=function(){e({url:"/lens/service/strings?type="+(n.type||"dashboard")}).then((function(e){l.loading=!1,l.items=e.data})).catch((function(e){l.loading=!1,console.warn(e)}))};n.deleteDashboard=function(t){l.items=l.items.filter((function(e){return e.id!==t})),l.promptDeleteId=null;var n=new Notification;e({url:"/lens/service/strings/"+t,method:"DELETE"}).then((function(e){n.notify("Deleted "+l.typeLabel)})).catch((function(e){console.error(e),n.error("Could not delete "+l.typeLabel)}))},n.save=function(){l.submitting=!0;var t=l.editItem,n=t.published,i=t.label,a=t.id;return l.editItem=null,e.get("/lens/service/strings/"+a).then((function(t){var r=t.data,o=r.value,s=r.type;return e.put("/lens/service/strings/"+a,{label:i,value:o,type:s,published:n}).then((function(e){c()})).catch((function(e){console.error("Failed to publish",e)}))})).catch((function(e){console.error("Failed to publish",e)}))},n.getLink=function(e){return e?"dashboard"===n.type?"/lens/dashboard/"+e.id:"report"===n.type?"/lens/report/"+(n.editLinks?"edit":"view")+"/"+(0,r.default)(e.label)+"/"+e.id:void 0:""},n.editLink=function(e){return e?"report"===n.type?"/lens/report/edit/"+(0,r.default)(e.label)+"/"+e.id:void 0:""},n.setView=function(e){l.view=e,s.set("workarea-view",e)},n.slugify=function(e){return(0,r.default)(e)},n.getShareLink=function(){return"https://www.lens.org"+n.getLink(l.promptPublishItem||l.editItem)},i.$on("REFRESH_DASHBOARD_LIST",c),c(),n.promptLoadDashboard=function(e,i){if("report"!==n.type){t.current.name.startsWith("article")||e.preventDefault();var a=i.type.split("-")[0]||"scholar";if("dashboard"===a&&(a="scholar"),!window.location.pathname.startsWith("/lens/search/"+a))return void(l.incorrectTypeWarning={type:a,id:i.id});n.promptLoadDashboardId=i.id}}}}}]))},function(e,t){e.exports='<div ng-if="sidebar" class="widget widget--new-sidebar content">\n    <h3 class="h5-styled">\n        {{vm.typeLabel}}\n        <em ng-if="type === \'report\' && vm.items.length" class="far fa-info-circle col-sec" \n            tooltip-title="Create reports linked to real data and analytics.">\n        </em>\n        <em ng-if="type.endsWith(\'dashboard\') && vm.items.length" class="far fa-info-circle col-sec" \n            tooltip-title="Real time analysis and visualisation tools.">\n        </em>\n    </h3>\n\n    <div ng-if="!vm.loading && !vm.items.length && sidebar" class="sidebar-walk-through">\n        <div class="alert alert-info">\n            <em class="far fa-info-circle"></em>\n            No {{vm.typeLabel}}<br>\n            <span ng-if="$root.isAnon"><a href="/lens/user/registration">Register</a> or <a href="/lens/user/login" class="login-link">Login</a> to use {{vm.typeLabel}}.</span>\n        </div>\n    </div>\n\n    <form ng-if="vm.items.length">\n        <label class="input input-sm">\n            <input type="text" ng-model="vm.filter.label" placeholder="Filter {{::vm.typeLabel}}">\n            <i class="icon_append fal fa-search"></i>\n        </label>\n    </form>\n    \n    <ul class="drop-list-scroll-sidebar" ng-if="vm.items.length">\n        <li ng-repeat="item in vm.items | filter:vm.filter | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\')">\n            <a ui-sref="editReport({id: item.id, slug: slugify(item.label)})" ng-if="type === \'report\'">\n                <div>{{::item.label | markdownToPlaintext}}</div>\n                <div class="collectionMeta">\n                    <span class="collectionDate">\n                        {{::item.created | date}}\n                    </span>\n                    <span class="collectionShared pull-right">\n                        {{::item.published ? \'Public\' : \'Private\'}}\n                    </span>\n                </div>\n            </a>\n\n            <a ng-href="{{getLink(item)}}" ng-click="promptLoadDashboard($event, item)" ng-if="type !== \'report\'">\n                <div>{{::item.label}}</div>\n\n                <div class="collectionType is-{{item.type.split(\'-\')[0] || \'scholar\'}}">\n                    <em class="fa fa-circle"></em>\n                    <span style="text-transform: capitalize;">{{item.type.split(\'-\')[0] || \'scholar\'}}</span>\n                </div>\n\n                <div class="collectionMeta">\n                    <span class="collectionDate">\n                        {{::item.created | date}}\n                    </span>\n                    <span class="collectionShared pull-right">\n                        {{::item.published ? \'Public\' : \'Private\'}}\n                    </span>\n                </div>\n            </a>\n        </li>\n    </ul>\n    \n    <p class="text-small col-meta" ng-if="!vm.items.length && !vm.loading" style="padding-bottom: 25px;"> \n        <span ng-if="type === \'report\'">\n            Lens Reports is a new facility for creating evidence-based, open, sharable and reusable reports linked to real Lens data and analytics. The next evolution of Lens, search, collect, analyze, annotate and now present your findings in a flexible, data-driven reporting interface.\n        </span>\n        <span ng-if="type.endsWith(\'dashboard\')">\n            Our suite of analysis and visualisation tools enable real-time discovery and analysis. Dashboards can be saved, presented and share it via LinkedIn, twitter, Facebook or email.\n        </span>\n    </p>\n    \n    \x3c!-- Updated Styling for report specific clipboards \n    <label>Select Report</label>\n    <div class="window-scroll window-collections">\n        <div ng-repeat="item in vm.items | filter:vm.filter | orderBy:\'id\':true">\n            <div class="clearfix collectionItem">\n                <a ng-href="{{getLink(item)}}" ng-click="promptLoadDashboard($event, item)">\n                    <div>{{::item.label}}</div>\n    \n                    <div class="collectionMeta col-meta">\n                        <span class="collectionShared">\n                            {{::item.published ? \'Public\' : \'Private\'}}\n                        </span>\n                        <span class="collectionDate">\n                            - Updated: {{::item.created | date}}\n                        </span>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </div>\n    --\x3e\n\n    <div class="clearfix" ng-if="vm.items.length">\n        <a ui-sref="workArea.reports" class="btn btn-reg btn-xxs" ng-if="type === \'report\'">\n            <em class="far fa-edit"></em>\n            Manage Reports\n        </a>\n        <a ui-sref="workArea.dashboards" class="btn btn-reg btn-xxs" ng-if="type.endsWith(\'dashboard\')">\n            <em class="far fa-edit"></em>\n            Manage Dashboards\n        </a>\n    </div>\n</div>\n\n\n\n\n<div class="workarea-page--has-sidebar" ng-if="!sidebar">\n    <div class="workarea-page-main content">\n        \n        <h1 class="workarea--heading" ng-class="{ \'workarea--heading-no-border\': vm.items.length && !vm.loading && !$root.isAnon}">\n            {{vm.typeLabel}}\n            <a ng-click="$root.showWorkAreaAbout = !$root.showWorkAreaAbout" ng-if="vm.items.length" class="pulse-dot pulse-dot--icon workarea--heading--icon">\n                <em class="far fa-info-circle"></em>\n           </a>\n           <div class="dd-dropdown-alt"\n               ng-if="vm.items.length && !vm.loading && !$root.isAnon && $root.breakpoints.isMobile"\n           >\n                <a ng-click="$root.ddBtn4 = !$root.ddBtn4" class="dd-btn" ng-class="{active: $root.ddBtn4}">\n                    <em class="fas fa-ellipsis-h dd-button--icon"></em>\n                </a>\n                <div class="dd-content" ng-class="{active: $root.ddBtn4}">\n                    <div ng-include="\'work-area-reports-toolbar\'" style="padding: 10px 10px 0 10px;"></div>\n                </div>\n            </div>\n        </h1>\n        \n        <div class="project--tags" ng-if="$ctrl.state.selectedProject">\n            <div class="project--tags-inner">\n                <div class="active-project">{{$ctrl.state.selectedProject.title}}</div>\n                <div class="end-project"><em class="far fa-times"></em></div>\n            </div>\n        </div>\n            \n        \x3c!-- IF not loggedin --\x3e\n        <div ng-if="$root.isAnon" ng-include="\'work-area-login-notice\'"></div>\n        \n        \x3c!-- Loading --\x3e\n        <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n        \n        \x3c!-- No Content --\x3e\n        <div ng-if="!vm.loading && !vm.items.length && !$root.isAnon || $root.showWorkAreaAbout">\n            <div>\n                <div ng-if="type === \'report\'" ng-include="\'about-reports\'"></div>\n                <div ng-if="type.endsWith(\'dashboard\')" ng-include="\'about-dashboards\'"></div>\n            </div>\n        </div>\n        \n        \x3c!-- Filter Message --\x3e\n        <div class="workarea--table" ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading && !$root.isAnon">\n            <div class="no-content">\n                <em class="far fa-empty-set col-error"></em>\n                No results match filter\n            </div>\n        </div>\n        \n        \x3c!-- View Cards --\x3e\n        <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading && !$root.isAnon">  \n            <div class="workarea--card-item workarea--card--report" \n                collection="collection"\n                ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter) | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\')">\n                <div class="card-item--image link" ng-if="type === \'report\'" ui-sref="editReport({slug: item.label, id: item.id})">\n                    <img alt="" hack-report-thumbnail report-id="item.id">\n                </div>\n                <div class="card-item--header">\n                    <a class="card-item--title" ui-sref="editReport({slug: item.label, id: item.id})" ng-if="type === \'report\'">{{item.label | markdownToPlaintext}}</a>\n                    <a class="card-item--title" ui-sref="dashboard({dashboardId: item.id})" ng-if="type.endsWith(\'dashboard\')">\n                        {{item.label}}\n                        <p class="card-item--meta">\n                            <span style="text-transform: capitalize;">{{item.type.split(\'-\')[0] || \'scholar\'}}</span> -\n                            <span>{{item.published ? \'Public Access\' : \'Private\'}}</span>\n                        </p>\n                    </a>\n                    <div class="card-item--icon" ng-if="type.endsWith(\'dashboard\')">\n                        <em class="fal fa-tachometer-alt-fast"></em>\n                    </div>\n                </div>\n                \n                <div class="card-item--footer">\n                    <div class="card-item--accessed">Last Accessed:  {{::item.updated | date}}</div>\n                    <div class="card-item--tools">\n                        <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-report-buttons-{{item.id}}"\n                            tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                            <em class="fas fa-ellipsis-h col-feat"></em>\n                        </a>\n                        <div hidden>\n                            <div id="modify-report-buttons-{{item.id}}" class="dismiss-tooltip-on-click">\n                                <ul class="dd-menu">\n                                    <li>\n                                        <a class="share"\n                                            ng-click="vm.editItem = item"\n                                            tooltip-title="Rename"\n                                        >\n                                            <em class="far fa-pencil"></em>\n                                            Rename\n                                        </a>\n                                    </li>\n                                    <li> \n                                        <a class="share"\n                                            ng-click="vm.editItem = item"\n                                            tooltip-title="{{::\'user.collections.publish.longDesc\' | message}}"\n                                        >\n                                            <em class="far fa-users"></em>\n                                            Access\n                                        </a>\n                                    </li>\n                                    <li>\n                                        <span lens-add-to-project-button type="item.type" item="item"></span>\n                                    </li>\n                                    <li class="delete--action">\n                                        <a ng-click="vm.promptDeleteId = item.id">\n                                            <em class="far fa-trash-alt col-error"></em>\n                                            {{::\'common.action.delete\' | message}}\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>    \n                    </div>\n                </div>\n            </div>\n        </div>\n        \n            \n        \x3c!-- View Table --\x3e\n        <div class="workarea--table workarea--table--mobile workarea--table--reports" ng-show="vm.filteredItems.length" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.items.length && !vm.loading && !$root.isAnon">\n            \x3c!-- Table --\x3e\n            <div class="div-table">\n                <div class="div-table-heading">\n                    <div class="div-table-row">\n                        <div class="div-table-cell">Name</div>\n                        <div class="div-table-cell">{{::\'common.dateCreated\' | message}}</div>\n                        <div class="div-table-cell">{{::\'common.lastUpdated\' | message}}</div>\n                        <div class="div-table-cell">{{::\'common.sharedWith\' | message}}</div>\n                        <div class="div-table-cell">{{::\'common.tools\' | message}}</div>\n                    </div>\n                </div>\n                <div class="div-table-body">\n                    <div class="div-table-row" ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter) | orderBy:vm.orderBy:(vm.orderBy === \'created\' || vm.orderBy === \'updated\')">\n                        <div class="div-table-cell div-table-cell--wrap">\n                            <a ui-sref="editReport({slug: item.label, id: item.id})" ng-if="type === \'report\'" \n                                xtooltip-title tooltip-content-selector="#report-image-{{item.id}}">{{item.label | markdownToPlaintext}}</a>\n                            <a ui-sref="dashboard({dashboardId: item.id})" ng-if="type.endsWith(\'dashboard\')">\n                                {{item.label}}\n                            </a>\n                            <div class="table--meta"  style="text-transform: capitalize;">{{item.type.split(\'-\')[0] || \'scholar\'}}</div>\n                        </div>\n                        <div class="div-table-cell">\n                            {{::item.created | date}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{::item.updated | date}}\n                        </div>\n                        <div class="div-table-cell">\n                            {{item.published ? \'Public Access\' : \'Private\'}}\n                        </div>\n                        <div class="div-table-cell">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-report-buttons-{{item.id}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-report-buttons-{{item.id}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li>\n                                            <a class="share"\n                                                ng-click="vm.editItem = item"\n                                                tooltip-title="Rename"\n                                            >\n                                                <em class="far fa-pencil"></em>\n                                                Rename\n                                            </a>\n                                        </li>\n                                        <li> \n                                            <a class="share"\n                                                ng-click="vm.editItem = item"\n                                                tooltip-title="{{::\'user.collections.publish.longDesc\' | message}}"\n                                            >\n                                                <em class="far fa-users"></em>\n                                                Access\n                                            </a>\n                                        </li>\n                                        <li>\n                                            <span lens-add-to-project-button type="\'savedQuery\'" item="item"></span>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteId = item.id">\n                                                <em class="far fa-trash-alt col-error"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.items.length && !sidebar && !$root.breakpoints.isMobile">\n        <div class="theiaStickySidebar">\n            <div ng-include="\'work-area-reports-toolbar\'" include-replace></div>\n        </div>\n    </aside>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.incorrectTypeWarning">\n    <h3 class="modal-heading">Warning</h3>\n    <p>Can not open {{vm.incorrectTypeWarning.type}} dashboard for {{vm.incorrectTypeWarning.type === \'scholar\' ? \'patent\' : \'scholar\'}} results</p>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.incorrectTypeWarning = false">Close</span>\n        <a ng-href="/lens/dashboard/{{vm.incorrectTypeWarning.id}}" class="btn btn-sm btn-sec">Load original query</a>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteId">\n    <h3 class="modal-heading">{{::\'common.action.delete\' | message}} {{type}}</h3>\n    <div class="alert alert-danger">This {{type}} will be permanently deleted. Are you sure?</div>\n    <div class="clearfix pull-right">\n        <span class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteId = false">Close</span>\n        <span class="btn btn-danger btn-sm" ng-click="deleteDashboard(vm.promptDeleteId)">{{::\'common.action.delete\' | message}}</span>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.editItem">\n    <h3 class="modal-heading">Update Item</h3>\n    <form ng-submit="save()">\n        <label for="">Title</label>\n        <label for="" class="input">\n            <input type="text" ng-model="vm.editItem.label">\n        </label>\n\n        <label for="collectionLink">\n            {{\'user.sharing.link\' | message}}:\n        </label>\n        <label class="input">\n            <i class="icon_append fa fa-link"></i>\n            <input id="collectionLink"\n                name="collectionLink"\n                readonly="readonly"\n                class="full"\n                value="{{getShareLink()}}"\n                select-on-click\n            >\n        </label>\n        <br>\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                    {{::\'user.sharing.who\' | message}}\n            </div>\n            <div class="panel-body panel-body--share-options">\n                <label class="radio">\n                    <input type="radio" ng-model="vm.editItem.published" ng-value="false">\n                    <i></i>\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info\' | message}}\n                    {{::\'user.sharing.RESTRICTED_ACCESS.info.sub\' | message}}\n                </label>\n                <label class="radio">\n                    <input type="radio" ng-model="vm.editItem.published" ng-value="true">\n                    <i></i>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info\' | message | unsafe"></div>\n                    <div class="inline" ng-bind-html="\'user.sharing.LIMITED_ACCESS.info.sub\' | message | unsafe"></div>\n                </label>\n            </div>\n        </div>\n\n        <div class="pull-right">\n            <a class="btn btn-sm btn-danger-txt" ng-click="vm.editItem = null">{{\'common.action.cancel\' | message}}</a>\n            <button class="btn btn-sm btn-pri">Publish</button>\n        </div>\n    </form>\n</div>\n\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(9);var s=n(608),l=n(217);r.default.directive("lensSubscriptions",[].concat(["$http","$rootScope","$q"],[function(e,t,i){return{template:n(609),scope:{},link:function(n,a){var r=n.vm={counts:s,cannedScholarMetrics:l,patentFieldsMap:o.fieldsMapByType.patent,scholarFieldsMap:o.fieldsMapByType.scholar,subscriptions:[],tokens:[],view:window.location.hash.slice(1)||"subscriptions-landing",hasSubscription:{},viewUser:{product:"PATSEQ_BULKDOWNLOADS"}};i.when(fetch("/lens/service/subscription/plans").then((function(e){return e.json()}))).then((function(e){r.plans={LENS_PATENT_API:e.filter((function(e){return"LENS_PATENT_API"===e.product})),LENS_SCHOLARLY_API:e.filter((function(e){return"LENS_SCHOLARLY_API"===e.product})),PATSEQ_BULKDOWNLOADS:e.filter((function(e){return"PATSEQ_BULKDOWNLOADS"===e.product})),SCHOLARLY_BULKDOWNLOADS:e.filter((function(e){return"SCHOLARLY_BULKDOWNLOADS"===e.product})),PATENT_BULKDOWNLOADS:e.filter((function(e){return"PATENT_BULKDOWNLOADS"===e.product}))}})),i.when(fetch("/lens/service/user").then((function(e){return e.json()}))).then((function(e){e.firstName&&(t.user.firstName=e.firstName,r.viewUser.firstName=e.firstName),e.lastName&&(t.user.lastName=e.lastName,r.viewUser.lastName=e.lastName)})),n.planSelected=function(e,t){var i=n.getPlan(e,t);return i&&r.viewUser.planId===i.id},n.getPlan=function(e,t){if(r.plans)return r.plans[e].filter((function(e){return e.licence===t})).pop()},n.choose=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.viewUser.extra=i,r.viewUser.product=e;var a=n.getPlan(e,t);a&&(r.viewUser.planId=a.id,r.subscriptionRequestModal=!0)},n.renew=function(e,t){r.viewUser.product=e,r.viewUser.planId=t,r.subscriptionRequestModal=!0},n.submitPatseqForm=function(){r.patseqCheckbox?(r.viewUser.product="PATSEQ_BULKDOWNLOADS",r.viewUser.planId=r.patseqCheckbox.id,r.viewUser.extra={tier:r.patseqCheckbox.tier},r.subscriptionRequestModal=!0):alert("Select a plan")},n.createToken=function(){var e=fetch("/lens/service/subscription/token",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({description:r.newTokenDescription})});return i.when(e).then((function(e){return e.json()})).then((function(e){return r.promptCreateToken=null,r.tokens.unshift(e),r.newToken=e,e})).catch((function(e){console.warn(e)}))},n.editToken=function(){var e=r.promptEditToken,t=e.id,n=e.description,a=fetch("/lens/service/subscription/token/"+t,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({description:n})});return i.when(a).then((function(e){return e.json()})).then((function(e){return r.promptEditToken=null,e})).catch((function(e){console.warn(e)}))},n.deleteToken=function(e){var t=fetch("/lens/service/subscription/token/"+e.id,{method:"DELETE"});return i.when(t).then((function(e){r.promptDeleteToken=null,n.listTokens()})).catch((function(e){console.warn(e)}))},n.listTokens=function(e){r.tokensLoading=!0;var t=fetch("/lens/service/subscription/token");return i.when(t).then((function(e){return e.json()})).then((function(e){return r.tokensLoading=!1,r.tokens=e,e})).catch((function(e){r.tokensLoading=!1,console.warn(e)}))},n.listSubscriptions=function(t){return r.subscriptionsLoading=!0,e({method:"GET",url:"/lens/service/subscription"}).then((function(e){r.subscriptionsLoading=!1,r.subscriptions=e.data,r.showTokenUI=r.subscriptions.filter((function(e){return e.active})).length>0,r.hasSubscriptions={},r.subscriptions.forEach((function(e){(e.active||"REQUESTED"===e.status)&&(r.hasSubscription[e.product]||(r.hasSubscription[e.product]={}),r.hasSubscription[e.product][e.plan.license]=!0,r.hasSubscriptions[e.product]=!0)})),(r.hasSubscriptions.PATSEQ_BULKDOWNLOADS||r.hasSubscriptions.LENS_SCHOLARLY_API)&&(window.location.hash||(r.view="active"))})).catch((function(e){console.warn(e),r.subscriptionsLoading=!1}))};var c=new Date;n.isBefore=function(e){return c>e},n.submitRequest=function(){r.organisationSizeWarning=!1,r.organisationSizeError=!1,r.statusConfirmationError=!1,r.termsError=!1;var e=r.viewUser,t=e.type,a=e.organisationSize,o=e.statusConfirmation,s=e.termsAccepted;if("small"!==t||"large"!==a)if(a||!n.planSelected("LENS_SCHOLARLY_API","Institutional")&&!n.planSelected("LENS_SCHOLARLY_API","Commercial Entities"))if(o||n.planSelected("LENS_SCHOLARLY_API","Free")){if(s){var l=fetch("/lens/user/downloads/request",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(r.viewUser)});return r.submittingRequest=!0,i.when(l).then((function(e){return e.json()})).then((function(e){r.trackingCode=e.trackingCode,r.confirmationEmail=e.email,r.subscriptionRequestModal=!1,r.submittingRequest=!1,n.listSubscriptions(),r.viewUser.extra={}})).catch((function(e){console.warn(e),r.submittingRequest=!1}))}r.termsError=!0}else r.statusConfirmationError=!0;else r.organisationSizeError=!0;else r.organisationSizeWarning=!0},n.listSubscriptions(),n.listTokens()}}}]))},function(e){e.exports=JSON.parse('{"Articles":117453193,"Books and Book Chapters":22120026,"Conference Proceedings":5108523,"Granted Patents":41040957,"Patent Applications":61351474,"Limited Patent":21993059,"Active Patents":35455643,"Pending Patents":20327892,"Expired Patents":41773691,"Patent Metadata Fields":222}')},function(e,t){e.exports='<div class="subscriptions">\n    <div class="page-title content">\n        <h1 class="workarea--heading workarea--heading-no-border">\n            API &amp; Bulk Data\n        </h1>\n    </div>\n        \n    \x3c!-- Start Sub-Nav --\x3e\n    <nav class="grid-tab-nav grid-tab-nav--nested subscriptions-tabs">\n        <ul class="grid-tabs">\n            <li ng-click="vm.view = \'subscriptions-landing\'" class="api-tab-1" ng-class="{active: vm.view == \'subscriptions-landing\'}">\n                <a href="#subscriptions-landing">\n                    API  &amp; Data Home\n                </a>\n            </li>\n            <li ng-click="vm.view = \'scholar\'" class="api-tab-2" ng-class="{active: vm.view == \'scholar\'}">\n                <a href="#scholar">\n                    Scholarly API &amp; Data\n                </a>\n            </li>\n            <li ng-click="vm.view = \'patents\'" class="api-tab-3" ng-class="{active: vm.view == \'patents\'}">\n                <a href="#patents">\n                    Patent API &amp; Data\n                </a>\n            </li>\n            <li ng-click="vm.view = \'patseq\'" class="api-tab-4" ng-class="{active: vm.view == \'patseq\'}">\n                <a href="#patseq">\n                    PatSeq Bulk Data\n                </a>\n            </li>\n            <li ng-click="vm.view = \'active\'" class="api-tab-5" ng-class="{active: vm.view === \'active\'}"\n                ng-if="$root.keys(vm.hasSubscription).length">\n                <a href="#active">Your Active Access</a>\n            </li>\n            <div class="glider"></div>\n        </ul>\n    </nav>\n\n    <div ng-if="vm.subscriptionsLoading" class="content">{{::\'common.loading\' | message}}</div>\n    \n    \x3c!-- Active Subscriptions --\x3e\n    <div class="layout-main-side content" ng-if="vm.view === \'active\'">\n        <div ng-if="$root.isAnon">\n            <div>\n                You must be logged in to view active API subscriptions.\n            </div>\n\n            <a href="/lens/user/login" class="login-link">\n                <em class="list-icons--icon far fa-lock"></em>\n                <span class="list-icons--label">Account Sign In\n                    <small class="list-icons--meta">Sign in to your existing account</small>\n                </span>\n            </a>\n        </div>\n        <div class="layout-main" ng-if="!vm.subscriptionsLoading">\n            <div class="panel panel-default" ng-repeat="item in vm.subscriptions">\n                <div class="panel-heading" ng-if="item.product === \'PATSEQ_BULKDOWNLOADS\'">\n                    <b>{{::\'user.patseq.downloads.title\' | message}}</b>\n                </div>\n                <div class="panel-heading" ng-if="item.product === \'LENS_SCHOLARLY_API\'">\n                    <b>Lens Scholarly API</b>\n                </div>\n                <div class="panel-heading" ng-if="item.product === \'LENS_PATENT_API\'">\n                    <b>Lens Patent API</b>\n                </div>\n                <div class="panel-heading" ng-if="item.product === \'PATENT_BULKDOWNLOADS\'">\n                    <b>Lens Patent Bulk Data</b>\n                </div>\n                <div class="panel-heading" ng-if="item.product === \'SCHOLARLY_BULKDOWNLOADS\'">\n                    <b>Lens Scholarly Bulk Data</b>\n                </div>\n                <div class="panel-body">\n                    <div class="subscription-list">\n                        <div class="subscription-list-item">\n                            <div>\n                                <span><strong>Access Plan:</strong> {{::item.plan.name}}</span>\n                            </div>\n                            <div>\n                                <span><strong>Status:</strong> {{::item.status}}</span>\n                                <span style="padding-left: 20px;"><strong>Created:</strong> {{::item.created | date}}</span>\n                                <span ng-if="item.expiry" style="padding-left: 20px;"><strong>Expires:</strong> {{::item.expiry | date}}</span>\n                            </div>\n\n                            <a ng-if="item.renewable && item.status !== \'REQUESTED\'"\n                                style="margin-top: 10px;"\n                                class="btn btn-xs btn-pri"\n                                ng-click="renew(item.product, item.plan.id);"\n                            >\n                                Renew Subscription\n                            </a>\n                        \n                            \n                            <div style="margin-top: 10px;" ng-if="item.product === \'LENS_PATENT_API\'">\n                                <p class="alert alert-info">\n                                    <em class="far fa-info-circle"></em> Version 1.0 of the Patent API schema is subject to change as new fields will be added through 2021.\n                                </p> \n                                \n                                <ul class="list-styled">\n                                    <li>Please see our <a class="text-link" href="https://docs.api.lens.org/">API documentation</a> for details on using the API and issue tracking.</li>\n                                    <li>Access the <a class="text-link" href="https://api.lens.org/swagger">Swagger UI</a> for query development</li>\n                                    <li><a class="text-link" href="https://docs.api.lens.org/response.html#sample-api-response">Sample API Response</a></li>\n                                    <li>To request support <a class="text-link" href="https://docs.api.lens.org/support.html">click here</a></li>\n                                    <li>To report issues or bugs </b> <a class="text-link" href="https://github.com/cambialens/lens-api-doc/issues">click here </a></li>\n                                    <li>\n                                        Read <a class="text-link" href="https://about.lens.org/lens-patent-api-terms-of-use/">Terms of Use</a>\n                                        and <a class="text-link" href="https://about.lens.org/privacy">Privacy Policy</a>\n                                    </li>\n                                </ul>\n                            </div>\n                            \n                            <div style="margin-top: 10px;" ng-if="item.product === \'LENS_SCHOLARLY_API\'">\n                                <ul class="list-styled">\n                                    <li>Please see our <a class="text-link" href="https://docs.api.lens.org/">API documentation</a> for details on using the API and issue tracking.</li>\n                                    <li>Access the <a class="text-link" href="https://api.lens.org/swagger">Swagger UI</a> for query development</li>\n                                    <li><a class="text-link" href="https://docs.api.lens.org/response.html#sample-api-response">Sample API Response</a></li>\n                                    <li>To request support <a class="text-link" href="https://docs.api.lens.org/support.html">click here</a></li>\n                                    <li>To report issues or bugs </b> <a class="text-link" href="https://github.com/cambialens/lens-api-doc/issues">click here </a></li>\n                                    <li>\n                                        Read <a class="text-link" href="https://about.lens.org/lens-scholarly-api-terms-of-use/">Terms of Use</a>\n                                        and <a class="text-link" href="https://about.lens.org/privacy">Privacy Policy</a>\n                                    </li>\n                                </ul>\n                            </div>\n                            <div style="margin-top: 10px;" ng-if="item.product === \'PATSEQ_BULKDOWNLOADS\'">\n                                <p ng-bind-html="\'user.patseq.downloads.content9\' | message | unsafe"></p>\n                                <ul class="list-styled" ng-bind-html="\'user.patseq.downloads.content10\' | message | unsafe"></ul>\n                            </div>\n                            \n                            <div style="margin-top: 10px;" ng-if="item.product === \'SCHOLARLY_BULKDOWNLOADS\'">\n                                <ul class="list-styled">\n                                    <li>See the <a href="https://docs.api.lens.org/response-scholar.html" class="text-link">data schema</a></li>\n                                    <li>\n                                        To request support <a class="text-link" href="https://docs.api.lens.org/support.html">click here</a>\n                                    </li>\n                                    <li>\n                                        To report issues or bugs </b> <a class="text-link" href="https://github.com/cambialens/lens-api-doc/issues">click here </a>\n                                    </li>\n                                    <li>\n                                        Read <a class="text-link" href="https://about.lens.org/policies">Terms of Use</a>\n                                        and <a class="text-link" href="https://about.lens.org/privacy">Privacy Policy</a>\n                                    </li>\n                                </ul>\n                            </div>\n                            \n                            <div style="margin-top: 10px;" ng-if="item.product === \'PATENT_BULKDOWNLOADS\'">\n                                <ul class="list-styled">\n                                    <li>See the <a href="https://docs.api.lens.org/response-patent.html" class="text-link">data schema</a></li>\n                                    <li>\n                                        To request support <a class="text-link" href="https://docs.api.lens.org/support.html">click here</a>\n                                    </li>\n                                    <li>\n                                        To report issues or bugs </b> <a class="text-link" href="https://github.com/cambialens/lens-api-doc/issues">click here </a>\n                                    </li>\n                                    <li>\n                                        Read <a class="text-link" href="https://about.lens.org/policies">Terms of Use</a>\n                                        and <a class="text-link" href="https://about.lens.org/privacy">Privacy Policy</a>\n                                    </li>\n                                </ul>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="layout-side" ng-if="vm.showTokenUI">\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <b>API Access Tokens (5 Max)</b>\n                    <button class="btn btn-xxs btn-pri pull-right" ng-click="vm.promptCreateToken = true">\n                        <em class="far fa-key"></em>\n                        Create Token\n                    </button>\n                </div>\n                <div class="panel-body" ng-if="!vm.tokens.length && !vm.tokensLoading && !$root.isAnon">\n                    You currently have no tokens\n                </div>\n                <div class="token-list" ng-if="vm.tokens.length && !vm.tokensLoading && !$root.isAnon">\n                    <div class="token-list-item" ng-repeat="item in vm.tokens | orderBy:\'id\':true">\n                        <div class="token token-truncated" ng-if="item.isTruncated">\n                            {{::item.prefix}}••••••••••••\n                        </div>\n                        <div class="token" ng-if="!item.isTruncated">\n                            {{::item.token}}\n                        </div>\n                        <div><strong>Description:</strong> {{::item.description}}</div>\n                        <div>\n                            <span ng-if="item.expiry" ng-class="{\'token-expired\': isBefore(item.expiry)}">\n                                <strong>\n                                    Expire{{isBefore(item.expiry) ? \'d\' : \'s\'}}\n                                </strong>\n                                <span ng-if="!isBefore(item.expiry)">{{::item.expiry | fromNow}}</span>\n                                ({{::item.expiry | date}})\n                            </span>\n                            <a ng-if="item.renewable && item.status !== \'REQUESTED\'" class="btn btn-xs btn-pri" ng-click="vm.subscriptionRequestModal = true">Renew</a>\n                        </div>\n                        <div class="token-tools">\n                            <a class="btn btn-reg btn-xxs" ng-click="vm.promptEditToken = item" hidden>\n                                <em class="far fa-pencil col-error"></em>\n                                {{::\'common.action.edit\' | message}}\n                            </a>\n                            <a class="btn btn-reg btn-xxs" ng-click="vm.promptDeleteToken = item">\n                                <em class="far fa-trash-alt col-error"></em>\n                                {{::\'common.action.delete\' | message}}\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    \x3c!-- Available Subscriptions --\x3e\n    <div class="layout-main-side api-page content subscriptions-tab-content"\n        ng-if="vm.view == \'subscriptions-landing\'"\n        ng-include="\'subscriptions-landing\'"\n    ></div>\n    \n    \x3c!-- Scholar Subscriptions --\x3e\n    <div class="layout-main-side api-page content subscriptions-tab-content"\n        ng-if="vm.view == \'scholar\'"\n        ng-include="\'subscriptions-scholar-info\'"\n    ></div>\n\n    \x3c!-- PatSeq Subscriptions --\x3e\n    <div class="layout-main-side api-page content subscriptions-tab-content"\n        ng-if="vm.view == \'patseq\'"\n        ng-include="\'subscriptions-patseq-info\'"\n    ></div>\n\n    \x3c!-- Patents Subscriptions --\x3e\n    <div class="layout-main-side api-page content subscriptions-tab-content"\n        ng-if="vm.view == \'patents\'"\n        ng-include="\'subscriptions-patent-info\'"\n    ></div>\n\n    \x3c!-- Modals --\x3e\n    <div lens-modal visible="vm.subscriptionRequestModal">\n        <div ng-include="\'subscription-request-form\'"></div>\n    </div>\n\n    <div ng-if="vm.trackingCode">\n        <div lens-modal visible="vm.trackingCode">\n            <h3 class="modal-heading">Request Received</h3>\n            <p>\n                Thank you for requesting a Lens subscription.<br>\n                We have forwarded your request and will be in touch with you shortly.\n            </p>\n            <p>An email has been sent to: <strong>{{vm.confirmationEmail}}</strong></p>\n            <p>Please note the tracking code: <code>{{vm.trackingCode}}</code></p>\n            <div class="pull-right">\n                <a ng-click="vm.trackingCode = null" class="btn btn-danger-txt btn-sm">{{::\'common.action.close\' | message}}</a>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="vm.newToken">\n        <div lens-modal visible="vm.newToken">\n            <h3 class="modal-heading">API Token Created: {{::vm.newToken.description}}</h3>\n            <form>\n                <div class="input-group share-dash-url">\n                    <label class="input">\n                        <input value="{{vm.newToken.token}}">\n                    </label>\n                    <div class="input-group-addon">\n                        <em class="fa fa-link link pull-right col-pri"\n                            ng-click="$root.copyToClipboard(vm.newToken.token)"\n                            tooltip-title="Token copied to clipboard"\n                            tooltip-options="::{trigger: \'click\'}"\n                        ></em>\n                    </div>\n                </div>\n            </form>\n            <p>Record these details. You will only see it once.</p>\n            <div class="pull-right">\n                <a ng-click="vm.newToken = null" class="btn btn-danger-txt btn-sm">{{::\'common.action.close\' | message}}</a>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="vm.promptCreateToken">\n        <div lens-modal visible="vm.promptCreateToken" size="\'sm\'">\n            <h3 class="modal-heading">Create Token</h3>\n            <div class="alert alert-info">\n                <em class="far fa-info-circle"></em>\n                Tokens will expire in 12 months\n            </div>\n            <div ng-if="vm.tokens.length >= 5">\n                <p>You have reached the 5 token limit.</p>\n                <p>Please delete old tokens to generate new ones.</p>\n                <div class="pull-right">\n                    <a ng-click="vm.promptCreateToken = null" class="btn btn-sm btn-danger-txt">{{::\'common.action.close\' | message}}</a>\n                </div>\n            </div>\n            <form ng-submit="createToken()" ng-if="vm.tokens.length < 5">\n                <label class="input">\n                    <input ng-model="vm.newTokenDescription" placeholder="Enter Token Description..." required>\n                </label>\n                <div class="pull-right">\n                    <a ng-click="vm.promptCreateToken = null" class="btn btn-sm btn-danger-txt">{{::\'common.action.close\' | message}}</a>\n                    <button class="btn btn-sm btn-pri">{{::\'common.action.save\' | message}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <div ng-if="vm.promptEditToken">\n        <div lens-modal visible="vm.promptEditToken" size="\'sm\'">\n            <h3 class="modal-heading">Edit Token Description</h3>\n            <form ng-submit="editToken()">\n                <label class="input">\n                    <input type="text" ng-model="vm.promptEditToken.description">\n                </label>\n                <div class="pull-right">\n                    <a ng-click="vm.promptEditToken = null" class="btn btn-sm btn-danger-txt">{{::\'common.action.cancel\' | message}}</a>\n                    <button class="btn btn-sm btn-pri">{{::\'common.action.save\' | message}}</button>\n                </div>\n            </form>\n        </div>\n    </div>\n\n    <div ng-if="vm.promptDeleteToken">\n        <div lens-modal visible="vm.promptDeleteToken" size="\'sm\'">\n            <h3 class="modal-heading">Really delete {{vm.promptDeleteToken.description}}?</h3>\n            <p class="alert alert-danger">This is permanent. This API key will no longer work.</p>\n            <div class="pull-right">\n                <a ng-click="vm.promptDeleteToken = null" class="btn btn-sm btn-danger-txt">{{::\'common.action.cancel\' | message}}</a>\n                <a ng-click="deleteToken(vm.promptDeleteToken)" class="btn btn-sm btn-danger">{{::\'common.action.delete\' | message}}</a>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=o(n(0)),a=o(n(2)),r=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default("global");i.default.directive("lensTagsList",[].concat(["$http","TagResource"],[function(e,t){return{template:n(611),scope:{sidebar:"<",existingTags:"<",searchType:"<"},link:function(n){var i=n.vm={items:[],loading:!0,show:!0,view:s.get("workarea-view")||"table"};n.refresh=function(){i.loading=!0,i.items=t.query(),i.items.$promise.then((function(){i.loading=!1})).catch((function(e){console.warn(e),i.loading=!1}))},n.delete=function(){i.promptDeleteItem.$remove().then((function(){n.refresh()})),i.promptDeleteItem=null},n.rename=function(){var t=new r.default;e.post("/lens/service/tag/"+i.editItem.tag+"?newTag="+i.editItem.newTag).then((function(e){console.log(e),i.editItem=null,n.refresh(),t.notify("Tag Renamed")})).catch((function(e){console.error(e),i.editItem=null,t.error("Tag Rename Failed")}))},n.setView=function(e){i.view=e,s.set("workarea-view",e)},window.addEventListener("refresh-tags",n.refresh),n.refresh()}}}]))},function(e,t){e.exports='<div ng-if="!sidebar">\n    <div hidden class="clearfix page-title content">\n        <form class="filter-form">\n            <label class="input pull-right-lg">\n                <i class="icon_append fal fa-search"></i>\n                <input ng-model="vm.filter.tag" placeholder="Filter Tags">\n            </label>\n        </form>\n    </div>\n    \n    <div class="workarea-page--has-sidebar">\n        <div class="workarea-page-main content">\n            \n            <h1 class="workarea--heading" ng-class="{ \'workarea--heading-no-border\': vm.items.length && !vm.loading}">\n                Tags\n                <a ng-click="$root.showWorkAreaAbout = !$root.showWorkAreaAbout" ng-if="vm.items.length" class="pulse-dot pulse-dot--icon workarea--heading--icon">\n                    <em class="far fa-info-circle"></em>\n               </a>\n               <div class="dd-dropdown-alt"\n                   ng-if="vm.items.length && !vm.loading && !$root.isAnon && $root.breakpoints.isMobile"\n               >\n                    <a ng-click="$root.ddBtn3 = !$root.ddBtn3" class="dd-btn" ng-class="{active: $root.ddBtn3}">\n                        <em class="fas fa-ellipsis-h dd-button--icon"></em>\n                    </a>\n                    <div class="dd-content" ng-class="{active: $root.ddBtn3}">\n                        <div ng-include="\'work-area-tags-toolbar\'" style="padding: 10px 10px 0 10px;"></div>\n                    </div>\n                </div>\n            </h1>\n\n            \x3c!-- No Content --\x3e\n            <div ng-if="!vm.loading && !vm.items.length || $root.showWorkAreaAbout" ng-include="\'about-tags\'"></div>\n            \n            \x3c!-- IF Loading --\x3e\n            <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n\n            \x3c!-- Filter Message --\x3e\n            <div class="workarea--table" ng-if="vm.items.length && !vm.filteredItems.length && !vm.loading && !$root.isAnon">\n                <div class="no-content">\n                    <em class="far fa-empty-set col-error"></em>\n                    No results match filter\n                </div>\n            </div>\n\n            \x3c!-- View Cards --\x3e\n            <div class="workarea--cards" ng-hide="!vm.items.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.items.length && !vm.loading">  \n                <div class="workarea--card-item workarea--card--tag" \n                    ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter)"\n                >\n                    <div class="card-item--header">\n                        <div>\n                            {{item.tag}}\n                            <div class="card-item--meta">\n                                <a ui-sref="search.results({view: \'list\', type: \'patent\', tags: item.tag})" style="margin-right: 8px;" class="is-patent" ng-if="item.countPatents">\n                                    Patents: {{::item.countPatents}}\n                                </a> \n                                <a ui-sref="search.results({view: \'list\', type: \'scholar\', tags: item.tag})" class="is-scholar" ng-if="item.countScholars">\n                                   Scholar: {{::item.countScholars}}\n                                </a>\n                            </div>\n                        </div>\n                        <div class="card-item--icon">\n                            <em class="fal fa-tag"></em>\n                        </div>\n                    </div>\n                    \n                    <div class="card-item--footer">\n                        <div class="card-item--accessed">Created:  {{:: item.lastCreated | date }}</div>\n                        <div class="card-item--tools">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-tags-buttons-{{item.tag}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-tags-buttons-{{item.tag}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li> \n                                            <a ng-click="vm.editItem = item; vm.editItem.newTag = item.tag;">\n                                                <em class="far fa-edit"></em>\n                                                Edit\n                                            </a>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="vm.promptDeleteItem = item">\n                                                <em class="far fa-trash-alt col-error"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n                \n                \n            \x3c!-- View Table --\x3e    \n            <div class="workarea--table workarea--table--mobile  workarea--table--tags" ng-show="vm.filteredItems.length" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.items.length && !vm.loading && !$root.isAnon">\n                <div class="div-table">\n                    <div class="div-table-heading">\n                        <div class="div-table-row">\n                            <div class="div-table-cell">\n                                {{::\'user.tag\' | message}}\n                            </div>\n                            <div class="div-table-cell">\n                                {{::\'common.docType.patents\' | message}}\n                            </div>\n                            <div class="div-table-cell">\n                                Scholar\n                            </div>\n                            <div class="div-table-cell">\n                                {{::\'common.last.used\' | message}}\n                            </div>\n                            <div class="div-table-cell">\n                                {{::\'common.tools\' | message}}\n                            </div>\n                        </div>\n                    </div>\n        \n                    <div class="div-table-body">\n                        <div class="div-table-row" ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter)">\n                            <div class="div-table-cell">\n                                {{item.tag}}\n                            </div>\n                            <div class="div-table-cell">\n                                <a class="tagLink" style="text-decoration: underline"\n                                    ui-sref="search.results({view: \'list\', type: \'patent\', tags: item.tag})">\n                                    {{::item.countPatents}}\n                                </a>\n                            </div>\n                            <div class="div-table-cell">\n                                <a class="tagLink" style="text-decoration: underline"\n                                    ui-sref="search.results({view: \'list\', type: \'scholar\', tags: item.tag})">\n                                    {{::item.countScholars}}\n                                </a>\n                            </div>\n                            <div class="div-table-cell date">\n                                <span style="white-space: nowrap">{{:: item.lastCreated | date }}</span>\n                            </div>\n                            <div class="div-table-cell">\n                                <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-tags-buttons-{{item.tag}}"\n                                    tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                    <em class="fas fa-ellipsis-h col-feat"></em>\n                                </a>\n                                <div hidden>\n                                    <div id="modify-tags-buttons-{{item.tag}}" class="dismiss-tooltip-on-click">\n                                        <ul class="dd-menu">\n                                            <li> \n                                                <a ng-click="vm.editItem = item; vm.editItem.newTag = item.tag">\n                                                    <em class="far fa-edit"></em>\n                                                    Edit\n                                                </a>\n                                            </li>\n                                            <li class="delete--action">\n                                                <a ng-click="vm.promptDeleteItem = item">\n                                                    <em class="far fa-trash-alt col-error"></em>\n                                                    {{::\'common.action.delete\' | message}}\n                                                </a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        \n                    </div>\n                    \n                </div>\n            \n            </div>\n        </div>\n        \n        \n        <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.items.length && !$root.breakpoints.isMobile">\n            <div class="theiaStickySidebar">\n                <div ng-include="\'work-area-tags-toolbar\'"></div>\n            </div>\n        </aside>\n    </div>\n</div>\n\n<div ng-if="sidebar">\n    <div class="widget widget--new-sidebar widget-tags content">\n        <h3 class="h5-styled">\n            Tags\n            <em class="far fa-info-circle col-sec" ng-if="vm.items.length" tooltip-title="Organise and filter results by custom tags."></em>\n        </h3>\n\n        <div ng-show="vm.show">\n            <form ng-if="vm.items.length">\n                <label class="input input-sm">\n                    <i class="icon_append fal fa-search"></i>\n                    <input type="text" ng-model="vm.filter.tag" placeholder="Filter Tags">\n                </label>\n            </form>\n\n            <ul class="list-tags" ng-if="vm.items.length">\n                <li ng-repeat="item in vm.filteredItems = (vm.items | filter:vm.filter)">\n                    <a ui-sref="search.results({view: \'list\', type: \'patent\', tags: item.tag})"\n                        ng-mouseenter="vm.tagTooltip = item"\n                        tooltip-title\n                        tooltip-content-selector="#tag-tooltip"\n                    >\n                        {{item.tag}}\n                        <span class="doc-count">\n                            {{item.countScholars + item.countPatents}}\n                        </span>\n                    </a>\n                </li>\n            </ul>\n            <div hidden>\n                <div id="tag-tooltip">\n                    <p class="tip-heading">Explore Tags</p>\n                    <ul class="list-tooltip-options" style="min-width: 200px;">\n                        <li ng-if="vm.tagTooltip.countScholars">\n                            <a ui-sref="search.results({view: \'list\', type: \'scholar\', tags: vm.tagTooltip.tag})" ui-sref-opts="{inherit: false}">\n                                <small>\n                                    <em class="far fa-graduation-cap is-scholar"></em>\n                                    New scholarly search for tag:\n                                </small>\n                                <div class="tooltip--term">{{vm.tagTooltip.tag}} -\n                                    <span class="is-scholar">\n                                        {{vm.tagTooltip.countScholars}}\n                                    </span>\n                                </div>\n                            </a>\n                        </li>\n                        <li ng-if="vm.tagTooltip.countScholars && existingTags && searchType === \'scholar\'">\n                            <a ui-sref="search.results({view: \'list\', type: \'scholar\', tags: existingTags + \',\' + vm.tagTooltip.tag})" ui-sref-opts="{inherit: false}">\n                                <small>\n                                    <em class="far fa-graduation-cap is-scholar"></em>\n                                    Filter current scholar search with tag:\n                                </small>\n                                <div class="tooltip--term">{{vm.tagTooltip.tag}} -\n                                    <span class="is-scholar">\n                                        {{vm.tagTooltip.countScholars}}\n                                    </span>\n                                </div>\n                            </a>\n                        </li>\n                        <li ng-if="vm.tagTooltip.countPatents">\n                            <a ui-sref="search.results({view: \'list\', type: \'patent\', tags: vm.tagTooltip.tag})" ui-sref-opts="{inherit: false}">\n                                <small>\n                                    <em class="far fa-file-certificate is-patent"></em>\n                                    New patent search for tag:\n                                </small>\n                                <div class="tooltip--term">{{vm.tagTooltip.tag}} -\n                                    <span class="is-patent">\n                                        {{vm.tagTooltip.countPatents}}\n                                    </span>\n                                </div>\n                            </a>\n                        </li>\n                        <li ng-if="vm.tagTooltip.countScholars && existingTags && searchType === \'patent\'">\n                            <a ui-sref="search.results({view: \'list\', type: \'patent\', tags: existingTags + \',\' + vm.tagTooltip.tag})" ui-sref-opts="{inherit: false}">\n                                <small>\n                                    <em class="far fa-graduation-cap is-patent"></em>\n                                    Filter current patent search with tag:\n                                </small>\n                                <div class="tooltip--term">{{vm.tagTooltip.tag}} -\n                                    <span class="is-patent">\n                                        {{vm.tagTooltip.countPatents}}\n                                    </span>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n            <div ng-if="vm.items.length">\n                <a class="btn btn-xxs" ui-sref="workArea.tags">\n                    <em class="far fa-edit col-pri"></em>\n                    Manage Tags\n                </a>\n            </div>\n\n            <div ng-if="!vm.items.length" class="sidebar-walk-through">\n                <div class="alert alert-info">\n                    <em class="far fa-info-circle"></em>\n                    No Tags Yet<br>\n                    <span ng-if="$root.isAnon"><a href="/lens/user/registration">Register</a> or <a href="/lens/user/login" class="login-link">Login</a> to use notes.</span>\n                </div>\n                <p class="text-small col-meta">Add tags to your search results to organise and filter results by custom tags, tags are comma separated.</p>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.promptDeleteItem" ng-if="vm.promptDeleteItem">\n    <h3 class="modal-heading">{{::\'common.areYouSure\' | message}}</h3>\n    <div class="alert alert-danger">This tag <strong>{{vm.promptDeleteItem.tag}}</strong> will be permanently deleted.</div>\n    <div>\n        <a class="btn btn-sm btn-danger-txt" ng-click="vm.promptDeleteItem = null;">{{::\'common.action.cancel\' | message}}</a>\n        <a class="btn btn-sm btn-danger" ng-click="delete()">{{::\'common.action.delete\' | message}}</a>\n    </div>\n</div>\n\n\x3c!-- Rename Tag --\x3e\n<div lens-modal class="css-modal-wrapper-sm" visible="vm.editItem" id="save-query-modal">\n    <h3 class="modal-heading">Rename Tag</h3>\n    <div class="alert alert-info">Warning: All renames are final. Only letters and numbers allowed. Spaces and other punctuation will be rejected.</div>\n    <form ng-submit="rename()">\n        <label class="input">\n            <input name="title" type="text" class="full" ng-model="vm.editItem.newTag">\n        </label>\n        <div class="pull-right">\n            <span class="cancel btn btn-sm btn-danger-txt"\n                ng-click="vm.editItem = null">{{:: \'common.action.cancel\' | message}}</span>\n            <button class="apply btn btn-sm btn-pri">{{:: \'common.action.save\' | message }}</button>\n        </div>\n    </form>\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensTemporaryClass",[].concat(["$timeout"],[function(e){return{scope:{lensTemporaryClass:"<"},link:function(t,n){n.addClass(t.lensTemporaryClass),e((function(){n.removeClass(t.lensTemporaryClass)}),500)}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};e.exports=r.default.directive("tooltipTitle",(function(){return{restrict:"A",scope:{tooltipTitle:"@",tooltipTitleVariable:"=",tooltipOptions:"=",tooltipContentSelector:"@"},link:function(e,t,n){var i=void 0!==e.tooltipTitleVariable;if(e.tooltipTitle||i||e.tooltipContentSelector){e.tooltipOptions&&(e.tooltipOptions=_.defaults(e.tooltipOptions,window.tooltipsterConfig));var a=e.tooltipOptions||_.clone(window.tooltipsterConfig)||{},r=e.tooltipTitle;i&&(r=e.tooltipTitleVariable,e.$watch("tooltipTitleVariable",(function(e){t.tooltipster("content",e),e?t.tooltipster("enable"):t.tooltipster("disable")}))),e.$watch("tooltipContentSelector",(function(e){e&&t.tooltipster("content",$(e))})),r&&(a.content=r),t.tooltipster(a),e.$on("$destroy",(function(){if(t.is(".tooltipstered"))try{t.tooltipster("destroy")}catch(e){}}))}}}}))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensTristateCheckbox",[].concat([],[function(){return{scope:{model:"="},link:function(e,t){t.tristate({state:!!e.model||!1===e.model&&null}),t.on("change",(function(){t.is(":checked")?e.model=!0:t.is(":indeterminate")?e.model=!1:e.model=void 0}))}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensTruncate",(function(){return{link:function(e,t,n){t.attr("hidden",!0),_.defer((function(){var e=t.text(),i=n.lensTruncate;if(t.text().length>i){var a=!0,r=e.substr(0,i)+" ";t.text(r);!function n(){var i=angular.element('<span>...</span><a class="link">Show '+(a?"More":"Less")+"</a>");t.append(i),i.on("click",(function(){t.text(a?e:r),a=!a,n()}))}()}t.removeAttr("hidden")}))}}}))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensUrlSafe",[].concat([],[function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.lensUrlSafe=function(e){return!!i.$isEmpty(e)||e===encodeURIComponent(e)}}}}]))},function(e,t,n){"use strict";var i,a=n(0);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}((i=a)&&i.__esModule?i:{default:i}).default.directive("lensUserProfileCarousel",(function(){return{link:function(e,t){setTimeout((function(){var e;t.owlCarousel((r(e={loop:!0,margin:15,nav:!0,navText:["<em class='fal fa-angle-left'></em>","<em class='fal fa-angle-right'></em>"],navContainer:".owl-custom-nav",autoplay:8e3,autoplayTimeout:8e3,autoplayHoverPause:!0,responsiveClass:!0,dots:!0},"loop",!0),r(e,"singleItem",!1),r(e,"scrollPerPage",!1),r(e,"slideSpeed",1e3),r(e,"autoHeight",!0),r(e,"lazyLoad",!0),r(e,"transitionStyle",!1),r(e,"responsive",{0:{items:1,nav:!1,margin:0},480:{items:2,nav:!1,margin:0},768:{items:2,nav:!1,margin:0},980:{items:3},1400:{items:3},1800:{items:3}}),e))}),0)}}}))},function(e,t,n){"use strict";var i=o(n(0)),a=o(n(86)),r=(o(n(163)),n(246));function o(e){return e&&e.__esModule?e:{default:e}}var s=new(n(5));a.default.autoDiscover=!1;e.exports=i.default.directive("lensUserProfilePicture",[].concat(["$http","$rootScope"],[function(e,t){return{template:n(619),scope:{key:"="},link:function(n,i){var o=function(n,i){var a=t.user,r={firstName:a.firstName,lastName:a.lastName,email:a.email,username:a.username,avatarId:n};console.log({request:r}),e.put("/lens/user/profile",r).then((function(e){console.log("User Updated"),window.location.reload()})).catch((function(e){console.error(e)}))},l=new a.default(i.find(".dropzone")[0],{url:"/lens/service/file/avatar",addRemoveLinks:!0,acceptedFiles:"image/*",clickable:".select-files",maxFiles:1,transformFile:function(e,t){(0,r.avatarCropper)(this,e,t)},success:function(e,t){var n=t.id;t.key;o(n)},error:function(e,t){s.error(t||"Could not upload files"),n.vm.uploading=!1,n.$digest()}});n.upload=function(){l.processQueue()},n.url=n.$root.userProfilePictureUrl(n.key)+"?"+Date.now(),n.vm={},n.delete=function(){e.delete("/lens/service/user/profile/picture").then((function(){n.key="",s.success(window.messages.prop("user.profile.image.deletedSuccessfully"))}))};var c=[];c.push(t.$on("MEDIA_LIBRARY_SELECT",(function(e,i){n.key=i.key,o(i.id,i.key),t.showMediaLibrary=!1}))),n.$on("$destroy",(function(){c.forEach((function(e){return e()}))}))}}}]))},function(e,t){e.exports='<div class="alert alert-success" ng-if="updated">{{\'common.updated.successfully\' | message}}</div>\n\n    <div class="xpanel xpanel-default">\n        <div class="panel-heading" hidden>\n            <strong>{{::\'user.profile.image\' | message}}</strong>\n        </div>\n        <div class="xpanel-body">\n            <div ng-show="vm.uploading">\n                <h2>Uploading...</h2>\n                <p>This may take some time depending on the size of your file. Please be patient.</p>\n            </div>\n\n            <div class="clearfix avatar-upload">\n                <div class="form-group" ng-if="key">\n                    <em tooltip-title="{{ \'common.action.delete\' | message}}"\n                        aria-label="{{\'common.action.delete\' | message}}"\n                        class="fa fa-minus-circle col-error link"\n                        ng-click="delete()"\n                        ng-if="key"\n                    ></em>\n                    <img class="is-profile-picture" ng-src="{{url}}" lens-avatar-fallback>\n                </div>\n                <div class="dropzone">\n                    <div class="dz-message">\n                        <div style="margin-bottom: 10px;">Drop files here to upload, or</div>\n                        <div class="btn btn-xs select-files">\n                            <em class="far fa-cloud-upload-alt col-feat"></em> Select Files\n                        </div>\n                        <a class="btn btn-xs" ng-click="$root.showMediaLibrary = true">\n                            <em class="far fa-images col-feat"></em> Choose from Library\n                        </a>\n                    </div>\n                </div>\n            </div>\n\n            <div class="text-small col-meta">\n                Supported file types: .png, .jpg and can be resized and cropped after upload. By sharing this data with Lens.org and the public, you acknowledge that you are authorized to do so.\n            </div>\n\n        </div>\n\n        \x3c!-- <a class="btn btn-pri" ng-click="upload()">Upload</a> --\x3e\n</div>\n'},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(621);var s=new(n(5)),l=new(n(249));e.exports=r.default.directive("lensUserSettings",[].concat(["SettingsService","$rootScope"],[function(e,t){return{link:function(n,i){var a=n.vm={loading:!1,settings:e.local()||null};if(e.fetch().then((function(e){a.settings=e,n.originalTheme=a.settings.theme,a.loading=!1})),n.previewTheme=function(){document.body.classList.remove("theme-lens"),document.body.classList.remove("theme-high-contrast"),document.body.classList.remove("theme-vanilla"),document.body.classList.add("theme-"+a.settings.theme),document.getElementById("applying-theme").classList.add("active"),document.getElementById("main-stylesheet").setAttribute("href",window.UI_CONFIG.assetLocation+"/"+a.settings.theme+".min.css"),window.THEME=document.body.classList.contains("theme-high-contrast")?"dark":"default",window.VEGA_EMBED_OPTS.theme=window.THEME,setTimeout((function(){document.getElementById("applying-theme").classList.remove("active"),n.update()}),1500)},n.update=function(i){a.recordHistoryPrompt&&(a.settings.recordHistory=!0),a.allowPublicProfile&&(a.settings.allowPublicProfile=!0),i&&i.preventDefault(),e.update(a.settings).then((function(e){var i=window.messages.prop("common.updated.successfully");s.notify(i),t.settings=a.settings,t.ddBtn1=!1,a.settings.theme!==n.originalTheme&&l.addNotification(i)}))},(0,o.isDoNotTrackEnabled)()&&(a.doNotTrack=!0),window._paq&&!a.doNotTrack){var r=window._paq;console.log("UserSettings piwik init"),r.push([function(){console.log("isUserOptedOut",this.isUserOptedOut()),a.matomoIsOptedOut=this.isUserOptedOut()}]),n.changeMatomo=function(){console.log("changeMatomo"),a.matomoIsOptedOut?r.push(["optUserOut"]):r.push(["forgetUserOptOut"])}}}}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDoNotTrackEnabled=function(){var e=window.doNotTrack||window.navigator.doNotTrack||window.navigator.msDoNotTrack;return!!e&&("1"===e.charAt(0)||"yes"===e)}},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(8));function r(e){return e&&e.__esModule?e:{default:e}}var o=window.vegaEmbed;i.default.directive("lensVegaChart",[].concat(["$rootScope"],[function(e){return{template:'\n        <div class="scroll-notice-container">\n            <div class="scroll-notice-content">Hold shift key while scrolling to zoom</div>\n            <div class="chart-target"></div>\n        </div>\n    ',scope:{spec:"<",onClick:"<",scrollNotice:"<",view:"=",rawSpec:"=",filterExtent:"=",autoResize:"<",height:"<"},link:function(e,t){var n=t.find(".chart-target");if(e.scrollNotice){t.on("wheel",(function(e){t.toggleClass("scroll-notice-active",!e.shiftKey)}));var i=_.debounce((function(){t.toggleClass("scroll-notice-active",!1)}),100);t.on("mouseout",(function(e){t.toggleClass("scroll-notice-active",!1)})),t.on("mousemove",(function(e){i()}))}var r=function(){n.empty();var t=_.cloneDeep(e.spec);if(e.autoResize){var i=Math.min(n.parent().width()-20,window.innerWidth-20);e.height&&(t.height=e.height),_.extend(t,{width:i}),t.vconcat&&t.vconcat.forEach((function(e){e.width=i,e.hconcat&&2===e.hconcat.length&&(e.hconcat[0].width=i/4,e.hconcat[1].width=i/2)})),t.layer&&t.layer.forEach((function(t){t.width=i,e.height&&(t.height=e.height)})),t.spec&&(t.spec.width=i)}t?o(n.get(0),t,window.VEGA_EMBED_OPTS).then((function(t){var n=t.view,i=t.spec;void 0!==e.rawSpec&&(e.rawSpec=i),void 0!==e.view&&(e.view=n),e.onClick&&n.addEventListener("click",(function(t,n){n&&n.datum&&e.onClick(n.datum)})),e.filterExtent&&e.view.addDataListener("grid_store",(function(t,n){var i=(0,a.default)(n,"[0].intervals[0].extent")||(0,a.default)(n,"[0].values");_.isArray(i[0])&&(i=i[0]),i=[i[0],i[i.length-1]],e.filterExtent&&(e.filterExtent=i.map((function(e){return new Date(e)})),s())}))})):console.log("No spec provided. Aborting")},s=_.debounce((function(){e.$apply()}),500),l=_.debounce(r,100);e.$watch("spec",l),e.autoResize&&(e.$on("SIDE_TAB_LAYOUT_CHANGED",(function(){r()})),$(window).on("resize",r),e.$on("$destroy",(function(){$(window).off("resize",r)}))),l()}}}]))},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33));var s=n(624);r.default.directive("lensVennDiagram",["$state",function(e){return{template:'<div id="venn"></div>',scope:{data:"<"},link:function(t,n){var i=s.VennDiagram();o.select(n.get(0)).datum(t.data).call(i),o.selectAll(".venn-intersection").on("click",(function(t,n){console.log(t),t.setIds&&t.setIds.length&&e.go("search.results",{view:"list",type:t.type||"scholar",collectionIntersectionIds:t.setIds.join(",")})}))}}}])},function(e,t,n){!function(e,t,n){"use strict";function i(e,t){var n,i=function(e){for(var t=[],n=0;n<e.length;++n)for(var i=n+1;i<e.length;++i)for(var a=s(e[n],e[i]),r=0;r<a.length;++r){var o=a[r];o.parentIndex=[n,i],t.push(o)}return t}(e),o=i.filter((function(t){return function(e,t){for(var n=0;n<t.length;++n)if(r(e,t[n])>t[n].radius+1e-10)return!1;return!0}(t,e)})),c=0,u=0,d=[];if(o.length>1){var p=l(o);for(n=0;n<o.length;++n){var f=o[n];f.angle=Math.atan2(f.x-p.x,f.y-p.y)}o.sort((function(e,t){return t.angle-e.angle}));var m=o[o.length-1];for(n=0;n<o.length;++n){var h=o[n];u+=(m.x+h.x)*(h.y-m.y);for(var y={x:(h.x+m.x)/2,y:(h.y+m.y)/2},g=null,v=0;v<h.parentIndex.length;++v)if(m.parentIndex.indexOf(h.parentIndex[v])>-1){var b=e[h.parentIndex[v]],S=Math.atan2(h.x-b.x,h.y-b.y),_=Math.atan2(m.x-b.x,m.y-b.y),C=_-S;C<0&&(C+=2*Math.PI);var k=_-C/2,A=r(y,{x:b.x+b.radius*Math.sin(k),y:b.y+b.radius*Math.cos(k)});A>2*b.radius&&(A=2*b.radius),(null===g||g.width>A)&&(g={circle:b,width:A,p1:h,p2:m})}null!==g&&(d.push(g),c+=a(g.circle.radius,g.width),m=h)}}else{var w=e[0];for(n=1;n<e.length;++n)e[n].radius<w.radius&&(w=e[n]);var P=!1;for(n=0;n<e.length;++n)if(r(e[n],w)>Math.abs(w.radius-e[n].radius)){P=!0;break}P?c=u=0:(c=w.radius*w.radius*Math.PI,d.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-1e-10,y:w.y+w.radius},width:2*w.radius}))}return u/=2,t&&(t.area=c+u,t.arcArea=c,t.polygonArea=u,t.arcs=d,t.innerPoints=o,t.intersectionPoints=i),c+u}function a(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function r(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function o(e,t,n){if(n>=e+t)return 0;if(n<=Math.abs(e-t))return Math.PI*Math.min(e,t)*Math.min(e,t);var i=t-(n*n-e*e+t*t)/(2*n);return a(e,e-(n*n-t*t+e*e)/(2*n))+a(t,i)}function s(e,t){var n=r(e,t),i=e.radius,a=t.radius;if(n>=i+a||n<=Math.abs(i-a))return[];var o=(i*i-a*a+n*n)/(2*n),s=Math.sqrt(i*i-o*o),l=e.x+o*(t.x-e.x)/n,c=e.y+o*(t.y-e.y)/n,u=-(t.y-e.y)*(s/n),d=-(t.x-e.x)*(s/n);return[{x:l+u,y:c-d},{x:l-u,y:c+d}]}function l(e){for(var t={x:0,y:0},n=0;n<e.length;++n)t.x+=e[n].x,t.y+=e[n].y;return t.x/=e.length,t.y/=e.length,t}function c(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function u(e,t){return c(e).map((function(){return c(t)}))}function d(e,t){for(var n=0,i=0;i<e.length;++i)n+=e[i]*t[i];return n}function p(e){return Math.sqrt(d(e,e))}function f(e,t,n){for(var i=0;i<t.length;++i)e[i]=t[i]*n}function m(e,t,n,i,a){for(var r=0;r<e.length;++r)e[r]=t*n[r]+i*a[r]}function h(e,t,n){var i,a=(n=n||{}).maxIterations||200*t.length,r=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,l=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,u=void 0!==n.chi?n.chi:2,d=void 0!==n.psi?n.psi:-.5,p=void 0!==n.sigma?n.sigma:.5,f=t.length,h=new Array(f+1);h[0]=t,h[0].fx=e(t),h[0].id=0;for(var y=0;y<f;++y){var g=t.slice();g[y]=g[y]?g[y]*r:o,h[y+1]=g,h[y+1].fx=e(g),h[y+1].id=y+1}function v(e){for(var t=0;t<e.length;t++)h[f][t]=e[t];h[f].fx=e.fx}for(var b=function(e,t){return e.fx-t.fx},S=t.slice(),_=t.slice(),C=t.slice(),k=t.slice(),A=0;A<a;++A){if(h.sort(b),n.history){var w=h.map((function(e){var t=e.slice();return t.fx=e.fx,t.id=e.id,t}));w.sort((function(e,t){return e.id-t.id})),n.history.push({x:h[0].slice(),fx:h[0].fx,simplex:w})}for(i=0,y=0;y<f;++y)i=Math.max(i,Math.abs(h[0][y]-h[1][y]));if(Math.abs(h[0].fx-h[f].fx)<s&&i<l)break;for(y=0;y<f;++y){S[y]=0;for(var P=0;P<f;++P)S[y]+=h[P][y];S[y]/=f}var T=h[f];if(m(_,1+c,S,-c,T),_.fx=e(_),_.fx<h[0].fx)m(k,1+u,S,-u,T),k.fx=e(k),k.fx<_.fx?v(k):v(_);else if(_.fx>=h[f-1].fx){var x=!1;if(_.fx>T.fx?(m(C,1+d,S,-d,T),C.fx=e(C),C.fx<T.fx?v(C):x=!0):(m(C,1-d*c,S,d*c,T),C.fx=e(C),C.fx<_.fx?v(C):x=!0),x){if(p>=1)break;for(y=1;y<h.length;++y)m(h[y],1-p,h[0],p,h[y]),h[y].fx=e(h[y])}}else v(_)}return h.sort(b),{fx:h[0].fx,x:h[0]}}function y(e,t,n,i,a,r,o){var s=n.fx,l=d(n.fxprime,t),c=s,u=s,p=l,f=0;function h(u,f,h){for(var y=0;y<16;++y)if(a=(u+f)/2,m(i.x,1,n.x,a,t),c=i.fx=e(i.x,i.fxprime),p=d(i.fxprime,t),c>s+r*a*l||c>=h)f=a;else{if(Math.abs(p)<=-o*l)return a;p*(f-u)>=0&&(f=u),u=a,h=c}return 0}a=a||1,r=r||1e-6,o=o||.1;for(var y=0;y<10;++y){if(m(i.x,1,n.x,a,t),c=i.fx=e(i.x,i.fxprime),p=d(i.fxprime,t),c>s+r*a*l||y&&c>=u)return h(f,a,u);if(Math.abs(p)<=-o*l)return a;if(p>=0)return h(a,f,c);u=c,f=a,a*=2}return a}function g(e,t,n){var i,a,r,o={x:t.slice(),fx:0,fxprime:t.slice()},s={x:t.slice(),fx:0,fxprime:t.slice()},l=t.slice(),c=1;r=(n=n||{}).maxIterations||20*t.length,o.fx=e(o.x,o.fxprime),f(i=o.fxprime.slice(),o.fxprime,-1);for(var u=0;u<r;++u){if(c=y(e,i,o,s,c),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),c){m(l,1,s.fxprime,-1,o.fxprime);var h=d(o.fxprime,o.fxprime);m(i,Math.max(0,d(l,s.fxprime)/h),i,-1,s.fxprime),a=o,o=s,s=a}else f(i,o.fxprime,-1);if(p(o.fxprime)<=1e-5)break}return n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),o}function v(e,t){(t=t||{}).maxIterations=t.maxIterations||500;var n,i=t.initialLayout||S,a=t.lossFunction||C,r=i(e=function(e){e=e.slice();var t,n,i,a,r=[],o={};for(t=0;t<e.length;++t){var s=e[t];1==s.sets.length?r.push(s.sets[0]):2==s.sets.length&&(i=s.sets[0],a=s.sets[1],o[[i,a]]=!0,o[[a,i]]=!0)}for(r.sort((function(e,t){return e>t})),t=0;t<r.length;++t)for(i=r[t],n=t+1;n<r.length;++n)a=r[n],[i,a]in o||e.push({sets:[i,a],size:0});return e}(e),t),o=[],s=[];for(n in r)r.hasOwnProperty(n)&&(o.push(r[n].x),o.push(r[n].y),s.push(n));for(var l=h((function(t){for(var n={},i=0;i<s.length;++i){var o=s[i];n[o]={x:t[2*i],y:t[2*i+1],radius:r[o].radius}}return a(n,e)}),o,t).x,c=0;c<s.length;++c)n=s[c],r[n].x=l[2*c],r[n].y=l[2*c+1];return r}function b(e,t,n){return Math.min(e,t)*Math.min(e,t)*Math.PI<=n+1e-10?Math.abs(e-t):function(e,t,n,i){var a=(i=i||{}).maxIterations||100,r=i.tolerance||1e-10,o=e(t),s=e(n),l=n-t;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return t;if(0===s)return n;for(var c=0;c<a;++c){var u=t+(l/=2),d=e(u);if(d*o>=0&&(t=u),Math.abs(l)<r||0===d)return u}return t+l}((function(i){return o(e,t,i)-n}),0,e+t)}function S(e,t){var n=_(e,t),i=t.lossFunction||C;if(e.length>=8){var a=function(e,t){var n,i=(t=t||{}).restarts||10,a=[],r={};for(n=0;n<e.length;++n){var o=e[n];1==o.sets.length&&(r[o.sets[0]]=a.length,a.push(o))}var s=function(e,t,n){var i=u(t.length,t.length),a=u(t.length,t.length);return e.filter((function(e){return 2==e.sets.length})).map((function(e){var r=n[e.sets[0]],o=n[e.sets[1]],s=b(Math.sqrt(t[r].size/Math.PI),Math.sqrt(t[o].size/Math.PI),e.size);i[r][o]=i[o][r]=s;var l=0;e.size+1e-10>=Math.min(t[r].size,t[o].size)?l=1:e.size<=1e-10&&(l=-1),a[r][o]=a[o][r]=l})),{distances:i,constraints:a}}(e,a,r),l=s.distances,d=s.constraints,m=p(l.map(p))/l.length;l=l.map((function(e){return e.map((function(e){return e/m}))}));var h,y,v=function(e,t){return function(e,t,n,i){var a,r=0;for(a=0;a<t.length;++a)t[a]=0;for(a=0;a<n.length;++a)for(var o=e[2*a],s=e[2*a+1],l=a+1;l<n.length;++l){var c=e[2*l],u=e[2*l+1],d=n[a][l],p=i[a][l],f=(c-o)*(c-o)+(u-s)*(u-s),m=Math.sqrt(f),h=f-d*d;p>0&&m<=d||p<0&&m>=d||(r+=2*h*h,t[2*a]+=4*h*(o-c),t[2*a+1]+=4*h*(s-u),t[2*l]+=4*h*(c-o),t[2*l+1]+=4*h*(u-s))}return r}(e,t,l,d)};for(n=0;n<i;++n){var S=c(2*l.length).map(Math.random);y=g(v,S,t),(!h||y.fx<h.fx)&&(h=y)}var _=h.x,C={};for(n=0;n<a.length;++n){var k=a[n];C[k.sets[0]]={x:_[2*n]*m,y:_[2*n+1]*m,radius:Math.sqrt(k.size/Math.PI)}}if(t.history)for(n=0;n<t.history.length;++n)f(t.history[n].x,m);return C}(e,t);i(a,e)+1e-8<i(n,e)&&(n=a)}return n}function _(e,t){for(var n,i=t&&t.lossFunction?t.lossFunction:C,a={},r={},o=0;o<e.length;++o){var l=e[o];1==l.sets.length&&(n=l.sets[0],a[n]={x:1e10,y:1e10,rowid:a.length,size:l.size,radius:Math.sqrt(l.size/Math.PI)},r[n]=[])}for(e=e.filter((function(e){return 2==e.sets.length})),o=0;o<e.length;++o){var c=e[o],u=c.hasOwnProperty("weight")?c.weight:1,d=c.sets[0],p=c.sets[1];c.size+1e-10>=Math.min(a[d].size,a[p].size)&&(u=0),r[d].push({set:p,size:c.size,weight:u}),r[p].push({set:d,size:c.size,weight:u})}var f=[];for(n in r)if(r.hasOwnProperty(n)){var m=0;for(o=0;o<r[n].length;++o)m+=r[n][o].size*r[n][o].weight;f.push({set:n,size:m})}function h(e,t){return t.size-e.size}f.sort(h);var y={};function g(e){return e.set in y}function v(e,t){a[t].x=e.x,a[t].y=e.y,y[t]=!0}for(v({x:0,y:0},f[0].set),o=1;o<f.length;++o){var S=f[o].set,_=r[S].filter(g);if(n=a[S],_.sort(h),0===_.length)throw"ERROR: missing pairwise overlap information";for(var k=[],A=0;A<_.length;++A){var w=a[_[A].set],P=b(n.radius,w.radius,_[A].size);k.push({x:w.x+P,y:w.y}),k.push({x:w.x-P,y:w.y}),k.push({y:w.y+P,x:w.x}),k.push({y:w.y-P,x:w.x});for(var T=A+1;T<_.length;++T)for(var x=a[_[T].set],M=b(n.radius,x.radius,_[T].size),I=s({x:w.x,y:w.y,radius:P},{x:x.x,y:x.y,radius:M}),R=0;R<I.length;++R)k.push(I[R])}var E=1e50,D=k[0];for(A=0;A<k.length;++A){a[S].x=k[A].x,a[S].y=k[A].y;var L=i(a,e);L<E&&(E=L,D=k[A])}v(D,S)}return a}function C(e,t){for(var n=0,a=0;a<t.length;++a){var s,l=t[a];if(1!=l.sets.length){if(2==l.sets.length){var c=e[l.sets[0]],u=e[l.sets[1]];s=o(c.radius,u.radius,r(c,u))}else s=i(l.sets.map((function(t){return e[t]})));n+=(l.hasOwnProperty("weight")?l.weight:1)*(s-l.size)*(s-l.size)}}return n}function k(e,t,n){var i;if(null===n?e.sort((function(e,t){return t.radius-e.radius})):e.sort(n),e.length>0){var a=e[0].x,o=e[0].y;for(i=0;i<e.length;++i)e[i].x-=a,e[i].y-=o}if(2==e.length&&r(e[0],e[1])<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y),e.length>1){var s,l,c=Math.atan2(e[1].x,e[1].y)-t,u=Math.cos(c),d=Math.sin(c);for(i=0;i<e.length;++i)s=e[i].x,l=e[i].y,e[i].x=u*s-d*l,e[i].y=d*s+u*l}if(e.length>2){for(var p=Math.atan2(e[2].x,e[2].y)-t;p<0;)p+=2*Math.PI;for(;p>2*Math.PI;)p-=2*Math.PI;if(p>Math.PI){var f=e[1].y/(1e-10+e[1].x);for(i=0;i<e.length;++i){var m=(e[i].x+f*e[i].y)/(1+f*f);e[i].x=2*m-e[i].x,e[i].y=2*m*f-e[i].y}}}}function A(e){function t(e){return e.parent!==e&&(e.parent=t(e.parent)),e.parent}e.map((function(e){e.parent=e}));for(var n=0;n<e.length;++n)for(var i=n+1;i<e.length;++i){var a=e[n].radius+e[i].radius;r(e[n],e[i])+1e-10<a&&(o=e[i],s=e[n],l=void 0,c=void 0,l=t(o),c=t(s),l.parent=c)}var o,s,l,c,u,d={};for(n=0;n<e.length;++n)(u=t(e[n]).parent.setid)in d||(d[u]=[]),d[u].push(e[n]);e.map((function(e){delete e.parent}));var p=[];for(u in d)d.hasOwnProperty(u)&&p.push(d[u]);return p}function w(e){var t=function(t){return{max:Math.max.apply(null,e.map((function(e){return e[t]+e.radius}))),min:Math.min.apply(null,e.map((function(e){return e[t]-e.radius})))}};return{xRange:t("x"),yRange:t("y")}}function P(e,t,n){null===t&&(t=Math.PI/2);var i,a,r=[];for(a in e)if(e.hasOwnProperty(a)){var o=e[a];r.push({x:o.x,y:o.y,radius:o.radius,setid:a})}var s=A(r);for(i=0;i<s.length;++i){k(s[i],t,n);var l=w(s[i]);s[i].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[i].bounds=l}s.sort((function(e,t){return t.size-e.size}));var c=(r=s[0]).bounds,u=(c.xRange.max-c.xRange.min)/50;function d(e,t,n){if(e){var i,a,o,s=e.bounds;t?i=c.xRange.max-s.xRange.min+u:(i=c.xRange.max-s.xRange.max,(o=(s.xRange.max-s.xRange.min)/2-(c.xRange.max-c.xRange.min)/2)<0&&(i+=o)),n?a=c.yRange.max-s.yRange.min+u:(a=c.yRange.max-s.yRange.max,(o=(s.yRange.max-s.yRange.min)/2-(c.yRange.max-c.yRange.min)/2)<0&&(a+=o));for(var l=0;l<e.length;++l)e[l].x+=i,e[l].y+=a,r.push(e[l])}}for(var p=1;p<s.length;)d(s[p],!0,!1),d(s[p+1],!1,!0),d(s[p+2],!0,!0),p+=3,c=w(r);var f={};for(i=0;i<r.length;++i)f[r[i].setid]=r[i];return f}function T(e,t,n,i){var a=[],r=[];for(var o in e)e.hasOwnProperty(o)&&(r.push(o),a.push(e[o]));t-=2*i,n-=2*i;var s=w(a),l=s.xRange,c=s.yRange;if(l.max==l.min||c.max==c.min)return console.log("not scaling solution: zero size detected"),e;for(var u=t/(l.max-l.min),d=n/(c.max-c.min),p=Math.min(d,u),f=(t-(l.max-l.min)*p)/2,m=(n-(c.max-c.min)*p)/2,h={},y=0;y<a.length;++y){var g=a[y];h[r[y]]={radius:p*g.radius,x:i+f+(g.x-l.min)*p,y:i+m+(g.y-c.min)*p}}return h}function x(e,n){return function(){for(var i,a=t.select(this),r=a.datum(),o=e[r.sets[0]].radius||50,s=n(r)||"",l=s.split(/\s+/).reverse(),c=(s.length+l.length)/3,u=l.pop(),d=[u],p=0,f=a.text(null).append("tspan").text(u);u=l.pop();)d.push(u),i=d.join(" "),f.text(i),i.length>c&&f.node().getComputedTextLength()>o&&(d.pop(),f.text(d.join(" ")),d=[u],f=a.append("tspan").text(u),p++);var m=.35-1.1*p/2,h=a.attr("x"),y=a.attr("y");a.selectAll("tspan").attr("x",h).attr("y",y).attr("dy",(function(e,t){return m+1.1*t+"em"}))}}function M(e,t,n){var i,a,o=t[0].radius-r(t[0],e);for(i=1;i<t.length;++i)(a=t[i].radius-r(t[i],e))<=o&&(o=a);for(i=0;i<n.length;++i)(a=r(n[i],e)-n[i].radius)<=o&&(o=a);return o}function I(e,t){var n,a=[];for(n=0;n<e.length;++n){var o=e[n];a.push({x:o.x,y:o.y}),a.push({x:o.x+o.radius/2,y:o.y}),a.push({x:o.x-o.radius/2,y:o.y}),a.push({x:o.x,y:o.y+o.radius/2}),a.push({x:o.x,y:o.y-o.radius/2})}var s=a[0],c=M(a[0],e,t);for(n=1;n<a.length;++n){var u=M(a[n],e,t);u>=c&&(s=a[n],c=u)}var d=h((function(n){return-1*M({x:n[0],y:n[1]},e,t)}),[s.x,s.y],{maxIterations:500,minErrorDelta:1e-10}).x,p={x:d[0],y:d[1]},f=!0;for(n=0;n<e.length;++n)if(r(p,e[n])>e[n].radius){f=!1;break}for(n=0;n<t.length;++n)if(r(p,t[n])<t[n].radius){f=!1;break}if(!f)if(1==e.length)p={x:e[0].x,y:e[0].y};else{var m={};i(e,m),p=0===m.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==m.arcs.length?{x:m.arcs[0].circle.x,y:m.arcs[0].circle.y}:t.length?I(e,[]):l(m.arcs.map((function(e){return e.p1})))}return p}function R(e){var t={},n=[];for(var i in e)n.push(i),t[i]=[];for(var a=0;a<n.length;a++)for(var o=e[n[a]],s=a+1;s<n.length;++s){var l=e[n[s]],c=r(o,l);c+l.radius<=o.radius+1e-10?t[n[s]].push(n[a]):c+o.radius<=l.radius+1e-10&&t[n[a]].push(n[s])}return t}function E(e,t){for(var n={},i=R(e),a=0;a<t.length;++a){for(var r=t[a].sets,o={},s={},l=0;l<r.length;++l){o[r[l]]=!0;for(var c=i[r[l]],u=0;u<c.length;++u)s[c[u]]=!0}var d=[],p=[];for(var f in e)f in o?d.push(e[f]):f in s||p.push(e[f]);var m=I(d,p);n[r]=m,m.disjoint&&t[a].size>0&&console.log("WARNING: area "+r+" not represented on screen")}return n}function D(e,t,n){var i=[];return i.push("\nM",e,t),i.push("\nm",-n,0),i.push("\na",n,n,0,1,0,2*n,0),i.push("\na",n,n,0,1,0,2*-n,0),i.join(" ")}function L(e){var t=e.split(" ");return{x:parseFloat(t[1]),y:parseFloat(t[2]),radius:-parseFloat(t[4])}}function N(e){var t={};i(e,t);var n=t.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var a=n[0].circle;return D(a.x,a.y,a.radius)}for(var r=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var s=n[o],l=s.circle.radius,c=s.width>l;r.push("\nA",l,l,0,c?1:0,1,s.p1.x,s.p1.y)}return r.join(" ")}e.intersectionArea=i,e.circleCircleIntersection=s,e.circleOverlap=o,e.circleArea=a,e.distance=r,e.venn=v,e.greedyLayout=_,e.scaleSolution=T,e.normalizeSolution=P,e.bestInitialLayout=S,e.lossFunction=C,e.disjointCluster=A,e.distanceFromIntersectArea=b,e.VennDiagram=function(){var e=600,n=350,i=15,a=1e3,r=Math.PI/2,o=!0,s=!0,l=!0,c=null,u=null,d={},p=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],f=0,m=function(e){if(e in d)return d[e];var t=d[e]=p[f];return(f+=1)>=p.length&&(f=0),t},h=v,y=C;function g(d){var p=d.datum(),f={};p.forEach((function(e){0==e.size&&1==e.sets.length&&(f[e.sets[0]]=1)})),p=p.filter((function(e){return!e.sets.some((function(e){return e in f}))}));var g={},v={};if(p.length>0){var b=h(p,{lossFunction:y});o&&(b=P(b,r,u)),g=T(b,e,n,i),v=E(g,p)}var S={};function _(e){return e.sets in S?S[e.sets]:1==e.sets.length?""+e.sets[0]:void 0}p.forEach((function(e){e.label&&(S[e.sets]=e.label)})),d.selectAll("svg").data([g]).enter().append("svg");var C=d.select("svg").attr("width",e).attr("height",n),k={},A=!1;C.selectAll(".venn-area path").each((function(e){var n=t.select(this).attr("d");1==e.sets.length&&n&&(A=!0,k[e.sets[0]]=L(n))}));var w=function(t){return function(i){return N(t.sets.map((function(t){var a=k[t],r=g[t];return a||(a={x:e/2,y:n/2,radius:1}),r||(r={x:e/2,y:n/2,radius:1}),{x:a.x*(1-i)+r.x*i,y:a.y*(1-i)+r.y*i,radius:a.radius*(1-i)+r.radius*i}})))}},M=C.selectAll(".venn-area").data(p,(function(e){return e.sets})),I=M.enter().append("g").attr("class",(function(e){return"venn-area venn-"+(1==e.sets.length?"circle":"intersection")})).attr("data-venn-sets",(function(e){return e.sets.join("_")})),R=I.append("path"),D=I.append("text").attr("class","label").text((function(e){return _(e)})).attr("text-anchor","middle").attr("dy",".35em").attr("x",e/2).attr("y",n/2);l&&(R.style("fill-opacity","0").filter((function(e){return 1==e.sets.length})).style("fill",(function(e){return m(e.sets)})).style("fill-opacity",".25"),D.style("fill",(function(e){return 1==e.sets.length?m(e.sets):"#444"})));var O=d;A?(O=d.transition("venn").duration(a)).selectAll("path").attrTween("d",w):O.selectAll("path").attr("d",(function(e){return N(e.sets.map((function(e){return g[e]})))}));var U=O.selectAll("text").filter((function(e){return e.sets in v})).text((function(e){return _(e)})).attr("x",(function(e){return Math.floor(v[e.sets].x)})).attr("y",(function(e){return Math.floor(v[e.sets].y)}));s&&(A?"on"in U?U.on("end",x(g,_)):U.each("end",x(g,_)):U.each(x(g,_)));var B=M.exit().transition("venn").duration(a).remove();B.selectAll("path").attrTween("d",w);var F=B.selectAll("text").attr("x",e/2).attr("y",n/2);return null!==c&&(D.style("font-size","0px"),U.style("font-size",c),F.style("font-size","0px")),{circles:g,textCentres:v,nodes:M,enter:I,update:O,exit:B}}return g.wrap=function(e){return arguments.length?(s=e,g):s},g.width=function(t){return arguments.length?(e=t,g):e},g.height=function(e){return arguments.length?(n=e,g):n},g.padding=function(e){return arguments.length?(i=e,g):i},g.colours=function(e){return arguments.length?(m=e,g):m},g.fontSize=function(e){return arguments.length?(c=e,g):c},g.duration=function(e){return arguments.length?(a=e,g):a},g.layoutFunction=function(e){return arguments.length?(h=e,g):h},g.normalize=function(e){return arguments.length?(o=e,g):o},g.styled=function(e){return arguments.length?(l=e,g):l},g.orientation=function(e){return arguments.length?(r=e,g):r},g.orientationOrder=function(e){return arguments.length?(u=e,g):u},g.lossFunction=function(e){return arguments.length?(y=e,g):y},g},e.wrapText=x,e.computeTextCentres=E,e.computeTextCentre=I,e.sortAreas=function(e,t){for(var n=R(e.selectAll("svg").datum()),i={},a=0;a<t.sets.length;++a){var r=t.sets[a];for(var o in n)for(var s=n[o],l=0;l<s.length;++l)if(s[l]==r){i[o]=!0;break}}function c(e){for(var t=0;t<e.length;++t)if(!(e[t]in i))return!1;return!0}e.selectAll("g").sort((function(e,n){return e.sets.length!=n.sets.length?e.sets.length-n.sets.length:e==t?c(n.sets)?-1:1:n==t?c(e.sets)?1:-1:n.size-e.size}))},e.circlePath=D,e.circleFromPath=L,e.intersectionAreaPath=N,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(16),n(1014))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensVersionCheck",["$http",function(e){return{template:n(176),link:function(t,n,i){window.location.pathname.includes("build.lens.org/lens-ui/LENSUI-")&&e({url:"../latest/build.json",cache:!1}).then((function(e){var n=e.data.assetLocation.split("//").pop(),a=window.location.href.split("//").pop(),r=window.location.href.split("//").shift()+"//";a.includes(n)?console.log("assetLocation up to date with latest"):t.newVersionUrl=r+n+(i.path||"/index.html")})).catch((function(e){console.warn("Could not fetch build.json to check for new version")}))}}}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.directive("lensWizard",[function(){return{template:n(627),scope:{},link:function(e,t){var n=e.vm={step:1,steps:[{},{},{},{}]};e.select=function(e,t){n.step=e}}}}])},function(e,t){e.exports='<div class="wizard-progress">\n    <div class="wizard-progress-item" ng-class="{active: vm.step == 1}" ng-click="select(1)">\n        1. Start Wizard\n    </div>\n    <div class="wizard-progress-item" ng-class="{active: vm.step == 2}">\n        2. Data Type\n    </div>\n    <div class="wizard-progress-item" ng-class="{active: vm.step == 3}">\n        3. How\n    </div>\n    <div class="wizard-progress-item" ng-class="{active: vm.step == 4}">\n        4. Search\n    </div>\n</div>\n\n<div class="wizard content">\n\n    <div class="wizard-step" ng-show="vm.step === 1">\n        <h1 class="wizard-question">\n            <div class="heading-prefix">\n                Start Search Wizard\n            </div>\n            What do you want to do?\n        </h1>\n        <div class="wizard-options">\n            <div class="wizard-option" ng-click="vm.result.view = \'list\'; select(2, 1);">\n                <em class="far fa-search"></em>\n                <h3>Find patents or scholarly works</h3>\n                <div class="wizard-option-small">\n                    Search results can be organised into Collections, or saved to receive Query Alerts when new data is added.\n                </div>\n            </div>\n            <div class="wizard-option" ng-click="vm.result.view = \'analysis\'; select(2, 2);">\n                <em class="far fa-chart-network"></em>\n                <h3>Visualise and explore metadata</h3>\n                <div class="wizard-option-small">\n                    Discover relationships between Authors, Inventors, Institutions, Fields of Study, or other metadata.\n                </div>\n            </div>\n            <div class="wizard-option" ng-click="select(2, 2)">\n                <em class="far fa-user-chart"></em>\n                <h3>Generate a report</h3>\n                <div class="wizard-option-small">\n                    Create a beautiful, dynamic report from multiple data sources.\n                </div>\n            </div>\n            \x3c!--\n            <div class="wizard-option" ng-click="select(2, 2)">\n                <em class="far fa-user-chart"></em>\n                <h3>Perform a Literature Review</h3>\n                <div class="wizard-option-small">\n\n                </div>\n            </div>\n            <div class="wizard-option" ng-click="select(2, 2)">\n                <em class="far fa-user-chart"></em>\n                <h3>Learn about this Wizard</h3>\n                <div class="wizard-option-small">\n\n                </div>\n            </div>\n            --\x3e\n        </div>\n    </div>\n\n    <div class="wizard-step" ng-show="vm.step === 2">\n        <h1 class="wizard-question">\n            <div class="heading-prefix">\n                Wizard Step 2\n            </div>\n            What document type do you want to search?\n        </h1>\n        <div class="wizard-options">\n            <div class="wizard-option" ng-click="vm.searchType = \'patent\'; select(3, 1);">\n                <em class="far fa-file-certificate"></em>\n                <h3>Patents</h3>\n                <div class="wizard-option-small">\n                    Include Patent applications, granted patents, limited patents, search reports, abstracts, design rights and more.\n                </div>\n            </div>\n            <div class="wizard-option" ng-click="vm.searchType = \'scholar\'; select(3, 2);">\n                <em class="far fa-graduation-cap"></em>\n                <h3>Scholarly Works</h3>\n                <div class="wizard-option-small">\n                    Works include Journal Articles, Book Chapters, Conference Proceedings, Components, Books and more.\n                </div>\n            </div>\n            <div class="wizard-option" ng-click="vm.searchType = null; select(3, 3);">\n                <em class="far fa-check-double"></em>\n                <h3>Combination</h3>\n                <div class="wizard-option-small">\n                    Search both combined patents and scholarly data sources\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="wizard-step" ng-show="vm.step === 3">\n        <h1 class="wizard-question">\n            <div class="heading-prefix">\n                Wizard Step 3\n            </div>\n            How do you want to search?\n        </h1>\n        <div class="wizard-options wizard-options--x2">\n            <div class="wizard-option" ng-click="vm.fieldSearch = true; select(4, 1)">\n                <em class="far fa-tasks"></em>\n                <h3>By a specific field</h3>\n                <div class="wizard-option-small">\n                    Search by Institution, Journal, Author or Funder.\n                </div>\n            </div>\n            <div class="btn wizard-option" ng-click="vm.fieldSearch = false; select(4, 2)">\n                <em class="far fa-quote-left"></em>\n                <h3>By anything</h3>\n                <div class="wizard-option-small">\n                    Search by Field of Study, Keyword or MeSH Terms.\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="wizard-step" ng-if="vm.step === 4">\n        <h1 class="wizard-question">\n            <div class="heading-prefix">\n                Wizard Step 4\n            </div>\n            Start typing...\n        </h1>\n        <div lens-quick-search\n            type="vm.searchType"\n            view="vm.result.view"\n            field-search="vm.fieldSearch"\n        ></div>\n    </div>\n\n    \x3c!-- Template --\x3e\n    <div class="wizard-step" ng-show="false">\n        <div class="wizard-question">\n        </div>\n        <div class="wizard-options">\n            <div class="btn wizard-option"></div>\n            <div class="btn wizard-option"></div>\n        </div>\n    </div>\n\n</div>\n'},function(e,t,n){"use strict";var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33)),a=o(n(629)),r=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s="dark"===window.THEME?["#16b9ff","#ffffff","#14d883"]:["#1f9cac","#001e3c","#1b75bc"];r.default.directive("lensWordCloud",[function(){return{scope:{data:"=",warning:"=",height:"<",renderVersion:"<",onClickItem:"<"},template:"Loading...",controller:["$scope","$element","$timeout",function(e,t,n){var r=_.debounce((function(){t.empty();var n=e.data;if(n.length&&t.is(":visible")){var r=n.map((function(e){return e.count||e.value})),o=_.max(r),l=_.min(r);n.forEach((function(e){var t=((e.count||e.value)-l)/(o-l);e.outputX=42*t+8,e.text=e.text||e.label+" ("+(e.count||e.value.toLocaleString())+")"}));var c=t[0].clientWidth,u=(0,a.default)().size([c,e.height||700]).words(n).padding(5).rotate((function(){return 0})).font("sans-serif").fontSize((function(e){return e.outputX})).on("end",(function(a){i.select(t[0]).append("svg").attr("width",u.size()[0]).attr("height",u.size()[1]).append("g").attr("transform","translate("+u.size()[0]/2+","+u.size()[1]/2+")").selectAll("text").data(a).enter().append("text").style("font-size",(function(e){return e.outputX+"px"})).style("font-family","sans-serif").style("fill",(function(e,t){return s[t%s.length]})).attr("text-anchor","middle").attr("transform",(function(e){return"translate("+[e.x,e.y]+")rotate("+e.rotate+")"})).text((function(e){return e.text})).on("click",(function(t){e.onClickItem&&e.onClickItem({data:t})}));var r=n.length-a.length;if(r){var o='\n                        <em class="far fa-exclamation-triangle analysis-item-alert-icon"></em>\n                        Warning: '+r+" item"+(r>1?"s":"")+" dropped from this cloud due to size constraints.\n                        This is a known problem with this word cloud which we are investigating. Please consider viewing\n                        this data using one of the other views above, or if possible, increasing your browser window size.\n                        Reducing the number of items displayed can also resolve this issue.\n                    ";e.warning=o;var l=$('<div class="alert alert-info analysis-item-alert"></div>').html(o),c=$('<a class="styled-link">Close this message</a>');c.on("click",(function(){return l.remove()})),l.append(c),t.append(l)}else e.warning=null,e.$apply()}));u.start()}}),50);r(),e.$watch("data",r),e.$watch("renderVersion",r),e.getElementDimensions=function(){return{h:t.height(),w:t.width()}},e.$watch(e.getElementDimensions,(function(e,t){0!==t.h&&t.w!==e.w&&r()}),!0),t.bind("resize",(function(){e.$apply()}))}]}}])},function(e,t,n){var i=n(630).dispatch,a=Math.PI/180;function r(e){return e.text}function o(){return"serif"}function s(){return"normal"}function l(e){return Math.sqrt(e.value)}function c(){return 30*(~~(6*Math.random())-3)}function u(){return 1}function d(e,t,n,i){if(!t.sprite){var r=e.context,o=e.ratio;r.clearRect(0,0,2048/o,2048/o);var s=0,l=0,c=0,u=n.length;for(--i;++i<u;){t=n[i],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font;var d=r.measureText(t.text+"m").width*o,p=t.size<<1;if(t.rotate){var f=Math.sin(t.rotate*a),m=Math.cos(t.rotate*a),h=d*m,y=d*f,g=p*m,v=p*f;d=Math.max(Math.abs(h+v),Math.abs(h-v))+31>>5<<5,p=~~Math.max(Math.abs(y+g),Math.abs(y-g))}else d=d+31>>5<<5;if(p>c&&(c=p),s+d>=2048&&(s=0,l+=c,c=0),l+p>=2048)break;r.translate((s+(d>>1))/o,(l+(p>>1))/o),t.rotate&&r.rotate(t.rotate*a),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=d,t.height=p,t.xoff=s,t.yoff=l,t.x1=d>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=d}for(var b=r.getImageData(0,0,2048/o,2048/o).data,S=[];--i>=0;)if((t=n[i]).hasText){for(var _=(d=t.width)>>5,C=(p=t.y1-t.y0,0);C<p*_;C++)S[C]=0;if(null==(s=t.xoff))return;l=t.yoff;for(var k=0,A=-1,w=0;w<p;w++){for(C=0;C<d;C++){var P=_*w+(C>>5),T=b[2048*(l+w)+(s+C)<<2]?1<<31-C%32:0;S[P]|=T,k|=T}k?A=w:(t.y0++,p--,w--,l++)}t.y1=t.y0+A,t.sprite=S.slice(0,(t.y1-t.y0)*_)}}}function p(e,t,n){n>>=5;for(var i,a=e.sprite,r=e.width>>5,o=e.x-(r<<4),s=127&o,l=32-s,c=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),d=0;d<c;d++){i=0;for(var p=0;p<=r;p++)if((i<<l|(p<r?(i=a[d*r+p])>>>s:0))&t[u+p])return!0;u+=n}return!1}function f(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function m(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function h(){return document.createElement("canvas")}function y(e){return"function"==typeof e?e:function(){return e}}e.exports=function(){var e=[256,256],t=r,n=o,a=l,v=s,b=s,S=c,_=u,C=m,k=[],A=1/0,w=i("word","end"),P=null,T=Math.random,x={},M=h;function I(t,n,i){e[0],e[1];for(var a,r,o,s,l,c=n.x,u=n.y,d=Math.sqrt(e[0]*e[0]+e[1]*e[1]),f=C(e),m=T()<.5?1:-1,h=-m;(a=f(h+=m))&&(r=~~a[0],o=~~a[1],!(Math.min(Math.abs(r),Math.abs(o))>=d));)if(n.x=c+r,n.y=u+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1]||i&&p(n,t,e[0])||i&&(l=i,!((s=n).x+s.x1>l[0].x&&s.x+s.x0<l[1].x&&s.y+s.y1>l[0].y&&s.y+s.y0<l[1].y)))){for(var y,g=n.sprite,v=n.width>>5,b=e[0]>>5,S=n.x-(v<<4),_=127&S,k=32-_,A=n.y1-n.y0,w=(n.y+n.y0)*b+(S>>5),P=0;P<A;P++){y=0;for(var x=0;x<=v;x++)t[w+x]|=y<<k|(x<v?(y=g[P*v+x])>>>_:0);w+=b}return delete n.sprite,!0}return!1}return x.canvas=function(e){return arguments.length?(M=y(e),x):M},x.start=function(){var i=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(M()),r=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((e[0]>>5)*e[1]),o=null,s=k.length,l=-1,c=[],u=k.map((function(e,i){return e.text=t.call(this,e,i),e.font=n.call(this,e,i),e.style=v.call(this,e,i),e.weight=b.call(this,e,i),e.rotate=S.call(this,e,i),e.size=~~a.call(this,e,i),e.padding=_.call(this,e,i),e})).sort((function(e,t){return t.size-e.size}));return P&&clearInterval(P),P=setInterval(p,0),p(),x;function p(){for(var t=Date.now();Date.now()-t<A&&++l<s&&P;){var n=u[l];n.x=e[0]*(T()+.5)>>1,n.y=e[1]*(T()+.5)>>1,d(i,n,u,l),n.hasText&&I(r,n,o)&&(c.push(n),w.word(n),o?f(o,n):o=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}l>=s&&(x.stop(),w.end(c,o))}},x.stop=function(){return P&&(clearInterval(P),P=null),x},x.timeInterval=function(e){return arguments.length?(A=null==e?1/0:e,x):A},x.words=function(e){return arguments.length?(k=e,x):k},x.size=function(t){return arguments.length?(e=[+t[0],+t[1]],x):e},x.font=function(e){return arguments.length?(n=y(e),x):n},x.fontStyle=function(e){return arguments.length?(v=y(e),x):v},x.fontWeight=function(e){return arguments.length?(b=y(e),x):b},x.rotate=function(e){return arguments.length?(S=y(e),x):S},x.text=function(e){return arguments.length?(t=y(e),x):t},x.spiral=function(e){return arguments.length?(C=g[e]||e,x):C},x.fontSize=function(e){return arguments.length?(a=y(e),x):a},x.padding=function(e){return arguments.length?(_=y(e),x):_},x.random=function(e){return arguments.length?(T=e,x):T},x.on=function(){var e=w.on.apply(w,arguments);return e===w?x:e},x};var g={archimedean:m,rectangular:function(e){var t=4*e[0]/e[1],n=0,i=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}}},function(e,t,n){!function(e){"use strict";function t(){return new n(arguments)}function n(e){var t,n=-1,i=e.length,a={},r={},o=this;for(o.on=function(e,t){if(e=s(e),arguments.length<2)return(t=r[e.name])&&t.value;if(e.type){var n,i=a[e.type],l=r[e.name];l&&(l.value=null,n=i.indexOf(l),a[e.type]=i=i.slice(0,n).concat(i.slice(n+1)),delete r[e.name]),t&&(t={value:t},r[e.name]=t,i.push(t))}else if(null==t)for(var c in a)(t=r[c+e.name])&&(t.value=null,n=(i=a[c]).indexOf(t),a[c]=i.slice(0,n).concat(i.slice(n+1)),delete r[t.name]);return o};++n<i;){if(!(t=e[n]+"")||t in o)throw new Error("illegal or duplicate type: "+t);a[t]=[],o[t]=l(t)}function s(e){var t=(e+="").indexOf("."),n=e;if(t>=0?e=e.slice(0,t):n+=".",e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}function l(e){return function(){for(var t,n=a[e],i=-1,r=n.length;++i<r;)(t=n[i].value)&&t.apply(this,arguments);return o}}}t.prototype=n.prototype,e.version="0.2.6",e.dispatch=t}(t)},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var o=new a.default("global"),s=new a.default("workarea-collections"),l=n(5),c=new l;i.default.directive("lensWorkAreaCollections",[].concat(["CollectionService","$rootScope"],[function(e,t){return{template:n(632),link:function(t){var n=t.vm={view:o.get("workarea-view")||"table",orderBy:s.get("orderBy")||"updated",filter:s.get("filter")||{},typeFilter:s.get("typeFilter")||{PATENT:!0,SCHOLARLY_WORK:!0},collections:[]};t.load=function(){n.loading=!0,e.getAll().then((function(e){e.forEach((function(e){e.selectedSavedQuery={},e.savedQueries.forEach((function(t){e.autoupdate=!0,e.moreQueries=!0,e.selectedSavedQuery[t.id]=!0})),e.original=_.cloneDeep(e)})),n.loading=!1,n.collections=e,n.loadedOnce=!0})).catch((function(e){n.loading=!1,console.warn(e)}))},t.persist=function(){s.set("filter",n.filter),s.set("typeFilter",n.typeFilter),s.set("orderBy",n.orderBy)},t.updateTypeFilter=function(){var e=_.keys(n.typeFilter).filter((function(e){return n.typeFilter[e]}));1===e.length?n.filter.type=e[0]:n.filter.type="",t.persist()},t.collectionAction=function(e,t){n.currentCollection=_.clone(t),n.action=e},t.export=function(e){},t.create=function(){n.newCollection={type:n.filter.type||"PATENT",access:"OPEN_ACCESS"}},t.getSelected=function(){return n.collections.filter((function(e){return e.selected}))},t.deleteSelected=function(){n.promptDeleteSelected=!1;var i=t.getSelected().map((function(t){return e.delete(t.id)}));Promise.all(i).then((function(e){t.load(),c.notify("Collections Deleted"),n.filter={}})).catch((function(e){console.error(e),c.error("Could not delete Collections")}))},t.generateVenn=function(){n.showVenn=!0,n.vennLoading=!0;var e=n.collections.filter((function(e){return e.selected})),i={};e.forEach((function(e){i[e.id]=e.title})),n.vennType="SCHOLARLY_WORK"===e[0].type?"scholar":"patent";var a="/lens/service/collection/group?collectionIds="+e.map((function(e){return e.id}));fetch(a).then((function(e){return e.json()})).then((function(a){console.log(a),n.venn=e.map((function(e){return{type:n.vennType,setIds:[e.id],sets:[e.title],size:e.itemCount}})),_.keys(a).forEach((function(e){var t=a[e],r=JSON.parse(e);1!==r.length&&n.venn.push({setIds:r,sets:r.map((function(e){return i[e]})),size:t})})),console.log(n.venn),n.vennLoading=!1,t.$digest()})).catch((function(e){console.error(e),n.vennLoading=!1,n.showVenn=!1,(new l).error("Could not generate intersection")}))},t.setView=function(e){n.view=e,o.set("workarea-view",e)},t.toggleSelectAll=function(){var e=n.selectAll;(e&&n.filteredCollections?n.filteredCollections:n.collections).forEach((function(t){t.selected=e}))},e.on("REFRESH_COLLECTIONS",t.load),t.load()}}}]))},function(e,t){e.exports='<div class="lens-work-area-collections">\n    <div class="workarea-page--has-sidebar">\n        <div class="workarea-page-main content">\n            \n            <h1 class="workarea--heading" ng-class="{ \'workarea--heading-no-border\': vm.collections.length && !vm.loading && !$root.isAnon}">\n                {{::\'user.collections\' | message}}\n                <a ng-click="$root.showWorkAreaAbout = !$root.showWorkAreaAbout" ng-if="vm.collections.length" class="pulse-dot pulse-dot--icon workarea--heading--icon">\n                    <em class="far fa-info-circle"></em>\n                </a>\n               \n               <div class="dd-dropdown-alt"\n                   ng-if="vm.collections.length && !vm.loading && !$root.isAnon && $root.breakpoints.isMobile"\n               >\n                    <a ng-click="$root.ddBtn2 = !$root.ddBtn2" class="dd-btn" ng-class="{active: $root.ddBtn2}">\n                        <em class="fas fa-ellipsis-h dd-button--icon"></em>\n                    </a>\n                    <div class="dd-content" ng-class="{active: $root.ddBtn2}">\n                        <div ng-include="\'work-area-collections-toolbar\'" style="padding: 10px 10px 0 10px;"></div>\n                    </div>\n                </div>\n            </h1>\n            \n            <div class="project--tags" ng-if="$ctrl.state.selectedProject">\n                <div class="project--tags-inner">\n                    <div class="active-project">{{$ctrl.state.selectedProject.title}}</div>\n                    <div class="end-project"><em class="far fa-times"></em></div>\n                </div>\n            </div>\n            \n            \x3c!-- No Content --\x3e\n            <div ng-include="\'about-collections\'" ng-if="(!vm.collections.length && !vm.loading && !$root.isAnon) || $root.showWorkAreaAbout"></div>\n            \n            \x3c!-- IF Loading --\x3e\n            <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n            \n            \x3c!-- IF not loggedin --\x3e\n            <div ng-if="$root.isAnon" ng-include="\'work-area-login-notice\'"></div>\n            \n            \x3c!-- Filter Message --\x3e\n            <div class="workarea--table" ng-if="vm.collections.length && !vm.filteredCollections.length">\n                <div class="no-content">\n                    <em class="far fa-empty-set col-error"></em>\n                    No results match filter\n                </div>\n            </div>\n            \n            \x3c!-- View Cards --\x3e\n            <div class="workarea--cards" ng-hide="!vm.collections.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.collections.length && !vm.loading && !$root.isAnon">                \n                <div class="workarea--card-item workarea--card--collection " \n                    collection="collection"\n                    ng-repeat="collection in vm.filteredCollections = (vm.collections | filter:vm.filter | orderBy:vm.orderBy:true)"\n                    ng-class="{ \'workarea--card--is-patent\': collection.type === \'PATENT\', \'workarea--card--is-scholar\': collection.type === \'SCHOLARLY_WORK\' }">\n                    <div class="card-item--header">\n                        <div class="card-item--select">\n                            <form>\n                                <label class="checkbox">\n                                    <input type="checkbox" ng-model="collection.selected">\n                                    <i></i>\n                                </label>\n                            </form>\n                        </div>\n                        <a ui-sref="search.results({ view: \'list\', collectionId: collection.id, type: (collection.type === \'PATENT\' ? \'patent\' : \'scholar\') })"\n                            class="card-item--title"\n                        >\n                            <span ng-if="collection.avatar">\n                                <img ng-src="{{$root.imageUploadUrl(collection.avatar.key)}}" alt="" style="display: inline-block; width: 60px; float: right; margin-left: 1em;">\n                            </span>\n                            {{::collection.title}}\n                            <p class="card-item--meta">\n                                <em class="fa fa-repeat-alt col-ter" tooltip-title="Dynamic Collection" ng-if="collection.savedQueries.length"></em>\n                                {{:: collection.type | collectionType }}  ({{collection.itemCount | customNumber}})\n                                \x3c!-- tooltip-title="When new items are added to our search index your selected saved queries will automatically update this dynamic collection."--\x3e\n                                <span style="padding-left: 10px;" ng-if="collection.savedQueries.length"  tooltip-title tooltip-content-selector="#collection-linked-queries-{{collection.id}}">\n                                    <em class="far fa-save col-ter"></em>\n                                    {{collection.savedQueries.length}} Linked queries\n                                </span>\n                                \n                                <div hidden>\n                                    <div id="collection-linked-queries-{{collection.id}}" class="dismiss-tooltip-on-click">\n                                        <div class="text-small col-meta" ng-repeat="savedQuery in collection.savedQueries">\n                                            <em class="far fa-save col-meta" style="padding-right: 5px;"></em>\n                                            {{savedQuery.title}}\n                                        </div>\n                                    </div>\n                                </div>\n                            </p>\n                        </a>\n                        \n                        <div class="card-item--icon icon--sortable">\n                            <em class="fal fa-folder-open"></em>\n                            <em class="fal fa-arrows"></em>\n                        </div>\n                    </div>\n                    \n                    <div class="card-item--footer">\n                        <div class="card-item--accessed">Last Accessed:  {{collection.updated | date}}</div>\n                        <div class="card-item--tools">\n                            <a class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-collection-buttons-{{collection.id}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-collection-buttons-{{collection.id}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu" ng-include="\'modify-collection-buttons\'"></ul>\n                                </div>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \n            \x3c!-- View Table --\x3e\n            <div class="workarea--table workarea--table--mobile workarea--table--collections" ng-show="vm.filteredCollections.length" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.collections.length && !vm.loading && !$root.isAnon">\n                <div class="div-table">\n                    <div class="div-table-heading">\n                        <div class="div-table-row">\n                            <div class="div-table-cell">\n                                <form>\n                                    <label class="checkbox">\n                                        <input type="checkbox" ng-model="vm.selectAll" ng-change="toggleSelectAll()">\n                                        <i></i>\n                                    </label>\n                                </form>\n                            </div>\n                            <div class="div-table-cell">{{::\'user.collections.collectionName\' | message}}</div>\n                            <div class="div-table-cell">Type</div>\n                            <div class="div-table-cell">\n                                {{::\'common.numberItems\' | message}}\n                                <em class="far fa-info-circle col-sec" tooltip-title="The resolved item counts within a collection can change over time, as the Lens uses a metaRecord strategy wherein the LensIDs are merged, split or removed from the Index to perfect matching with each data release."></em>\n                            </div>\n                            <div class="div-table-cell">\n                                \x3c!--Linked Queries--\x3e\n                                Dynamic\n                                <em class="far fa-info-circle col-sec" tooltip-title="Collections can be automatically updated when linked to a saved query. When new items are added to our search index your selected saved queries will automatically update your dynamic collections."></em>\n                            </div>\n                            <div class="div-table-cell">{{::\'common.tools\' | message}}</div>\n                        </div>\n                    </div>\n                    <div class="div-table-body">\n                        <div class="div-table-row"\n                            ng-repeat="collection in vm.filteredCollections = (vm.collections | filter:vm.filter | orderBy:vm.orderBy:true)"\n                            ng-include="\'collection-row-item\'" \n                        >\n                        </div>\n                    </div>\n                </div>\n            </div>\n    \n        </div>\n        \n        \n        <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.collections.length && !vm.loading && !$root.isAnon && !$root.breakpoints.isMobile">\n            <div class="theiaStickySidebar">\n                <div ng-include="\'work-area-collections-toolbar\'" include-replace></div>\n            </div>\n        </aside>\n    \n    </div>\n    \n    <div lens-modal size="900" visible="vm.showVenn" ng-if="vm.showVenn">\n        <h3 class="modal-heading">Collections Intersection</h3>\n        <div ng-if="vm.vennLoading" class="no-content loader-div">\n            <em class="far fa-spinner fa-spin fa-fw load-icon"></em>\n            <p class="lead">{{::\'common.loading\' | message}}</p>\n        </div>\n        <div ng-if="vm.venn && !vm.vennLoading" class="modal--venn--list">\n            <div class="venn--diagram" lens-venn-diagram data="vm.venn"></div>\n            <div class="venn--results-list">\n                <div class="panel panel-default">\n                    <div class="panel-heading">Intersections</div>\n                    <div class="panel-body">\n                        <div class="venn--result" ng-repeat="item in vm.venn" ng-if="item.sets.length > 1">\n                            <label class="checkbox">\n                                <input type="checkbox" name="" value="" />\n                                <i></i>\n                            </label>\n                            <a ui-sref="search.results({type: vm.vennType, view: \'list\', collectionIntersectionIds: item.setIds.join(\',\')})">\n                                \x3c!--<em class="far fa-chevron-right col-feat"></em>\n                                <strong>{{::item.size | customNumber}}</strong> documents in intersection of {{item.sets.join(\', \')}}--\x3e\n                                <strong>{{::item.size | customNumber}}</strong> Results\n                                <div class="text-small col-meta">{{item.sets.join(\', \')}}</div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div hidden>\n                    <label>Resulting Collection<sup class="col-error">*</sup></label>\n                    <div class="text-small col-meta" style="margin-bottom: 5px;">Create a new collection containing the results from selected intersections.</div>\n                    <label class="input">\n                        <input type="text" name="" value="" placeholder="Enter Collection Title" />\n                    </label>\n                </div>\n            </div>\n        </div>\n        <span class="btn btn-pri btn-sm">Create Collection</span>\n        <span class="btn btn-sm btn-txt-danger" ng-click="vm.showVenn = false">Close</span>\n    </div>\n\n    <div lens-modal size="\'sm\'" visible="vm.promptDeleteSelected">\n        <h3 class="modal-heading">\n            Really Delete <strong>{{getSelected().length}}</strong> Collections?\n        </h3>\n        <p>Are you sure you want to permanently delete these Collections?</p>\n        <form ng-submit="deleteSelected()">\n            <div class="clearfix pull-right">\n                <span class="btn btn-danger-txt" ng-click="vm.promptDeleteSelected = false">\n                    {{::\'common.action.cancel\' | message}}\n                </span>\n                <button class="btn btn-danger">\n                    {{::\'common.action.delete\' | message}}\n                </button>\n            </div>\n        </form>\n    </div>\n\n    <div lens-modal size="vm.action === \'delete\' ? \'sm\': 800" visible="vm.action" ng-if="vm.action">\n        <div lens-collection-action\n            collection="vm.currentCollection"\n            action="vm.action"\n        ></div>\n    </div>\n\n    \x3c!-- New Collection Modal --\x3e\n    <div lens-modal ng-cloak visible="vm.newCollection" ng-if="vm.newCollection">\n        <div lens-create-collection\n            collection="vm.newCollection"\n            submitting="vm.creatingCollection"\n            select-type="true"\n        ></div>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var o=new a.default("global"),s=new a.default("work-area-notes");i.default.directive("lensWorkAreaNotes",[].concat(["NotesService"],[function(e){return{template:n(634),link:function(t){var n=t.vm={view:o.get("workarea-view")||"table",filter:s.get("filter")||{label:""},orderBy:s.get("orderBy")||"updated"};t.isPatent=function(e){return"PATENT"===e.type},t.isCollection=function(e){return"COLLECTION"===e.type},t.jurisdiction=function(e){return e.substring(0,2)},t.load=function(){n.loading=!0,e.fetchGrouped().then((function(e){t.vm.noteGroups=e.data,t.vm.items=e.data.reduce((function(e,t){var n=t.notes.map((function(e){return e.scholarTitle=t.scholarTitle,e.collectionTitle=t.collectionTitle,delete e.user,e}));return e.concat(n)}),[]),n.loading=!1,e.data.forEach((function(e){e.notes.forEach((function(e){(!n.lastUpdated||n.lastUpdated>e.updated)&&(n.lastUpdated=e.updated)}))}))}))},t.persist=function(){s.set("filter",n.filter),s.set("orderBy",n.orderBy)},t.setView=function(e){n.view=e,o.set("workarea-view",e)},t.delete=function(e){n.deleteNoteId=e},t._delete=function(){e.delete(n.deleteNoteId).then((function(){n.deleteNoteId=!1,t.load()}))},t.filter=function(e){var t=!1,i=n.filter.label.trim().toLowerCase(),a=n.filter.type||{};return(e.patentTitle||e.scholarTitle||e.collectionTitle).toLowerCase().indexOf(i)>=0&&(t=!0),e.notes.forEach((function(e){if(e.text.toLowerCase().indexOf(i)>=0)return t=!0,!0})),(a.PATENT||a.SCHOLAR||a.COLLECTION)&&("PATENT"!==e.type||a.PATENT||(t=!1),"SCHOLAR"!==e.type||a.SCHOLAR||(t=!1),"COLLECTION"!==e.type||a.COLLECTION||(t=!1)),t},t.load()}}}]))},function(e,t){e.exports='<div>\n    \n    \x3c!-- Search History Nested Tabs Template--\x3e\n    <div class="workarea-page--has-sidebar">\n        <div class="workarea-page-main content">\n                \n            <h1 class="workarea--heading" ng-class="{ \'workarea--heading-no-border\': vm.noteGroups.length && !vm.loading}">\n                Notes\n                <a ng-click="$root.showWorkAreaAbout = !$root.showWorkAreaAbout" ng-if="vm.noteGroups.length" class="pulse-dot pulse-dot--icon workarea--heading--icon">\n                    <em class="far fa-info-circle"></em>\n               </a>\n               \n               <div class="dd-dropdown-alt"\n                   ng-if="vm.noteGroups.length && !vm.loading && !$root.isAnon && $root.breakpoints.isMobile"\n               >\n                    <a ng-click="$root.ddBtn5 = !$root.ddBtn5" class="dd-btn" ng-class="{active: $root.ddBtn5}">\n                        <em class="fas fa-ellipsis-h dd-button--icon"></em>\n                    </a>\n                    <div class="dd-content" ng-class="{active: $root.ddBtn5}">\n                        <div ng-include="\'work-area-notes-toolbar\'" style="padding: 10px 10px 0 10px;"></div>\n                    </div>\n                </div>\n            </h1>\n\n            \x3c!-- No Content --\x3e\n            <div ng-if="vm.noteGroups.length === 0 && !vm.loading || $root.showWorkAreaAbout" ng-include="\'about-notes\'"></div>\n            \n            \n            \x3c!-- IF Loading --\x3e\n            <div ng-if="vm.loading" ng-include="\'work-area-loading\'"></div>\n        \n        \n            \x3c!-- Filter Message --\x3e\n            <div class="workarea--table" ng-if="vm.items.length && !vm.loading && !$root.isAnon">\n                <div ng-if="vm.items.length && !vm.filteredItems.length" class="no-content">\n                    <em class="far fa-empty-set col-error"></em>\n                    No results match filter\n                </div>\n            </div>\n            \n            \x3c!-- View Cards --\x3e\n            <div class="workarea--cards" ng-hide="!vm.noteGroups.length && vm.loading" ng-if="vm.view === \'cards\' && !$root.breakpoints.isMobile && vm.noteGroups.length && !vm.loading && !$root.isAnon">\n                <div class="workarea--card-item workarea--card--note" \n                    ng-repeat-start="noteGroup in vm.filteredItems = (vm.noteGroups | filter:filter)"\n                >\n                    <div class="card-item--header">\n                        <a ui-sref="article.notes({id: noteGroup.notes[0].lensId})" ng-if="noteGroup.scholarTitle">\n                            {{noteGroup.scholarTitle}}\n                            <br>\n                            <span class="card-item--meta">Scholarly Work: {{noteGroup.notes[0].lensId}}</span>\n                        </a>\n                        <a ng-href="/lens/patent/{{noteGroup.patentPublicationKey}}/notes" ng-if="isPatent(noteGroup)">\n                            <div>{{noteGroup.patentTitle}}</div>\n                            <div class="note-doc-type">\n                                <span class="flag" ng-class="{{jurisdiction(noteGroup.patentPublicationKey).toLowerCase()}}">\n                                    <img class="doc-type-flag" ng-src="{{::$root.assetLocation}}/img/flags/{{jurisdiction(noteGroup.patentPublicationKey)}}.png"/>\n                                </span>\n                                <span class="card-item--meta">{{\'notes.patentDocument\' | message}}:</span>\n                                <span class="card-item--meta">{{noteGroup.patentDisplayKey}}</span>\n                            </div>\n                            <p class="card-item--meta" ng-if="isCollection(noteGroup)">{{\'notes.collection\' | message}}</p>\n                        </a>\n                        <a ng-href="/lens/search/{{noteGroup.notes[0].collectionType === \'SCHOLARLY_WORK\' ? \'scholar\' : \'patent\'}}/notes?collectionId={{noteGroup.collectionId}}" ng-if="isCollection(noteGroup)">\n                            {{noteGroup.collectionTitle}}\n                            <p class="card-item--meta">\n                                <span ng-if="isCollection(noteGroup)">{{\'notes.collection\' | message}}</span>\n                            </p>\n                        </a>\n                        \n                        <div class="card-item--icon">\n                            <em class="fal fa-sticky-note"></em>\n                        </div>\n                    </div>\n                    \n                    <ul class="card-item--list-notes">\n                        <li class="card-item--meta" note="note" reload="load()" show-level-up="true" ng-repeat="note in noteGroup.notes">\n                            {{note.text | decodeEntities}}\n                            <a style="margin-left: 3px;" class="workarea--tools-tigger" tooltip-title tooltip-content-selector="#modify-notes-buttons-{{note.id}}"\n                                tooltip-options="::{trigger: \'click\', side: \'bottom\'}">\n                                <em class="fas fa-ellipsis-h col-feat"></em>\n                            </a>\n                            <div hidden>\n                                <div id="modify-notes-buttons-{{note.id}}" class="dismiss-tooltip-on-click">\n                                    <ul class="dd-menu">\n                                        <li> \n                                            <a ng-click="$root.editNote({type: note.type, key: note.lensId || note.collectionId, id: note.id})">\n                                                <em class="far fa-edit"></em>\n                                                Edit\n                                            </a>\n                                        </li>\n                                        <li class="delete--action">\n                                            <a ng-click="delete(note.id)">\n                                                <em class="far fa-trash-alt col-error"></em>\n                                                {{::\'common.action.delete\' | message}}\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n                <div ng-repeat-end></div>\n            </div>\n            \n            \x3c!-- View Table --\x3e\n            <div class="workarea--table workarea--table--mobile workarea--table--notes" ng-if="(vm.view === \'table\' || $root.breakpoints.isMobile) && vm.noteGroups.length">\n                <div class="div-table div-table-notes" id="listTable">\n                    <div class="div-table-heading">\n                        <div class="div-table-row">\n                            <div class="div-table-cell">{{\'common.note\' | message}}</div>\n                            <div class="div-table-cell">{{\'common.assignment\' | message}}</div>\n                            <div class="div-table-cell">{{\'common.dateCreated\' | message}}</div>\n                            <div class="div-table-cell">{{\'common.tools\' | message}}</div>\n                        </div>\n                    </div>\n                    <div class="div-table-body">\n                        <div class="div-table-row div-table-row--parent"\n                            ng-repeat-start="noteGroup in vm.filteredItems = (vm.noteGroups | filter:filter)"\n                        >\n                            <div class="div-table-cell div-table-cell--wrap">\n                                <a ui-sref="article.notes({id: noteGroup.notes[0].lensId})" ng-if="noteGroup.scholarTitle">\n                                    {{noteGroup.scholarTitle}}\n                                </a>\n                                <a ng-href="/lens/patent/{{noteGroup.patentPublicationKey}}/notes" ng-if="isPatent(noteGroup)">\n                                    <div>{{noteGroup.patentTitle}}</div>\n                                    <div class="note-doc-type">\n                                        <span class="flag" ng-class="{{jurisdiction(noteGroup.patentPublicationKey).toLowerCase()}}">\n                                            <img class="doc-type-flag" ng-src="{{::$root.assetLocation}}/img/flags/{{jurisdiction(noteGroup.patentPublicationKey)}}.png"/>\n                                        </span>\n                                        {{noteGroup.patentDisplayKey}}\n                                    </div>\n                                </a>\n                                <a ng-href="/lens/search/{{noteGroup.notes[0].collectionType === \'SCHOLARLY_WORK\' ? \'scholar\' : \'patent\'}}/notes?collectionId={{noteGroup.collectionId}}" ng-if="isCollection(noteGroup)">\n                                    {{noteGroup.collectionTitle}}\n                                </a>\n                            </div>\n                            <div class="div-table-cell">\n                                <span ng-if="noteGroup.scholarTitle">Scholarly Work</span>\n                                <span ng-if="isPatent(noteGroup)">{{\'notes.patentDocument\' | message}}</span>\n                                <span ng-if="isCollection(noteGroup)">{{\'notes.collection\' | message}}</span>\n                            </div>\n                            <div class="div-table-cell"></div>\n                            <div class="div-table-cell"></div>\n                        </div>\n                        <div class="div-table-row div-table-row--nested"\n                            lens-note-table-row\n                            note="note"\n                            reload="load()"\n                            show-level-up="true"\n                            ng-repeat="note in noteGroup.notes"\n                        >\n                        </div>\n                        <div class="div-table-row div-table-row--ender" ng-repeat-end>\n                            <div class="div-table-cell"></div>\n                            <div class="div-table-cell"></div>\n                            <div class="div-table-cell"></div>\n                            <div class="div-table-cell"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n        </div>    \n        \n        <aside class="workarea-page-sidebar sidebar-sticky" ng-if="vm.noteGroups.length && !$root.breakpoints.isMobile">\n            <div class="theiaStickySidebar">\n                <div ng-include="\'work-area-notes-toolbar\'"></div>\n            </div>\n        </aside>\n    </div>\n</div>\n\n<div lens-modal size="\'sm\'" visible="vm.deleteNoteId" ng-if="vm.deleteNoteId">\n    <h3 class="modal-heading">{{::\'common.areYouSure\' | message}}</h3>\n    <div class="alert alert-danger" ng-bind-html="(\'notes.deleteThisNote.confirm\' | message) | unsafe"></div>\n    <div>\n        <a class="btn btn-sm btn-danger-txt" ng-click="vm.deleteNoteId = false;">{{::\'common.action.cancel\' | message}}</a>\n        <a class="btn btn-sm btn-danger" ng-click="_delete() ">{{::\'common.action.delete\' | message}}</a>\n    </div>\n</div>\n'},function(e,t,n){"use strict";var i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var r=new(a(n(2)).default)("global");i.default.directive("lensWorkAreaSummary",[].concat(["$http","$rootScope","$cacheFactory"],[function(e,t,i){return{template:n(636),link:function(n){var a=r.get("projects")||[];n.vm={summary:{},projectCount:a.length,labels:{tagCount:window.messages.prop("user.tags")||"Tags",noteCount:window.messages.prop("notes.savedCount")||"Notes",collectionCount:window.messages.prop("user.collections")||"Collections",savedQueryCount:window.messages.prop("user.queries")||"Saved Queries",historyCount:window.messages.prop("user.history")||"History Items"}};var o="/lens/api/user/work-area/summary",s=function(){e({url:o,cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){n.vm.summary=e.data;var t=n.vm.summary.stringsCount;n.vm.summary.stringsCount.dashboard=(t["patent-dashboard"]||0)+(t["scholar-dashboard"]||0)})).catch((function(e){console.warn(e)}))};s();var l=[];l.push(t.$on("REFRESH_WORK_AREA_SUMMARY",(function(){i.get("$http").remove(o),s()}))),n.$on("$destroy",(function(){l.forEach((function(e){return e()}))}))}}}]))},function(e,t){e.exports='<div class="work-area-summary">\n    <h5 class="h5-styled">Work Area</h5>\n    <ul class="list-icons work-area-summary-menu">\n        <li ng-class="{disabled: $root.isAnon}" hidden>\n            <a lens-state-active="\'workArea.projects\'" ui-sref="workArea.projects">\n                <em class="list-icons--icon far fa-folders"></em>\n                <span class="list-icons--label">Projects\n                    <span class="list-icons--count" ng-if="vm.projectCount">({{vm.projectCount}})</span>\n                    <small ng-if="!$root.isAnon" class="active-project" ng-if="$ctrl.state.selectedProject">{{$ctrl.state.selectedProject.title}}</small>\n                </span>\n\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}">\n            <a lens-state-active="\'workArea.queries.savedQueries\'" ui-sref="workArea.queries.savedQueries">\n                <em class="list-icons--icon far fa-save"></em>\n                <span class="list-icons--label">Saved Queries\n                    <span ng-if="vm.summary.savedQueryCount" class="list-icons--count">({{vm.summary.savedQueryCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li>\n            <a lens-state-active="\'workArea.queries.history\'" ui-sref="workArea.queries.history">\n                <em class="list-icons--icon far fa-search"></em>\n                <span class="list-icons--label">Search History\n                    <span ng-if="vm.summary.historyCount" class="list-icons--count">({{vm.summary.historyCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}">\n            <a lens-state-active="\'workArea.collections\'" ui-sref="workArea.collections">\n                <em class="list-icons--icon far fa-folder-open"></em>\n                <span class="list-icons--label">Collections\n                    <span ng-if="vm.summary.collectionCount" class="list-icons--count">({{vm.summary.collectionCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}">\n            <a lens-state-active="\'workArea.dashboards\'" ui-sref="workArea.dashboards">\n                <em class="list-icons--icon far fa-tachometer-alt-fast"></em>\n                <span class="list-icons--label">{{::\'user.dashboards\' | message}}\n                   <span class="list-icons--count" ng-if="vm.summary.stringsCount.dashboard">({{vm.summary.stringsCount.dashboard}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" ng-if="$root.hasPermission(\'MANAGE_REPORT\')">\n            <a lens-state-active="\'workArea.reports\'" ui-sref="workArea.reports" class="active">\n                <em class="list-icons--icon far fa-file-medical-alt"></em>\n                <span class="list-icons--label">Reports\n                    <span class="list-icons--count" ng-if="vm.summary.stringsCount.report">({{vm.summary.stringsCount.report}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" xng-if="showMore || vm.summary.noteCount">\n            <a lens-state-active="\'workArea.notes\'" ui-sref="workArea.notes">\n                <em class="list-icons--icon far fa-sticky-note"></em>\n                <span class="list-icons--label">Notes\n                   <span ng-if="vm.summary.noteCount" class="list-icons--count">({{vm.summary.noteCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" xng-if="showMore || vm.summary.tagCount">\n            <a lens-state-active="\'workArea.tags\'" ui-sref="workArea.tags">\n                <em class="list-icons--icon far fa-tag"></em>\n                <span class="list-icons--label">Tags\n                   <span ng-if="vm.summary.tagCount" class="list-icons--count">({{vm.summary.tagCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" xng-if="showMore">\n            <a lens-state-active="\'workArea.inventorship\'" ui-sref="workArea.inventorship">\n                <em class="list-icons--icon far fa-file-certificate"></em>\n                <span class="list-icons--label">Inventorship\n                <span class="list-icons--count" ng-if="vm.summary.inventorshipCount">({{vm.summary.inventorshipCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" xng-if="showMore">\n            <a lens-state-active="\'workArea.authorship\'" ui-sref="workArea.authorship">\n                <em class="list-icons--icon far fa-graduation-cap"></em>\n                <span class="list-icons--label">Authorship\n                <span class="list-icons--count" ng-if="vm.summary.authorshipCount">({{vm.summary.authorshipCount}})</span>\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-class="{disabled: $root.isAnon}" xng-if="showMore">\n            <a lens-state-active="\'user.editAccount\'" ui-sref="user.editAccount">\n                <em class="list-icons--icon far fa-cog"></em>\n                <span class="list-icons--label">Settings\n                </span>\n                <em class="far fa-chevron-right"></em>\n            </a>\n        </li>\n        <li ng-show="!showMore" hidden>\n            <a ng-click="showMore = true">\n                <em class="list-icons--icon far fa-ellipsis-h-alt"></em>\n                <span class="list-icons--label">More</span>\n            </a>\n        </li>\n    </ul>\n</div>\n'},function(e,t,n){"use strict";var i=s(n(8)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(33)),r=s(n(0)),o=s(n(245));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(1013);r.default.directive("lensWorldMap",[function(){return{template:n(638),scope:{counts:"=",tooltipData:"=",worldMapMarkers:"<",filter:"<",countryFilter:"<",countryTooltip:"<",stateFilter:"<",additionalFilter:"<",onClickCountry:"<",fieldName:"<",height:"<",minZoom:"<",colourScheme:"<",isFamily:"<"},controller:["$scope","$element","$timeout","$http","$rootScope",function(e,t,n,r,s){t.on("wheel",(function(e){t.toggleClass("scroll-notice-active",!e.shiftKey)}));var c=_.debounce((function(){t.toggleClass("scroll-notice-active",!1)}),100);t.on("mouseout",(function(e){t.toggleClass("scroll-notice-active",!1)})),t.on("mousemove",(function(e){c()}));var u=void 0,d=void 0,p=void 0,f=void 0,m=void 0,h=void 0,y=e.minZoom||1;e.disableWheelScroll=!1;var g=1;var v=a.zoom().scaleExtent([y,500]).filter((function(){return"wheel"!==a.event.type||a.event.shiftKey})).on("zoom",(function(){S(),m.attr("transform",a.event.transform),g=a.event.transform.k,m.selectAll(".boundary").style("stroke-width",1/g),m.selectAll(".marker").style("stroke-width",1/g),m.selectAll("circle").attr("r",5/g)}));r.get(window.UI_CONFIG.assetLocation+"/countries.topo.json",{cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){u=e.data,b()}));var b=function(){if(u){t.find(".inner-map").empty(),d=t[0].clientWidth,p=300,d>1e3&&(p=500),e.height&&(p=e.height);var r=_.values(e.counts).length,s=6;e.isFamily&&(s=r>25?3:r>10?2:1);var c=[0,s,_.max(_.values(e.counts))],y=e.colourScheme||"schemeBlues[3]",g=(0,i.default)(a,y),b=a.scaleLinear().domain(c).range(g),S=d<800?100:d<1200?150:200;d<400&&(S=60);var C=a.geoMercator().scale(S).translate([d/2,p/1.5]);f=a.select(t.find(".inner-map")[0]).append("svg").attr("width",d).attr("height",p).call(v),h||(h=f.on("wheel.zoom"));var A=a.geoPath().projection(C);m=f.append("g");var w=l.feature(u,u.objects["countries.geo"]).features;w.forEach((function(t){var n=t.properties.name,i={"United States of America":"United States"}[n]||n,a=e.counts[i]||e.counts[n];t.properties.count=a,t.properties.code=n})),m.append("g").attr("class","boundary").selectAll("boundary").data(w).enter().append("path").attr("name",(function(e){return e.properties.name})).attr("fill",(function(e){return b(e.properties.count||0)})).attr("id",(function(e){return e.id})).on("mouseenter",e.countryTooltip?function(t,n){var i=t.properties.name,r=t.properties.count;e.countryTooltipPosition={left:Math.min(a.event.layerX+10,d-300)+"px",top:Math.max(a.event.layerY,0)+"px"},e.countryLabel=i,e.countryCount=r,e.countryCode=(0,o.default)(i);var s={"United States of America":"US"};s[i]&&(e.countryCode=s[i]);T()}:null).on("click",(function(t){return e.clickCountry(t.properties)})).attr("d",A),m.append("g").selectAll("circle").data(e.worldMapMarkers).enter().append("circle").attr("r",5).attr("class",(function(e){return"marker "+e.type.toLowerCase()})).attr("transform",(function(e){return"translate("+C([e.lng,e.lat])+")"})).on("mouseenter",(function(t,i){t.position={left:Math.min(a.event.layerX+10,d-300)+"px",top:Math.max(a.event.layerY-400,0)+"px"},P=n((function(){e.tooltipData&&t&&(e.tooltipData=t,e.tooltipData.context="map",e.$apply())}),100)})).on("mouseout",(function(e){return n.cancel(P)}));var P=void 0,T=_.debounce((function(){return e.$digest()}),50,!0);f.on("wheel.zoom",h),_.defer(k),n((function(){e.reveal=!0}),10)}};e.render=b,e.clickCountry=function(t){e.onClickCountry&&e.onClickCountry.apply(e.$parent.$ctrl||void 0,[t])},e.clickCountryTooltip=function(){e.onClickCountry&&e.onClickCountry.apply(e.$parent.$ctrl||void 0,[e.countryCode])};var S=_.debounce((function(){e.tooltipData={visible:!1},e.$apply()}),100,!0),C=function(t){return!(!e.filter.user||!e.filter.user.displayName||t.displayName.toUpperCase().includes(e.filter.user.displayName.toUpperCase()))||(!(!(0,i.default)(e.filter,"user.metadata.city")||!t.city||t.city.toUpperCase().includes(e.filter.user.metadata.city.toUpperCase()))||(!(!e.countryFilter||!_.values(e.countryFilter).filter((function(e){return e})).length||e.countryFilter[t.countryCode])||!(!e.stateFilter||!_.values(e.stateFilter).filter((function(e){return e})).length||e.stateFilter[t.state])))},k=function(){m&&(e.tooltipData={visible:!1},m.selectAll(".marker").classed("hidden",C),setTimeout((function(){if(1===$(".marker:visible").length){var e=document.createEvent("SVGEvents");e.initEvent("mouseenter",!0,!0),$(".marker:not(.hidden)")[0].dispatchEvent(e)}}),360))};e.$watch("filter",k,!0),e.$watch("countryFilter",k,!0),e.$watch("stateFilter",k,!0);var A=_.debounce(b,500);e.$watch("colourScheme",A),e.$watch("counts",A,!0),$(window).resize(A),s.$on("REFRESH_ANALYSIS_VISUALISATIONS",A),A();var w=[];w.push(s.$on("SIDE_TAB_LAYOUT_CHANGED",A)),e.$on("$destroy",(function(){w.forEach((function(e){return e()}))}))}]}}])},function(e,t){e.exports='<div style="position: relative;" class="lens-inner-world-map scroll-notice-container" ng-class="{reveal: reveal}">\n    <div class="scroll-notice-content">Hold shift key while scrolling to zoom</div>\n    <div class="map-zoom" hidden>\n        <em class="far fa-plus map-zoom--in"></em>\n        <em class="far fa-minus map-zoom--out"></em>\n    </div>\n    <div style="position: absolute; z-index: 1;"\n        ng-if="countryLabel && countryCount"\n        ng-style="countryTooltipPosition"\n        class="countryTooltipPosition"\n    >\n\n        <a ng-click="clickCountryTooltip()" class="link">\n            <span lens-flag country="countryLabel"></span>\n            {{::\'common.filterBy\' | message}} {{::fieldName || \'Jurisdiction\'}} = {{countryLabel}} ({{countryCount | customNumber}})\n        </a>\n\n    </div>\n    <div class="inner-map"></div>\n</div>\n'},function(e,t,n){"use strict";e.exports={ArticleBadges:n(137),ArticleLinkouts:n(44),ArticleSorts:n(73),ClassificationService:n(243),ExportFields:n(140),LoadingSpinner:n(250),LocalStorageService:n(2),LogoutWarning:n(640),Menu:n(251),Notification:n(5),PatSeqEmbedView:n(641),Sequence:n(642),Tooltip:n(643),UniqueSplit:n(644)}},function(e,t,n){"use strict";var i=new(n(2)),a=n(5);e.exports=function(e){var t=i.get("wasAuthed");(i.set("wasAuthed",!e),t&&e)&&((new a).error("Warning! You have been logged out",{life:5e3}),i.set("wasAuthed",!1))}},function(e,t,n){"use strict";var i=function(){var e=function(){var e=$("input.seqembed-height").val(),t=$("input.seqembed-width").val();t>0&&e>0&&$(".embedText").html('<iframe width="'+t+'" height="'+e+'" src="'+$("input.shareUrl").val()+'" frameborder="0"></iframe>')},t=$(".bio-embeds");t.on("keyup input",e),t.on("change input",e),t.on("click .embedToggle",(function(e){e.preventDefault(),$(".embedContent").show()})),e()};window.PatSeqEmbedView=i,e.exports=i},function(e,t,n){"use strict";e.exports={base:{autocomplete_organism:function(e){var t,n={};$(e.autocompleteEl).length&&($(e.autocompleteEl).keyup((function(){""==e.autocompleteEl.val()&&e.displayEl.val("")})),$(e.autocompleteEl).autocomplete({source:function(i,a){var r=i.term.split(/,\s*/).pop();if(r.length<2)a([]);else{var o=r+"*";o in n?a(n[o]):(e.showLoading(),t=$.getJSON("/lens/service/taxonomy/search",{term:o},(function(i,r,s){var l=[];$.each(i.taxa,(function(e,t){l.push(t)})),n[o]=l,s===t&&a(l),e.hideLoading()})))}},focus:function(){return!1},select:function(t,n){var i=n.item.names.SCIENTIFIC_NAME[0],a=n.item.taxId,r=this.value.split(/,\s*/);r.pop(),r.push(i),r.push(""),this.value=r.join(", ");var o=[];return""!=e.displayEl.val()&&(o=e.displayEl.val().split(/,\s*/)),o.push(a),e.displayEl.val(o.join(",")),!1},html:!0}).data("ui-autocomplete")._renderItem=function(e,t){var n=t.names.SCIENTIFIC_NAME[0];return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"<br><small>("+t.division+")</small></a>").appendTo(e)},$(e.autocompleteEl).autocomplete("option","appendTo",e.appendTo))}},results:{wireupHelp:function(){var e=$(".alignmentWidget");$(".helpPanelAccordion .showHidePanel h3").click((function(){var e=$(this).parents(".showHidePanel");return $(".helpPanelAccordion .openPanel").not(e).removeClass("openPanel").addClass("closedPanel"),e.hasClass("openPanel")?e.removeClass("openPanel").addClass("closedPanel"):e.removeClass("closedPanel").addClass("openPanel"),!1})),$(".helpPanelLink",e).click((function(){return e.prepend('<div class="cover"></div>'),$(".helpPanel",e).show(),!1})),$(document).on("click.searchDetails",".hideHelpPanel, .cover",(function(){return $(".cover",e).remove(),$(".helpPanel",e).hide(),!1}))}},search_utils:{compactBp:function(e,t){var n;n="AA"===t?["aa"]:"DNA"===t?["bp","kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"]:["","k"];for(var i=0;e>1e3&&i<n.length;i++)e/=1e3;var a=e>100?10:100;return Math.round(e*a)/a+n[i]}}}},function(e,t,n){"use strict";var i,a,r,o=n(250);e.exports=(a=function(e){return function(t,n){var i=$(document).width(),a=$(this).width(),r=t.left+a;r>i&&(t.left-=r-i+100),$(this).css(t);var o=$(n.target.element);$(this).find(".myarrows").remove();var s=o.offset().left,l=$(this).position().left;$("<div>").addClass("myarrows").addClass(e).css({left:s-l+o.outerWidth(!0)/2+"px"}).appendTo(this)}},r={right:{at:"right+11 center",my:"left center",using:(i=function(e){return function(t,n){var i=$(document).scrollTop(),a=$(window).height()+$(window).scrollTop(),r=$(this).height(),o=t.top+r;if(t.top<i)t.top=i;else if(o>=a){var s=o-a,l=t.top-s;l>i&&(t.top=l)}$(this).css(t);var c=$(n.target.element);$(this).find(".myarrows").remove();var u=c.offset().top,d=$(this).position().top;$("<div>").addClass("myarrows").addClass(e).css({top:u-d-(c.height()-11)/2+"px"}).appendTo(this)}})("left"),collision:"none"},left:{at:"left-11 center",my:"right center",using:i("right"),collision:"none"},bottom:{at:"center bottom+11",my:"center top",using:a("top"),collision:"none"},top:{at:"center top-11",my:"center bottom",using:a("bottom"),collision:"none"},bottomfit:{at:"center bottom+11",my:"center top",using:a("top"),collision:"fit"}},function(e){var t=e.tooltipPosition,n=$(e.target),i=e.tooltipClass,a=e.type,s=e.onOpen,l=e.content,c=_.isUndefined(e.sticky),u=_.extend({},r[t],{of:n});if("ajax"===a)return n.tooltip({tooltipClass:i,content:e.loadingTemplate?ich[e.loadingTemplate]():o.render(),position:u,sticky:c,items:n,show:{delay:500},open:function(e,t){s(e,t).then((function(){$(t.tooltip).position(u)})).fail((function(){}))}});if("local"===a){if(_.isUndefined(l)||$.trim($(l).text()).length<=1)return;return n.tooltip({tooltipClass:i,content:l,position:u,sticky:e.sticky,items:n,show:{delay:500},open:function(e,t){s&&s(e,t),$(t.tooltip).position(u)}})}})},function(e,t,n){"use strict";e.exports=function(e){var t=function(e){var t=$.trim(e);return""===t?[]:t.replace(/,/g," ").split(" ")}(e);return _.uniq(_.filter(t,(function(e){return!_.isEmpty($.trim(e))})))}},function(e,t,n){"use strict";e.exports={BlastResource:n(646),LinkedIdentityResource:n(647),PatCiteHistoryResource:n(648),QueryResource:n(649),SavedQueryResource:n(650),TagResource:n(651)}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("BlastResource",["$resource",function(e){return e("/lens/service/blast/:id",{id:"@id"})}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("LinkedIdentityResource",["$resource",function(e){return e("/lens/service/identity/:id",{id:"@id"},{save:{method:"PUT"}})}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("PatCiteHistoryResource",["$resource",function(e){return e("/lens/service/patcite-query/:id",{id:"@id"})}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("QueryResource",["$resource",function(e){return e("/lens/api/search-request/:searchId/query",{searchId:"@id"})}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("SavedQueryResource",["$resource",function(e){return e("/lens/service/query/:queryId",{queryId:"@id"})}])},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("TagResource",["$resource",function(e){return e("/lens/service/tag/:tagId",{tagId:"@tag"})}])},function(e,t,n){"use strict";e.exports={CollectionNotesService:n(653),CollectionService:n(654),FlashMessagesService:n(249),NotesService:n(656),OrcidService:n(657),PagedResourceFactory:n(658),PatentNotesService:n(659),PatentService:n(660),RecentWorkService:n(662),ReportService:n(663),ScholarService:n(664),ScholarNotesService:n(668),SettingsService:n(669),SharedObjectService:n(670)}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.factory("CollectionNotesService",["$http","CollectionService",function(e,t){var n=function(e){return"/lens/service/collection/"+e};return{fetch:function(e){return t.fetch(e).then((function(e){return e.notes}))},create:function(t,i){return e({url:n(t)+"/note",method:"POST",data:JSON.stringify(i)}).then((function(e){})).catch((function(e){console.warn(e)}))},update:function(t,i){return e({url:n(t)+"/note/"+i.id,method:"PUT",data:JSON.stringify(i)}).then((function(e){})).catch((function(e){console.warn(e)}))},delete:function(t,i){return e({url:n(t)+"/note/"+i.id,method:"DELETE"}).then((function(e){})).catch((function(e){console.warn(e)}))}}}])},function(e,t,n){"use strict";var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i},s=n(655);var l="/lens/service/collection",c=["PATENT","SCHOLARLY_WORK"],u=n(252),d=n(36),p=function(e){function t(e,n,i,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.$cacheFactory=i,o.$http=e,o.$rootScope=n,o.PatentService=a,o.ScholarService=r,o._getAll=null,o._collectionPromise={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"clearCache",value:function(){this.$cacheFactory.get("$http").remove(l)}},{key:"fetch",value:function(e){var t=this;if(this._collectionPromise[e])return this._collectionPromise[e];if(!e)throw new Error("Attempting to fetch Collection with no ID. Aborting.");return this._collectionPromise[e]=this.$http.get(l+"/"+e).then((function(n){var i=n.data;return i.selectedSavedQuery={},i.savedQueries.forEach((function(e){i.autoupdate=!0,i.moreQueries=!0,i.selectedSavedQuery[e.id]=!0})),i.avatar&&(i.avatarId=i.avatar.id),i.original=_.cloneDeep(i),t._collection=i,t._collectionPromise[e]=null,t._collection})),this._collectionPromise[e]}},{key:"history",value:function(e){return this.$http.get(l+"/"+e+"/history").then((function(e){return e.data}))}},{key:"historyEvent",value:function(e){return this.$http.get("/lens/service/collection-event/"+e).then((function(e){return e.data}))}},{key:"getAll",value:function(){var e=this;return this._getAll||(this._getAll=this.$http({url:l,cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(t){return e._getAll=null,t.data}))),this._getAll}},{key:"create",value:function(e){var t=this;if(!_.includes(c,e.type))throw new Error("Collection type must be one of: "+c.join(", ")+". Got: "+e.type);return this.$http({url:l,method:"POST",data:JSON.stringify(e)}).then((function(e){return t.clearCache(),t.emit("REFRESH_COLLECTIONS"),t.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),e.data}))}},{key:"save",value:function(e){var t=this,n=e.title,i=e.description,a=e.access,r=e.displayAvatar,o=_.get(e,"avatar.id")||e.avatarId,s=function(t){return{method:t,headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({collectionId:e.id})}},c=e.original;return c&&(c.selectedSavedQuery&&_.keys(c.selectedSavedQuery).forEach((function(t){e.selectedSavedQuery[t]||fetch("/lens/service/query/"+t+"/collections",s("DELETE"))})),_.keys(e.selectedSavedQuery).filter((function(t){return e.selectedSavedQuery[t]})).forEach((function(e){c.selectedSavedQuery&&c.selectedSavedQuery[e]||fetch("/lens/service/query/"+e+"/collections",s("POST"))}))),this.$http({url:l+"/"+e.id,method:"PUT",data:JSON.stringify({title:n,description:i,access:a,displayAvatar:r,avatarId:o})}).then((function(e){return t.clearCache(),t.emit("REFRESH_COLLECTION",e.data),t.emit("REFRESH_COLLECTIONS"),e}))}},{key:"delete",value:function(e){var t=this;return this.$http({url:l+"/"+e,method:"DELETE"}).then((function(n){return t.clearCache(),t.emit("REFRESH_COLLECTIONS"),t.emit("DELETE_COLLECTION",e),t.$rootScope.$broadcast("REFRESH_WORK_AREA_SUMMARY"),n}))}},{key:"import",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lens-ids",a=l+"/"+e+"/import/"+i;return t=_.isArray(t)?t.map((function(e){return e.trim()})).filter((function(e){return e})).join(","):t.split(/,|\n/g).map((function(e){return e.trim()})).filter((function(e){return e})).join(","),this.$http({url:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:"items="+t.split("\n").join(",")}).then((function(t){return n.clearCache(),("PATENT"===t.data.type?n.PatentService:n.ScholarService).clearCache(),n.emit("REFRESH_COLLECTION",{id:e}),n.emit("REFRESH_COLLECTIONS"),t.data}))}},{key:"addItems",value:function(e,t){var n=this;return _.isArray(t)&&(t=t.join(",")),this.$http({url:l+"/"+e+"/item",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:"items="+t}).then((function(e){return n.clearCache(),("PATENT"===e.data.type?n.PatentService:n.ScholarService).clearCache(),n.emit("REFRESH_COLLECTION",e.data),n.emit("REFRESH_COLLECTIONS"),e.data}))}},{key:"removeItems",value:function(e,t){var n=this;return _.isArray(t)&&(t=t.join(",")),this.$http({url:l+"/"+e+"/item/delete",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:"items="+t}).then((function(e){return n.clearCache(),("PATENT"===e.data.type?n.PatentService:n.ScholarService).clearCache(),n.emit("REFRESH_COLLECTION",e.data),n.emit("REFRESH_COLLECTIONS"),e.data}))}},{key:"addSearchToCollection",value:function(e,t){var n=this;return this.$http({url:"/lens/service/collection/"+e.id+"/items",method:"PUT",data:{queryId:t}}).then((function(e){return n.clearCache(),("PATENT"===e.data.type?n.PatentService:n.ScholarService).clearCache(),n.emit("REFRESH_COLLECTION",e.data),n.emit("REFRESH_COLLECTIONS"),e.data}))}},{key:"removeSearchFromCollection",value:function(e,t){var n=this;return this.$http({url:"/lens/service/collection/"+e.id+"/items",method:"DELETE",headers:{"Content-Type":"application/json"},data:{queryId:t}}).then((function(e){return("PATENT"===e.data.type?n.PatentService:n.ScholarService).clearCache(),n.emit("REFRESH_COLLECTION",e.data,{removeSearchFromCollection:!0}),n.emit("REFRESH_COLLECTIONS"),e.data}))}},{key:"export",value:function(e,t){return this.$http({url:l+"/"+e+"/export",method:"GET",params:t})}},{key:"getAdditionalMetadata",value:function(e){var t=e.id;return 27083===t?{introText:'"We’re a global charitable foundation, both politically and financially independent. We support scientists and researchers, take on big problems, fuel imaginations, and spark debate. Our funding supports over 14,000 people in more than 70 countries. In the next five years, we aim to spend up to £5 billion helping thousands of curious, passionate people all over the world explore ideas in science, population health, medical innovation, the humanities and social sciences and public engagement." Source: Wellcome Trust website',item:{type:"faux",link:"https://wellcome.ac.uk/",created:new Date(2018,0,23),updated:new Date,user:{displayName:"Wellcome Trust",metadata:{logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Wellcome_Trust_logo.svg/1024px-Wellcome_Trust_logo.svg.png"}}}}:27084===t?{introText:'"We work with partners worldwide to tackle critical problems in five program areas. Our Global Health Division aims to reduce inequities in health by developing new tools and strategies to reduce the burden of infectious disease and the leading causes of child mortality in developing countries. Our Global Development Division focuses on improving the delivery of high-impact health products and services to the world’s poorest communities and helps countries expand access to health coverage. Our Global Growth & Opportunity division focuses on creating and scaling market-based innovations to stimulate inclusive and sustainable economic growth. Our United States Division works to improve U.S. high school and postsecondary education, and support vulnerable children and families in Washington State. And our Global Policy & Advocacy Division seeks to build strategic relationships and promote policies that will help advance our work. Our approach to grantmaking in all five areas emphasizes collaboration, innovation, risk-taking, and, most importantly, results." Source: Gates Foundation website',item:{type:"faux",link:"https://www.gatesfoundation.org",created:new Date(2018,0,23),updated:new Date,user:{displayName:"Bill and Melinda Gates Foundation",metadata:{logoUrl:"https://www.gatesfoundation.org/~/media/GFO/Site/Logo-Images/Gates_logo_1200x1200.jpg"}}}}:null}},{key:"getIn4mMetadata",value:function(e){var t=u[e.id];if(!t)return Promise.resolve(null);var n=t.slug,i=t.dataset,a=t.type,r=t.datasetAlias;if(!n)return Promise.resolve(null);var o=n.replace(/\-/g," "),l="";"Patent Portfolio"===a?l="This is a patent collection created by searching for owners or applicants related to this institution’s names. For more details on the search terms used, please see the attached “Notes” below.":"Citing Patent Collection"===a&&(l="This collection encompasses patents that cite the scholarly works of "+o+".");var c=window.UI_CONFIG.institutionDataLocation+"/"+i+"/institutions/"+n+".json";return this.$http.get(c).then((function(e){var t=e.data;return t.slug=n,t.type="institution",t.datasetAlias=r,t.dossierUrl="/lens/in4m/dossier/"+r+"/"+n+"/analysis",t.user.metadata.logoUrl=d(o),(0,s.formatAddresses)(t),{item:t,introText:l}}))}}]),t}(n(63));o.default.service("CollectionService",["$http","$rootScope","$cacheFactory","PatentService","ScholarService",p]),e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatAddresses=void 0;var i,a=n(8),r=(i=a)&&i.__esModule?i:{default:i};t.formatAddresses=function(e){var t=(0,r.default)(e,"user.metadata");t&&t.address&&(t.address=t.address.replace("\n",",")),t&&t.tto&&t.tto.address&&(t.tto.address=t.tto.address.replace("\n",","))}},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(5));r.default.factory("NotesService",[].concat(["$http","$rootScope","CollectionNotesService","PatentNotesService","ScholarNotesService"],[function(e,t,n,i,a){var r={};return{getService:function(e){var t=void 0;return"COLLECTION"===e?t=n:"PATENT"===e?t=i:"SCHOLAR"===e&&(t=a),t},fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PATENT",n=this.getService(t),i=t+":"+e;return r[i]||(r[i]=n.fetch(e).then((function(e){return delete r[i],e}))),r[i]},fetchGrouped:function(){return e({url:"/lens/api/user/work-area/notes/grouped",method:"GET"})},recent:function(){return e({url:"/lens/api/user/work-area/notes/recent?size=10"}).then((function(e){return e.data}))},delete:function(t){var n=this;return e.delete("/lens/api/user/work-area/notes/"+t).then((function(e){return n.broadcast("REFRESH_NOTES"),o.notify("Note Deleted"),e}))},linkUrl:function(e){return"PATENT"===e.type?"BASE"!==e.scope?"/lens/patent/"+e.lensId+"#/"+e.scope.toLowerCase():"/lens/patent/"+e.lensId+"/notes":"COLLECTION"===e.type?"/lens/search/"+("PATENT"===e.collectionType?"patent":"scholar")+"/notes?collectionId="+e.collectionId:"SCHOLAR"===e.type?"/lens/scholar/article/"+e.lensId+"/notes":void 0},broadcast:function(){t.$broadcast.apply(t,arguments)}}}]))},function(e,t,n){"use strict";var i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0);((i=r)&&i.__esModule?i:{default:i}).default.factory("OrcidService",[].concat([],[function(){var e={method:"GET",headers:{"Content-Type":"application/json"}},t=function(e,t,n){return"https://pub.orcid.org/v3.0/search/?q=%7B!edismax%20qf%3D%22given-and-family-names%5E50.0%20family-name%5E10.0%20given-names%5E5.0%20credit-name%5E10.0%20other-names%5E5.0%20text%5E1.0%22%20pf%3D%22given-and-family-names%5E50.0%22%20mm%3D1%7D"+encodeURIComponent(e)+"&start="+t+"&rows="+n},n=function(e){return"https://pub.orcid.org/v3.0/"+e+"/person"},i=function(e){return"https://pub.orcid.org/v3.0/"+e+"/activities"},r=function(e){if(!e.name)return"";var t=_.get(e.name["credit-name"],"value");if(t)return t;var n=e.name["given-names"],i=e.name["family-name"];return((n?n.value:"")+" "+(i?i.value:"")).trim()},o=function(e){return(_.get(e,"['other-names']['other-name']")||[]).map((function(e){return e.content}))},s=function(e){return(_.get(e,"['researcher-urls']['researcher-url']")||[]).map((function(e){return{url:e.url.value,label:e["url-name"]}}))},l=function(e){return(_.get(e,"educations['affiliation-group']")||[]).reduce((function(e,t){var n=t.summaries.map((function(e){return e["education-summary"]}));return e.concat(n)}),[])||[]},c=function(e){return l(e).map((function(e){return _.get(e,"organization.name")}))},u=function(e){return function(e){return(_.get(e,"employments['affiliation-group']")||[]).reduce((function(e,t){var n=t.summaries.map((function(e){return e["employment-summary"]}));return e.concat(n)}),[])}(e).map((function(e){var t=_.get(e["start-date"],"year.value");return{dates:(t?t+" - ":"")+(_.get(e["end-date"],"year.value")||"Present"),organization:e.organization.name,department:e["department-name"],role:e["role-title"],path:e.path}}))},d=function(e){return e.works.group},p={},f={},m={},h=function(t){return f[t]||(f[t]=fetch(n(t),e).then((function(e){return e.json()}))),f[t]},y=function(t){return m[t]||(m[t]=fetch(i(t),e).then((function(e){return e.json()}))),m[t]};return{getPerson:function(e){return h(e)},getActivities:y,extractAliases:o,extractFunding:function(e){return(_.get(e,"fundings.group")||[]).map((function(e){var t=e["funding-summary"][0],n=_.get(t,"['external-ids']['external-id']")||[],i=_.get(t["start-date"],"year.value");return{dates:(i?i+" - ":"")+(_.get(t["end-date"],"year.value")||"Present"),title:t.title.title.value,organization:t.organization.name,source:t.source["source-name"].value,externalIds:n.map((function(e){return e["external-id-value"]}))}}))},extractPeerReviews:function(e){return(_.get(e["peer-reviews"],"group")||[]).map((function(e){return e["peer-review-group"]}))},extractName:r,extractUrls:s,extractVerboseEducations:function(e){return l(e).map((function(e){var t=_.get(e["start-date"],"year.value");return{dates:(t?t+" - ":"")+(_.get(e["end-date"],"year.value")||"Present"),organization:e.organization,department:e["department-name"],role:e["role-title"],path:e.path}}))},extractVerboseEmployments:u,searchByName:function(n,i,a){var r=n+"-"+i;return p[r]||(p[r]=fetch(t(n,i,a),e).then((function(e){return e.json()})).then((function(e){return e.result.map((function(e){return e["orcid-identifier"].path}))}))),p[r]},lookupPersonName:function(e){return h(e).then(r)},lookupAliases:function(e){return h(e).then(o)},lookupPersonUrls:function(e){return h(e).then(s)},lookupAffiliations:function(e){return y(e).then(c)},lookupPositions:function(e){return y(e).then(u)},lookupWorks:function(e){return y(e).then(d)},search:function(o,s){return fetch(t(o,s),e).then((function(e){return e.json()})).then((function(t){var o=t.result.map((function(e){return e["orcid-identifier"].path}));Promise.all([Promise.all(o.map((function(t){return fetch(n(t),e).then((function(e){return e.json()}))}))),Promise.all(o.map((function(t){return fetch(i(t),e).then((function(e){return e.json()}))})))]).then((function(e){var t=a(e,2),n=t[0],i=t[1],s=i.map((function(e){return e.educations["education-summary"].map((function(e){return e.organization.name}))})),l=i.map((function(e){return e.employments["employment-summary"].map((function(e){return e["role-title"]+", "+e.organization.name}))})),c=n.map((function(e){return e["researcher-urls"]["researcher-url"].map((function(e){return{url:e.url.value,label:e["url-name"]}}))}));return o.map((function(e,t){return{id:o[t],name:r(n[t]),affiliations:s[t].join("; "),positions:l[t].join("; "),urls:c[t]}}))}))}))},isOrcidId:function(e){return/^(\d{4}-){3}\d{4}$/.test(e.trim())}}}]))},function(e,t,n){"use strict";var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t){s(this,e),this._$http=t}return a(e,[{key:"createRemote",value:function(e){return new c(this._$http,e)}},{key:"createLocal",value:function(e){return new u(e)}}]),e}();o.default.service("PagedResourceFactory",["$http",l]);var c=function(){function e(t,n){s(this,e),this._$http=t,this._url=n,this.loading=!1,this.data={},this.page=0,this.pageRange=[],this.pageSize=50,this._maxPage=0}return a(e,[{key:"fetch",value:function(){var e=this,t={params:{n:this.pageSize,p:this.page}};this.loading=!0,this._$http.get(this._url,t).then((function(t){e.data=t.data,e.pageRange=e._pages(),e.loading=!1})).catch((function(t){e.loading=!1,e.errorStatus=t.status,console.warn(t)}))}},{key:"previousPage",value:function(){this.page>0&&(this.page--,this.fetch())}},{key:"setPage",value:function(e){this.page=e,this.fetch()}},{key:"nextPage",value:function(){this.page<this._maxPage&&(this.page++,this.fetch())}},{key:"_pages",value:function(){this._maxPage=Math.floor(this.data.size/this.pageSize);var e=Math.max(0,this.page-4),t=Math.min(Math.max(10,this.page+6),this._maxPage)+1;return _.range(e,t)}}]),e}(),u=function(){function e(t){s(this,e),this.page=0,this.pageSize=50,this._maxPage=0,this.setData(t)}return a(e,[{key:"setData",value:function(e){this._data=e,this.size=e.length,this.fetch()}},{key:"fetch",value:function(){var e=this.page*this.pageSize,t=e+this.pageSize;this.data=this._data.slice(e,t),this.pageRange=this._pages()}},{key:"previousPage",value:function(){this.page>0&&(this.page--,this.fetch())}},{key:"setPage",value:function(e){this.page=e,this.fetch()}},{key:"nextPage",value:function(){this.page<this._maxPage&&(this.page++,this.fetch())}},{key:"_pages",value:function(){this._maxPage=Math.floor(this.size/this.pageSize);var e=Math.max(0,this.page-4),t=Math.min(Math.max(10,this.page+6),this._maxPage)+1;return _.range(e,t)}}]),e}()},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.factory("PatentNotesService",[].concat(["$http","$rootScope"],[function(e,t){var n=function(e){return"/lens/service/patent-entity/"+e+"/note"},i="/lens/service/patent-entity/note";return{fetch:function(t){return e({url:n(t),method:"GET"}).then((function(e){return e.data}))},create:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e({url:i,method:"POST",data:JSON.stringify({lensId:t,scope:n.scope?n.scope.toUpperCase():"BASE",text:n.text||"",published:!0})})},update:function(t,n){return n.scope=(n.scope||"BASE").toUpperCase(),e({url:i+"/"+n.id,method:"PUT",data:JSON.stringify(n)})},delete:function(t,n){return e({url:i+"/"+n.id,method:"DELETE"})},recent:function(){return e({url:"/lens/api/user/work-area/notes/recent?size=10"}).then((function(e){return e.data}))}}}]))},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(0)),o=(u(n(8)),u(n(26)),u(n(29))),s=u(n(88)),l=n(661),c=n(85);function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];try{var h=sessionStorage.getItem("patent-cache");m=h?JSON.parse(h):[]}catch(e){console.warn("Session Cache init failure")}var y=function(e){function t(){p(this,t);var e=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.API_BASE_URL="/lens/",e.cache=m,e.MOST_FIELDS=["abstract","agent","applicant","application_reference.date","application_reference.doc_number","assistant_examiner","cited_by.patent_count","cites_patent","claim","class_cpc","class_ipcr","class_national","date_published","doc_key","doc_number","earliest_priority_claim_date","examiner","family.extended.id","family.extended.size","family.simple","family.simple.id","family.simple.size","has_abstract","has_claim","has_description","has_docdb","has_examiner","has_full_text","has_title","inventor","jurisdiction","kind","legal_status","lens_internal.legacy_pub_key","npl_citation_count","owner_all","patent_citation_count","primary_examiner","priority_claim","publication_type","record_lens_id","reference_cited.npl_count","reference_cited.npl_resolved_count","reference_cited.patent_count","sequence","title"],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"clearCache",value:function(){this.cache=[],sessionStorage.setItem("patent-cache",JSON.stringify(this.cache))}},{key:"_checkCache",value:function(e,t){try{t=btoa(window.encodeURIComponent(t))}catch(e){return console.warn("Could not encode cache key:",t),null}var n=this.cache.filter((function(n){return n.key===t&&n.bucket===e}));if(n[0])return n[0].value}},{key:"_updateCache",value:function(e,t,n){try{t=btoa(window.encodeURIComponent(t))}catch(e){return console.warn("Could not encode cache key:",t),null}if(this.cache){this.cache.length>20&&this.cache.shift(),this.cache.push({bucket:e,key:t,value:n});try{sessionStorage.setItem("patent-cache",JSON.stringify(this.cache))}catch(e){console.warn("session cache exceeding quota"),this.cache.pop()}}}},{key:"search",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];if(e){var a=e["profile.userId"]||e["profile.orcidId"]||e.collectionId||e.inventorship,r=JSON.stringify({params:e,body:n}),o=this._checkCache("search",r);if(o&&!a){var s=new $.Deferred;return s.resolve(o)}var c={"Content-Type":"application/json"};i&&(c["X-Lens-record-history"]=!0),n.from||(n.from=0);var u=$.param(e,!0);return fetch("/lens/api/search/patent?"+u,{method:"POST",headers:c,credentials:"same-origin",body:JSON.stringify(n)}).then((function(e){if(500===e.status)throw new Error("Search Failed");if(403===e.status)throw window.sessionStorage.getItem("reloadingScholarlyPage")||(window.sessionStorage.setItem("reloadingScholarlyPage","true"),window.location.reload(!0)),e;return window.sessionStorage.removeItem("reloadingScholarlyPage"),e.json()})).then((function(n){if(n.status&&n.status.code&&n.status.code.startsWith("ERROR_"))throw new Error(n.status.code);return n.warnings&&(n.warnings=_.uniq(n.warnings)),n.hits=n.hits||[],n.hits=n.hits.map((function(t){return t.document.display_key=t.displayKey,t.document.metadata=t.metadata,(0,l.PatentAliases)(t.document,t.highlight,e.l)})),t._updateCache("search",r,n),n}))}}},{key:"facetSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(t&&!(t.length<3)){var r=t;t=(t=t.replace(/[\&\"]+/g,"")).split(/\s/g).filter((function(e){return e})).map((function(e){return e+"~2"})).join(" ");var o=e;e.endsWith(".keyword")&&(o=e.slice(0,-8)),e.endsWith(".exact")&&(o=e.slice(0,-6)),e=(0,c.getKeywordField)(e);var s=o+":("+t+") OR "+o+":("+r+"*)^2",l=n.q;n.q=l?"("+l+") AND "+s:s;var u={result:{terms:{field:e,size:a}}},d=["inventor","applicant","owner_all"],p=!0,f=!1,m=void 0;try{for(var h,y=d[Symbol.iterator]();!(p=(h=y.next()).done);p=!0){var g=h.value;if(e===g+".name.exact"&&r.split(" ").length>1){var v=r.replace(/[\&\"\(\)]+/g,"");"applicant"!==g&&"owner_all"!==g||(v=v.toUpperCase()),n.q=l?"("+l+") AND "+g+".name.exact:("+v+")":g+".name.exact:("+v+")";var b=v.split(" ")[0]+" "+v.split(" ").pop(),S=b.trim().split(" ").map((function(e){return e[0].toUpperCase()+".*"})).join(" "),C=b.trim().split(" ").reverse().map((function(e){return e[0].toUpperCase()+".*"})).join(" ");u.result.terms.include="("+S+")|("+C+")";var k=_.cloneDeep(n);k.q=l?"("+l+") AND "+g+'.name:"'+v+'"':g+'.name:"'+v+'"';var A=_.cloneDeep(n),w=v.replace(/[\&\"]+/g,"").split(/\s/g).filter((function(e){return e})),P=w[0],T=w[w.length-1],x="("+g+".name:("+P+"*) AND "+g+".name:(*"+T+")) OR ("+g+".name:("+P+"*) AND "+g+".name:("+T+"*))";return A.q=l?"("+l+") AND ("+x+")":x,Promise.all([this.facets(n,u).then((function(e){return e.result})),this.facets(k,u).then((function(e){return e.result})),this.facets(A,u).then((function(e){return e.result}))]).then((function(e){var t=i(e,3),n=t[0],a=t[1],r=t[2];return _.uniqBy(n.concat(a).concat(r),(function(e){return e.key}))}))}}}catch(e){f=!0,m=e}finally{try{!p&&y.return&&y.return()}finally{if(f)throw m}}return this.facets(n,u).then((function(e){return e.result}))}}},{key:"organismSearch",value:function(e){var t=$.param({term:e}),n=fetch("/lens/service/taxonomy/search?"+t);return console.log(t),n.then((function(e){return e.json()})).then((function(e){var t=e.taxa.map((function(e){return{key:e.taxId,label:e.names.SCIENTIFIC_NAME[0]}}));return console.log(t),t}))}},{key:"getFromCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.cache.filter((function(t){return t.bucket===e}));n.reverse();var i=new $.Deferred;return n[t]?i.resolve(n[t].value):i.resolve(null)}},{key:"facets",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=_.assign(i,{aggregations:t,size:0,track_total_hits:!0});var a=JSON.stringify({params:e,body:i}),r=this._checkCache("facets",a);if(r){var o=new $.Deferred;return o.resolve(r)}return this.search(e,i).then((function(e){return n.processFacets(e,a)}))}},{key:"processFacets",value:function(e,t){return e.aggregations||(e.aggregations={}),_.keys(e.aggregations).forEach((function(t){var n=e.aggregations[t].buckets;if(n){var i=o.default[t],a=n.map((function(e){var t=e.key,n=e.key_as_string,a=e.doc_count;return{key:t,label:i?i(t):n||t,value:a,count:a,text:t+" ("+(0,s.default)(a||0)+")"}}));e.aggregations[t]=a}})),e.aggregations["Patent Records"]={value:e.totalHits},t&&this._updateCache("facets",t,e.aggregations),e.aggregations}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n={docAssets:"docAssets","legal_status.calculation_log":"patentDocument.legal_status.calculation_log","legal_status.legal_events":"patentDocument.legal_status.legal_events"},a=Promise.all([this.search({q:"record_lens_id:"+e,l:t},{size:1,_source:[].concat(d(this.MOST_FIELDS))}),fetch("/lens/service/patent-entity/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({include:[].concat(d(_.values(n).filter((function(e){return e.startsWith("patentDocument.")})).map((function(e){return e.replace("patentDocument.","")}))),["abstract"])})}).then((function(e){return e.json()}))]);return a.then((function(e){var a=i(e,2),r=a[0],o=a[1],s=r.hits[0];_.keys(n).forEach((function(e){var t=_.get(o,n[e]);_.set(s,e,t)}));var c=_.get(o,"docAssets.fallbackAbstract[0].text");return c&&(s.abstract=c),(0,l.PatentAliases)(s,null,t)}))}},{key:"addTags",value:function(e,t){return fetch("/lens/service/patent-entity/"+e+"/tag",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"tag="+t}).then((function(e){return e.json()})).then((function(e){return e.tags}))}},{key:"export",value:function(e,t){var n="/lens/export/patent?"+$.param(e,!0);return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(t)})}},{key:"bulkClaim",value:function(e,t){var n=e.map((function(e){var n=e.inventors.filter((function(e){return t.includes(e)}));return n.length?{lensId:e.record_lens_id,docKey:e.publicationKey,name:n[0]}:null})).filter((function(e){return e}));return fetch("/lens/service/inventorship",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}}]),t}(n(63));r.default.service("PatentService",y),e.exports=y},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});t.PatentAliases=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",a=e.family;if(a&&a.simple&&a.simple.member){var r=a.simple.member.map((function(e){return e.document_id.jurisdiction}));e.simpleFamilyJurisdictions=_.uniq(r)}var o=["title","abstract","description"];if(o.forEach((function(t){var i=e[t];if(_.isObject(i)&&!_.isEmpty(i))if(i[n]){var a=i[n].text||i[n][0].text;e[t]=a}else{var r=i.en?"en":_.keys(i).pop(),o=i[r][0];o||console.error("No fallbackLang",r,"in",o),e[t]=o?o.text:""}})),t&&_.keys(t).forEach((function(n){e[n];if(n.startsWith("description")?e.descriptionSnippet=t[n].join(" ... "):n.startsWith("abstract")?e.abstractSnippet=t[n].join(" ... "):n.startsWith("claim")&&(e.claimSnippet=t[n].join(" ... ")),n.startsWith("title")){var i=e.title;e.title=t[n].join(""),i===i.toUpperCase()&&(e.applyCssCaseFormatting=!0,e.title=e.title.toLowerCase()),e.title_highlighted=!0}})),e.class_cpc_cset){e.class_cpc_cset=e.class_cpc_cset.map((function(e){return e.class}));var s=[];e.class_cpc_cset.forEach((function(e){e&&s.push(e.class)}))}var l=function(t,n){var a=[];e[t].forEach((function(e){e.type=n;var t=!1;a.forEach((function(n){n.symbol===e.symbol&&(t=!0,n.officeMap||(n.officeMap={}),n.officeMap[e.generating_office]||(n.officeMap[e.generating_office]=[]),n.officeMap[e.generating_office].push(e.version_indicator))})),t||a.push(e)})),a.forEach((function(e){!e.officeMap&&e.generating_office&&(e.officeMap=i({},e.generating_office,[e.version_indicator]))})),e[t]=a};if(e.class_cpc&&l("class_cpc","CPC"),e.class_ipcr&&l("class_ipcr","IPC"),e.class_national&&e.class_national.forEach((function(e){e.type="US"})),e.owner_all){var c=_.orderBy(e.owner_all,(function(e){return moment(e.recorded_date).toDate()}));e.owner_all=_.uniqBy(c,(function(e){return e.name}))}return e}},function(e,t,n){"use strict";var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var s=n(63),l=n(2),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.storage=new l,e.items=e.storage.get("recent-work")||[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getAll",value:function(){return this.items}},{key:"add",value:function(e){this.items=this.items.filter((function(t){return!(t.type===e.type&&t.id===e.id)})).slice(0,10),e.timestamp=new Date,this.items.unshift(e),this.persist(),this.emit("REFRESH")}},{key:"persist",value:function(){this.storage.set("recent-work",this.items)}}]),t}(s);o.default.service("RecentWorkService",c),e.exports=c},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=o(n(0)),r=o(n(72));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$http=e,i.$state=n,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"create",value:function(e,t){var n=this,i={title:e||"Untitled Page",type:"builder",rows:[]};this.$http.post("/lens/service/strings",{type:"page",label:"Overview",published:!0,value:JSON.stringify(i)}).then((function(i){var a=i.data.id;n.$http.post("/lens/service/strings",{type:"report",label:e||"Untitled Report",published:!0,value:JSON.stringify({title:e||"Untitled Report",subheading:t||"",image:window.UI_CONFIG.assetLocation+"/img/collection-header-bg.png",authors:[{name:window.UI_CONFIG.user.name}],pages:[{id:a,label:"Overview"}]})}).then((function(e){n.$state.go("editReport.page",{id:e.data.id,slug:(0,r.default)(e.data.label),pageId:a})})).catch((function(e){console.error(e)}))}))}}]),t}(n(63));a.default.service("ReportService",["$http","$state",s]),e.exports=s},function(e,t,n){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(179)),o=d(n(0)),s=d(n(29)),l=d(n(88)),c=n(665),u=n(85);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=[];try{var y=sessionStorage.getItem("scholar-cache");h=y?JSON.parse(y):[]}catch(e){console.warn("Session Cache init failure")}var g=n(63),v=n(667),b=(n(44),function(e){function t(){f(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.API_BASE_URL="/lens/api/search/scholar",e.cache=h,e.EXCLUDE_SEARCH_FIELDS=["abstract","author.affiliation","author.first_name","author.initials","author.last_name","author.normalised_name","chemical","clinical_trial","field_of_study","fulltext","funding","mesh_term","recommended_work","reference","referenced_by_patent_hash","referenced_by_patent","referenced_by","author.display_name_orcid","author.display_name_eid","author.display_name_id","author_first","author_last","author.orcid","open_access"],e.MINIMAL_FIELDS=["ids","title","authors.display_name","authors.last_name","authors.first_name","authors.initials","journal.title_full","volume","issue","pages_start","pages_end","date_published","year_published","citation_ids","lens_id","lens_id_num","referenced_by_count","referenced_by_patent_count","reference_count"],e.MOST_FIELDS=["author.display_name","author.orcid","coreid","conference.name","date_published","doi","end_page","has_abstract","has_affiliation","has_chemical","has_clinical_trial","has_field_of_study","has_fulltext","has_funding","has_keyword","has_mesh_term","has_orcid","is_open_access","is_referenced_by_patent","is_referenced_by_scholarly","issue","lens_id_num","magid","pmcid","pmid","publication_type","record_lens_id_num","record_lens_id","reference_count","referenced_by_count","referenced_by_patent_count","source.title","start_page","title","volume","year_published"],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"clearCache",value:function(){this.cache=[],sessionStorage.setItem("scholar-cache",JSON.stringify(this.cache))}},{key:"_checkCache",value:function(e,t){try{t=btoa(window.encodeURIComponent(t))}catch(e){return console.warn("Could not encode cache key:",t),null}var n=this.cache.filter((function(n){return n.key===t&&n.bucket===e}));if(n[0])return n[0].value}},{key:"_updateCache",value:function(e,t,n){try{t=btoa(window.encodeURIComponent(t))}catch(e){return console.warn("Could not encode cache key:",t),null}if(this.cache){this.cache.length>20&&this.cache.shift(),this.cache.push({bucket:e,key:t,value:n});try{sessionStorage.setItem("scholar-cache",JSON.stringify(this.cache))}catch(e){console.warn("session cache exceeding quota"),this.cache.pop()}}}},{key:"getFromCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];n=n||function(t){return t.bucket===e};var i=this.cache.filter(n);i.reverse();var a=new $.Deferred;return i[t]?a.resolve(i[t].value):a.resolve(null)}},{key:"facetSearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(t&&!(t.length<3)){var o=t;t=(t=t.replace(/[\&\"]+/g,"")).split(/\s/g).filter((function(e){return e})).map((function(e){return e+"~2"})).join(" ");var s=e;e.endsWith(".keyword")&&(s=e.slice(0,-8)),"author.display_name_id"!==(e=(0,u.getKeywordField)(e))&&"author.display_name_orcid"!==e||(s="author.display_name"),"keyword"===e&&(t=t.toLowerCase());var l=s+":("+t+") OR "+s+":("+o+"*)^2";if("field_of_study"===e){var c=o.trim().split(/\s/g).filter((function(e){return e})).map((function(e){var t=e.slice(0,1),n=e.slice(1);return"["+t.toUpperCase()+t.toLowerCase()+"]"+n}));l="field_of_study:/.*"+c.join(" ")+".*/",n.regex=!0}var d=n.q;n.q=d?"("+d+") AND ("+l+")":l;var p={result:{terms:{field:e,size:a}}};if(("author.display_name_id"===e||"author.display_name.keyword"===e)&&o.split(" ").length>1){var f=o.replace(/[\&\"\(\)]+/g,""),m=s+":("+t+") OR "+s+":("+f+"*)^2";n.q=d?"("+d+") AND "+m:m;var h=f.split(" ")[0]+" "+f.split(" ").pop(),y=h.trim().split(" ").map((function(e){return e[0].toUpperCase()+".*"})).join(" "),g=h.trim().split(" ").reverse().map((function(e){return e[0].toUpperCase()+".*"})).join(" ");p.result.terms.include="("+y+")|("+g+")";var v=r.default.cloneDeep(n);v.q=d?"("+d+') AND author.display_name:"'+f+'"':'author.display_name:"'+f+'"';var b=r.default.cloneDeep(n),S=f.replace(/[\&\"]+/g,"").split(/\s/g).filter((function(e){return e})),_=S[0],C=S[S.length-1],k="(author.display_name:("+_+"*) AND author.display_name:(*"+C+")) OR (author.display_name:("+_+"*) AND author.display_name:("+C+"*))";return b.q=d?"("+d+") AND ("+k+")":k,Promise.all([this.facets(n,p).then((function(e){return e.result})),this.facets(v,p).then((function(e){return e.result})),this.facets(b,p).then((function(e){return e.result}))]).then((function(e){var t=i(e,3),n=t[0],a=t[1],o=t[2];return r.default.uniqBy(n.concat(a).concat(o),(function(e){return e.key}))}))}if("field_of_study"===e){var A=o.trim(),w=A[0].toUpperCase()+A.slice(1);p.result.terms.include=".*("+w+"|"+w.toLowerCase()+").*"}return this.facets(n,p).then((function(e){return e.result}))}}},{key:"federatedSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e&&!(e.length<3)){var n=e;e=e.split(/\s/g).filter((function(e){return e})).map((function(e){return e+"~2"})).join(" ");var i=["title","author.display_name","author.affiliation.name","source.title"],a=i.map((function(t){return"("+(t+":("+e+") OR "+t+":("+n+"*)^2")+")"})).join(" OR "),r={},o=["author.display_name.keyword","author.affiliation.name.keyword","source.title.keyword"];return o.forEach((function(e){r[e]={terms:{field:e,size:t}}})),console.log({q:a,aggregations:r}),this.search({q:a},{aggregations:r},{size:10,_source:["title"]}).then((function(e){return console.log(e),e}))}}},{key:"facets",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=r.default.assign(i,{aggregations:t,size:0});var a=JSON.stringify({params:e,body:i}),o=this._checkCache("facets",a);if(o){var s=new $.Deferred;return s.resolve(o)}return this.search(e,i).then((function(e){return n.processFacets(e,a)}))}},{key:"processFacets",value:function(e,t){var n={"Scholarly Works":e.totalHits};return r.default.keys(e.aggregations).forEach((function(t){var i=e.aggregations[t].buckets;if(i){var a=s.default[t],r=i.map((function(e){var t=e.key,n=e.key_as_string,i=e.doc_count;return{key:t,label:a?a(t):n||t,value:i,count:i,text:t+" ("+(0,l.default)(i||0)+")"}}));n[t]=r.length>10&&"dates"!==t?r.slice(0,200):r}else n[t]=e.aggregations[t]})),t&&this._updateCache("facets",t,n),n}},{key:"search",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];if(e){var a=e["profile.userId"]||e["profile.orcidId"]||e.collectionId||e.authorship||e.orcids,o=JSON.stringify({params:e,body:n}),s=this._checkCache("search",o);if(s&&!a){var l=new $.Deferred;return l.resolve(s)}var c={"Content-Type":"application/json"};i&&(c["X-Lens-record-history"]=!0),e.tags&&r.default.isString(e.tags)&&(e.tags=e.tags.split(",").filter((function(e){return e}))),n.from||(n.from=0);var u=this.API_BASE_URL+"?"+$.param(e,!0);return fetch(u,{method:"POST",headers:c,credentials:"same-origin",body:JSON.stringify(n)}).then((function(e){if(500===e.status)throw new Error("Server Error");if(403===e.status)throw window.sessionStorage.getItem("reloadingScholarlyPage")||(window.sessionStorage.setItem("reloadingScholarlyPage","true"),window.location.reload(!0)),e;return window.sessionStorage.removeItem("reloadingScholarlyPage"),e.json()})).then((function(e){if(e.status&&e.status.code&&e.status.code.startsWith("ERROR_"))throw new Error(e.status.code);return e.hits=e.hits.map((function(e){return v(e.source,e.highlight)})),e.hits.forEach((function(t){var n=e.metadata[t.record_lens_id];n&&(t.metadata=n,t.metadata.authorship&&(t.metadata.authorshipMap={},t.metadata.authorship.forEach((function(e){r.default.isArray(e.created)&&(e.created[1]--,e.created=window.moment(e.created).toDate()),e.user.orcidId&&t.authors.forEach((function(t){t.display_name!==e.name||t.orcid||(t.orcid=e.user.orcidId)}))})),r.default.sortBy(t.metadata.authorship,(function(e){return e.created})).reverse().forEach((function(e){t.metadata.authorshipMap[e.name]=e}))))})),e.aggregations&&r.default.keys(e.aggregations).forEach((function(t){var n=t.split("#")[1];e.aggregations[n]=e.aggregations[t],delete e.aggregations[t]})),t._updateCache("search",o,e),e}))}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lens_ids",n={q:"lens_id:"+e},a={size:1,_source:{excludes:["fulltext","reference","recommended_work","referenced_by_patent_hash","referenced_by_patent","referenced_by"]}},r=this.search(n,a).then((function(e){return e.hits[0]})),o=this._getAll([e],t,["open_access","recommended_works","references","source_urls","references_count_by_eid_type","references_count_declared","date_published_electronic","date_published_print"]);return Promise.all([r,o]).then((function(e){var t=i(e,2),n=t[0],a=t[1].msg.items[0];return n.open_access=a.open_access,n.references_count_by_eid_type=a.references_count_by_eid_type,n.references_count_declared=a.references_count_declared,n.date_published_print=a.date_published_print,n.date_published_electronic=a.date_published_electronic,(0,c.OpenAccessTidier)(n),n.source_urls=a.source_urls,n.recommended_works=a.recommended_works,n.references=a.references,n}))}},{key:"getAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"external_ids",i=arguments[2];return this._getAll(e,n,i).then((function(i){if(!i.msg.items)return console.warn("Article lookup failed for",{field:n,ids:e}),[];var a=i.msg.items.map((function(e){return e.fromStore=!0,v(e)}));return t.emit("fetched",a),a}))}},{key:"_getAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"external_ids",i=arguments[2];if(!e.length){var a=new $.Deferred;return a.reject("No ids supplied")}var r=n+":"+e.join(","),o=this._checkCache("store",r);if(o){var s=new $.Deferred;return s.resolve(o)}var l=p({},n,e);return l.select=i||this.MOST_FIELDS,fetch("/lens/api/scholarly/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){return t._updateCache("store",r,e),e}))}},{key:"addTags",value:function(e,t){return fetch("/lens/service/scholar-entity/"+e+"/tag",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"tag="+t}).then((function(e){return e.json()})).then((function(e){return e.tags}))}},{key:"export",value:function(e,t){var n="/lens/export/scholar?"+$.param(e,!0);return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(t)})}},{key:"bulkClaim",value:function(e,t){var n=e.map((function(e){var n=e.authors.filter((function(e){return t.includes(e.display_name)})),i=e.record_lens_id;return n.length?{lensId:i,name:n[0].display_name}:(console.log("WARNING: could not find name match for",t,e.title),{lensId:i})})).filter((function(e){return e}));return fetch("/lens/service/authorship",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}},{key:"fieldOfStudy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={size:0,aggregations:{fos:{nested:{path:"field_of_study_hierarchy"},aggregations:{"fos-level":{aggs:{"terms-level":{terms:{field:"field_of_study_hierarchy.name.keyword",size:20}}},filter:{term:{"field_of_study_hierarchy.level":t}}}}}}};return this.search(e,n).then((function(e){return e.aggregations.fos["filter#fos-level"]["sterms#terms-level"].buckets}))}}]),t}(g));o.default.service("ScholarService",b),e.exports=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAccessTidier=void 0;var i,a=n(666),r=(i=a)&&i.__esModule?i:{default:i};var o=n(44);t.OpenAccessTidier=function(e){var t=_.get(e,"open_access.records")||[];if(e.open_access){var n=t.filter((function(e){return"doaj"===e.evidence_type})).pop();if(n&&(e.doajLinkout=n.oa_locations[0].url_for_landing_page),1===t.length){var i=t[0];if(i.oa_locations&&1===i.oa_locations.length&&"doaj"===i.evidence_type)if(e.doi&&e.doi.length){var a=e.doi[0];e.open_access.records[0].oa_locations[0].url_for_landing_page=o("publisher","doi",a)}else e.open_access.records=[]}t.length>1&&(e.open_access.records=e.open_access.records.filter((function(e){return"doaj"!==e.evidence_type}))),e.open_access.records.forEach((function(t,n){if("rxiv"===t.evidence_type){var i=/[a-z]+.arxiv.org/g;e.open_access.records[n].oa_locations.forEach((function(e){delete e.is_best,e.url_for_landing_page&&(e.url_for_landing_page=e.url_for_landing_page.replace(i,"arxiv.org")),e.url_for_pdf&&(e.url_for_pdf=e.url_for_pdf.replace(i,"arxiv.org"))}));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(/\/(abs|pdf)\//g).pop()};e.open_access.records[n].oa_locations.forEach((function(t){e.open_access.records[n].oa_locations.forEach((function(e){!t.url_for_pdf&&e.url_for_pdf&&a(t.url_for_landing_page)===a(e.url_for_pdf)&&(t.url_for_pdf=e.url_for_pdf),!t.url_for_landing_page&&e.url_for_landing_page&&t.url_for_pdf===e.url_for_pdf&&(t.url_for_landing_page=e.url_for_landing_page)}))})),e.open_access.records[n].oa_locations=_.uniqBy(e.open_access.records[n].oa_locations,(function(e){return JSON.stringify({a:e.url_for_landing_page,b:e.url_for_pdf},null,2)}));var r=e.open_access.records[n].oa_locations;r.length>1&&(e.open_access.records[n].oa_locations=[_.sortBy(r,[function(e){var t=_.get(e.url_for_landing_page||"","length"),n=_.get(e.url_for_pdf||"","length");return _.min([t,n])}]).pop()])}})),e.open_access.records.forEach((function(t,n){t.oa_locations.forEach((function(t,i){_.keys(r.default).forEach((function(a){var o=t.url_for_landing_page||t.url_for_pdf;o&&o.startsWith(a)&&(e.open_access.records[n].oa_locations[i].meta=r.default[a])}))}))}));var s=t.reduce((function(e,t){return e.concat(t.oa_locations)}),[]).filter((function(e){return"publisher"===e.host_type&&!e.institution&&!e.meta})),l=s.filter((function(e){return e.url_for_pdf}));s.length>1&&l.length>0&&e.open_access.records.forEach((function(t,n){e.open_access.records[n].oa_locations=t.oa_locations.filter((function(e){return e.url_for_pdf||e.institution||e.meta||"publisher"!==e.host_type}))}));var c=t.filter((function(e){return"pmc-nih"===e.evidence_type})),u=t.filter((function(e){return"unpaywall"===e.evidence_type}));c.length&&u.length&&e.open_access.records.forEach((function(t,n){"unpaywall"===t.evidence_type&&(e.open_access.records[n].oa_locations=t.oa_locations.filter((function(e){return!e.meta||"PubMed Central"!==e.meta.label})))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={label:"arXiv",icon:"icon-arXiv.png"};t.default={"https://core.ac.uk/":{label:"CORE",icon:"icon-core.png"},"https://www.ncbi.nlm.nih.gov/pmc/":{label:"PubMed Central",icon:"icon-pub-med-central.png"},"https://europepmc.org":{label:"European PubMed Central",icon:"icon-european-pub-med-central.png"},"https://www.biorxiv.org/":{label:"bioRxiv",icon:"icon-bioRxiv.png"},"https://arxiv.org/":i,"https://export.arxiv.org/":i,"https://au.arxiv.org/":i,"https://jp.arxiv.org/":i,"https://tw.arxiv.org/":i,"https://citeseerx.ist.psu.edu/":{label:"CiteSeerx",icon:"icon-CiteSeerx.png"},"https://semanticscholar.org/":{label:"Semantic Scholar",icon:"icon-semantic-scholar.png"},"http://core.ac.uk/":{label:"CORE",icon:"icon-core.png"},"http://www.ncbi.nlm.nih.gov/pmc/":{label:"PubMed Central",icon:"icon-pub-med-central.png"},"http://europepmc.org":{label:"European PubMed Central",icon:"icon-european-pub-med-central.png"},"http://www.biorxiv.org/":{label:"bioRxiv",icon:"icon-bioRxiv.png"},"http://arxiv.org/":i,"http://export.arxiv.org/":i,"http://au.arxiv.org/":i,"http://jp.arxiv.org/":i,"http://tw.arxiv.org/":i,"http://citeseerx.ist.psu.edu/":{label:"CiteSeerx",icon:"icon-CiteSeerx.png"},"http://semanticscholar.org/":{label:"Semantic Scholar",icon:"icon-semantic-scholar.png"}}},function(e,t,n){"use strict";var i,a=n(219);(i=a)&&i.__esModule;var r=n(36),o=function(e){return e.slug.replace(/\-/g," ")},s=n(252),l=_.values(s).map(o),c={};_.keys(s).forEach((function(e){var t=s[e],n=o(t);t.logoUrl=r(n),t.name=n,c[n]=t}));var u=["is_open_access","is_referenced_by_patent","has_fulltext","has_chemical","has_funding","has_clinical_trial","has_affiliation","has_field_of_study"],d={has_fields_of_study:"has_field_of_study",fields_of_study:"field_of_study",keywords:"keyword",journal:"source",authors:"author",mesh_terms:"mesh_term",chemicals:"chemical",fundings:"funding",recommended_works:"recommended_work",clinical_trials:"clinical_trial",num_forward_citations:"referenced_by_count"};e.exports=function(e,t){e.pmcid&&_.isArray(e.pmcid)&&e.pmcid.length>1&&(e.pmcid=e.pmcid.filter((function(e){return!e.startsWith("pmc")}))),Object.keys(d).forEach((function(t){var n=d[t];e[n]&&!e[t]&&(e[t]=e[n])})),u.forEach((function(t){e[t]&&(e.hasFlags=!0)})),e.external_ids||(e.external_ids=[]);if(["doi","pmid","pmcid","magid","coreid"].forEach((function(t){e[t]||(e[t]=[]),e[t].forEach((function(n){e.external_ids.push({type:t,value:n})}))})),!e.id&&e.external_ids.length){var n=_.filter(e.external_ids,(function(e){return"pmid"===e.type}));e.id=n[0]?n[0].value:e.external_ids[0].value}e.has_mesh_term&&!e.has_mesh_terms&&(e.has_mesh_terms=e.has_mesh_term),e.unique_affiliations={},e.authors=e.authors||[],_.isArray(e.authors)&&e.authors.forEach((function(t){t.affiliation&&!t.affiliations&&(t.affiliations=t.affiliation),t.normalised_name||(t.normalised_name=t.last_name+" "+t.initials),t.display_name=t.display_name||(t.first_name||t.initials||"")+" "+t.last_name,t.affiliations&&t.affiliations.length&&(e.has_affiliations=!0,t.affiliations.forEach((function(t){e.unique_affiliations[t.name||t]=t})))})),e.unique_affiliations=_.values(e.unique_affiliations),_.isArray(e.authors)&&e.authors.forEach((function(t){var n=[];t.affiliations&&t.affiliations.length&&t.affiliations.forEach((function(t){var i=e.unique_affiliations.findIndex((function(e){return e.name===t.name}));i>=0&&n.push(i+1)})),t.affiliationIndices=n.join(", ")})),e.authors[0]&&e.authors[0].seq&&(e.authors=e.authors.sort((function(e,t){return e.seq-t.seq}))),e.institutions={},e.unique_affiliations.forEach((function(t){var n=t.name||t;l.forEach((function(t){n.indexOf&&n.indexOf(t)>=0&&(e.institutions[t]=c[t],e.has_institutions=!0)}))})),_.isArray(e.authors)?e.authorList=e.authors.map((function(e){return e.display_name})).join(", "):e.authorList=e.authors,e.chemicals||(e.chemicals=[]),e.chemicals.forEach((function(e){e.name&&!e.substance_name&&(e.substance_name=e.name)}));var i=[e.pages_start||e.start_page,e.pages_end||e.end_page];e.pages=i.filter((function(e){return e})).join("-");var a={title:"title_full"};Object.keys(a).forEach((function(t){var n=a[t];e.journal&&e.journal[n]&&!e.journal[t]&&(e.journal[t]=e.journal[n])}));var r={identifier:"trial_id"};return e.clinical_trials||(e.clinical_trials=[]),e.clinical_trials.forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t];e[n]&&!e[t]&&(e[t]=e[n])}))})),e.fundings||(e.fundings=[]),e.fundings=e.fundings.map((function(e){return e.org||(e.org=e.organisation),e})),e.fundings=_.uniqBy(e.fundings,JSON.stringify),e.keywords||(e.keywords=[]),e.keywords=e.keywords.map((function(e){return _.isObject(e)||(e={value:e}),e})),t&&_.keys(t).forEach((function(n){"fulltext"===n?e.fullTextSnippet=t[n].join(" ... "):"abstract"===n?e.abstractSnippet=t[n].join(" ... "):e[n]=t[n].join("")})),e.open_access&&!e.open_access.summary&&(e.open_access={summary:e.open_access}),e.open_access&&e.open_access.summary&&_.keys(e.open_access.summary).forEach((function(t){e.open_access[t]=e.open_access.summary[t]})),!e.is_open_access&&e.open_access&&(e.is_open_access=!0),!e.is_referenced_by_patent&&e.referenced_by_patent_count&&(e.is_referenced_by_patent=!0),e}},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.factory("ScholarNotesService",[].concat(["$http","$rootScope"],[function(e,t){var n=function(e){return"/lens/service/scholar-entity/"+e+"/note"},i="/lens/service/scholar-entity/note";return{fetch:function(t){return e({url:n(t),method:"GET"}).then((function(e){return e.data}))},create:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e({url:n(t),method:"POST",data:JSON.stringify({lensId:t,scope:i.scope?i.scope.toUpperCase():"BASE",text:i.text||"",published:!0})})},update:function(t,n){return n.scope=(n.scope||"BASE").toUpperCase(),e({url:i+"/"+n.id,method:"PUT",data:JSON.stringify(n)})},delete:function(t,n){return e({url:i+"/"+n.id,method:"DELETE"})},recent:function(){return e({url:"/lens/api/user/work-area/notes/recent?size=10"}).then((function(e){return e.data}))}}}]))},function(e,t,n){"use strict";var i=o(n(0)),a=o(n(8)),r=o(n(133));function o(e){return e&&e.__esModule?e:{default:e}}var s="/lens/service/user/preferences",l=new(n(2)),c={beta:!1,fontSize:100};i.default.service("SettingsService",[].concat(["$q","$http","$cacheFactory"],[function(e,t,n){var i=null,o=function(){return i||(i=t({url:s,method:"GET",cache:!localStorage.getItem("IGNORE_LENS_CACHE")}).then((function(e){return i=null,e.data||_.clone(c)})))},u=function(e){return l.set("user-settings",e),t({url:s,method:"POST",data:e}).then((function(e){return n.get("$http").remove(s),e.data}))};return{local:function(){return l.get("user-settings")},fetch:o,update:u,get:function(e){return o().then((function(t){return(0,a.default)(t,e)}))},set:function(e,t){return o().then((function(n){(0,r.default)(n,e,t),u(n)}))}}}]))},function(e,t,n){"use strict";var i,a=n(0);((i=a)&&i.__esModule?i:{default:i}).default.service("SharedObjectService",Map)},function(e,t,n){"use strict";$.expr[":"].Contains=$.expr.createPseudo((function(e){return function(t){return $(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}})),$.datepicker.setDefaults($.extend({changeMonth:!0,changeYear:!0,dateFormat:"d M yy",showMonthAfterYear:!0,showOn:"focus"})),$.cookie("TZ",window.jstz.determine().name(),{path:"/"}),$((function(){$(".js-cloak").removeClass("js-cloak"),$(".js-cloak-mobile").removeClass("js-cloak-mobile"),n(251).init()})),$((function(){return $("body").removeClass("loading")})),$(window).on("beforeunload",(function(){$("body").addClass("unloading")}))},function(e,t,n){"use strict";var i,a=n(84),r=(i=a)&&i.__esModule?i:{default:i};$((function(){$("body").on("keyup","#q",(function(e){$(".search-tips-trigger").toggleClass("danger",!1);var t=$("#q").val();try{r.default.parse(t)}catch(e){$(".search-tips-trigger").toggleClass("danger",!0)}})),$("#q").trigger("keyup"),($("[ui-view]").length<2||window.hashRouting)&&$("nav#menu [ui-sref]").each((function(e,t){t.parentNode.replaceChild(t.cloneNode(!0),t)}))})),$(document).ready((function(){$(".fa-level-up").closest(".div-table-cell-mobile").addClass("nest"),$(".hide-item").click((function(){$(this).closest(".hide-item-content").hide(200)}))})),window.beSticky=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".be-sticky",t=$(e),n=null,i=function(){n=t.offset().top},a=function(){t.toggleClass("stuck",n<window.pageYOffset)};$(window).resize(i),$(window).scroll(a),i()},window.initSticky=function(){$(".sticky-sidebar-parent, .sticky-sidebar, #side-tabs, .sidebar-sticky, .preview-panel").theiaStickySidebar&&($(".sticky-sidebar, #side-tabs, .sidebar-sticky, .preview-panel").theiaStickySidebar({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:992,sidebarBehavior:"modern",defaultPosition:"relative"}),$(".sticky-sidebar-parent").theiaStickySidebar({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:992,sidebarBehavior:"stick-to-bottom",defaultPosition:"absolute"}))},$((function(e){window.initSticky()})),$(document).ready((function(){$.scrollUp({scrollName:"scrollUp",scrollDistance:0,scrollFrom:"top",scrollSpeed:200,easingType:"linear",animation:"none",animationSpeed:200,scrollTrigger:!1,scrollTarget:!1,scrollText:'<em class="fa fa-angle-up"></em>',scrollTitle:!1,scrollImg:!1,activeOverlay:!1,zIndex:2147483647})})),$(document).ready((function(){var e=(new Date).getFullYear();$(".copy-year").html(e)})),$(document).ready((function(){$(".toggle-btn").click((function(e){e.preventDefault(),$(this).closest("li").find(".toggle-content").not(":animated").slideToggle()})),$(".toggle-btn").click((function(){$(this).toggleClass("active")}))})),window.initAccordion=function(){$(".accordion-btn").click((function(e){e.preventDefault();var t=$(this),n=t.closest("li").find(".accordion-content"),i="";-1!==t.attr("class").indexOf("active")&&(i="active"),t.closest(".accordion").find("li").each((function(){var e=$(this);e.find(".accordion-btn").removeClass("active"),e.find(".accordion-content").slideUp("400",(function(){$(this).removeClass("active")}))})),"active"!==i&&(n.not(":animated").slideDown(),t.addClass("active"),n.addClass("active"))}))},$(document).ready(window.initAccordion),window.tooltipsterConfig={animation:"fade",theme:"tooltipster-shadow",trigger:"hover",interactive:!0,maxWidth:400,delay:150,animationDuration:0,side:"top"},window.initTooltips=function(e){e&&(e.find(".ttip-hov:not(.tooltipstered)").tooltipster(window.tooltipsterConfig),e.find(".ttip-clk:not(.tooltipstered)").tooltipster(_.extend(_.clone(window.tooltipsterConfig)),{trigger:"click"}))},window.closeAllTooltips=function(){var e=$.tooltipster.instances();$.each(e,(function(e,t){t.close()}))},$(document).ready((function(){window.initTooltips($("body")),$("body").on("click",".dismiss-tooltip-on-click",(function(){_.defer(window.closeAllTooltips)}))})),$(document).ready((function(){$(".regular-slider").slider({min:0,max:500,slide:function(e,t){$("#slider1-value").text(t.value)}}),$(".range-slider").slider({min:0,max:500,range:!0,values:[75,300],slide:function(e,t){$("#slider2-value1").text(t.values[0]),$("#slider2-value2").text(t.values[1])}})})),window.initTristateCheckboxes=function(e,t){e.find(".tristate").tristate(t||{})},$((function(){window.initTristateCheckboxes($("body"))})),$((function(){$("body").on("click",".checkbox-class",(function(e){$(this).toggleClass("active")})),$("body").on("click",".dd-menu li",(function(e){$(e.target).closest(".dd-dropdown").find(".dd-input").prop("checked",!1)})),$("#copyFasta").on("click",(function(e){var t=new Notification;e.preventDefault();var n=$("#fastaBody").html().replace(/\s+/g,"");window.clipboard.writeText(n);var i=messages.prop("patent.sequenceDisplay.FASTA.copied");t.notify(i)}))}));var o=new FontFaceObserver("source_sans_prolight"),s=new FontFaceObserver("source_sans_proregular"),l=new FontFaceObserver("source_sans_prosemibold");Promise.all([o.load(),s.load(),l.load()]).then((function(){document.documentElement.className+=" fonts-loaded"}),(function(){document.documentElement.className+=" fonts-unavailable"})),$(".logo-animate").bind("webkitAnimationEnd mozAnimationEnd animationEnd",(function(){$(this).removeClass("animated")})),$(".logo-animate").hover((function(){$(this).addClass("animated")}))},function(e,t,n){"use strict";var i=function(){$(".sliderImg img.lazy").each((function(){var e=$(this),t=e.data("original");t&&e.attr("src",t)}))};window.onbeforeprint=i;try{window.matchMedia("print").addListener((function(e){e.matches&&i()}))}catch(e){console.warn("Could not add onbeforeprint handler")}},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=new(n(2)),s=o.get("history")||[];r.default.run(["$rootScope","$transitions",function(e,t){var n=function(){s.unshift({time:new Date,title:document.title,location:window.location.pathname,href:window.location.href}),s.length>100&&(s=s.slice(0,100)),o.set("history",s)};t.onSuccess({},(function(e){_.defer(n)})),n()}])},function(e,t,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(9);var s=n(51),l=_.uniq(s.filter((function(e){return e.filterName&&"boolean"!==e.fieldType})).map((function(e){return e.filterName}))),c=_.uniq(s.filter((function(e){return"boolean"===e.fieldType})).map((function(e){return e.filterName}))),u=l.map((function(e){return e+".must&"+e+".mustNot&"+e+".predicate"})).concat(o.dateFilterKeys).concat(c).join("&"),d=o._searchParamKeys.map((function(e){return"{"+e+"}"})).join("&");new Date;r.default.config(["$stateProvider","$urlRouterProvider","$transitionsProvider",function(e,t,n){e.state("empty",{url:"/"}).state("classificationViewer",{url:"/classification-viewer/:type/{term:any}",views:{explorer:{controller:["$stateParams","$rootScope",function(e,t){var n=e.type,i={US:"USPC",NAT:"USPC",IPCR:"IPC"};i[n]&&(n=i[n]),t.classificationViewer={type:n,term:e.term},console.log(t.classificationViewer)}]}}}).state("dashboard",{url:"/lens/dashboard/:dashboardId",controller:["$stateParams","$http","$state",function(e,t,n){var i=e.dashboardId;t.get("/lens/service/strings/"+i).then((function(e){var t=e.data.type.split("-"),a=2===t.length?t[0]:"scholar",r=JSON.parse(e.data.value);if(r.filterMap){var o={dashboardId:i,filterMap:JSON.stringify(r.filterMap)};["q","collectionId","orcids","fromYear","toYear","dateFilterField"].forEach((function(e){r[e]&&(o[e]=r[e])}));var s="/lens/scholar/search/analysis?"+$.param(o);window.location=s}else n.go("search.results",_.assign(r,{dashboardId:i,view:"analysis",type:a}))}))}]}).state("searchEmbed",{url:"/lens/embed/collection/:type?{q:any}&"+d+"&{"+u+"}",templateUrl:"search-embed",controller:"SearchController as $ctrl"}).state("search",{url:"/lens/search?{q:any}&"+d+"&{"+u+"}",templateUrl:"search-index",controller:"SearchController as $ctrl",params:{autoOpenSingleResult:!1}}).state("search.results",{url:"/:type/:view",views:{content:{templateUrl:"search-main"},sidebar:{templateUrl:"search-sidebar"}},params:{type:"scholar",view:"list",showFacet:{},autoSort:!1}}).state("reports",{url:"/lens/reports",title:"Reports",templateUrl:"reports-landing"}).state("landscapes",{url:"/lens/landscape",title:"Landscape",templateUrl:"landscape-index",controller:"LandscapeController as $ctrl"}).state("editReport",{url:"/lens/report/edit/:slug/:id",title:"report",templateUrl:"report-edit",controller:"ReportController as $ctrl"}).state("editReport.page",{url:"/page/:pageId",title:"Edit Report",views:{main:{templateUrl:"report-edit-page"}}}).state("viewReport",{url:"/lens/report/view/:slug/:id",title:"report",templateUrl:"report-view",controller:"ReportController as $ctrl"}).state("viewReport.page",{url:"/page/:pageId",title:"report",views:{main:{templateUrl:"report-view-page"}}}).state("wizard",{url:"/lens/wizard",title:"Lens Wizard",templateUrl:"wizard-page"}).state("labs",{url:"/lens/labs",title:"Lens labs",templateUrl:"labs"}).state("labsdatafacilities",{url:"/lens/labs/datafacilities",title:"Lens labs Data Facilities",templateUrl:"labs-facilities"}).state("labsdashboards",{url:"/lens/labs/dashboards",title:"Lens labs Dashboards",templateUrl:"labs-dashboards"}).state("labscollaboration",{url:"/lens/labs/collaboration",title:"Lens labs Collaboration",templateUrl:"labs-collaboration"}).state("labsnews",{url:"/lens/labs/news",title:"Lens labs News",templateUrl:"labs-news"}).state("labscollections",{url:"/lens/labs/collections",title:"Lens labs Collections",templateUrl:"labs-collections"}).state("institutions",{url:"/lens/institutions",title:"Lens for Institutions",templateUrl:"institutions"}).state("itk",{url:"/lens/itk",title:"Lens itk",templateUrl:"itk"}).state("itktools",{url:"/lens/itk/tools",title:"Lens ITK Tools",templateUrl:"itk-tools"}).state("itkroadmap",{url:"/lens/itk/roadmap",title:"Lens ITK Roadmap",templateUrl:"itk-roadmap"}).state("itkprice",{url:"/lens/itk/price",title:"Lens ITK Price Guide",templateUrl:"itk-price"}).state("itkfaq",{url:"/lens/itk/faq",title:"Lens ITK FAQ",templateUrl:"itk-faq"}).state("itkusecases",{url:"/lens/itk/usecases",title:"Lens ITK Use Cases",templateUrl:"itk-usecases"}).state("itkcap",{url:"/lens/itk/cap",title:"Lens ITK CAP",templateUrl:"itk-cap"}).state("patent",{url:"/lens/patent/:id?{l}",templateUrl:"patent-index",controller:"ViewPatentController as $ctrl",params:{section:null,patent:null}}).state("patent.main",{url:"/frontpage",views:{content:{templateUrl:"patent-view-item"}}}).state("patent.citations",{url:"/citations?{view}",views:{content:{templateUrl:"patent-citations"}}}).state("article",{url:"/lens/scholar/article/:id",title:"Article",templateUrl:"article-index",controller:"ViewArticleController as $ctrl",params:{section:null,article:null}}).state("article.main",{url:"/main",title:"View Article",views:{content:{templateUrl:"article-view-item"}}}).state("article.citations",{url:"/citations",title:"Article Citations",views:{content:{templateUrl:"article-item-citations-index"}}}).state("article.citations.articles",{url:"/articles",title:"Article Citations: articles",views:{tab:{templateUrl:"article-item-citations-list"}}}).state("article.citations.patents",{url:"/patents",title:"Citing Patents",views:{tab:{templateUrl:"article-item-patent-citations"}}}).state("article.citations.patents.list",{url:"/list",title:"Citing Patents",templateUrl:"article-item-patent-citations-list"}).state("article.citations.patents.analysis",{url:"/analysis",title:"Citing Patents Analysis",templateUrl:"article-item-patent-citations-analysis"}).state("article.citations.citing",{url:"/citing",title:"Citing Scholarly Works",views:{tab:{templateUrl:"article-item-citations-citing"}}}).state("article.collections",{url:"/collections",title:"Public Collections containing Scholarly Work",views:{content:{templateUrl:"article-collections"}}}).state("article.notes",{url:"/notes",title:"Notes on this Scholarly Work",views:{content:{templateUrl:"article-notes"}}}).state("article.recommended",{url:"/recommended",title:"Recommended Scholarly Works",views:{content:{templateUrl:"article-recommended"}}}).state("profile",{url:"/lens/institution/:slug/:id",title:"Profile",templateUrl:"profile",controller:"ProfileController as $ctrl"}).state("profile.main",{url:"/main",title:"Profile",views:{content:{templateUrl:"profile-main"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.mainBlank",{url:"/main-blank",title:"Profile Blank",views:{content:{templateUrl:"profile-main-blank"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.organisation",{url:"/organisation",title:"Profile Organisation and Staff",views:{content:{templateUrl:"profile-organisation"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.organisationSchool",{url:"/school",title:"Profile Organisation and Staff",views:{content:{templateUrl:"profile-organisation-school"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.reports",{url:"/reports",title:"Profile Reports",views:{content:{templateUrl:"profile-reports"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.rankings",{url:"/rankings",title:"Profile Rankings",views:{content:{templateUrl:"profile-rankings"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.dashboards",{url:"/dashboards",title:"Profile Dashboard",views:{content:{templateUrl:"profile-dashboards"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.portfolioPatent",{url:"/profile-portfolio-patent",title:"Profile Portfolio of Patents",views:{content:{templateUrl:"profile-portfolio-patent"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.portfolioPatentDashboard",{url:"/profile-portfolio-dashboard-patent",title:"Profile Portfolio of Patents",views:{content:{templateUrl:"profile-portfolio-dashboard-patent"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.portfolioScholar",{url:"/profile-portfolio-scholar",title:"Profile Portfolio of Scholarly Works",views:{content:{templateUrl:"profile-portfolio-scholar"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.portfolioScholarDashboard",{url:"/profile-portfolio-dashboard-scholar",title:"Profile Portfolio of Scholarly Works",views:{content:{templateUrl:"profile-portfolio-dashboard-scholar"},sidebar:{templateUrl:"search-sidebar"}}}).state("profile.alumni",{url:"/profile-alumni",title:"Profile Alumni",views:{content:{templateUrl:"profile-alumni"},sidebar:{templateUrl:"search-sidebar"}}}).state("workArea",{url:"/lens/user",title:"Work Area",templateUrl:"work-area",controller:"WorkAreaController as $ctrl"}).state("workArea.projects",{url:"/projects",title:"Projects",views:{content:{templateUrl:"work-area-projects"},sidebar:{templateUrl:"search-sidebar"}}}).state("workArea.collections",{url:"/collections",title:"Collections",views:{content:{template:"<div lens-work-area-collections></div>"},sidebar:{templateUrl:"search-sidebar"}}}).state("workArea.notes",{url:"/notes",title:"Notes",views:{content:{template:"<div lens-work-area-notes></div>"},sidebar:{templateUrl:"search-sidebar"}}}).state("workArea.queries",{url:"/queries",title:"Queries",views:{content:{templateUrl:"work-area-queries"},sidebar:{templateUrl:"search-sidebar"}}}).state("workArea.queries.savedQueries",{url:"/saved-queries",title:"Saved Queries",views:{subcontent:{templateUrl:"work-area-saved-queries"}}}).state("workArea.queries.history",{url:"/history",title:"History",views:{subcontent:{templateUrl:"work-area-history"}}}).state("workArea.queries.psfHistory",{url:"/patseq-finder-history",title:"PatSeq Finder History",views:{subcontent:{template:"<div lens-pat-seq-finder-history></div>"}}}).state("workArea.queries.patciteHistory",{url:"/patcite-history",title:"PatCite History",views:{subcontent:{template:"<div lens-pat-cite-history></div>"}}}).state("user",{url:"/lens/user",title:"Work Area",templateUrl:"user",controller:"AccountController as $ctrl"}).state("user.editAccount",{url:"/profile",title:"Edit Account",views:{content:{templateUrl:"edit-account"},sidebar:{templateUrl:"search-sidebar"}}}).state("user.subscriptions",{url:"/subscriptions",title:"API & Data",views:{content:{template:"<div lens-subscriptions></div>"},sidebar:{templateUrl:"search-sidebar"}}}).state("user.settings",{url:"/settings",title:"settings",views:{content:{templateUrl:"work-area-settings"},sidebar:{templateUrl:"search-sidebar"}}});e.state("profiles",{url:"/lens/profiles",title:"Lens Profiles",templateUrl:"user-profiles-landing"}).state("orcidProfile",{url:"/lens/orcid/:orcid?{forceOwner}",title:"Profile",templateUrl:"user-profile",controller:"UserProfileController as $ctrl",params:{userId:null}}).state("orcidProfile.scholar",{url:"/scholar",title:"Scholar",views:{content:{templateUrl:"user-profile-scholar"},sidebar:{templateUrl:"search-sidebar"}}}).state("orcidProfile.patent",{url:"/patent",title:"Patent",views:{content:{templateUrl:"user-profile-patents"},sidebar:{templateUrl:"search-sidebar"}}}).state("userProfile",{url:"/lens/profile/:userId?{forceOwner}",title:"Profile",templateUrl:"user-profile",controller:"UserProfileController as $ctrl",params:{}}).state("userProfile.collections",{url:"/collections",views:{content:{templateUrl:"user-profile-collections"},sidebar:{templateUrl:"search-sidebar"}}}).state("userProfile.scholar",{url:"/scholar",views:{content:{templateUrl:"user-profile-scholar"},sidebar:{templateUrl:"search-sidebar"}}}).state("userProfile.patent",{url:"/patent",views:{content:{templateUrl:"user-profile-patents"},sidebar:{templateUrl:"search-sidebar"}}});["tags","dashboards","reports","inventorship","settings","authorship","notifications"].forEach((function(t){!function(t){e.state("workArea."+t,{url:"/"+t,title:t[0].toUpperCase()+t.slice(1),views:{content:{templateUrl:"work-area-"+t},sidebar:{templateUrl:"search-sidebar"}}})}(t)}));["fulltext","family","Xsequences","legal","collections","notes"].forEach((function(t){!function(t){e.state("patent."+t,{url:"/"+({legal:"regulatory"}[t]||t),views:{content:{templateUrl:"patent-"+t}}})}(t)}))}]),r.default.run(["$transitions","ZoteroService",function(e,t){e.onSuccess({},t.notify)}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"bbox",(function(){return r})),n.d(t,"feature",(function(){return o})),n.d(t,"mesh",(function(){return u})),n.d(t,"meshArcs",(function(){return d})),n.d(t,"merge",(function(){return f})),n.d(t,"mergeArcs",(function(){return m})),n.d(t,"neighbors",(function(){return y})),n.d(t,"quantize",(function(){return v})),n.d(t,"transform",(function(){return a})),n.d(t,"untransform",(function(){return g})),n.d(t,"topology",(function(){return E})),n.d(t,"filter",(function(){return N})),n.d(t,"filterAttached",(function(){return F})),n.d(t,"filterAttachedWeight",(function(){return V})),n.d(t,"filterWeight",(function(){return z})),n.d(t,"planarRingArea",(function(){return q})),n.d(t,"planarTriangleArea",(function(){return $})),n.d(t,"presimplify",(function(){return Z})),n.d(t,"quantile",(function(){return Y})),n.d(t,"simplify",(function(){return X})),n.d(t,"sphericalRingArea",(function(){return ce})),n.d(t,"sphericalTriangleArea",(function(){return ue}));var i=function(e){return e},a=function(e){if(null==e)return i;var t,n,a=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,i){i||(t=n=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*a+o,u[1]=(n+=e[1])*r+s;l<c;)u[l]=e[l],++l;return u}},r=function(e){var t,n=a(e.transform),i=1/0,r=i,o=-i,s=-i;function l(e){(e=n(e))[0]<i&&(i=e[0]),e[0]>o&&(o=e[0]),e[1]<r&&(r=e[1]),e[1]>s&&(s=e[1])}function c(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(c);break;case"Point":l(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(l)}}for(t in e.arcs.forEach((function(e){for(var t,a=-1,l=e.length;++a<l;)(t=n(e[a],a))[0]<i&&(i=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>s&&(s=t[1])})),e.objects)c(e.objects[t]);return[i,r,o,s]},o=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return s(e,t)}))}:s(e,t)};function s(e,t){var n=t.id,i=t.bbox,a=null==t.properties?{}:t.properties,r=l(e,t);return null==n&&null==i?{type:"Feature",properties:a,geometry:r}:null==i?{type:"Feature",id:n,properties:a,geometry:r}:{type:"Feature",id:n,bbox:i,properties:a,geometry:r}}function l(e,t){var n=a(e.transform),i=e.arcs;function r(e,t){t.length&&t.pop();for(var a=i[e<0?~e:e],r=0,o=a.length;r<o;++r)t.push(n(a[r],r));e<0&&function(e,t){for(var n,i=e.length,a=i-t;a<--i;)n=e[a],e[a++]=e[i],e[i]=n}(t,o)}function o(e){return n(e)}function s(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(l)}return function e(t){var n,i=t.type;switch(i){case"GeometryCollection":return{type:i,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=s(t.arcs);break;case"MultiLineString":n=t.arcs.map(s);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:i,coordinates:n}}(t)}var c=function(e,t){var n={},i={},a={},r=[],o=-1;function s(e,t){for(var i in e){var a=e[i];delete t[a.start],delete a.start,delete a.end,a.forEach((function(e){n[e<0?~e:e]=1})),r.push(a)}}return t.forEach((function(n,i){var a,r=e.arcs[n<0?~n:n];r.length<3&&!r[1][0]&&!r[1][1]&&(a=t[++o],t[o]=n,t[i]=a)})),t.forEach((function(t){var n,r,o=function(t){var n,i=e.arcs[t<0?~t:t],a=i[0];e.transform?(n=[0,0],i.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=i[i.length-1];return t<0?[n,a]:[a,n]}(t),s=o[0],l=o[1];if(n=a[s])if(delete a[n.end],n.push(t),n.end=l,r=i[l]){delete i[r.start];var c=r===n?n:n.concat(r);i[c.start=n.start]=a[c.end=r.end]=c}else i[n.start]=a[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(t),n.start=s,r=a[s]){delete a[r.end];var u=r===n?n:r.concat(n);i[u.start=r.start]=a[u.end=n.end]=u}else i[n.start]=a[n.end]=n;else i[(n=[t]).start=s]=a[n.end=l]=n})),s(a,i),s(i,a),t.forEach((function(e){n[e<0?~e:e]||r.push([e])})),r},u=function(e){return l(e,d.apply(this,arguments))};function d(e,t,n){var i,a,r;if(arguments.length>1)i=p(e,t,n);else for(a=0,i=new Array(r=e.arcs.length);a<r;++a)i[a]=a;return{type:"MultiLineString",arcs:c(e,i)}}function p(e,t,n){var i,a=[],r=[];function o(e){var t=e<0?~e:e;(r[t]||(r[t]=[])).push({i:e,g:i})}function s(e){e.forEach(o)}function l(e){e.forEach(s)}return function e(t){switch(i=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),r.forEach(null==n?function(e){a.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&a.push(e[0].i)}),a}var f=function(e){return l(e,m.apply(this,arguments))};function m(e,t){var n={},i=[],a=[];function r(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),i.push(e)}function o(t){return function(e){for(var t,n=-1,i=e.length,a=e[i-1],r=0;++n<i;)t=a,a=e[n],r+=t[0]*a[1]-t[1]*a[0];return Math.abs(r)}(l(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}})),i.forEach((function(e){if(!e._){var t=[],i=[e];for(e._=1,a.push(t);e=i.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,i.push(e))}))}))}))}})),i.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:a.map((function(t){var i,a=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&a.push(e)}))}))})),(i=(a=c(e,a)).length)>1)for(var r,s,l=1,u=o(a[0]);l<i;++l)(r=o(a[l]))>u&&(s=a[0],a[0]=a[l],a[l]=s,u=r);return a}))}}var h=function(e,t){for(var n=0,i=e.length;n<i;){var a=n+i>>>1;e[a]<t?n=a+1:i=a}return n},y=function(e){var t={},n=e.map((function(){return[]}));function i(e,n){e.forEach((function(e){e<0&&(e=~e);var i=t[e];i?i.push(n):t[e]=[n]}))}function a(e,t){e.forEach((function(e){i(e,t)}))}var r={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(e,t){e.forEach((function(e){a(e,t)}))}};for(var o in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in r&&r[t.type](t.arcs,n)})),t)for(var s=t[o],l=s.length,c=0;c<l;++c)for(var u=c+1;u<l;++u){var d,p=s[c],f=s[u];(d=n[p])[o=h(d,f)]!==f&&d.splice(o,0,f),(d=n[f])[o=h(d,p)]!==p&&d.splice(o,0,p)}return n},g=function(e){if(null==e)return i;var t,n,a=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,i){i||(t=n=0);var l=2,c=e.length,u=new Array(c),d=Math.round((e[0]-o)/a),p=Math.round((e[1]-s)/r);for(u[0]=d-t,t=d,u[1]=p-n,n=p;l<c;)u[l]=e[l],++l;return u}},v=function(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)l=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be ≥2");var n,i=(l=e.bbox||r(e))[0],a=l[1],o=l[2],s=l[3];t={scale:[o-i?(o-i)/(n-1):1,s-a?(s-a)/(n-1):1],translate:[i,a]}}var l,c,u=g(t),d=e.objects,p={};function f(e){return u(e)}function m(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(m)};break;case"Point":t={type:"Point",coordinates:f(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(f)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(c in d)p[c]=m(d[c]);return{type:"Topology",bbox:l,transform:t,objects:p,arcs:e.arcs.map((function(e){var t,n=0,i=1,a=e.length,r=new Array(a);for(r[0]=u(e[0],0);++n<a;)((t=u(e[n],n))[0]||t[1])&&(r[i++]=t);return 1===i&&(r[i++]=[0,0]),r.length=i,r}))}},b=function(e,t,n,i,a,r){3===arguments.length&&(i=r=Array,a=null);for(var o=new i(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new r(e),l=e-1,c=0;c<e;++c)o[c]=a;function u(i,r){for(var c=t(i)&l,u=o[c],d=0;u!=a;){if(n(u,i))return s[c]=r;if(++d>=e)throw new Error("full hashmap");u=o[c=c+1&l]}return o[c]=i,s[c]=r,r}function d(i,r){for(var c=t(i)&l,u=o[c],d=0;u!=a;){if(n(u,i))return s[c];if(++d>=e)throw new Error("full hashmap");u=o[c=c+1&l]}return o[c]=i,s[c]=r,r}function p(i,r){for(var c=t(i)&l,u=o[c],d=0;u!=a;){if(n(u,i))return s[c];if(++d>=e)break;u=o[c=c+1&l]}return r}function f(){for(var e=[],t=0,n=o.length;t<n;++t){var i=o[t];i!=a&&e.push(i)}return e}return{set:u,maybeSet:d,get:p,keys:f}},S=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_=new ArrayBuffer(16),C=new Float64Array(_),k=new Uint32Array(_),A=function(e){C[0]=e[0],C[1]=e[1];var t=k[0]^k[1];return 2147483647&(t=t<<5^t>>7^k[2]^k[3])},w=function(e){var t,n,i,a,r=e.coordinates,o=e.lines,s=e.rings,l=function(){for(var e=b(1.4*r.length,k,w,Int32Array,-1,Int32Array),t=new Int32Array(r.length),n=0,i=r.length;n<i;++n)t[n]=e.maybeSet(n,n);return t}(),c=new Int32Array(r.length),u=new Int32Array(r.length),d=new Int32Array(r.length),p=new Int8Array(r.length),f=0;for(t=0,n=r.length;t<n;++t)c[t]=u[t]=d[t]=-1;for(t=0,n=o.length;t<n;++t){var m=o[t],h=m[0],y=m[1];for(i=l[h],a=l[++h],++f,p[i]=1;++h<=y;)C(t,i,i=a,a=l[h]);++f,p[a]=1}for(t=0,n=r.length;t<n;++t)c[t]=-1;for(t=0,n=s.length;t<n;++t){var g=s[t],v=g[0]+1,_=g[1];for(C(t,l[_-1],i=l[v-1],a=l[v]);++v<=_;)C(t,i,i=a,a=l[v])}function C(e,t,n,i){if(c[n]!==e){c[n]=e;var a=u[n];if(a>=0){var r=d[n];a===t&&r===i||a===i&&r===t||(++f,p[n]=1)}else u[n]=t,d[n]=i}}function k(e){return A(r[e])}function w(e,t){return S(r[e],r[t])}c=u=d=null;var P,T=function(e,t,n,i,a){3===arguments.length&&(i=Array,a=null);for(var r=new i(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),o=e-1,s=0;s<e;++s)r[s]=a;function l(i){for(var s=t(i)&o,l=r[s],c=0;l!=a;){if(n(l,i))return!0;if(++c>=e)throw new Error("full hashset");l=r[s=s+1&o]}return r[s]=i,!0}function c(i){for(var s=t(i)&o,l=r[s],c=0;l!=a;){if(n(l,i))return!0;if(++c>=e)break;l=r[s=s+1&o]}return!1}function u(){for(var e=[],t=0,n=r.length;t<n;++t){var i=r[t];i!=a&&e.push(i)}return e}return{add:l,has:c,values:u}}(1.4*f,A,S);for(t=0,n=r.length;t<n;++t)p[P=l[t]]&&T.add(r[P]);return T};function P(e,t,n,i){T(e,t,n),T(e,t,t+i),T(e,t+i,n)}function T(e,t,n){for(var i,a=t+(n---t>>1);t<a;++t,--n)i=e[t],e[t]=e[n],e[n]=i}var x=function(e){var t,n,i={};for(t in e)i[t]=null==(n=e[t])?{type:null}:("FeatureCollection"===n.type?M:"Feature"===n.type?I:R)(n);return i};function M(e){var t={type:"GeometryCollection",geometries:e.features.map(I)};return null!=e.bbox&&(t.bbox=e.bbox),t}function I(e){var t,n=R(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function R(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(R)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}var E=function(e,t){var n=function(e){var t=1/0,n=1/0,i=-1/0,a=-1/0;function r(e){null!=e&&o.hasOwnProperty(e.type)&&o[e.type](e)}var o={GeometryCollection:function(e){e.geometries.forEach(r)},Point:function(e){s(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(s)},LineString:function(e){l(e.arcs)},MultiLineString:function(e){e.arcs.forEach(l)},Polygon:function(e){e.arcs.forEach(l)},MultiPolygon:function(e){e.arcs.forEach(c)}};function s(e){var r=e[0],o=e[1];r<t&&(t=r),r>i&&(i=r),o<n&&(n=o),o>a&&(a=o)}function l(e){e.forEach(s)}function c(e){e.forEach(l)}for(var u in e)r(e[u]);return i>=t&&a>=n?[t,n,i,a]:void 0}(e=x(e)),i=t>0&&n&&function(e,t,n){var i=t[0],a=t[1],r=t[2],o=t[3],s=r-i?(n-1)/(r-i):1,l=o-a?(n-1)/(o-a):1;function c(e){return[Math.round((e[0]-i)*s),Math.round((e[1]-a)*l)]}function u(e,t){for(var n,r,o,c,u,d=-1,p=0,f=e.length,m=new Array(f);++d<f;)n=e[d],c=Math.round((n[0]-i)*s),u=Math.round((n[1]-a)*l),c===r&&u===o||(m[p++]=[r=c,o=u]);for(m.length=p;p<t;)p=m.push([m[0][0],m[0][1]]);return m}function d(e){return u(e,2)}function p(e){return u(e,4)}function f(e){return e.map(p)}function m(e){null!=e&&h.hasOwnProperty(e.type)&&h[e.type](e)}var h={GeometryCollection:function(e){e.geometries.forEach(m)},Point:function(e){e.coordinates=c(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(c)},LineString:function(e){e.arcs=d(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(d)},Polygon:function(e){e.arcs=f(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(f)}};for(var y in e)m(e[y]);return{scale:[1/s,1/l],translate:[i,a]}}(e,n,t),a=function(e){var t,n,i,a,r=e.coordinates,o=e.lines,s=e.rings,l=o.length+s.length;for(delete e.lines,delete e.rings,i=0,a=o.length;i<a;++i)for(t=o[i];t=t.next;)++l;for(i=0,a=s.length;i<a;++i)for(n=s[i];n=n.next;)++l;var c=b(2*l*1.4,A,S),u=e.arcs=[];for(i=0,a=o.length;i<a;++i){t=o[i];do{d(t)}while(t=t.next)}for(i=0,a=s.length;i<a;++i)if((n=s[i]).next)do{d(n)}while(n=n.next);else p(n);function d(e){var t,n,i,a,o,s,l,d;if(i=c.get(t=r[e[0]]))for(l=0,d=i.length;l<d;++l)if(f(a=i[l],e))return e[0]=a[0],void(e[1]=a[1]);if(o=c.get(n=r[e[1]]))for(l=0,d=o.length;l<d;++l)if(m(s=o[l],e))return e[1]=s[0],void(e[0]=s[1]);i?i.push(e):c.set(t,[e]),o?o.push(e):c.set(n,[e]),u.push(e)}function p(e){var t,n,i,a,o;if(n=c.get(r[e[0]]))for(a=0,o=n.length;a<o;++a){if(h(i=n[a],e))return e[0]=i[0],void(e[1]=i[1]);if(y(i,e))return e[0]=i[1],void(e[1]=i[0])}if(n=c.get(t=r[e[0]+g(e)]))for(a=0,o=n.length;a<o;++a){if(h(i=n[a],e))return e[0]=i[0],void(e[1]=i[1]);if(y(i,e))return e[0]=i[1],void(e[1]=i[0])}n?n.push(e):c.set(t,[e]),u.push(e)}function f(e,t){var n=e[0],i=t[0],a=e[1];if(n-a!=i-t[1])return!1;for(;n<=a;++n,++i)if(!S(r[n],r[i]))return!1;return!0}function m(e,t){var n=e[0],i=t[0],a=e[1],o=t[1];if(n-a!=i-o)return!1;for(;n<=a;++n,--o)if(!S(r[n],r[o]))return!1;return!0}function h(e,t){var n=e[0],i=t[0],a=e[1]-n;if(a!==t[1]-i)return!1;for(var o=g(e),s=g(t),l=0;l<a;++l)if(!S(r[n+(l+o)%a],r[i+(l+s)%a]))return!1;return!0}function y(e,t){var n=e[0],i=t[0],a=e[1],o=t[1],s=a-n;if(s!==o-i)return!1;for(var l=g(e),c=s-g(t),u=0;u<s;++u)if(!S(r[n+(u+l)%s],r[o-(u+c)%s]))return!1;return!0}function g(e){for(var t=e[0],n=e[1],i=t,a=i,o=r[i];++i<n;){var s=r[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(a=i,o=s)}return a-t}return e}(function(e){var t,n,i,a=w(e),r=e.coordinates,o=e.lines,s=e.rings;for(n=0,i=o.length;n<i;++n)for(var l=o[n],c=l[0],u=l[1];++c<u;)a.has(r[c])&&(t={0:c,1:l[1]},l[1]=c,l=l.next=t);for(n=0,i=s.length;n<i;++n)for(var d=s[n],p=d[0],f=p,m=d[1],h=a.has(r[p]);++f<m;)a.has(r[f])&&(h?(t={0:f,1:d[1]},d[1]=f,d=d.next=t):(P(r,p,m,m-f),r[m]=r[p],h=!0,f=p));return e}(function(e){var t=-1,n=[],i=[],a=[];function r(e){e&&o.hasOwnProperty(e.type)&&o[e.type](e)}var o={GeometryCollection:function(e){e.geometries.forEach(r)},LineString:function(e){e.arcs=s(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(s)},Polygon:function(e){e.arcs=e.arcs.map(l)},MultiPolygon:function(e){e.arcs=e.arcs.map(c)}};function s(e){for(var i=0,r=e.length;i<r;++i)a[++t]=e[i];var o={0:t-r+1,1:t};return n.push(o),o}function l(e){for(var n=0,r=e.length;n<r;++n)a[++t]=e[n];var o={0:t-r+1,1:t};return i.push(o),o}function c(e){return e.map(l)}for(var u in e)r(e[u]);return{type:"Topology",coordinates:a,lines:n,rings:i,objects:e}}(e))),r=a.coordinates,o=b(1.4*a.arcs.length,D,L);function s(e){e&&l.hasOwnProperty(e.type)&&l[e.type](e)}e=a.objects,a.bbox=n,a.arcs=a.arcs.map((function(e,t){return o.set(e,t),r.slice(e[0],e[1]+1)})),delete a.coordinates,r=null;var l={GeometryCollection:function(e){e.geometries.forEach(s)},LineString:function(e){e.arcs=c(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(c)},Polygon:function(e){e.arcs=e.arcs.map(c)},MultiPolygon:function(e){e.arcs=e.arcs.map(u)}};function c(e){var t=[];do{var n=o.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function u(e){return e.map(c)}for(var d in e)s(e[d]);return i&&(a.transform=i,a.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var i,a,r=e[t],o=0,s=1,l=r.length,c=r[0],u=c[0],d=c[1];++o<l;)i=(c=r[o])[0],a=c[1],i===u&&a===d||(r[s++]=[i-u,a-d],u=i,d=a);1===s&&(r[s++]=[0,0]),r.length=s}return e}(a.arcs)),a};function D(e){var t,n=e[0],i=e[1];return i<n&&(t=n,n=i,i=t),n+31*i}function L(e,t){var n,i=e[0],a=e[1],r=t[0],o=t[1];return a<i&&(n=i,i=a,a=n),o<r&&(n=r,r=o,o=n),i===r&&a===o}var N=function(e,t){var n,i=e.objects,a={};function r(e){var t,n;switch(e.type){case"Polygon":t=(n=o(e.arcs))?{type:"Polygon",arcs:n}:{type:null};break;case"MultiPolygon":t=(n=e.arcs.map(o).filter(U)).length?{type:"MultiPolygon",arcs:n}:{type:null};break;case"GeometryCollection":t=(n=e.geometries.map(r).filter(B)).length?{type:"GeometryCollection",geometries:n}:{type:null};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function o(e){return e.length&&(n=e[0],t(n,!1))?[e[0]].concat(e.slice(1).filter(s)):null;var n}function s(e){return t(e,!0)}for(n in null==t&&(t=O),i)a[n]=r(i[n]);return function(e){var t,n,i=e.objects,a={},r=e.arcs,o=r.length,s=-1,l=new Array(o),c=0,u=-1;function d(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(d);break;case"LineString":f(e.arcs);break;case"MultiLineString":case"Polygon":e.arcs.forEach(f);break;case"MultiPolygon":e.arcs.forEach(m)}}function p(e){e<0&&(e=~e),l[e]||(l[e]=1,++c)}function f(e){e.forEach(p)}function m(e){e.forEach(f)}function h(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(h)};break;case"LineString":t={type:"LineString",arcs:g(e.arcs)};break;case"MultiLineString":t={type:"MultiLineString",arcs:e.arcs.map(g)};break;case"Polygon":t={type:"Polygon",arcs:e.arcs.map(g)};break;case"MultiPolygon":t={type:"MultiPolygon",arcs:e.arcs.map(v)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function y(e){return e<0?~l[~e]:l[e]}function g(e){return e.map(y)}function v(e){return e.map(g)}for(n in i)d(i[n]);for(t=new Array(c);++s<o;)l[s]&&(l[s]=++u,t[u]=r[s]);for(n in i)a[n]=h(i[n]);return{type:"Topology",bbox:e.bbox,transform:e.transform,objects:a,arcs:t}}({type:"Topology",bbox:e.bbox,transform:e.transform,objects:a,arcs:e.arcs})};function O(){return!0}function U(e){return e}function B(e){return null!=e.type}var F=function(e){var t,n=new Array(e.arcs.length),i=0;function a(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(a);break;case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r)}}function r(e){for(var t=0,a=e.length;t<a;++t,++i)for(var r=e[t],o=0,s=r.length;o<s;++o){var l=r[o];l<0&&(l=~l);var c=n[l];null==c?n[l]=i:c!==i&&(n[l]=-1)}}for(t in e.objects)a(e.objects[t]);return function(e){for(var t,i=0,a=e.length;i<a;++i)if(-1===n[(t=e[i])<0?~t:t])return!0;return!1}},G=function(e){return e},H=function(e){if(null==e)return G;var t,n,i=e.scale[0],a=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*i+r,u[1]=(n+=e[1])*a+o;l<c;)u[l]=e[l],++l;return u}};function j(e,t){var n=t.id,i=t.bbox,a=null==t.properties?{}:t.properties,r=K(e,t);return null==n&&null==i?{type:"Feature",properties:a,geometry:r}:null==i?{type:"Feature",id:n,properties:a,geometry:r}:{type:"Feature",id:n,bbox:i,properties:a,geometry:r}}function K(e,t){var n=H(e.transform),i=e.arcs;function a(e,t){t.length&&t.pop();for(var a=i[e<0?~e:e],r=0,o=a.length;r<o;++r)t.push(n(a[r],r));e<0&&function(e,t){for(var n,i=e.length,a=i-t;a<--i;)n=e[a],e[a++]=e[i],e[i]=n}(t,o)}function r(e){return n(e)}function o(e){for(var t=[],n=0,i=e.length;n<i;++n)a(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,i=t.type;switch(i){case"GeometryCollection":return{type:i,geometries:t.geometries.map(e)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:i,coordinates:n}}(t)}function $(e){var t=e[0],n=e[1],i=e[2];return Math.abs((t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1]))/2}function q(e){for(var t,n=-1,i=e.length,a=e[i-1],r=0;++n<i;)t=a,a=e[n],r+=t[0]*a[1]-t[1]*a[0];return Math.abs(r)/2}var z=function(e,t,n){return t=null==t?Number.MIN_VALUE:+t,null==n&&(n=q),function(i,a){return n(function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return j(e,t)}))}:j(e,t)}(e,{type:"Polygon",arcs:[i]}).geometry.coordinates[0],a)>=t}},V=function(e,t,n){var i=F(e),a=z(e,t,n);return function(e,t){return i(e,t)||a(e,t)}};function W(e,t){return e[1][2]-t[1][2]}function J(e){return[e[0],e[1],0]}var Z=function(e,t){var n=e.transform?H(e.transform):J,i=function(){var e={},t=[],n=0;function i(e,n){for(;n>0;){var i=(n+1>>1)-1,a=t[i];if(W(e,a)>=0)break;t[a._=n]=a,t[e._=n=i]=e}}function a(e,i){for(;;){var a=i+1<<1,r=a-1,o=i,s=t[o];if(r<n&&W(t[r],s)<0&&(s=t[o=r]),a<n&&W(t[a],s)<0&&(s=t[o=a]),o===i)break;t[s._=i]=s,t[e._=i=o]=e}}return e.push=function(e){return i(t[e._=n]=e,n++),n},e.pop=function(){if(!(n<=0)){var e,i=t[0];return--n>0&&(e=t[n],a(t[e._=0]=e,0)),i}},e.remove=function(e){var r,o=e._;if(t[o]===e)return o!==--n&&(W(r=t[n],e)<0?i:a)(t[r._=o]=r,o),o},e}();null==t&&(t=$);var a=e.arcs.map((function(e){var a,o,s,l=[],c=0;for(o=1,s=(e=e.map(n)).length-1;o<s;++o)(a=[e[o-1],e[o],e[o+1]])[1][2]=t(a),l.push(a),i.push(a);for(e[0][2]=e[s][2]=1/0,o=0,s=l.length;o<s;++o)(a=l[o]).previous=l[o-1],a.next=l[o+1];for(;a=i.pop();){var u=a.previous,d=a.next;a[1][2]<c?a[1][2]=c:c=a[1][2],u&&(u.next=d,u[2]=a[2],r(u)),d&&(d.previous=u,d[0]=a[0],r(d))}return e}));function r(e){i.remove(e),e[1][2]=t(e),i.push(e)}return{type:"Topology",bbox:e.bbox,objects:e.objects,arcs:a}},Y=function(e,t){var n=[];return e.arcs.forEach((function(e){e.forEach((function(e){isFinite(e[2])&&n.push(e[2])}))})),n.length&&function(e,t){if(!(n=e.length))return;if((t=+t)<=0||n<2)return e[0];if(t>=1)return e[n-1];var n,i=(n-1)*t,a=Math.floor(i),r=e[a],o=e[a+1];return r+(o-r)*(i-a)}(n.sort(Q),t)};function Q(e,t){return t-e}var X=function(e,t){t=null==t?Number.MIN_VALUE:+t;var n=e.arcs.map((function(e){for(var n,i=-1,a=0,r=e.length,o=new Array(r);++i<r;)(n=e[i])[2]>=t&&(o[a++]=[n[0],n[1]]);return o.length=a,o}));return{type:"Topology",transform:e.transform,bbox:e.bbox,objects:e.objects,arcs:n}},ee=Math.PI,te=2*ee,ne=ee/4,ie=ee/180,ae=Math.abs,re=Math.atan2,oe=Math.cos,se=Math.sin;function le(e,t){for(var n,i,a=0,r=e.length,o=0,s=e[t?a++:r-1],l=s[0]*ie,c=s[1]*ie/2+ne,u=oe(c),d=se(c);a<r;++a){n=l,l=(s=e[a])[0]*ie,c=s[1]*ie/2+ne,i=u,u=oe(c);var p=l-n,f=p>=0?1:-1,m=f*p,h=d*(d=se(c)),y=i*u+h*oe(m),g=h*f*se(m);o+=re(g,y)}return o}function ce(e,t){var n=le(e,!0);return t&&(n*=-1),2*(n<0?te+n:n)}function ue(e){return 2*ae(le(e,!1))}},function(e,t,n){"use strict";n.r(t),n.d(t,"transition",(function(){return dt})),n.d(t,"active",(function(){return gt})),n.d(t,"interrupt",(function(){return F}));var i=n(17),a={value:function(){}};function r(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new o(i)}function o(e){this._=e}function s(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function l(e,t){for(var n,i=0,a=e.length;i<a;++i)if((n=e[i]).name===t)return n.value}function c(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=a,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=r.prototype={constructor:o,on:function(e,t){var n,i=this._,a=s(e+"",i),r=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<o;)if(n=(e=a[r]).type)i[n]=c(i[n],e.name,t);else if(null==t)for(n in i)i[n]=c(i[n],e.name,null);return this}for(;++r<o;)if((n=(e=a[r]).type)&&(n=l(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,a=new Array(n),r=0;r<n;++r)a[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(i=this._[e]).length;r<n;++r)i[r].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)}};var u,d,p=r,f=0,m=0,h=0,y=0,g=0,v=0,b="object"==typeof performance&&performance.now?performance:Date,S="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _(){return g||(S(C),g=b.now()+v)}function C(){g=0}function k(){this._call=this._time=this._next=null}function A(e,t,n){var i=new k;return i.restart(e,t,n),i}function w(){g=(y=b.now())+v,f=m=0;try{!function(){_(),++f;for(var e,t=u;t;)(e=g-t._time)>=0&&t._call.call(null,e),t=t._next;--f}()}finally{f=0,function(){var e,t,n=u,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:u=t);d=e,T(i)}(),g=0}}function P(){var e=b.now(),t=e-y;t>1e3&&(v-=t,y=e)}function T(e){f||(m&&(m=clearTimeout(m)),e-g>24?(e<1/0&&(m=setTimeout(w,e-b.now()-v)),h&&(h=clearInterval(h))):(h||(y=b.now(),h=setInterval(P,1e3)),f=1,S(w)))}k.prototype=A.prototype={constructor:k,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?_():+n)+(null==t?0:+t),this._next||d===this||(d?d._next=this:u=this,d=this),this._call=e,this._time=n,T()},stop:function(){this._call&&(this._call=null,this._time=1/0,T())}};var x=function(e,t,n){var i=new k;return t=null==t?0:+t,i.restart((function(n){i.stop(),e(n+t)}),t,n),i},M=p("start","end","cancel","interrupt"),I=[],R=function(e,t,n,i,a,r){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var i,a=e.__transition;function r(l){var c,u,d,p;if(1!==n.state)return s();for(c in a)if((p=a[c]).name===n.name){if(3===p.state)return x(r);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete a[c]):+c<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete a[c])}if(x((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=p);i.length=u+1}}function o(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),r=-1,o=i.length;++r<o;)i[r].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=A((function(e){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=e&&r(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:a,on:M,tween:I,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})};function E(e,t){var n=L(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function D(e,t){var n=L(e,t);if(n.state>3)throw new Error("too late; already running");return n}function L(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var N,O,U,B,F=function(e,t){var n,i,a,r=e.__transition,o=!0;if(r){for(a in t=null==t?null:t+"",r)(n=r[a]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]):o=!1;o&&delete e.__transition}},G=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},H=180/Math.PI,j={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},K=function(e,t,n,i,a,r){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:r,rotate:Math.atan2(t,e)*H,skewX:Math.atan(l)*H,scaleX:o,scaleY:s}};function $(e,t,n,i){function a(e){return e.length?e.pop()+" ":""}return function(r,o){var s=[],l=[];return r=e(r),o=e(o),function(e,i,a,r,o,s){if(e!==a||i!==r){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:G(e,a)},{i:l-2,x:G(i,r)})}else(a||r)&&o.push("translate("+a+t+r+n)}(r.translateX,r.translateY,o.translateX,o.translateY,s,l),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(a(n)+"rotate(",null,i)-2,x:G(e,t)})):t&&n.push(a(n)+"rotate("+t+i)}(r.rotate,o.rotate,s,l),function(e,t,n,r){e!==t?r.push({i:n.push(a(n)+"skewX(",null,i)-2,x:G(e,t)}):t&&n.push(a(n)+"skewX("+t+i)}(r.skewX,o.skewX,s,l),function(e,t,n,i,r,o){if(e!==n||t!==i){var s=r.push(a(r)+"scale(",null,",",null,")");o.push({i:s-4,x:G(e,n)},{i:s-2,x:G(t,i)})}else 1===n&&1===i||r.push(a(r)+"scale("+n+","+i+")")}(r.scaleX,r.scaleY,o.scaleX,o.scaleY,s,l),r=o=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var q=$((function(e){return"none"===e?j:(N||(N=document.createElement("DIV"),O=document.documentElement,U=document.defaultView),N.style.transform=e,e=U.getComputedStyle(O.appendChild(N),null).getPropertyValue("transform"),O.removeChild(N),e=e.slice(7,-1).split(","),K(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),z=$((function(e){return null==e?j:(B||(B=document.createElementNS("http://www.w3.org/2000/svg","g")),B.setAttribute("transform",e),(e=B.transform.baseVal.consolidate())?(e=e.matrix,K(e.a,e.b,e.c,e.d,e.e,e.f)):j)}),", ",")",")"),V=n(46);function W(e,t){var n,i;return function(){var a=D(this,e),r=a.tween;if(r!==n)for(var o=0,s=(i=n=r).length;o<s;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}a.tween=i}}function J(e,t,n){var i,a;if("function"!=typeof n)throw new Error;return function(){var r=D(this,e),o=r.tween;if(o!==i){a=(i=o).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}r.tween=a}}function Z(e,t,n){var i=e._id;return e.each((function(){var e=D(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return L(e,i).value[t]}}var Y=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Q(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function X(){}var ee="\\s*([+-]?\\d+)\\s*",te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ie=/^#([0-9a-f]{3,8})$/,ae=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),re=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),oe=new RegExp("^rgba\\("+[ee,ee,ee,te]+"\\)$"),se=new RegExp("^rgba\\("+[ne,ne,ne,te]+"\\)$"),le=new RegExp("^hsl\\("+[te,ne,ne]+"\\)$"),ce=new RegExp("^hsla\\("+[te,ne,ne,te]+"\\)$"),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function de(){return this.rgb().formatHex()}function pe(){return this.rgb().formatRgb()}function fe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ie.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?me(t):3===n?new ve(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?he(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?he(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ae.exec(e))?new ve(t[1],t[2],t[3],1):(t=re.exec(e))?new ve(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=oe.exec(e))?he(t[1],t[2],t[3],t[4]):(t=se.exec(e))?he(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=le.exec(e))?Ce(t[1],t[2]/100,t[3]/100,1):(t=ce.exec(e))?Ce(t[1],t[2]/100,t[3]/100,t[4]):ue.hasOwnProperty(e)?me(ue[e]):"transparent"===e?new ve(NaN,NaN,NaN,0):null}function me(e){return new ve(e>>16&255,e>>8&255,255&e,1)}function he(e,t,n,i){return i<=0&&(e=t=n=NaN),new ve(e,t,n,i)}function ye(e){return e instanceof X||(e=fe(e)),e?new ve((e=e.rgb()).r,e.g,e.b,e.opacity):new ve}function ge(e,t,n,i){return 1===arguments.length?ye(e):new ve(e,t,n,null==i?1:i)}function ve(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function be(){return"#"+_e(this.r)+_e(this.g)+_e(this.b)}function Se(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function _e(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ce(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ae(e,t,n,i)}function ke(e){if(e instanceof Ae)return new Ae(e.h,e.s,e.l,e.opacity);if(e instanceof X||(e=fe(e)),!e)return new Ae;if(e instanceof Ae)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),r=Math.max(t,n,i),o=NaN,s=r-a,l=(r+a)/2;return s?(o=t===r?(n-i)/s+6*(n<i):n===r?(i-t)/s+2:(t-n)/s+4,s/=l<.5?r+a:2-r-a,o*=60):s=l>0&&l<1?0:o,new Ae(o,s,l,e.opacity)}function Ae(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function we(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Pe(e,t,n,i,a){var r=e*e,o=r*e;return((1-3*e+3*r-o)*t+(4-6*r+3*o)*n+(1+3*e+3*r-3*o)*i+o*a)/6}Y(X,fe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:de,formatHex:de,formatHsl:function(){return ke(this).formatHsl()},formatRgb:pe,toString:pe}),Y(ve,ge,Q(X,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:be,formatHex:be,formatRgb:Se,toString:Se})),Y(Ae,(function(e,t,n,i){return 1===arguments.length?ke(e):new Ae(e,t,n,null==i?1:i)}),Q(X,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ae(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ae(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,a=2*n-i;return new ve(we(e>=240?e-240:e+120,a,i),we(e,a,i),we(e<120?e+240:e-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Te=function(e){return function(){return e}};function xe(e,t){return function(n){return e+n*t}}function Me(e){return 1==(e=+e)?Ie:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):Te(isNaN(t)?n:t)}}function Ie(e,t){var n=t-e;return n?xe(e,n):Te(isNaN(e)?t:e)}var Re=function e(t){var n=Me(t);function i(e,t){var i=n((e=ge(e)).r,(t=ge(t)).r),a=n(e.g,t.g),r=n(e.b,t.b),o=Ie(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=r(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function Ee(e){return function(t){var n,i,a=t.length,r=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)i=ge(t[n]),r[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return r=e(r),o=e(o),s=e(s),i.opacity=1,function(e){return i.r=r(e),i.g=o(e),i.b=s(e),i+""}}}Ee((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],r=e[i+1],o=i>0?e[i-1]:2*a-r,s=i<t-1?e[i+2]:2*r-a;return Pe((n-i/t)*t,o,a,r,s)}})),Ee((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],r=e[i%t],o=e[(i+1)%t],s=e[(i+2)%t];return Pe((n-i/t)*t,a,r,o,s)}}));var De=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Le=new RegExp(De.source,"g");var Ne=function(e,t){var n,i,a,r=De.lastIndex=Le.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=De.exec(e))&&(i=Le.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:G(n,i)})),r=Le.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})},Oe=function(e,t){var n;return("number"==typeof t?G:t instanceof fe?Re:(n=fe(t))?(t=n,Re):Ne)(e,t)};function Ue(e){return function(){this.removeAttribute(e)}}function Be(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fe(e,t,n){var i,a,r=n+"";return function(){var o=this.getAttribute(e);return o===r?null:o===i?a:a=t(i=o,n)}}function Ge(e,t,n){var i,a,r=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?a:a=t(i=o,n)}}function He(e,t,n){var i,a,r;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===i&&s===a?r:(a=s,r=t(i=o,l));this.removeAttribute(e)}}function je(e,t,n){var i,a,r;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===i&&s===a?r:(a=s,r=t(i=o,l));this.removeAttributeNS(e.space,e.local)}}function Ke(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function $e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function qe(e,t){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&$e(e,a)),n}return a._value=t,a}function ze(e,t){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&Ke(e,a)),n}return a._value=t,a}function Ve(e,t){return function(){E(this,e).delay=+t.apply(this,arguments)}}function We(e,t){return t=+t,function(){E(this,e).delay=t}}function Je(e,t){return function(){D(this,e).duration=+t.apply(this,arguments)}}function Ze(e,t){return t=+t,function(){D(this,e).duration=t}}function Ye(e,t){if("function"!=typeof t)throw new Error;return function(){D(this,e).ease=t}}var Qe=n(90);function Xe(e,t,n){var i,a,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?E:D;return function(){var o=r(this,e),s=o.on;s!==i&&(a=(i=s).copy()).on(t,n),o.on=a}}var et=n(45),tt=n(89),nt=i.b.prototype.constructor,it=n(91);function at(e){return function(){this.style.removeProperty(e)}}function rt(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function ot(e,t,n){var i,a;function r(){var r=t.apply(this,arguments);return r!==a&&(i=(a=r)&&rt(e,r,n)),i}return r._value=t,r}function st(e){return function(t){this.textContent=e.call(this,t)}}function lt(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&st(i)),t}return i._value=e,i}var ct=0;function ut(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function dt(e){return Object(i.b)().transition(e)}function pt(){return++ct}var ft=i.b.prototype;ut.prototype=dt.prototype={constructor:ut,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(et.a)(e));for(var i=this._groups,a=i.length,r=new Array(a),o=0;o<a;++o)for(var s,l,c=i[o],u=c.length,d=r[o]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,R(d[p],t,n,p,d,L(s,n)));return new ut(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(tt.a)(e));for(var i=this._groups,a=i.length,r=[],o=[],s=0;s<a;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var p,f=e.call(l,l.__data__,d,c),m=L(l,n),h=0,y=f.length;h<y;++h)(p=f[h])&&R(p,t,n,h,f,m);r.push(f),o.push(l)}return new ut(r,o,t,n)},filter:function(e){"function"!=typeof e&&(e=Object(Qe.a)(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var r,o=t[a],s=o.length,l=i[a]=[],c=0;c<s;++c)(r=o[c])&&e.call(r,r.__data__,c,o)&&l.push(r);return new ut(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,r=Math.min(i,a),o=new Array(i),s=0;s<r;++s)for(var l,c=t[s],u=n[s],d=c.length,p=o[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<i;++s)o[s]=t[s];return new ut(o,this._parents,this._name,this._id)},selection:function(){return new nt(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=pt(),i=this._groups,a=i.length,r=0;r<a;++r)for(var o,s=i[r],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=L(o,t);R(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ut(i,this._parents,e,n)},call:ft.call,nodes:ft.nodes,node:ft.node,size:ft.size,empty:ft.empty,each:ft.each,on:function(e,t){var n=this._id;return arguments.length<2?L(this.node(),n).on.on(e):this.each(Xe(n,e,t))},attr:function(e,t){var n=Object(V.a)(e),i="transform"===n?z:Oe;return this.attrTween(e,"function"==typeof t?(n.local?je:He)(n,i,Z(this,"attr."+e,t)):null==t?(n.local?Be:Ue)(n):(n.local?Ge:Fe)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Object(V.a)(e);return this.tween(n,(i.local?qe:ze)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?q:Oe;return null==t?this.styleTween(e,function(e,t){var n,i,a;return function(){var r=Object(it.b)(this,e),o=(this.style.removeProperty(e),Object(it.b)(this,e));return r===o?null:r===n&&o===i?a:a=t(n=r,i=o)}}(e,i)).on("end.style."+e,at(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,a,r;return function(){var o=Object(it.b)(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Object(it.b)(this,e)),o===l?null:o===i&&l===a?r:(a=l,r=t(i=o,s))}}(e,i,Z(this,"style."+e,t))).each(function(e,t){var n,i,a,r,o="style."+t,s="end."+o;return function(){var l=D(this,e),c=l.on,u=null==l.value[o]?r||(r=at(t)):void 0;c===n&&a===u||(i=(n=c).copy()).on(s,a=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,a,r=n+"";return function(){var o=Object(it.b)(this,e);return o===r?null:o===i?a:a=t(i=o,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,ot(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Z(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,lt(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,a=L(this.node(),n).tween,r=0,o=a.length;r<o;++r)if((i=a[r]).name===e)return i.value;return null}return this.each((null==t?W:J)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ve:We)(t,e)):L(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Je:Ze)(t,e)):L(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Ye(t,e)):L(this.node(),t).ease},end:function(){var e,t,n=this,i=n._id,a=n.size();return new Promise((function(r,o){var s={value:o},l={value:function(){0==--a&&r()}};n.each((function(){var n=D(this,i),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var mt={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ht(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return mt.time=_(),mt;return n}i.b.prototype.interrupt=function(e){return this.each((function(){F(this,e)}))},i.b.prototype.transition=function(e){var t,n;e instanceof ut?(t=e._id,e=e._name):(t=pt(),(n=mt).time=_(),e=null==e?null:e+"");for(var i=this._groups,a=i.length,r=0;r<a;++r)for(var o,s=i[r],l=s.length,c=0;c<l;++c)(o=s[c])&&R(o,e,t,c,s,n||ht(o,t));return new ut(i,this._parents,e,t)};var yt=[null],gt=function(e,t){var n,i,a=e.__transition;if(a)for(i in t=null==t?null:t+"",a)if((n=a[i]).state>1&&n.name===t)return new ut([[e]],yt,t,+i);return null}}]);